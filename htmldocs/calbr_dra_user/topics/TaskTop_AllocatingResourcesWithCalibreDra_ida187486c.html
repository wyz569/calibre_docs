<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Allocating Resources with Calibre DRA" />
<meta name="abstract" content="Calibre DRA enables you to manually interact with your active Calibre job to get status information and adjust resources using the calibre_dra command." />
<meta name="description" content="Calibre DRA enables you to manually interact with your active Calibre job to get status information and adjust resources using the calibre_dra command." />
<meta name="prodname" content="Calibre Dynamic Resource Allocator (DRA) User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_dra_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Dynamic Resource Allocator (DRA) User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.1" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ida187486c-0260-4aba-aeeb-64457464ad71" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Allocating Resources with Calibre DRA</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Allocating Resources with Calibre DRA" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ida187486c-0260-4aba-aeeb-64457464ad71">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Allocating Resources with
Calibre DRA</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">Calibre DRA enables you to manually interact
with your active Calibre job to get status information and adjust
resources using the calibre_dra command. </p>
<pre class="pre codeblock"><code>$MGC_HOME/bin/calibre_dra</code></pre></div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="ida187486c-0260-4aba-aeeb-64457464ad71__id3995aaab-bab2-4517-a550-1b82b13eed0c"><p class="p">The Calibre
MTflex file is set up for your run. Refer to “<a class="xref fm:HeadingAndPage" href="TaskTop_ConfiguringTheCalibreMTflexFileForCalibreDRA_id3e643ae0.html#id3e643ae0-ac37-4713-9227-e149482506e4__TaskTop_ConfiguringTheCalibreMTflexFileForCalibreDRA_id3e643ae0.xml#id3e643ae0-ac37-4713-9227-e149482506e4" title="This procedure includes the additional statements and arguments used to customize your Calibre MTflex configuration file for executing Calibre jobs with Calibre DRA.">Configuring the Calibre MTflex File for Calibre DRA</a>”.</p>
</li>
<li class="li" id="ida187486c-0260-4aba-aeeb-64457464ad71__id0a317234-b575-44f5-be22-b3dd9ae847b8"><p class="p">You have started
a Calibre job with Calibre MTflex processing and Calibre DRA. Refer to “<a class="xref fm:HeadingAndPage" href="TaskTop_InvokingCalibreDra_id243b4391.html#id243b4391-3371-455e-8b5f-10c280cf5708__TaskTop_InvokingCalibreDra_id243b4391.xml#id243b4391-3371-455e-8b5f-10c280cf5708" title="You invoke Calibre DRA from the command line when you execute your Calibre job.">Invoking Calibre DRA</a>”.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="ida187486c-0260-4aba-aeeb-64457464ad71__id1408eee8-90fe-423f-840a-2de6721b655b"><span class="ph cmd">Run calibre_dra
on a command line with no arguments to show the options available
for Calibre DRA.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>$MGC_HOME/bin/calibre_dra</code></pre><p class="p">The usage specification, commands, and flags are printed to standard
output (stdout).</p>
<pre class="pre codeblock"><code>Usage: calibre_dra LOG [COMMAND] [FLAG]

The log should be specified.
  -log &lt;<span class="keyword ParameterName OptionalReplaceable">fname</span>&gt;        specifies Calibre transcript to connect.

The possible commands are listed as follows.
  -status                 prints current Calibre remotes status.
  -add [&lt;<span class="keyword ParameterName OptionalReplaceable">host</span>&gt;#]&lt;<span class="keyword ParameterName OptionalReplaceable">n</span>&gt;...    adds &lt;<span class="keyword ParameterName OptionalReplaceable">n</span>&gt; remotes from the specified 
                          &lt;<span class="keyword ParameterName OptionalReplaceable">host</span>&gt;.
  -remove [&lt;host&gt;#]&lt;<span class="keyword ParameterName OptionalReplaceable">n</span>&gt;... revokes &lt;<span class="keyword ParameterName OptionalReplaceable">n</span>&gt; remotes from the specified 
                          &lt;<span class="keyword ParameterName OptionalReplaceable">host</span>&gt;.

The command line flag.
  -nowait             don't wait for cpu adjustable or completion 
                      of add/remove.
  -timeout &lt;<span class="keyword ParameterName OptionalReplaceable">sec</span>&gt;      timeout for the completion of command. The 
                      default is 240 seconds.
  -waittime &lt;sec&gt;     wait time for the cpu adjustable. The default                       is 43200 seconds.</code></pre></div></li>
<li class="li step stepexpand" id="ida187486c-0260-4aba-aeeb-64457464ad71__id966c45a6-33db-4d37-887f-becfce826084"><span class="ph cmd">Run calibre_dra
with the ‑status argument to show the job status information, for example,</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>$MGC_HOME/bin/calibre_dra -log calibre.log -status
Scanning hostname and port from calibre.log...
Connecting to primary1:&lt;<span class="keyword ParameterName OptionalReplaceable">port number</span>&gt;...
REPORT REMOTES
  NAME: node1  CPU: 4/4  IP: &lt;<span class="keyword ParameterName OptionalReplaceable">ip address</span>&gt;
  PENDING: 0/0
  TOTAL: 4/4
END
REPORT BRIEF
  TIMESTAMP: 405
  OPS COMPLETE: 19(95%) of 20
  MODULE NAME: EXECUTIVE MODULE  MTFlex HDB(0) 
    OPNAME: metal1_opc  OP-TIMESTAMP: 357  OP-ECP:  0.0% OP-CLASS:  LITHO:70
    ACTIVE REMOTE: 4  CELL QUEUE LENGTH: 78  STRIPE QUEUE LENGTH: 59  TOTAL ACTIVE REMOTE: 4/4
END
REPORT UTILITY
  CHANGE: 1
END</code></pre><p class="p">The status for the Calibre job shows the remote hosts that are
connected, the SVRF operations (OPS) running, the number of active
remote CPUs, and the CPU demand through the last report parameter.
A positive CPU demand means that the Calibre job can accept additional
CPUs for the current operation. In this example, CHANGE: 1 means
that there is work for one additional CPU. A negative CPU demand
means that the current operation is not scaling enough to use all
assigned remote CPUs, or the operation is almost finished.</p>
</div></li>
<li class="li step stepexpand" id="ida187486c-0260-4aba-aeeb-64457464ad71__id14d7840a-bb5a-4bbf-b618-aab9955bfc10"><span class="ph cmd">Run calibre_dra
with the ‑add argument to add five additional remote CPUs, for example,</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>$MGC_HOME/bin/calibre_dra -log calibre.log -add 5
Scanning hostname and port from calibre.log...
Connecting to primary1:&lt;<span class="keyword ParameterName OptionalReplaceable">port number</span>&gt;...
Waiting CPU adjustable... true
Checking current remotes... 4 remotes.
Sending command, "TRIGGER 5"...
Command accepted.
Checking current remotes... 4 remotes.
Checking current remotes... 9 remotes.
Added 5/5 (@ 65s)</code></pre><p class="p">The Calibre job log file shows the information for the connected
CPUs on the remote hosts, the acquired licenses, and the &lt;DCA&gt;
string that describes the dynamic CPU allocation event, for example,</p>
<pre class="pre codeblock"><code>//  Connected to CPU on remote host node2
//  Connected to CPU on remote host node2
//  calibrehdrc license acquired.
//  calibredrc license acquired.
//  calresourceman license acquired.
//  calmtopcpro license acquired.
&lt;DCA 492 0 1310 N node2 R 2 0 1 1 1 T 5 5 4 A 4 5 30893(P)&gt;
//  Connected to CPU on remote host node3
//  Connected to CPU on remote host node3
//  Connected to CPU on remote host node3
&lt;DCA 493 0 1310 N node3 R 2 0 1 2 1 T 6 6 6 A 6 6 30892(P)&gt;
//  calibrehdrc license acquired.
//  calibredrc license acquired.
//  calresourceman license acquired.
//  calmtopcpro license acquired.</code></pre><p class="p">When the five additional CPUs are requested,
the command specified in the Calibre MTflex configuration file to
add dynamic CPUs is executed. The remote Calibre processes launch
and connect to the primary, which adds them to its remote pool.
The primary distributes computational tasks on the additional resources
and reduces its runtime through the usage of more remote CPUs. </p>
<p class="p">The exact format of the &lt;DCA&gt; string is described in “<a class="xref Link" href="../../calbr_cm_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'CALCMD_REMOTE_COMMAND_DYNAMIC_LOG_LEVEL', 'calbr_cm_user'); return false;">CALCMD_REMOTE_COMMAND_DYNAMIC_LOG_LEVEL</a>”
in the <span class="ph FontProperty ManualTitle">Calibre Cluster Manager (CalCM) User’s Manual</span>. </p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">You have used the calibre_dra command to get the status information
and adjust the resources for your active Calibre job with Calibre
DRA.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_RunningCalibreDra_id3e2d945a.html" title="This section covers how to create a customized Calibre MTflex file, invoke Calibre DRA, and then use it to access the resources and status of your running Calibre job.">Running Calibre DRA</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_dra_user"
                DocTitle = "Calibre® Dynamic Resource Allocator (DRA) User’s Manual"
                PageTitle = "Allocating Resources with Calibre DRA"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_AllocatingResourcesWithCalibreDra_ida187486c.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Dynamic Resource Allocator (DRA) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>