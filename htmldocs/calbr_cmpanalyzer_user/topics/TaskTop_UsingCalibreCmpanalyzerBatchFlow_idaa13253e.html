<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Using the Calibre CMPAnalyzer Batch Flow" />
<meta name="abstract" content="The Calibre CMPAnalyzer batch flow can be used to run the CMP analysis directly from the command line, and output analysis data to the specified output directory." />
<meta name="description" content="The Calibre CMPAnalyzer batch flow can be used to run the CMP analysis directly from the command line, and output analysis data to the specified output directory." />
<meta name="prodname" content="Calibre CMPAnalyzer User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-19" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_cmpanalyzer_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 9, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® CMPAnalyzer User’s Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idaa13253e-973e-4f29-86d0-212a04578b09" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Using the Calibre CMPAnalyzer Batch Flow</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Using the Calibre CMPAnalyzer Batch Flow" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idaa13253e-973e-4f29-86d0-212a04578b09">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Using the Calibre CMPAnalyzer Batch Flow</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The Calibre CMPAnalyzer
batch flow can be used to run the CMP analysis directly from the
command line, and output analysis data to the specified output directory. </p>
<p class="p">This is the recommended method of running
a CMP analysis after you have created a runset file. </p>
<p class="p">The
following example procedure is a tutorial with steps for running
the batch flow. You can perform similar actions using layout data.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id5aa3e367-7cb7-47ea-94ad-5ed6b54240b3" class="table" frame="hsides" border="1" rules="cols"><colgroup><col style="width:1.081in" /><col style="width:5.419in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p">    <span class="ph FontProperty HeadingLabel">Try It!</span> </p>
<br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/try_it_note.png" /></div><br /></td>
<td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p"><span class="ph FontProperty HeadingLabel">Calibre CMPAnalyzer Tutorial and Example Kit</span></p>
<p class="p">Run a batch CMP analysis using the Calibre CMPAnalyzer simulator flow.
Also learn how to calculate a user-defined hotspot, run a CMP batch bucketing
flow analysis, and export CMP thickness data for parasitic extraction tools. </p>
<p class="p">Go to <a class="xref" href="http://supportnet.mentor.com/infohub.cfm?infohub=dfm_ih&amp;link=cal_ekit_DFM" target="_blank">this page</a> on
Support Center to download the eKit (Documentation tab, Document
Types=Getting Started Guide). The link goes to the latest release.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idaa13253e-973e-4f29-86d0-212a04578b09__id4f788e37-f7f0-4e2d-8edf-dde8de9973b2"><p class="p">You have a
valid recipe file; see “<a class="xref Link" href="../../calbr_cmp_model_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Creating a Process Recipe File', 'calbr_cmp_model_useref'); return false;">Creating a Process Recipe File</a>” in the <cite class="cite"><span class="ph filepath">Calibre CMP Model Builder User’s and Reference Manual</span></cite>.
Also see “<a class="xref fm:HeadingAndPage" href="Contain_CalibreCMPAnalyzerSimulatorFlow_id9e48d3cd.html#id9e48d3cd-28a1-47f0-a6f1-6122edd1e704__Contain_CalibreCMPAnalyzerSimulatorFlow_id9e48d3cd.xml#id9e48d3cd-28a1-47f0-a6f1-6122edd1e704" title="Running the Calibre CMPAnalyzer simulator flow requires a process recipe file. The tool reports certain thickness parameters and rules.">Calibre CMPAnalyzer Simulator Flow</a>”.</p>
</li>
<li class="li" id="idaa13253e-973e-4f29-86d0-212a04578b09__id67c204c9-fdc3-4839-a3d1-08885b7b6ec3"><p class="p">You
have a valid runset file in your working directory named “runset.”
You can create a runset file by following the procedure in the “<a class="xref fm:HeadingAndPage" href="TaskTop_CmpAnalysisCalibreInteractiveGui_idd61c9eae.html#idd61c9eae-b418-4d29-9b7e-6fff44c557e2__TaskTop_CmpAnalysisCalibreInteractiveGui_idd61c9eae.xml#idd61c9eae-b418-4d29-9b7e-6fff44c557e2" title="The GUI flow is recommended as a first step when doing Calibre CMP analysis.">CMP Analysis with the Calibre Interactive GUI</a>”.</p>
</li>
<li class="li" id="idaa13253e-973e-4f29-86d0-212a04578b09__id83a0be9a-d0c8-44d4-913d-892f91f84901"><p class="p">You
have set CALIBRE_HOME or MGC_HOME to the path to the Calibre software
tree. Refer to the <a class="xref LinkItalic" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Setting the CALIBRE_HOME Environment Variable', 'calbr_admin_gd'); return false;">Calibre Administrator’s Guide</a> for information on setting this variable.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idaa13253e-973e-4f29-86d0-212a04578b09__id4ef6d19b-c522-457d-9217-9f7e8f0f1009"><span class="ph cmd">Open a text editor and add
the following lines to a new file named <span class="ph filepath">batch.sh</span>:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>#!/bin/sh 
# run CMPAnalyzer in batch mode 
calibre -gui -dfm -runset ./runset -batch | tee calibre.log 
# run YS script (optional) 
calibre -ys -cmp -exec cmp.ys 
# run batch reporting (optional) 
calibre -rve -dfm dfmdb -report ./rve.cfg -outputdir ./reports -cmp 
 </code></pre><p class="p">This script runs Calibre Interactive
in batch mode using the runset to set the GUI options. The run creates
a DFM database with the CMP analysis results. The script then runs
a Calibre YieldServer script and runs HTML batch reporting. You
can optionally change the default settings of the CMP profile plot
in Calibre RVE for DFM by setting the environment variable MGC_CMP_PROFILE_PLOT_SETTINGS
in your batch script. For example,</p>
<pre class="pre ShellCommand">export MGC_CMP_PROFILE_PLOT_SETTINGS="{BG red} {LC green}"</pre>
<p class="p">See <a class="xref fm:TableAndPage" href="TaskTop_ReviewingAnalysisResults_id5fdfb41a.html#id5fdfb41a-8bc7-4238-8340-dc0b317fc9f7__id49720b78-33ee-477e-bbca-cf3fe7dff7c6">Table 2</a> for a list of
CMP profile plot settings.</p>
</div></li>
<li class="li step stepexpand" id="idaa13253e-973e-4f29-86d0-212a04578b09__idf1629f56-618b-40b7-8e76-a59121f4f8ac"><span class="ph cmd">(Optional) Create a new file
named <span class="ph filepath">cmp.ys</span> in your working directory. This
file is executed following a CMP analysis. It can use any of the <a class="xref fm:HeadingOnly" href="Contain_CmpYieldserverCommands_id9ba702a2.html#id9ba702a2-c473-4a1f-9e0f-747c1ba475dd__Contain_CmpYieldserverCommands_id9ba702a2.xml#id9ba702a2-c473-4a1f-9e0f-747c1ba475dd" title="Certain commands can be used to run Calibre CMPAnalyzer directly from Calibre YieldServer.">CMP YieldServer Commands</a> to export parasitic extraction and
hotspot reports, export rule values to a text file, and so on. The
following example script opens the DFM database, and saves Calibre
xRC and hotspot reports.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>dfm::open_db dfmdb/top.dfmdb 
puts "\nSaving xRC Report..." 
cmp::save_xrc_report -dir "xRC" 
puts "\nSaving Hotspots Report..." 
cmp::save_hotspots_report -file "Hotspots_Report.txt" 
 </code></pre></div></li>
<li class="li step stepexpand" id="idaa13253e-973e-4f29-86d0-212a04578b09__idca79d395-d284-4a61-8b1d-b99788d35db3"><span class="ph cmd">(Optional) Create a batch
reporting configuration file named <span class="ph filepath">rve.cfg</span> in
your working directory. Calibre RVE for DFM can read this file to
automatically generate colormaps, histograms, and tables in a specified output
directory. The syntax of this file is detailed in “<a class="xref Link" href="../../calbr_rve_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM HTML Reporting', 'calbr_rve_user'); return false;">DFM HTML Reporting</a>”
in the <cite class="cite">Calibre RVE User’s Manual</cite>. Refer to “<a class="xref fm:HeadingAndPage" href="Contain_CmpBatchReporting_id45e80843.html#id45e80843-a8fc-4733-af9e-4dedc4f4f75d__Contain_CmpBatchReporting_id45e80843.xml#id45e80843-a8fc-4733-af9e-4dedc4f4f75d" title="Batch reporting can be used to output charts, colormaps, histograms and tables from Calibre RVE for DFM to a specified directory.">CMP Batch Reporting</a>” for examples specific to CMPAnalyzer.</span></li>
<li class="li step stepexpand" id="idaa13253e-973e-4f29-86d0-212a04578b09__iddb774ea5-6729-41e8-803a-4538fe7fdb24"><span class="ph cmd">Run the batch file:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>./batch.sh 
 </code></pre></div></li>
<li class="li step stepexpand" id="idaa13253e-973e-4f29-86d0-212a04578b09__id9510239b-9e1a-4275-a320-c8dbb1bfeee2"><span class="ph cmd">If you included batch reporting,
open <span class="ph filepath">index.htm</span> in the <span class="ph filepath">./reports</span> directory.
The HTML report is similar to <a class="xref fm:Figure" href="TaskTop_ExportingAnalysisResultsInBatchMode_idf6ad9585.html#idf6ad9585-d06b-45de-a55c-4f3d7f8606ed__ida0e97ef0-0d8c-44e5-bfcd-334fafb00b4f">Figure 2</a>. </span></li>
<li class="li step stepexpand" id="idaa13253e-973e-4f29-86d0-212a04578b09__id3419e12e-298d-4699-8834-78d7375e1f06"><span class="ph cmd">View the results in Calibre
RVE, as discussed in “<a class="xref fm:HeadingAndPage" href="MGCChap_CmpAnalysisResults_id42d3d692.html#id42d3d692-f1c4-498d-8598-2e3240b0367d__MGCChap_CmpAnalysisResults_id42d3d692.xml#id42d3d692-f1c4-498d-8598-2e3240b0367d" title="You can work with Calibre CMPAnalyzer CMP analysis results using the Calibre RVE for DFM user interface.">CMP Analysis Results</a>”. This section also has information
on interpreting the results. </span></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CmpAnalysis_idab85269a.html" title="You use the Calibre CMPAnalyzer CMP hotspot analysis flow with a physical design. In order to do this, you must run the analysis with Calibre Interactive, which can be run in interactive GUI or batch mode.">CMP Analysis</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_cmpanalyzer_user"
                DocTitle = "Calibre® CMPAnalyzer User’s Manual"
                PageTitle = "Using the Calibre CMPAnalyzer Batch Flow"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_UsingCalibreCmpanalyzerBatchFlow_idaa13253e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® CMPAnalyzer User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>