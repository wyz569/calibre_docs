<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Configuring the CalCM Environment" />
<meta name="abstract" content="The following procedure provides the setting for deploying CalCM." />
<meta name="description" content="The following procedure provides the setting for deploying CalCM." />
<meta name="prodname" content="Calibre Cluster Manager (CalCM) User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_cm_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Cluster Manager (CalCM) User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.1" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0b81894e-caf3-4643-81e1-297530183753" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Configuring the CalCM Environment</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Configuring the CalCM Environment" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id0b81894e-caf3-4643-81e1-297530183753">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Configuring the CalCM Environment</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">The following
procedure provides the setting for deploying CalCM. </span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id0b81894e-caf3-4643-81e1-297530183753__id0b0aca72-db31-4e66-b413-fdb5ec79dc80"><p class="p">A
central location for storing CalCM configuration files, database
files, and job data.</p>
</li>
<li class="li" id="id0b81894e-caf3-4643-81e1-297530183753__ide6a829c3-96f6-453f-b9b3-c3753c2d6d19"><p class="p">Knowledge
of hardware configuration, such as which server the CalCM daemon
will run on.</p>
</li>
<li class="li" id="id0b81894e-caf3-4643-81e1-297530183753__id1fab858e-ff1a-4194-ae5f-8eaea1a38356"><p class="p">Knowledge
of installed Calibre product licenses.</p>
</li>
<li class="li" id="id0b81894e-caf3-4643-81e1-297530183753__id830585f9-28ae-4385-bd38-e2a94a963fc7"><p class="p">Primary
and remote hosts for running Calibre jobs.</p>
</li>
<li class="li" id="id0b81894e-caf3-4643-81e1-297530183753__id8bc8902a-b778-4daa-a105-fb161a062144"><p class="p">Web server
for monitoring the CalCM run.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id0b81894e-caf3-4643-81e1-297530183753__id4e5d4540-f1b6-4f91-9944-8b33bf123675"><span class="ph cmd">Set your working directory
to the desired location in which you will create the recommended
directories and files required to run CalCM.</span></li>
<li class="li step stepexpand" id="id0b81894e-caf3-4643-81e1-297530183753__id6038d684-db07-4bf6-a51a-dd9dc9b56817"><span class="ph cmd">Create the CalCM directory
structure as shown in <a class="xref fm:Figure" href="#id0b81894e-caf3-4643-81e1-297530183753__id096bff15-1346-4e58-a04b-5bf68e1c2679">Figure 1</a>.</span><div class="itemgroup info StepInfo"><div class="fig fignone" id="id0b81894e-caf3-4643-81e1-297530183753__id096bff15-1346-4e58-a04b-5bf68e1c2679"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Recommended CalCM
Directory Structure</span><br /><div class="imagecenter"><img class="image imagecenter" height="149" src="../graphics/calcm_running01.png" width="240" /></div><br /></div>
</div></li>
<li class="li step stepexpand" id="id0b81894e-caf3-4643-81e1-297530183753__id2b97f7fd-53d7-4b7f-8a6a-0c55f8df3c14"><span class="ph cmd">Create a CalCM configuration
file (<span class="ph filepath">calcmd.conf</span>) in the <span class="ph filepath">config</span> directory.</span><ol type="a" class="ol substeps"><li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__idae9d891d-ac4e-4f55-aa1e-36714b91be18"><span class="ph cmd">Use the <a class="xref fm:HeadingOnly" href="Command_Variable_id20bbcdd1.html#id20bbcdd1-69ac-433a-ad69-ff8f35b7ca99__Command_Variable_id20bbcdd1.xml#id20bbcdd1-69ac-433a-ad69-ff8f35b7ca99" title="Defines a local environment variable to be used in the configuration.">VARIABLE</a> statement to define any environment
variables, such as the location of your CALCM_HOME directory or
CalCM database files, for your environment. The CALCM_APP definition
points to the source CalCM Tcl applications in the MGC_HOME tree.
For example: </span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code>// Define path to calcm files 
VARIABLE CALCM_HOME <var class="keyword varname italic">installation_path</var>/calcm 
VARIABLE CALCM_APP $MGC_HOME/pkgs/icv_calcm/tcl 
 
// Define database paths 
VARIABLE JOB_DB $CALCM_HOME/dbfiles/calcm_job.db 
VARIABE MONITOR_DB $CALCM_HOME/dbfiles/calcm_rmonitor.db </code></pre></div></li>
<li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__id66ad2f43-3eae-49dc-94f4-08eb49f7a616"><span class="ph cmd">Define the CalCM server and
license statements for your environment. For the <a class="xref fm:HeadingOnly" href="Command_ServerPort_idd4512711.html#idd4512711-1dc1-40cf-8a9b-0970a708e4e9__Command_ServerPort_idd4512711.xml#idd4512711-1dc1-40cf-8a9b-0970a708e4e9" title="Specifies the port used by the CalCM daemon.">SERVER PORT</a> statement, you must replace <span class="keyword ParameterName OptionalReplaceable">port_number</span> with
the number of the port you want the CalCM daemon to use. For the <a class="xref fm:HeadingOnly" href="Command_LicenseServer_id5622f333.html#id5622f333-47b4-4546-889a-71538477089e__Command_LicenseServer_id5622f333.xml#id5622f333-47b4-4546-889a-71538477089e" title="Specifies a list of CalCM daemons that provide licenses for Calibre jobs.">LICENSE SERVER</a> statement, replace <span class="keyword ParameterName OptionalReplaceable">server_name</span> with
the name of your license server. Add the <a class="xref fm:HeadingOnly" href="Command_LicenseFeatures_ida12994d0.html#ida12994d0-ce8d-4395-9e15-1f491ffe65fa__Command_LicenseFeatures_ida12994d0.xml#ida12994d0-ce8d-4395-9e15-1f491ffe65fa" title="Specifies the licenses to be managed by CalCM for dynamic licensing.">LICENSE FEATURES</a> statement and specify the feature
name(s) and number of licenses for your site. For example:</span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code>SERVER PORT <span class="keyword ParameterName OptionalReplaceable">port_number</span>									//Port number used by CalCM daemon 
 
LICENSE PORT 9901 
LICENSE FEATURES FILE [ 
	<span class="keyword ParameterName OptionalReplaceable">feature_name</span> = <span class="keyword ParameterName OptionalReplaceable">number</span>  
	// example: calnmopc = 300 
... 
] 
 </code></pre></div></li>
<li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__idd67cfd1a-c0fb-4b3f-b9be-e24e0a7ffc21"><span class="ph cmd">Use the <a class="xref fm:HeadingOnly" href="Command_Application_idfab411ab.html#idfab411ab-7812-4d1b-9080-2898661ef7b6__Command_Application_idfab411ab.xml#idfab411ab-7812-4d1b-9080-2898661ef7b6" title="Loads a Tcl application.">APPLICATION</a> statement to define the Tcl applications
that are loaded when you start the CalCM daemon. For performance
reasons, it is recommended that you specify the applications in
the following order:</span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code>// “Job Queue” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_jobqueue_app.tcl FILE [ 
] 
 
// “Resource Manager” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_rmanager_app.tcl FILE [ 
] 
 
// “System Analysis” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_systemanalysis_app.tcl FILE [ 
] 
 
// “Remote Monitor” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_rmonitor_app.tcl FILE [ 
] 
 
// “Http Server” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_http_server_app.tcl FILE [ 
] 
  
// “Snapshot Database” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_tcl_app.tcl FILE [ 
	SNAPSHOTDIR = $CALCM_HTML,777 
] 
</code></pre></div></li>
<li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__ide7bfde22-abb8-4e19-9aa5-979b80967db1"><span class="ph cmd">Customize the Job Queue, Remote
Monitor, and HTTP Server, and Snapshot Database Tcl applications.</span><div class="itemgroup info SubStepInfo"><p class="p">Add the following lines to customize the Tcl applications:</p>
<pre class="pre codeblock leveled"><code>// “Job Queue” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_jobqueue_app.tcl FILE [ 
	//Path for job queue directory 
	QUEUEDIR = $CALCM_HOME/jobqueue 
	//Path to cluster configuration file 
	CLUSTERCONF = $CALCM_HOME/config/cluster.conf 
	//Path for job database 
	JOBDB = $JOB_DB 
] 
 
APPLICATION TCL $CALCM_APP/calcm_rmonitor_app.tcl FILE [ 
	DBPATH = $RMONITOR_DB 
] 
 
// “Http Server” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_http_server_app.tcl FILE [ 
	//Path for job database 
	JOBDB = $JOB_DB 
	ENABLE_DASHBOARD = 1
	DASHBOARDPORT = 9902
] 
 
// “Snapshot Database” Tcl application. 
APPLICATION TCL $CALCM_APP/calcm_tcl_app.tcl FILE [ 
	SNAPSHOTDIR = $CALCM_HTML,777 
] 
</code></pre></div><div class="itemgroup info SubStepInfo"><p class="p">Notice that you defined the
JOBDB argument for both the Job Queue and HTTP Server applications.
This is necessary as the job database is used by both applications.
The cluster Snapshot Database is used by the CalCM web application.</p>
</div></li>
<li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__id6cf488da-91ff-4e34-b8ec-98c2b117028c"><span class="ph cmd">Save and close the file.</span></li>
</ol>
</li>
<li class="li step stepexpand" id="id0b81894e-caf3-4643-81e1-297530183753__id96116f73-43f8-4769-8141-41334d3fde35"><span class="ph cmd">Create
a CalCM cluster configuration file. A cluster configuration file
is an ASCII file that defines the different types of hosts (Primary
(Master), RDS, Remote) to be managed in CalCM and allocated for
the Calibre job. </span><ol type="a" class="ol substeps"><li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__id579deb46-b2e5-43fa-aded-e5068f38e69b"><span class="ph cmd">Use the <a class="xref fm:HeadingOnly" href="Command_MasterHost_id3fb2cfbc.html#id3fb2cfbc-26e4-4f7b-bdbd-6e4b82edb2e5__Command_MasterHost_id3fb2cfbc.xml#id3fb2cfbc-26e4-4f7b-bdbd-6e4b82edb2e5" title="Specifies a primary host.">MASTER HOST</a>, <a class="xref fm:HeadingOnly" href="Command_RdsHost_id55049efe.html#id55049efe-f8ac-40d7-98cc-69db8c7cf2c7__Command_RdsHost_id55049efe.xml#id55049efe-f8ac-40d7-98cc-69db8c7cf2c7" title="Specifies an RDS (Remote Data Server) host.">RDS HOST</a>, and <a class="xref fm:HeadingOnly" href="Command_RemoteHost_ide7cc3543.html#ide7cc3543-05cf-4b23-b2ea-156aeac32ecb__Command_RemoteHost_ide7cc3543.xml#ide7cc3543-05cf-4b23-b2ea-156aeac32ecb" title="Specifies a remote host.">REMOTE HOST</a> statements to define the hosts
in your environment. Each statement can be specified multiple times. </span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code>//-------------------------------------------------------------- 
// MASTER CONFIGURATION 
//-------------------------------------------------------------- 
MASTER HOST &lt;<span class="keyword ParameterName OptionalReplaceable">host_name</span>&gt; SLOT &lt;<span class="keyword ParameterName OptionalReplaceable">#</span>_slots&gt; 
 
//-------------------------------------------------------------- 
// REMOTE CONFIGURATION 
//-------------------------------------------------------------- 
REMOTE HOST &lt;<span class="keyword ParameterName OptionalReplaceable">host_name</span>&gt; SLOT &lt;<span class="keyword ParameterName OptionalReplaceable">#_slots</span>&gt; 
 
//-------------------------------------------------------------- 
// RDS CONFIGURATION 
//-------------------------------------------------------------- 
RDS HOST &lt;<span class="keyword ParameterName OptionalReplaceable">host_name</span>&gt; SLOT <var class="keyword varname italic">#_slots</var></code></pre><p class="p">Refer to the “<a class="xref fm:HeadingOnly" href="Contain_CalcmClusterConfigurationFileReference_id3443fff6.html#id3443fff6-609c-46f9-8416-30be6980402e__Contain_CalcmClusterConfigurationFileReference_id3443fff6.xml#id3443fff6-609c-46f9-8416-30be6980402e" title="This section provides reference information for the CalCM cluster configuration statements available for use in the cluster configuration file.">CalCM Cluster Configuration File Reference</a>” for information on the statements
used in the job configuration file.</p>
</div></li>
<li class="li substep" id="id0b81894e-caf3-4643-81e1-297530183753__ida47db817-8718-4b42-8171-3b06b1925d10"><span class="ph cmd">Save and close the file.</span></li>
</ol>
</li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_DeployingRunningCalcm_id535641fc.html" title="This section includes several procedures that explain how to deploy and run CalCM and monitor resources and job information using the CalCM dashboard web application.">Deploying and Running CalCM</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_cm_user"
                DocTitle = "Calibre® Cluster Manager (CalCM) User’s Manual"
                PageTitle = "Configuring the CalCM Environment"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ConfiguringCalcmEnvironment_id0b81894e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Cluster Manager (CalCM) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>