<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Starting Up and Qualifying the New Version of CalCM" />
<meta name="abstract" content="This procedure makes sure that CalCM is behaving as expected when running within the non-production environment using the new CalCM version." />
<meta name="description" content="This procedure makes sure that CalCM is behaving as expected when running within the non-production environment using the new CalCM version." />
<meta name="prodname" content="Calibre Cluster Manager (CalCM) User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_cm_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Cluster Manager (CalCM) User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.1" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id11f61775-d701-4327-9652-4bd84242fab5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Starting Up and Qualifying the New Version of CalCM</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Starting Up and Qualifying the New Version of CalCM" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id11f61775-d701-4327-9652-4bd84242fab5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Starting Up and Qualifying the New Version of CalCM</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">This procedure
makes sure that CalCM is behaving as expected when running within
the non-production environment using the new CalCM version.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id11f61775-d701-4327-9652-4bd84242fab5__ida1db707a-4711-47ea-a99d-d2dee1d91969"><span class="ph cmd">Start the
CalCM daemon on a system (that is not designated as either a primary
or a remote) using the new Calibre version with the new applications
and the existing databases.</span><div class="itemgroup info StepInfo"><pre class="pre ShellCommand">	$MGC_HOME/bin/calcmd -config conf/calcmd.conf -log log/calcmd.log &amp;</pre>
</div></li>
<li class="li step stepexpand" id="id11f61775-d701-4327-9652-4bd84242fab5__ida4e46240-edbe-4fe8-90b8-53be5dcf8017"><span class="ph cmd">Monitor the CalCM daemon log
file (.<span class="ph filepath">/log/calcmd.log</span>) and verify that the
daemon has started up properly and encountered no issues.</span><div class="itemgroup info StepInfo"><pre class="pre ShellCommand">	% sleep 20s
	% egrep -i '(err|warn)' log/calcmd.log 
	% grep "Cluster Manager running"</pre>
</div><ol type="a" class="ol substeps"><li class="li substep" id="id11f61775-d701-4327-9652-4bd84242fab5__ide75c9a99-f3d1-4185-8fdc-1e4196286e23"><span class="ph cmd">If both the egrep statement
returns nothing and the grep statement returns a line match, then
the CalCM daemon has started up correctly and will be in listening mode
until the first job is submitted.</span><div class="itemgroup info SubStepInfo"><p class="p">This also implies that the
applications, their setups, and the databases are compatible with
the new CalCM version.</p>
</div></li>
<li class="li substep" id="id11f61775-d701-4327-9652-4bd84242fab5__id3c3d7279-89bc-43d8-a141-7546294d2457"><span class="ph cmd">If either fails to meet the
requirements stated in the previous step (2a), then a problem has
occurred and an assessment needs to be performed to determine the
root cause and fix the issue.</span></li>
<li class="li substep" id="id11f61775-d701-4327-9652-4bd84242fab5__id310c1513-d9be-446f-b92d-4c814aa41b82"><span class="ph cmd">Once the issues have been
resolved, then repeat steps 1 and 2 in this section before proceeding.</span></li>
</ol>
</li>
<li class="li step stepexpand" id="id11f61775-d701-4327-9652-4bd84242fab5__idebf5a774-470c-4b58-b43f-a97b000c9b1d"><span class="ph cmd">Run qualification tests to
make sure that CalCM can queue, dispatch, and monitor Calibre jobs
as expected.</span><div class="itemgroup info StepInfo"><pre class="pre ShellCommand">	% ./jobqueue/calcm_submit_job `pwd`/jobqueue/job1/job.conf</pre>
</div><ol type="a" class="ol substeps"><li class="li substep" id="id11f61775-d701-4327-9652-4bd84242fab5__idfcdd5ad8-8438-482b-8186-877fc84f0be1"><span class="ph cmd">Check the CalCM log file (<span class="ph filepath">./log/calcmd.log</span>)
for the following messages in the prescribed order to know that
the job was queued, announced, launched, monitored, and had completed.</span><div class="itemgroup info SubStepInfo"><ol class="ol" type="i"><li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__id661921c9-f3a3-4952-92bf-89d094ffe9ca"><p class="p">'                                           ...
successfully'</p>
</li>
<li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__id7da3bb15-9f86-41f6-9073-03b42258e33d"><p class="p">'Job “&lt;jobID&gt;”
(&lt;primary&gt;:&lt;port&gt;) is announced.'</p>
</li>
<li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__id81e425ef-9169-4ac2-9160-911b099c745f"><p class="p">'Number
of Jobs: 1'</p>
<p class="p">This is assuming that only
1 job was started and that CalCM is not aware of any other job in
progress.</p>
</li>
<li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__idcdac3c10-e9c3-408e-ac36-9810a5440376"><p class="p">'&lt;primary&gt;:&lt;pid&gt;:
forget_job &lt;jobID&gt;' 'Job “&lt;jobID&gt;” terminated' </p>
<p class="p">Another option is to wait a
few minutes and then look in the testing directory at the log file
for the Calibre job.</p>
</li>
</ol>
</div></li>
<li class="li substep" id="id11f61775-d701-4327-9652-4bd84242fab5__id045bd07f-8939-4ab7-97fc-c61558b890f8"><span class="ph cmd">Once each job has completed,
look at the testing results.</span><div class="itemgroup info SubStepInfo"><ol class="ol" type="i"><li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__id12d15394-14b8-46fa-bfa3-c1a5784aa10d"><p class="p">Compare
the run times in the log file for the new job with the run time
in the log file for the baseline job (wall clock time).</p>
<ol class="ol"><li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__id7057a73f-92e4-4835-b79c-39627295ba62"><p class="p">If
they are within an acceptable small percentage, then the test can
pass.</p>
</li>
<li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__id64fb9c19-1819-4a38-a0d6-68fe5696d6a3"><p class="p">If
the results fall outside of an acceptable range, it can be directly
attributed to CalCM, the network, or the hardware.</p>
</li>
</ol>
</li>
<li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__idd599b01c-989a-4995-bd8a-dbcb71777fee"><p class="p">Compare
the output results in the log file for the new job with the output
results in the log file for the baseline job.</p>
<p class="p">If run on the same Calibre
version, the output results should always be XOR clean when compared
to the baseline results.</p>
</li>
<li class="li" id="id11f61775-d701-4327-9652-4bd84242fab5__idfca595d5-ee30-470e-b7d7-49d8e3c66a4d"><p class="p">Compare
the CPU profiles.</p>
<p class="p">Use the http server application
(<a class="xref fm:HeadingOnly" href="Command_CalcmHttpServerAppTcl_idac3c44d4.html#idac3c44d4-d25d-428b-a57b-7f0caf88f711__Command_CalcmHttpServerAppTcl_idac3c44d4.xml#idac3c44d4-d25d-428b-a57b-7f0caf88f711" title="A GUI HTTP interface to monitor job submission and progress, node allocation and network utilization.">calcm_http_server_app.tcl</a>) to look at the CPU profile for
the job in order to assess whether or not the newer version of CalCM is
working comparably, better, or worse than before. </p>
<p class="p">This process is a little tricky
in the sense that the HTTP SERVER no longer has the job profile
on display when it is done, yet can be very helpful for a user who is
comfortable with CalCM behavior on the baseline jobs. In order to
get this information, you can run the following command to extract
the profile information out of the transcript from the CalCM daemon.</p>
<pre class="pre ShellCommand">		% egrep '^Job "&lt;jobID&gt;"' log/calcmd.log &gt; &lt;jobID&gt;.prf</pre>
</li>
</ol>
</div></li>
<li class="li substep" id="id11f61775-d701-4327-9652-4bd84242fab5__ida4920ff6-a337-41dd-9034-7cf3b618149c"><span class="ph cmd">If all qualification jobs
run to completion within the expected time-to-complete, the CalCM
daemon is not reporting any issues, all jobs have been monitored
with no flags raised, and all apps are behaving as expected, then
the compatibility tests pass and the act of migrating the daemon
can now commence.</span></li>
</ol>
</li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MigrationTasks_id87a0f28d.html" title="The section includes the tasks that are required to successfully migrate the CalCM Daemon to a new release of Calibre. These tasks should be performed in the order listed.">Migration Tasks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_cm_user"
                DocTitle = "Calibre® Cluster Manager (CalCM) User’s Manual"
                PageTitle = "Starting Up and Qualifying the New Version of CalCM"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_StartingUpQualifyingNewVersionCalcm_id11f61775.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Cluster Manager (CalCM) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>