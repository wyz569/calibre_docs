<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="reset_license" />
<meta name="abstract" content="Dynamically adds or removes licenses from the CalCM license pool." />
<meta name="description" content="Dynamically adds or removes licenses from the CalCM license pool." />
<meta name="prodname" content="Calibre Cluster Manager (CalCM) User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_cm_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Cluster Manager (CalCM) User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.1" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id699e7c79-5639-40b8-ae62-c991df9678b1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>reset_license</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="reset_license" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id699e7c79-5639-40b8-ae62-c991df9678b1">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">reset_license</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Related
application: <a class="xref fm:HeadingOnly" href="Command_CalcmJobqueueAppTcl_idfa5ec92b.html#idfa5ec92b-30fa-45ff-912b-fcd30134f4a9__Command_CalcmJobqueueAppTcl_idfa5ec92b.xml#idfa5ec92b-30fa-45ff-912b-fcd30134f4a9" title="Creates a job dispatcher and the configuration files to run each job.">calcm_jobqueue_app.tcl</a></p>
<p class="shortdesc">Dynamically adds or removes
licenses from the CalCM license pool.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">reset_license</span> <span class="keyword ParameterName RequiredReplaceable">license_config_file</span>  </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id699e7c79-5639-40b8-ae62-c991df9678b1__idca95a701-1069-4e76-b773-0ff6b6593400"><span class="keyword ParameterName RequiredReplaceable">license_config_file</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Required argument that specifies
the path to the CalCM license configuration file. A warning is issued
if the filename is not specified.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Use <span class="keyword ParameterName Required">reset_license </span>with
the calcm_send_message script to modify the License Broker Daemon (LBD)
license pool so that it matches the contents of the specified license
configuration file. The syntax of the license definitions in the
license configuration file is:</p>
<pre class="pre codeblock leveled"><code><span class="keyword ParameterName RequiredReplaceable">feature_name</span> [<span class="keyword ParameterName OptionalReplaceable">exact_access_date</span>] = <span class="keyword ParameterName RequiredReplaceable">number</span> </code></pre><p class="p">Refer to the <a class="xref fm:HeadingOnly" href="Command_LicenseFeatures_ida12994d0.html#ida12994d0-ce8d-4395-9e15-1f491ffe65fa__Command_LicenseFeatures_ida12994d0.xml#ida12994d0-ce8d-4395-9e15-1f491ffe65fa" title="Specifies the licenses to be managed by CalCM for dynamic licensing.">LICENSE FEATURES</a> statement for more information
on the license definition syntax. Here is an example of a license
configuration file:</p>
<pre class="pre codeblock leveled"><code>calopcpro = 5 
calmtopcpro = 5 
calopcsbar = 10 
calibredrc = 10 
calibrehdrc = 10 
calnmopc = 10</code></pre><div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">If
a license in the license pool is omitted from the license configuration
file specified by reset_license, then the LBD removes the license
from the pool. For example, if the license pool includes 5 <span class="ph FontProperty emphasis">calfracturej</span> licenses
and you do not define the <span class="ph FontProperty emphasis">calfracturej</span> license
in the license configuration file, then these licenses are removed
from the license pool.</p>
</div>
<p class="p">Licenses in use by Calibre jobs
running under CalCM cannot be removed from the license pool. For
example, if the license pool contains 50 <span class="ph FontProperty emphasis">calnmopc</span> licenses
and 10 of those licenses are in use, then the maximum number of <span class="ph FontProperty emphasis">calnmopc </span>licenses
that can be removed from the pool is 40.</p>
<p class="p">In the event licenses are being
added and sufficient quantity is not immediately available, the reset_license
command will fail and the LBD will maintain the pool unchanged.
The reset_license command does not make any attempt to queue or
retry for licenses.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">In the following example, the license
pool for jobs running under CalCM includes 50 <span class="ph FontProperty emphasis">calopcpro</span>,
50 <span class="ph FontProperty emphasis">calmtopcpro</span>,
75 <span class="ph FontProperty emphasis">calibredrc</span>,
75 <span class="ph FontProperty emphasis">calibrehdrc</span>,
and 10 <span class="ph FontProperty emphasis">calnmopc</span> licenses.
You create a license configuration file (license.conf) that specifies
the following licenses for the license pool:</p>
<pre class="pre codeblock leveled"><code>calopcpro = 5 
calmtopcpro = 5 
calopcsbar = 10 
calibredrc = 10 
calibrehdrc = 10 
calnmopc = 10</code></pre><p class="p">Use the following command to submit
the license configuration file (<span class="ph filepath">license.conf</span>):</p>
<pre class="pre ShellCommand">calcm_send_message reset_license license.conf </pre>
<p class="p">The transcript identifies the changes
made by the License Broker Daemon (LBD) to the license pool. The <span class="ph FontProperty emphasis">calopcpro</span> and <span class="ph FontProperty emphasis">calmtopcpro</span> licenses
are each reduced by 45, 10 <span class="ph FontProperty emphasis">calopcsbar</span> licenses are
added, the <span class="ph FontProperty emphasis">calibredrc</span> and <span class="ph FontProperty emphasis">calibrehdrc</span> licenses
are each reduced by 65, and there is no change to the <span class="ph FontProperty emphasis">calnmopc</span> licenses:</p>
<pre class="pre codeblock leveled"><code>... 
(LBD) [T3] Updating license pool: 
(LBD) [T3] - calopcpro: 50 -&gt; 5 (-45) 
(LBD) [T3] - calmtopcpro: 50 -&gt; 5 (-45) 
(LBD) [T3] - calopcsbar: 0 -&gt; 10 (+10) [NEW] 
(LBD) [T3] - calibredrc: 75 -&gt; 10 (-65) 
(LBD) [T3] - calibrehdrc: 75 -&gt; 10 (-65) 
(LBD) [T3] - calnmopc: 10 -&gt; 10 (+0) [NO CHANGE] 
(LBD) 10 calopcsbar (2016.020) licenses acquired 
(LBD) 45 calopcpro licenses released 
(LBD) 45 calmtopcpro licenses released 
(LBD) 65 calibredrc licenses released 
(LBD) 65 calibrehdrc licenses released 
(LBD) [T3] License pool update complete. 
... </code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MessagingCommands_id8faf0381.html" title="This section provides reference information on the messaging commands you can use with the calcm_send_message script. These messaging commands enable you to change aspects, such as the budget or priority, of a job that is currently running. Certain commands (as noted) are also accessible from the CalCM dashboard web interface if you supply the required authentication.">Messaging Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_CalcmSendMessage_ide06c5e73.html#ide06c5e73-0276-474f-80bb-197e23235a0a__" title="Sends a message to CalCM.">calcm_send_message</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_cm_user"
                DocTitle = "Calibre® Cluster Manager (CalCM) User’s Manual"
                PageTitle = "reset_license"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_ResetLicense_id699e7c79.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Cluster Manager (CalCM) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>