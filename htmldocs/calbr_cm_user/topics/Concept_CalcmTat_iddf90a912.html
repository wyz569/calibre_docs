<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="CalCM TAT" />
<meta name="abstract" content="The CalCM TAT application extends the CalCM capabilities by providing improved predictability for runtime modeling jobs." />
<meta name="description" content="The CalCM TAT application extends the CalCM capabilities by providing improved predictability for runtime modeling jobs." />
<meta name="prodname" content="Calibre Cluster Manager (CalCM) User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_cm_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Cluster Manager (CalCM) User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.1" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="iddf90a912-c3fc-490e-8420-4f7a02186f1e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>CalCM TAT</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="CalCM TAT" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="iddf90a912-c3fc-490e-8420-4f7a02186f1e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">CalCM TAT</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The CalCM TAT
application extends the CalCM capabilities by providing improved predictability
for runtime modeling jobs.</span>
</div>
<p class="p"><a class="xref fm:Figure" href="#iddf90a912-c3fc-490e-8420-4f7a02186f1e__idea654c3c-391f-4352-bb1c-577d4bb5c9f5">Figure 1</a> compares the runtime of a Calibre job
run with and without the CalCM TAT application.</p>
<div class="fig fignone" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idea654c3c-391f-4352-bb1c-577d4bb5c9f5"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Comparison of Runtime Modeling
Job With and Without TAT</span><br /><div class="imagecenter"><img class="image imagecenter" height="159" src="../graphics/tat1.png" width="450" /></div><br /></div>
<p class="p">To achieve a targeted runtime completion, the
TAT application handles the following aspects of each Calibre job
that runs under CalCM TAT:</p>
<ul class="ul"><li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id35516c47-f3eb-495d-8607-9763f3571d6a"><p class="p">Budget Management</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id8f682005-d9f6-47a6-8252-3cd3e7cef8b8"><p class="p">Resource Allocation</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id7fb34047-c722-4b46-8835-a416ee477c9e"><p class="p">Execution Order</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idd3e8eec2-a2df-4972-ac61-058bdbc8d2ee"><p class="p">Priority Control</p>
</li>
</ul>
<p class="p">For an overview of the configuration and workflow for setting
up and running the TAT application with CalCM, refer to “<a class="xref fm:HeadingAndPage" href="MGCAppe_ConfiguringUsingCalcmTatApplication_id36e1c9f7.html#id36e1c9f7-e8c4-48fa-ba0c-83e465d8caee__MGCAppe_ConfiguringUsingCalcmTatApplication_id36e1c9f7.xml#id36e1c9f7-e8c4-48fa-ba0c-83e465d8caee" title="This section includes procedures that explain how to set up and run the TAT application with CalCM.">Configuring and Using the CalCM TAT Application</a>”.</p>
<p class="p">The CalCM TAT application is a Tcl application
named <span class="ph filepath">calcm_tat_app.tcl</span>. This application, which
resides and works with the existing CalCM applications in the MGC_HOME
tree, is automatically run when you start the CalCM daemon. Refer
to the <a class="xref fm:HeadingOnly" href="Command_CalcmTatAppTcl_idaa57a8e6.html#idaa57a8e6-273c-4474-bd51-dff3b4f099b5__Command_CalcmTatAppTcl_idaa57a8e6.xml#idaa57a8e6-273c-4474-bd51-dff3b4f099b5" title="Controls the job turn-around time (or TAT) by sending a remote count request to the resource monitor application. Job budget time is specified in the job configuration file. The CalCM TAT application supports increasing the priority when the duration of a job is expected to exceed the budget.">calcm_tat_app.tcl</a> reference page for more information
on this application.</p>
<p class="p">During the CalCM update cycle, the TAT application
collects data about the jobs that are running at that time and stores
the information in the TAT database. This data is used to perform calculations
for the current and future jobs that run under the TAT application.</p>
<p class="p"><a class="xref fm:Figure" href="#iddf90a912-c3fc-490e-8420-4f7a02186f1e__idb22e4053-30d1-4c1f-a830-271954016f7c">Figure 2</a> illustrates how the CalCM TAT application
and database work within the existing CalCM framework. </p>
<div class="fig fignone" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idb22e4053-30d1-4c1f-a830-271954016f7c"><span class="figcap"><span class="fig--title-label">Figure 2. </span>CalCM Dynamic Resource Allocation
and TAT Control</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/calcm_concepts08a.png" /></div><br /></div>
<div class="section Subsections" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idf1fb1a42-02c3-4294-a84c-ceb056f1195d"><div class="section Subsection" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id250f523e-0744-4eac-8132-cd5fc389fd0c"><h2 class="title Subheading sectiontitle">Budget Management</h2><p class="p">A single Calibre job typically executes multiple
operations, where each operation has unique CPU and scalability
requirements. For each operation that supports the progress meter
feature<a name="fnsrc_1" href="#fntarg_1"><sup>1</sup></a>, a time budget can be applied
to LITHO operations that have a runtime impact. </p>
<p class="p">When running
a Calibre job, the CalCM TAT application collects data about the
job and stores this information in the TAT database. The CalCM TAT
application then uses this data to calculate the budget for new
jobs and operations. There are two budgeting modes:</p>
<ul class="ul"><li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id0500f753-753d-4a40-afb0-ee25833059ec"><p class="p">Manual budgeting — In manual mode, you
define the budget for the job operations. Using the JOB BUDGET statement
in the job configuration file (<span class="ph filepath">job.conf</span>), you
define the budget for specific job operations. For example:</p>
<pre class="pre codeblock leveled"><code>JOB BUDGET nmOPC1=120;verify=300</code></pre></li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id5a9d4e4f-ddd5-46ef-823f-923e78829569"><p class="p">Automatic budgeting — In automatic mode,
the TAT application defines the budget for job operations using
data collected from previous runs. To enable this mode, you must use
the JOB BUDGET statement to specify automatic mode and the total
budget for the job. For example:</p>
<pre class="pre codeblock leveled"><code>JOB BUDGET _AUTO_;TOT:400 
 </code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">The automatic mode is recommended, as it is easier to use.</p>
</div>
</li>
</ul>
<p class="p">During the Calibre run, the budget specified
in the job configuration file is dynamically adjusted when both
conditions are met:</p>
<ul class="ul"><li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idf5f42487-8d6d-4b86-bccb-d68110fccd97"><p class="p">ADJUST_BUDGET in the CalCM configuration
file is enabled (this is the default).</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idd1856f5e-8615-4c75-8415-b6897624f233"><p class="p">The remaining job duration exceeds the
accumulated budget.</p>
</li>
</ul>
<p class="p">The TAT application dynamically adjusts the
budget for an operation to ensure the job meets the specified job
budget (see <a class="xref fm:Figure" href="#iddf90a912-c3fc-490e-8420-4f7a02186f1e__id15961831-ec3a-4b8c-82dd-02e1f0c4d507">Figure 3</a>). This is achieved through database
queries that continuously update the job budget based on the status
of the current job and any previously-collected job data.</p>
<div class="fig fignone" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id15961831-ec3a-4b8c-82dd-02e1f0c4d507"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Dynamic Budget Adjustment</span><br /><div class="imagecenter"><img class="image imagecenter" height="172" src="../graphics/calcm_concepts09.png" width="465" /></div><br /></div>
</div>
<div class="section Subsection" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id5267f0e0-8fd2-4c77-9962-1b2fda760f1a"><h2 class="title Subheading sectiontitle">Resource Allocation</h2><p class="p">This section discusses how the CalCM Resource
Manager application dynamically allocates resources to Calibre jobs
running under CalCM. </p>
<p class="p">The TAT application provides resource demand
information to the CalCM Resource Manager which uses this information
to allocate resources to jobs (as shown in <a class="xref fm:Figure" href="#iddf90a912-c3fc-490e-8420-4f7a02186f1e__id64890d7c-16c5-4210-b348-00e15f93571f">Figure 4</a>) based on the following rules:</p>
<ul class="ul"><li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id639f540e-c536-4480-aeda-1357f19554f8"><p class="p">Resources are allocated to jobs by CPU
demand and priority. </p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idabec523d-b110-4f09-9a36-144ee5ab1045"><p class="p">The CPU demand is computed based on the
job scalability, which is computed by monitoring resource usage
and processing the data queue length.</p>
<div class="fig fignone" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id64890d7c-16c5-4210-b348-00e15f93571f"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Allocating Resource with CalCM
TAT</span><br /><div class="imagecenter"><img class="image imagecenter" height="191" src="../graphics/calcm_concepts10.png" width="414" /></div><br /></div>
</li>
</ul>
</div>
<div class="section Subsection" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id750cc0b2-e7e2-49a7-b208-b1d4e07467bf"><h2 class="title Subheading sectiontitle">Execution
Order</h2><p class="p">During a Calibre run, frequent changes to the
allocation of resources can cause runtime penalties due to the overhead
associated with managing the resources. The TAT application attempts
to minimize any resource demand conflicts by scheduling the execution
order of jobs. If a job includes low priority operations that can
wait for the completion of a job with higher priority operations,
then the TAT application assigns a lower priority to the job containing
the low priority operations.</p>
</div>
<div class="section Subsection" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idcde12200-ce7f-4820-adbb-d690bc702cbd"><h2 class="title Subheading sectiontitle">Priority
Control</h2><p class="p">CalCM provides the ability to set the priority
for a job by defining the <a class="xref fm:HeadingOnly" href="Command_JobPriority_ida81d8663.html#ida81d8663-91f5-413f-b693-b242812f756b__Command_JobPriority_ida81d8663.xml#ida81d8663-91f5-413f-b693-b242812f756b" title="Specifies a priority for a Calibre job.">JOB PRIORITY</a> statement
in the job configuration file. With the TAT application, you can
also assign a “priority bump” value which specifies the maximum
value that the TAT application can increase the priority for a job.
A default global priority bump value is defined in the calcm_tat_app.tcl application. </p>
<p class="p">You can override this global value by defining
a new priority bump value in the CalCM configuration file (<span class="ph filepath">calcmd.conf</span>).
The global value can be overridden for a job by specifying the JOB_TAT_PRIORITY_BUMP
in the job configuration file (<span class="ph filepath">job.conf</span>) or
by using the set_priority_bump messaging command.</p>
<p class="p">You can use a CalCM web application in a browser
to view the priority bump for a job. Refer to “<a class="xref fm:HeadingAndPage" href="Contain_UsingTheCalCMDashboardWebApplication_id937aa841.html#id937aa841-603e-4d45-90c7-4570409b228a__Contain_UsingTheCalCMDashboardWebApplication_id937aa841.xml#id937aa841-603e-4d45-90c7-4570409b228a" title="The CalCM dashboard web application is used for monitoring a running CalCM process, visualizing graphical data, and providing user management and job control.">Using the CalCM Dashboard Web Application</a>” for
information on using this application.</p>
</div>
<div class="section Subsection" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idee2996c7-59a3-41df-8e7b-fa58af4bdacf"><h2 class="title Subheading sectiontitle">Notification
Events</h2><p class="p">This section discusses the different runtime
(or notification) events supported by the TAT application through
the execution of a user-specified script.</p>
<p class="p">The supported runtime events include:</p>
<ul class="ul"><li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idd4114b37-4483-4d33-bd7e-ebb6b622a8be"><p class="p">Check Point</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id1a4314f4-8c0d-46a3-bd28-f7d84d4d6ba1"><p class="p">Estimation Exceed</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__idfa6e5764-802b-4aad-a6e1-f0a3598c8b58"><p class="p">Runtime Exceed</p>
</li>
<li class="li" id="iddf90a912-c3fc-490e-8420-4f7a02186f1e__id287e962d-44ae-4d74-8d87-c0ac6c3691a2"><p class="p">Exit Status</p>
</li>
</ul>
<p class="p">You use the NOTIFICATION_FILE_PATH argument
in calcm_tat_app.tcl to specify the path to the notification script.
The notification feature is disabled if a notification script is
not specified. </p>
<h2 class="title Subheading sectiontitle">Check Point</h2><p class="p">A check point event occurs when a specified
operation is not finished within a specified time. To enable this
event, you must specify the CHECK argument for the JOB BUDGET statement in
the job configuration file. </p>
<p class="p">The format for this statement and argument
is:</p>
<p class="p">JOB BUDGET CHECK:<span class="keyword ParameterName RequiredReplaceable">operation_name</span>:<span class="keyword ParameterName RequiredReplaceable">check_time</span></p>
<h2 class="title Subheading sectiontitle">Estimation Exceed</h2><p class="p">An estimation exceed event occurs when the
estimated job duration exceeds the budget by more than the specified
exceed ratio. The exceed ratio is specified as a percentage by defining
the NOTIFICATION_EXCEED_RATIO argument for the calcm_tat_app.tcl
application. The default value for this argument is 0 which disables
the estimation exceed event. </p>
<p class="p">The argument NOTIFICATION_INTERVAL specifies
the minimum time interval, in minutes, that the notification event
occurs. The default value for this argument is 0 which causes a notification
event to be issued only once. </p>
<h2 class="title Subheading sectiontitle">Runtime Exceed</h2><p class="p">A runtime exceed event occurs when the actual
job duration exceeds the total budget by more than the specified
exceed ratio. The exceed ratio is specified as a percentage by defining
the NOTIFICATION_EXCEED_RATIO argument for the calcm_tat_app.tcl
application. The default value is 0 which disables the runtime exceed
event. </p>
<h2 class="title Subheading sectiontitle">Exit Status</h2><p class="p">A job exit status is sent to CalCM when a job
finishes. An exit status of “0” indicates the job finished without
any errors. The exit status can be controlled by defining the NOTIFICATION_ESTATUS
argument for the calcm_tat_app.tcl application. The default value is
0 which enables an “exit status” event when the exit status is not
“0.”</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CalcmConcepts_id26e18eff.html" title="This section discusses several core concepts related to running CalCM.">CalCM Concepts</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Concept_CalcmTatWorkflow_id6082708c.html" title="This section identifies the workflow for setting up and running the TAT application with CalCM. Each block in the workflow is a link to a procedure in this chapter.">CalCM TAT Workflow</a></div>
<div><a class="link" href="../topics/Command_JobBudget_idf9bca40a.html#idf9bca40a-21df-4c28-831f-838bc3c75202__" title="Specifies a budget time for operations.">JOB BUDGET</a></div>
<div><a class="link" href="../topics/Command_JobPriority_ida81d8663.html#ida81d8663-91f5-413f-b693-b242812f756b__" title="Specifies a priority for a Calibre job.">JOB PRIORITY</a></div>
<div><a class="link" href="../topics/Command_JobTatPriorityBump_id577a7642.html#id577a7642-79ff-4c62-b420-84037affb732__" title="Specifies a new priority bump for job.">JOB TAT_PRIORITY_BUMP</a></div>
<div><a class="link" href="../topics/Command_SetPriorityBump_id81074b4f.html#id81074b4f-a4b8-4be5-84a9-94a87a3426e0__" title="Sets or changes the priority for the specified job.">set_priority_bump</a></div>
<div><a class="link" href="../topics/Command_CalcmTatAppTcl_idaa57a8e6.html#idaa57a8e6-273c-4474-bd51-dff3b4f099b5__" title="Controls the job turn-around time (or TAT) by sending a remote count request to the resource monitor application. Job budget time is specified in the job configuration file. The CalCM TAT application supports increasing the priority when the duration of a job is expected to exceed the budget.">calcm_tat_app.tcl</a></div>
<div><a class="link" href="../topics/TaskTop_UsingNotificationsTatApplication_id4cad3001.html#id4cad3001-9aea-4e6c-9473-a4783fb4cc88__" title="In the following procedure, you configure TAT to support the notification of runtime events.">Using Notifications with the TAT Application</a></div></div>
</div></div>
<div class="fn"><a name="fntarg_1" href="#fnsrc_1"><sup>1</sup></a>  The progress meter is used to monitor the
progress of the LITHO operations in a run. This feature provides metrics
for analysis and projection of runtime. There is a small (1%) performance
penalty when using this feature.</div></div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_cm_user"
                DocTitle = "Calibre® Cluster Manager (CalCM) User’s Manual"
                PageTitle = "CalCM TAT"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CalcmTat_iddf90a912.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Cluster Manager (CalCM) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>