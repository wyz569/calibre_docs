<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Preparing for CalCM Daemon Migration" />
<meta name="abstract" content="There exists a handful of actions that you must perform prior to migrating the CalCM daemon to a different Calibre version." />
<meta name="description" content="There exists a handful of actions that you must perform prior to migrating the CalCM daemon to a different Calibre version." />
<meta name="prodname" content="Calibre Cluster Manager (CalCM) User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_cm_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Cluster Manager (CalCM) User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.1" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id6207746b-2e26-4bf1-95ef-17f6778ba596" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Preparing for CalCM Daemon Migration</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Preparing for CalCM Daemon Migration" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.sys,product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id6207746b-2e26-4bf1-95ef-17f6778ba596">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Preparing for CalCM Daemon Migration</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">There exists
a handful of actions that you must perform prior to migrating the
CalCM daemon to a different Calibre version.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idf59bccc4-fbd5-4139-840e-6761f7e5b6dd"><span class="ph cmd">Begin by making an official
request for a non-production cluster for CalCM migration testing.</span><ol type="a" class="ol substeps"><li class="li substep" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id52972b48-7a1b-4820-94b6-f7f9738ccebd"><span class="ph cmd">Request
an isolated, exclusively reserved cluster (&gt;= 2 1 primary, &gt;= 200
30 remotes).</span><div class="itemgroup info SubStepInfo"><ol class="ol" type="i"><li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id3fc8f735-3c92-4e17-b4c0-f7123527397f"><p class="p">Hardware
and network specifications should be comparable to the production CalCM
environment.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Be sure
that no other users are allowed to use any of the remotes or primaries
in parallel while the migration process is underway.</p>
</div>
</li>
</ol>
</div></li>
<li class="li substep" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idf41bda7a-e970-46be-ab58-bc8630000543"><span class="ph cmd">Recommend cluster reservation
(2 weeks).</span><div class="itemgroup info SubStepInfo"><ol class="ol" type="i"><li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id114ebbc4-64e7-47b0-a070-32e3aef96daf"><p class="p">Time
frame can vary and may need to be negotiated for more or less time.</p>
</li>
<li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idb16cb1a5-3639-42f8-a93c-7969bdd605cd"><p class="p">Time
dependencies for the migration are typically a direct function of
the acceptance criteria and testing time.</p>
</li>
<li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id3967cabf-4e7d-4764-a545-f96bc5558921"><p class="p">With
an experienced CalCM user and no testing, the migration process
could be scripted and performed in under an hour.</p>
</li>
</ol>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id1493ffda-ac4f-4060-a0d7-ca5b797e22b6"><span class="ph cmd">Make a copy of the production
CALCM_HOME directory to a temporary location for testing. For example:</span><div class="itemgroup info StepInfo"><pre class="pre ShellCommand">	% setenv CALCM_HOME ./home
	% mkdir -p ./tmp
	% cp -r $CALCM_HOME ./tmp</pre>
</div><ol type="a" class="ol substeps"><li class="li substep" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idd0bc9554-73a8-4c50-9a27-8fdde455066e"><span class="ph cmd">Verify the temporary location
contains all of the necessary files (for example, databases, applications,
configuration files, and log files) and the directory structure that
CalCM requires during startup as shown in <a class="xref fm:Figure" href="#id6207746b-2e26-4bf1-95ef-17f6778ba596__idabc9845b-195b-462d-b250-c811f4cfdf82">Figure 1</a>.</span><div class="itemgroup info SubStepInfo"><div class="fig fignone" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idabc9845b-195b-462d-b250-c811f4cfdf82"><span class="figcap"><span class="fig--title-label">Figure 1. </span>CalCM Files Needed
for the Migration</span><br /><div class="imagecenter"><img class="image imagecenter" height="355" src="../graphics/calcm_button.png" width="451" /></div><br /></div>
</div></li>
<li class="li substep" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id32e2fccc-1f17-4898-a538-7032825903dc"><span class="ph cmd">CALCM_HOME should originally
point to the directory from which the production CalCM daemon was
initially launched. This directory contains subdirectories like <span class="ph filepath">app</span>, <span class="ph filepath">jobqueue</span>,
and <span class="ph filepath">public_html</span>.</span><div class="itemgroup info SubStepInfo"><div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">Be sure to copy and
not move the directory as this will cause the production CalCM daemon
to stop functioning correctly.</p>
</div>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id5e0d6b0c-a2cd-432b-9147-6bb4aae9f413"><span class="ph cmd">Unpack and install the new
Calibre version for which the CalCM daemon is slated to be started
with.</span></li>
<li class="li step stepexpand" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id4b912ca1-bda9-4c33-b33f-2acba885ec25"><span class="ph cmd">Once Calibre is available,
copy the release applications from the new MGC_HOME tree into the <span class="ph filepath">app</span> directory.</span><div class="itemgroup info StepInfo"><div class="note note"><span class="notetitle">Note:</span> <p class="p">If non-released applications
exist, remove them from the <span class="ph filepath">app</span> directory first,
before performing this step. After the release applications have
been copied into the <span class="ph filepath">app</span> directory, then move
back the non-release applications.</p>
</div>
<pre class="pre ShellCommand">	% rm $CALCM_HOME/app/*					// removes the old copies of applications
	% cp $MGC_HOME/pkgs/icv_calcm/tcl/* $CALCM_HOME/app/.</pre>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">This
directive assumes that the <span class="ph filepath">calcmd.conf</span> file
contains the absolute paths to the local application files in the
application directory (<span class="ph filepath">./app</span>) which are passed
as the primary argument to the APPLICATION TCL statements.</p>
</div>
</div></li>
<li class="li step stepexpand" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id685b8ab6-281f-4865-865c-3d2f30d44a9a"><span class="ph cmd">Make any changes to the configuration
files as required by the new CalCM version.</span><ol type="a" class="ol substeps"><li class="li substep" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id00612fba-aa0b-41fb-b947-f3cd50279c97"><span class="ph cmd">For some releases, new release
applications may become mandatory to use. In doing so, the <span class="ph filepath">./conf/calcmd.conf</span> file
should be updated to reflect the necessary changes.</span></li>
<li class="li substep" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idca61390c-51db-47ae-9b49-77100e162d6e"><span class="ph cmd">For some releases, applications
may be updated such that they have a new option or may require a
new argument to be provided. In doing so, the <span class="ph filepath">./conf/calcmd.conf</span> file should
be updated to reflect the necessary changes.</span></li>
</ol>
</li>
<li class="li step stepexpand" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id11c1d2d6-0589-4b76-8c35-ec387f12c2a1"><span class="ph cmd">Collect three or more test
cases that can be used for qualification of CalCM overtime (not
just for testing a single CalCM release). Criteria for the tests:</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id2a4af18b-c1c2-46e1-9eaa-c5d664d28575"><p class="p">Each Calibre job must be
run in Calibre MTflex mode (estimated time to completion of &gt;=1
hour). </p>
</li>
<li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id0635b223-4f10-437a-bb65-46d18ef7ccd0"><p class="p">Preferred Calibre products
to test are Calibre nmOPC, Calibre OPCverify, and Calibre MDP.</p>
</li>
<li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__idb9c1507a-dce8-44d9-b18c-d43ff562535d"><p class="p">Always run on the same
client Calibre version.</p>
</li>
<li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id6e803c5c-b229-4329-8fad-6aa2a4f58b82"><p class="p">Note: Except for the first
time running the test, do not use the CalCM daemon version of Calibre
as overtime, as it will always be newer than the test cases.</p>
</li>
<li class="li" id="id6207746b-2e26-4bf1-95ef-17f6778ba596__id79a7b12c-d6cd-40a9-a15a-d6bc66a2af2e"><p class="p">Optional. Run one test
with Hyperscaling.</p>
</li>
</ul>
</div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MigrationTasks_id87a0f28d.html" title="The section includes the tasks that are required to successfully migrate the CalCM Daemon to a new release of Calibre. These tasks should be performed in the order listed.">Migration Tasks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_cm_user"
                DocTitle = "Calibre® Cluster Manager (CalCM) User’s Manual"
                PageTitle = "Preparing for CalCM Daemon Migration"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_PreparingCalcmDaemonMigration_id6207746b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Cluster Manager (CalCM) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>