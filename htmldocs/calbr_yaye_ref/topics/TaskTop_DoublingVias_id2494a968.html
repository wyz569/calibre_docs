<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Doubling Vias" />
<meta name="abstract" content="The DFM Transition operation improves transitions by doubling vias where ever possible, thereby building redundancy into the design." />
<meta name="description" content="The DFM Transition operation improves transitions by doubling vias where ever possible, thereby building redundancy into the design." />
<meta name="prodname" content="Calibre YieldAnalyzer and YieldEnhancer User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_yaye_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="15" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 24, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2494a968-3623-44c9-af27-c5dcad8e450e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Doubling Vias</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Doubling Vias" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id2494a968-3623-44c9-af27-c5dcad8e450e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Doubling Vias</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The DFM Transition
operation improves transitions by doubling vias where ever possible,
thereby building redundancy into the design. </p>
<p class="p">The DFM Transition operation can also insert rectangular vias
that cover the original vias. See the complete usage syntax with
examples for <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Transition', 'svrf_ur'); return false;">DFM Transition</a> in
the <cite class="cite">Standard Verification Rule Format (SVRF) Manual</cite>.</p>
<p class="p"> </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id55111e83-1c05-4eb8-8535-c11b7b960c23" class="table" frame="hsides" border="1" rules="cols"><colgroup><col style="width:1.081in" /><col style="width:5.419in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p">    <span class="ph FontProperty HeadingLabel">Try It!</span> </p>
<br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/try_it_note.png" /></div><br /></td>
<td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p"><span class="ph FontProperty HeadingLabel">Calibre YieldEnhancer Via Tutorial and Example Kit</span></p>
<p class="p">Run the Calibre YieldEnhancer via enhancement flow. This flow
is used to increase design robustness and reduce yield loss by improving
the via transitions as part of the Calibre design for manufacturability
(DFM) methodology. In the procedures, you use via doubling to insert
second vias into a design and then you review the updated layout.</p>
<p class="p">Go to <a class="xref" href="http://supportnet.mentor.com/infohub.cfm?infohub=dfm_ih&amp;link=cal_ekit_DFM" target="_blank">this page</a> on
Support Center to download the eKit (Documentation tab, Document
Types=Getting Started Guide). The link goes to the latest release.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id1f86e5d6-9474-4ae2-b2e3-882000a9f447"><p class="p">Connectivity
is defined for your layout. If not, refer to “<a class="xref fm:HeadingAndPage" href="TaskTop_DefiningConnectivity_idd85f7e4d.html#idd85f7e4d-b4c0-4f3d-9b74-794f23d8d3ac__TaskTop_DefiningConnectivity_idd85f7e4d.xml#idd85f7e4d-b4c0-4f3d-9b74-794f23d8d3ac" title="One of the primary differences between Calibre nmDRC checks and DFM checks is that some of the DFM operations are node-aware.">Defining Connectivity</a>”.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id08536020-2d68-4122-bac4-376a4b85b709"><span class="ph cmd">Make sure your DFM rule file
includes the following statements and operations required for accessing
connectivity data in the annotated GDS file:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>DRC CELL TEXT YES
LAYOUT PROPERTY TEXT 126
TEXT LAYER 40</code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">Note that this step is needed only if you have an annotated
GDS file and intend on back‑annotating your changes.</p>
</div>
</div></li>
<li class="li step stepexpand" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id35f7c708-d22c-422b-9209-03fd0dfc6042"><span class="ph cmd">Define incremental connectivity
(order‑dependent) between the layers:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>DRC INCREMENTAL CONNECT YES
CONNECT M1 M2 BY VIA1
CONNECT M2 M3 BY VIA2
CONNECT M3 M4 BY VIA3
CONNECT M4 M5 BY VIA4
…</code></pre></div></li>
<li class="li step stepexpand" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id5a90bd14-0dd7-4d17-a908-99f1b4516837"><span class="ph cmd">Define
the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Spec Via', 'svrf_ur'); return false;">DFM Spec Via</a> statements
to be used by DFM Transition USEVIAS. </span><div class="itemgroup info StepInfo"><p class="p">Via shapes can be square or rectangular, and for some
layers, both square and rectangular via shapes are defined. DFM
Transition uses the DOUBLEVIAS mode for square vias and the COVERVIAS
mode for rectangular vias. For example, the following statements
specify both square and rectangular via shapes in user units:</p>
</div><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>
// Square via
DFM SPEC VIA VIA1.EN.1sq
  VIASHAPE .065
  ENC1 .035 0
  ENC2 .035 0

// Square via
DFM SPEC VIA VIA1.EN.2sq
  VIASHAPE .065
  ENC1 .016
  ENC2 .016

//Rectangular via
DFM SPEC VIA VIA1.EN.1re
  VIASHAPE .130 .065
  ENC1 .035 0
  ENC2 .035 0
…</code></pre></div></li>
<li class="li step stepexpand" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id1abb4e3c-55ea-4662-abcd-d3b1d7198965"><span class="ph cmd">Specify the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Transition', 'svrf_ur'); return false;">DFM Transition</a> operations
used to generate the transition data. </span><div class="itemgroup info StepInfo"><p class="p">In order to do DRC filtering and shorts avoidance,
you must specify three invocations of DFM Transition for the <span class="ph FontProperty emphasis">same</span> via layer,
one for the below metal layer, one for the above metal layer, and
one for the via. The three invocations of DFM Transition are processed
concurrently. The results of the output (specified by OUTPUT1, OUTPUT2,
OUTPUT3) are three derived layers that can be used for the necessary
DRC checking between the processing of each via layer. Three invocations
of DFM Transition are shown in the following statements:</p>
</div><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>trans_M1 = DFM TRANSITION M1 M2 VIA1
         // Specify VIA names
         USEVIAS VIA1.EN.1sq VIA1.EN.2sq
         // M1 and M2 spacing
         SPACE1 0.065 METALSPACE 0.1 0 0.090 ENDTOEND 0.09 (-0.02)\
 	              0.08 ENDTOLINE 0.09 (-0.02) 0.08
         SPACE2 0.075 METALSPACE 0.1 0 0.090 ENDTOEND 0.09 (-0.02)\
 	              0.08 ENDTOLINE 0.09 (-0.02) 0.08
         // VIA1 spacing
         SPACE3  0.065 EUCLIDIAN 0.075 DBLSPACE 0.075
         // M1 and M2 jog constraint
         MINEDGE1 0.0325
         MINEDGE2 0.0325
         // Via layer enclosure (VIA1-1 and VIA1+1)
         VIAENC1 VIA0 GOOD 0.035 0 0.035 0
         VIAENC2 VIA2 GOOD 0.035 0 0.035 0
         // M1 and M2 minimum enclosed area
         MINENCAREA1 0.16 MOVE
         MINENCAREA2 0.16 MOVE
         // Output only the paired via shape
         NODUPLICATE
         // Double square vias
         DOUBLEVIAS
         // Generate output from M1
         OUTPUT1
</code></pre><pre class="pre codeblock"><code>trans_M2 = DFM TRANSITION M1 M2 VIA1
         // Specify VIA names
         USEVIAS VIA1.EN.1sq VIA1.EN.2sq
         // M1 and M2 spacing
         SPACE1 0.065 METALSPACE 0.1 0 0.090 ENDTOEND 0.09 (-0.02)\
 	              0.08 ENDTOLINE 0.09 (-0.02) 0.08
         SPACE2 0.075 METALSPACE 0.1 0 0.090 ENDTOEND 0.09 (-0.02)\
 	              0.08 ENDTOLINE 0.09 (-0.02) 0.08
         // VIA1 spacing
         SPACE3  0.065 EUCLIDIAN 0.075 DBLSPACE 0.075
         // M1 and M2 jog constraint
         MINEDGE1 0.0325
         MINEDGE2 0.0325
         // Via layer enclosure (VIA1-1 and VIA1+1)
         VIAENC1 VIA0 GOOD 0.035 0 0.035 0
         VIAENC2 VIA2 GOOD 0.035 0 0.035 0
         // M1 and M2 minimum enclosed area
         MINENCAREA1 0.16 MOVE
         MINENCAREA2 0.16 MOVE
         // Output only the paired via shape
         NODUPLICATE
         // Double square vias
         DOUBLEVIAS
         // Generate output from M2
         OUTPUT2
</code></pre><pre class="pre codeblock"><code>trans_VIA1 = DFM TRANSITION M1 M2 VIA1
         // Specify VIA names
         USEVIAS VIA1.EN.1sq VIA1.EN.2sq
         // M1 and M2 spacing
         SPACE1 0.065 METALSPACE 0.1 0 0.090 ENDTOEND 0.09 (-0.02)\
 	              0.08 ENDTOLINE 0.09 (-0.02) 0.08
         SPACE2 0.075 METALSPACE 0.1 0 0.090 ENDTOEND 0.09 (-0.02)\
 	              0.08 ENDTOLINE 0.09 (-0.02) 0.08
         // VIA1 spacing
         SPACE3  0.065 EUCLIDIAN 0.075 DBLSPACE 0.075
         // M1 and M2 jog constraint
         MINEDGE1 0.0325
         MINEDGE2 0.0325
         // Via layer enclosure (VIA1-1 and VIA1+1)
         VIAENC1 VIA0 GOOD 0.035 0 0.035 0
         VIAENC2 VIA2 GOOD 0.035 0 0.035 0
         // M1 and M2 minimum enclosed area
         MINENCAREA1 0.16 MOVE
         MINENCAREA2 0.16 MOVE
         // Output only the paired via shape
         NODUPLICATE
         // Double square vias
         DOUBLEVIAS
         // Generate output from VIA1
         OUTPUT3
</code></pre><div class="note note" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id017bf634-1edd-4d0e-9a11-6a744eda7e7f"><span class="notetitle">Note:</span> <p class="p">DRC filtering
is done here in a production rule deck. DRC filtering must be done
on each layer before the next layer is done. For DRC filtering,
the original shapes and the new shapes are merged to temporary layers,
then DRC is run. Any new shapes interacting with error shapes are
discarded. The resulting clean shapes are merged into the design
and the vias are inserted in layer stack order.</p>
</div>
</div></li>
<li class="li step stepexpand" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id733d6678-8c1f-45c9-9c27-faafc94592ff"><span class="ph cmd">Shorts can be created when
the same layer is used in multiple DFM Transition operations without
DRC filtering and merging. In the following example, metal2 is used
in two DFM Transition operations to create trans_M2.1 and trans_M2.2. Since
each operation uses metal2 independently, shorts can appear in areas
of overlap when the result layers are OR’d together.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>trans_M2.1 = DFM TRANSITION metal1 metal2 via1
	...
trans_M2.2 = DFM TRANSITION metal2 metal3 via2
	...
trans_M2 = trans_M2.1 OR trans_M2.2</code></pre></div></li>
<li class="li step stepexpand" id="id2494a968-3623-44c9-af27-c5dcad8e450e__id7a105c4d-1769-4f12-a6d0-f27dc4cfdc51"><span class="ph cmd">To avoid this situation, first
OR trans_M2.1 with metal2, then use the resultant layer as an input
to the second DFM TRANSITION operation:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>trans_M2.1 = DFM TRANSITION metal1 metal2 via1
	...
trans_M2.2 = trans_m2.1 OR metal2
trans_M2 = trans_M2.2 metal3 via2</code></pre></div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_WritingRuleDecksAutomaticLayoutEnhancement_id50245504.html" title="Calibre YieldEnhancer provides operations that make automatic modifications to your design. You can learn how to use these operations to perform certain design tasks.">Writing Rule Decks For Automatic Layout Enhancement</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_yaye_ref"
                DocTitle = "Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual"
                PageTitle = "Doubling Vias"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_DoublingVias_id2494a968.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>