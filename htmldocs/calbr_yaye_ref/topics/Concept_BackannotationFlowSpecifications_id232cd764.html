<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Backannotation Flow Specifications" />
<meta name="abstract" content="The via backannotation flow provides the capability to output vias generated by the Calibre YieldEnhancer PowerVia flow in incremental Design Exchange Format (DEF)." />
<meta name="description" content="The via backannotation flow provides the capability to output vias generated by the Calibre YieldEnhancer PowerVia flow in incremental Design Exchange Format (DEF)." />
<meta name="prodname" content="Calibre YieldAnalyzer and YieldEnhancer User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_yaye_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="15" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 24, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id232cd764-9b69-4cb0-a098-4fabfc695ed8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Backannotation Flow Specifications</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Backannotation Flow Specifications" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id232cd764-9b69-4cb0-a098-4fabfc695ed8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Backannotation Flow Specifications</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The via backannotation flow provides
the capability to output vias generated by the Calibre YieldEnhancer
PowerVia flow in incremental Design Exchange Format (DEF). </span>
</div>
<p class="p">The generated incremental DEF
file is an ASCII editable file that can be used to backannotate the
added via enhancements into your original design database using
specific syntax.</p>
<p class="p">To run the backannotation flow, set the required and optional
variables and execute the <a class="xref fm:HeadingOnly" href="Command_Powervia_id05e59fb6.html#id05e59fb6-1aae-488a-ad2f-e3253f7c1222__Command_Powervia_id05e59fb6.xml#id05e59fb6-1aae-488a-ad2f-e3253f7c1222" title="Adds additional vias to specified nets in a design and outputs an updated via database in GDSII or OASIS format.">powervia</a> command
line arguments. This generates an incremental DEF file in the output directory
of the Calibre YieldEnhancer PowerVia run. The incremental DEF file
can then be imported with the original design database in a layout‑viewer
tool. Further analysis can be done on the database with the inserted
vias, such as timing and power analysis.</p>
<p class="p">The following is the list of variables and Tcl
procedures used in the backannotation flow. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">See “<a class="xref fm:HeadingAndPage" href="General_PowerviaVariables_id4d390a44.html#id4d390a44-b67c-4503-84de-30ec29779c9f__General_PowerviaVariables_id4d390a44.xml#id4d390a44-b67c-4503-84de-30ec29779c9f" title="The powervia utility uses certain variable specifications for running the Calibre YieldEnhancer PowerVia flow">powervia Variables</a>” and “<a class="xref fm:HeadingAndPage" href="Concept_CalibreYieldEnhancerPowerViaTechlibtclFileSpecifications_id6d1b6ba5.html#id6d1b6ba5-bdc7-4ea5-9479-1d2e22334f69__Concept_CalibreYieldEnhancerPowerViaTechlibtclFileSpecifications_id6d1b6ba5.xml#id6d1b6ba5-bdc7-4ea5-9479-1d2e22334f69" title="The techlib.tcl file contains configuration information for running the Calibre YieldEnhancer PowerVia flow.">Calibre YieldEnhancer PowerVia techlib.tcl File Specifications</a>” for complete
descriptions and usage information for the variables and Tcl procedures
used in the Calibre YieldEnhancer PowerVia flow.</p>
</div>
<p class="p">Variables used in the backannotation flow:</p>
<ul class="ul"><li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__idf7bcc7f5-f77c-46c8-9eae-58363868d32c"><p class="p">RUN_DEF_BA <span class="keyword ParameterName OptionalReplaceable">flag</span> —
(Required) Enables the backannotation flow (YES or NO). </p>
</li>
<li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__id0c283d46-31f7-47dd-b981-4ec3f1491273"><p class="p">DEF_DESIGN <span class="keyword ParameterName OptionalReplaceable">design_name</span> —
(Optional) By default, the design name is set to <span class="ph FontProperty emphasis">primary</span>,
which is a cell name specified in LAYOUT PRIMARY.</p>
</li>
<li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__id1a2cfb2a-056d-43c1-8326-d64051e42bb6"><p class="p">DEF_FILE <span class="keyword ParameterName OptionalReplaceable">file_name</span> —
(Optional) Sets an incremental DEF file name. Default is <span class="ph filepath">incremental_&lt;primary&gt;.def</span>.</p>
</li>
<li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__idde51b94f-83b9-491b-b027-0a2863f9424c"><p class="p">DEF_VERSION <span class="keyword ParameterName OptionalReplaceable">ver_num</span> —
(Optional) Sets an incremental DEF version. Default is 5.8.</p>
</li>
</ul>
<p class="p">Tcl procedures used in the backannotation flow:</p>
<ul class="ul"><li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__idb3540e6e-c10c-46fe-b260-3f11b287491c"><p class="p">proc via_name_in_DEF
{via} {} — (Optional) Modifies a via name in the DEF.</p>
</li>
<li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__idbdc641de-5cc2-403c-b74a-b94670671b1b"><p class="p">proc get_def_layer_name
{layername} {} — (Optional) Enables setting of metal and via layer
names in DEF.</p>
</li>
<li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__id32671a8c-6457-4b3d-a5ab-8bc3e0a67bde"><p class="p">proc set_def_net_type
{netname} — (Optional) Specifies a net type for the given net name.</p>
</li>
</ul>
<p class="p">The incremental DEF file conforms to standard DEF syntax. You
can edit the statements in the file to create via and net updates
for your design by using this syntax. For example, you can define
a via cell in the “Vias” section of the file as “VIAS <span class="keyword ParameterName OptionalReplaceable">number</span>”,
where <span class="keyword ParameterName OptionalReplaceable">number</span> is
the count of the via cells in that section:</p>
<pre class="pre codeblock"><code>VERSION 5.8 ;
DESIGN TOPCELL ;
UNITS DISTANCE MICRONS 2000 ;
VIAS 1 ;
- YE_VIA1 
+ RECT M1 ( -20 -20 ) ( 20 20 )
+ RECT VIA1 ( -20 -20 ) ( 20 20 )
+ RECT M2 ( -20 -20 ) ( 20 20 ) ;
 END VIAS</code></pre><p class="p">The default name of the created via cell is YE_<span class="keyword ParameterName OptionalReplaceable">via</span>.
If the Tcl procedure “via_name_in_DEF” is defined, then the returned
name from the procedure is used instead of YE_<span class="keyword ParameterName OptionalReplaceable">via</span>.</p>
<p class="p">RECT statements for via cell layers M1, VIA1, and M2 specify
the lower‑metal, via, and upper‑ metal layers, respectively. Terms
enclosed in parenthesis (‑<span class="keyword ParameterName OptionalReplaceable">w</span>/2
‑<span class="keyword ParameterName OptionalReplaceable">w</span>/2)
(<span class="keyword ParameterName OptionalReplaceable">w</span>/2 <span class="keyword ParameterName OptionalReplaceable">w</span>/2)
define the center origin of the via cell, where <span class="keyword ParameterName OptionalReplaceable">w</span> is
the width of the via in database units. </p>
<p class="p">After defining the via cell, you can reference it for placement
to a specific coordinate location in the SPECIALNETS section of
the incremental DEF file. The SPECIALNETS section defines the netlist
connectivity and special routes for nets containing special pins.
Special routes are normally used for power routing, fixed clock
nets, and clock‑mesh routing. For example, you can specify to place
the created via cell on net VDD in the SPECIALNETS section of the incremental
DEF file:</p>
<pre class="pre codeblock"><code>SPECIALNETS 1 ;
- VDD 
+ ROUTED M1 40 ( 1020 1020 ) YE_VIA1
+ USE POWER ;
END SPECIALNETS </code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">A via cell must already be created in the VIAS section
before it can be referenced in the SPECIALNETS section.</p>
</div>
<p class="p">The SPECIALNETS <span class="keyword ParameterName OptionalReplaceable">number</span> specifies
the count of the nets in this section. For example, to add a via
cell on net VDD, you specify “‑ VDD” and add the route on the lower‑metal
layer (ROUTED M1) followed by the route width (40 database units),
which is the same as the width of the via cell. The placement coordinates
for the via cell are midpoint on the net. Placement coordinates
(x1 y1) specify the location of the via origin followed by the via
cell name. </p>
<p class="p">You can also use the SPECIALNETS section for specifying the net
type (usage). For example, this syntax specifies VDD as a power
net:</p>
<pre class="pre codeblock"><code>SPECIALNETS 1 ; 
- VDD + ROUTED M1 40 ( 1020 1020 ) YE_VIA1
+ <span class="ph CodeHighlight Bold">USE POWER</span> ; 
END SPECIALNETS</code></pre><p class="p">The valid values for net type are “ANALOG”, “CLOCK”, “GROUND”,
“POWER”, “RESET”, “SCAN”, “SIGNAL”, and “TIEOFF”. If no net type
is specified, the default is “SIGNAL”. Specifying an invalid net
type generates an error and causes the tool to exit. </p>
<p class="p">Alternatively, you can also set the net type by one of the following
methods:</p>
<ul class="ul"><li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__id8212d189-3da1-4cbf-b1b9-398cf6e71618"><p class="p">In the <span class="ph filepath">techlib.tcl</span> file
Tcl procedure that sets the net type for DEF_BA in the backannotation
flow:</p>
<pre class="pre codeblock"><code>proc set_def_net_type {netname}</code></pre></li>
<li class="li" id="id232cd764-9b69-4cb0-a098-4fabfc695ed8__id2c6ed707-c58f-44a9-8047-546aa6d68591"><p class="p">In the nets
file specified by powervia command line options or a variable in
the <span class="ph filepath">techlib.tcl</span> file:</p>
<pre class="pre codeblock"><code>VDD POWER // type defined
CLK //type undefined</code></pre></li>
</ul>
<p class="p">The Tcl procedure and the nets file option cannot both be specified;
in this case, the Tcl procedure specifications are ignored. For
example, the net type for CLK defaults to net type SIGNAL, because
the nets file takes precedence:</p>
<p class="p">Nets file:</p>
<pre class="pre codeblock"><code>VDD POWER
CLK</code></pre><p class="p">Tcl proc:</p>
<pre class="pre codeblock"><code>proc set_def_net_type {netname} {
                           if {$netname == "CLK"} {return "CLOCK"}
                     }</code></pre></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreYieldEnhancerPowerViaFilesAndSpecifications_idddee2176.html" title="The files and specifications used in the flow depend on your foundry process and may vary from the examples in this section. See your Siemens EDA representative for assistance with customizing your inputs for the Calibre YieldEnhancer PowerVia flow.">Calibre YieldEnhancer PowerVia Files and Specifications</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_yaye_ref"
                DocTitle = "Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual"
                PageTitle = "Backannotation Flow Specifications"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_BackannotationFlowSpecifications_id232cd764.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>