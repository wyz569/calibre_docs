<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Preventing Empty Fill Areas" />
<meta name="abstract" content="In some cases the density of certain regions in a design already meets the density requirement when measured in large window, and as a result, no fill is added to such windows. This can cause areas with no fill, which should be avoided. There are two methods for preventing empty fill areas." />
<meta name="description" content="In some cases the density of certain regions in a design already meets the density requirement when measured in large window, and as a result, no fill is added to such windows. This can cause areas with no fill, which should be avoided. There are two methods for preventing empty fill areas." />
<meta name="prodname" content="Calibre YieldAnalyzer and YieldEnhancer User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_yaye_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="15" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 24, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idc9413b74-045c-4fad-a355-8e728e737790" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Preventing Empty Fill Areas</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Preventing Empty Fill Areas" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idc9413b74-045c-4fad-a355-8e728e737790">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Preventing Empty Fill Areas</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">In some cases
the density of certain regions in a design already meets the density
requirement when measured in large window, and as a result, no fill
is added to such windows. This can cause areas with no fill, which
should be avoided. There are two methods for preventing empty fill
areas.</span>
</div>
<p class="p">Suppose the combined fill
and metal2 density should be 25% or greater. In the following figure, windows
2 and 3 meet this requirement in the original design, which is shown
on the left. By default, no fill is added to these windows, as shown
on the right. The fill code is shown below the figure. In most designs
the large areas with no fill are undesirable despite meeting the density
constraint for the window. </p>
<div class="fig fignone" id="idc9413b74-045c-4fad-a355-8e728e737790__ide415873c-4596-4dcc-bc9a-9923db025ba8"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/Fill/fill_noempty_initial.png" /></div><br /></div>
<pre class="pre codeblock leveled"><code>// Fill with basic optimizer and no handling for empty fill regions
DFM SPEC FILL OPTIMIZER "OptBasic" metal2
    [ ( AREA(metal2) + AREA(_FILL_) ) / AREA() ] &gt;= 0.25
   
DFM SPEC FILL SHAPE "Sh1"
    RECTFILL 0 0 0.1 0.1 STEP 0.05 
    SPACE 0.05 metal2
    OPTIMIZER OptBasic

DFM SPEC FILL OPT_BASIC 
	WINDOW 2  
	RDB fill_basic.rdb  // for debug only, to report fill statistics
	FILLSHAPE OUTPUT m2 "Sh1"

m2fill_optbasic = DFM FILL OPT_BASIC</code></pre><p class="p">Suppose any empty region of equal to or larger
than an 0.5x0.5 user unit square should have at least one fill shape.
The are two methods for accomplishing this:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="idc9413b74-045c-4fad-a355-8e728e737790__idb690f580-cedc-49eb-9808-316404c0635b" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Methods to Prevent Empty Fill Areas</span></caption><colgroup><col style="width:2.937in" /><col style="width:3.563in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d27849e162"><p class="p">Method</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d27849e165"><p class="p">Comments</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d27849e162 "><p class="p">Method 1:</p>
<p class="p">Use the NOEMPTY keyword in DFM Spec Fill Optimizer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d27849e165 "><p class="p">Requires use of the TOMAX
keyword and a less than (&lt;) optimization limit. </p>
<p class="p">Simple to implement, but the final density may
be greater than the density limit in some windows. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d27849e162 "><p class="p">Method 2: </p>
<p class="p">Define a second fill shape with STEP, SPACE, and
SHAPESPACE settings that fill the empty regions as required. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d27849e165 "><p class="p">Requires a second fill
shape, but can be used with a greater than (&gt;) optimization limit. </p>
<p class="p">The second fill shape can be different than the
main fill shape. </p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section Subsections"><div class="section Subsection" id="idc9413b74-045c-4fad-a355-8e728e737790__id7d1ccc82-6761-4c29-af61-ffa17b1f0c86"><h2 class="title Subheading sectiontitle">Method 1: NOEMPTY and TOMAX in DFM Spec
Fill Optimizer</h2><p class="p">The NOEMPTY keyword in DFM Spec Fill Optimizer
defines a minimum empty area constraint. Fill shapes are added as
needed to satisfy the empty area constraint. When such fill shapes
are added to a window that already satisfies the TOMAX optimization
limit, the result exceeds the optimization limit. </p>
<pre class="pre codeblock"><code>// Method using NOEMPTY and TOMAX in DFM Spec Fill Optimizer 
VARIABLE m2_noempty_size 0.5 // Area bigger than 0.5x0.5 
                             // should not be empty
DFM SPEC FILL OPTIMIZER "OptNoempty" metal2
    [ ( AREA(metal2) + AREA(_FILL_) ) / AREA() ] <span class="ph CodeHighlight orange">&lt; 0.25 TOMAX</span> 
      <span class="ph CodeHighlight orange">NOEMPTY m2_noempty_size</span> 

DFM SPEC FILL SHAPE "Sh2"
    RECTFILL 0 0 0.1 0.1 STEP 0.05 
    SPACE 0.05 metal2
    <span class="ph CodeHighlight orange">OPTIMIZER OptNoempty</span>

DFM SPEC FILL OPT_NOEMPTY 
	WINDOW 2  
	RDB fill_noempty.rdb   // For debug only, to report fill statistics
	FILLSHAPE OUTPUT m2 "Sh2"

m2fill_optnoempty = DFM FILL OPT_NOEMPTY</code></pre><p class="p">The result is shown in the next figure. In windows
2 and 3, where fill was added to satisfy the NOEMPTY constraint,
the final density exceeds the maximum density constraint. </p>
<div class="fig fignone" id="idc9413b74-045c-4fad-a355-8e728e737790__ida9e54c75-61f9-47ee-bd63-795752013cf6"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Fill Results With NOEMPTY and TOMAX</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/Fill/fill_noempty_noempty.png" /></div><br /></div>
</div>
<div class="section Subsection" id="idc9413b74-045c-4fad-a355-8e728e737790__id0c0485b4-d793-481a-ba7c-ada17e923800"><h2 class="title Subheading sectiontitle">Method 2: Fill Shape for Empty Regions</h2><p class="p">This method adds fill to empty areas by defining
a second fill shape with STEP, SPACE, and SHAPESPACE settings that
insure the shape is only placed in empty areas of the given size
that remain after initial fill is placed. This is the definition
of the second fill shape:</p>
<pre class="pre codeblock"><code>VARIABLE m2_noempty_size 0.5 // Area bigger than 0.5x0.5 
                             // should not be empty
VARIABLE shape_size 0.1 
VARIABLE spacing (m2_noempty_size - shape_size) 

DFM SPEC FILL SHAPE "Empty_Regions"
	RECTFILL 0 0 shape_size shape_size 
	STEP spacing                 // Shape to shape spacing for current shape 
	SPACE spacing metal2       // Spacing to metal2 for current shape
	SHAPESPACE spacing spacing // Spacing to previous and later placed fill
	UPDATE "OptBasic"          // UPDATE is not needed for proper fill
                              // placement in this case, but it updates 
                              // the optimizer for RDB reporting.</code></pre><div class="fig fignone" id="idc9413b74-045c-4fad-a355-8e728e737790__id8e4594da-0dee-4510-86d0-55567f09c0f1"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/Fill/fill_noempty_shapes_explain.png" /></div><br /></div>
<p class="p">This is the complete fill code:</p>
<pre class="pre codeblock leveled"><code>VARIABLE m2_noempty_size 0.5 // Area bigger than 0.5x.05 
                             // should not be empty
VARIABLE shape_size 0.1 
VARIABLE spacing (m2_noempty_size - shape_size) </code></pre><pre class="pre codeblock leveled"><code>// basic fill shape and optimizer
DFM SPEC FILL OPTIMIZER "OptBasic" metal2
    [ ( AREA(metal2) + AREA(_FILL_) ) / AREA() ] &gt;= 0.25
   
DFM SPEC FILL SHAPE "Sh1"
    RECTFILL 0 0 shape_size shape_size
    STEP 0.05 
    SPACE 0.05 metal2
    OPTIMIZER OptBasic</code></pre><pre class="pre codeblock"><code>// second fill shape for empty regions
DFM SPEC FILL SHAPE "Empty_Regions"
	RECTFILL 0 0 shape_size shape_size 
	STEP spacing                 // Shape to shape spacing for current shape 
	SPACE spacing metal2       // Spacing to metal2 for current shape
	SHAPESPACE spacing spacing // Spacing to previous and later placed fill
	UPDATE "OptBasic"          // UPDATE is not need for proper fill
                              // placement in this case, but it updates 
                              // the optimizer for RDB reporting.</code></pre><pre class="pre codeblock"><code>DFM SPEC FILL OPT_BASIC_AND_EMPTY_FILL
	WINDOW 2  
	RDB fill_regions.rdb      // For debug only, to report fill statistics
	<span class="ph CodeHighlight orange">FILLSHAPE OUTPUT m2_density "Sh1"
	FILLSHAPE OUTPUT m2_regions "Empty_Regions"</span>
	REPEAT 1 EFFORT 2         // REPEAT and EFFORT improve fill placement
m2fill_density = DFM FILL OPT_BASIC_AND_EMPTY_FILL m2_density
m2fill_region = DFM FILL OPT_BASIC_AND_EMPTY_FILL m2_regions</code></pre><div class="fig fignone" id="idc9413b74-045c-4fad-a355-8e728e737790__id488e1b9a-8466-4e8e-9bbd-64d0d555e4e8"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Fill Results With Shape for Empty Regions</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/Fill/fill_noempty_shapes.png" /></div><br /></div>
<p class="p">The two fill shapes were output to different layers
for clarity in the example, but this is not necessary. To output
fill to one layer, use one DFM Fill operation:</p>
<pre class="pre codeblock"><code>m2fill_allregion = DFM FILL OPT_BASIC_AND_EMPTY_FILL</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_BasicFlow_idb83c6432.html" title="Adding fill to your layout using Calibre SmartFill begins with a DRC-clean layout and ends with a DRC-clean layout with fill.">Calibre SmartFill Flow</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_yaye_ref"
                DocTitle = "Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual"
                PageTitle = "Preventing Empty Fill Areas"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_PreventingEmptyFillAreas_idc9413b74.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>