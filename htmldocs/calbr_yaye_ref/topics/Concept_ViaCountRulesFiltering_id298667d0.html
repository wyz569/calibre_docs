<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Via Count Rules Filtering" />
<meta name="abstract" content="In certain technology flows, DRC rules are used to create filters for the vias that are inserted into the design. You can use the post‑filtering ability of the Calibre YieldEnhancer PowerVia flow to apply rule constraint options to check the minimum via count in a via array." />
<meta name="description" content="In certain technology flows, DRC rules are used to create filters for the vias that are inserted into the design. You can use the post‑filtering ability of the Calibre YieldEnhancer PowerVia flow to apply rule constraint options to check the minimum via count in a via array." />
<meta name="prodname" content="Calibre YieldAnalyzer and YieldEnhancer User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_yaye_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="15" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 24, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id298667d0-8055-4a5a-8a44-9b962d4edf4d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Via Count Rules Filtering</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Via Count Rules Filtering" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id298667d0-8055-4a5a-8a44-9b962d4edf4d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Via Count Rules Filtering</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">In certain technology flows, DRC rules
are used to create filters for the vias that are inserted into the
design. You can use the post‑filtering ability of the Calibre YieldEnhancer
PowerVia flow to apply rule constraint options to check the minimum
via count in a via array.</span>
</div>
<p class="p">There are two post-filtering options for checking
the minimum via count in arrays where vias have been inserted by
the powervia utility. The behavior of these options is such that
if the via count fails for an array, then only the inserted vias
in that array are removed, and the original vias remain. The via‑count
filter must be the last post‑filtering step among all other filters
in order to account for all vias present in the design.</p>
<p class="p">The two options for setting the via counts for post‑filtering
are as follows:</p>
<dl class="dl"><dt class="dt dlterm">Option 1: Set Via Counts in Via Variables</dt>
<dd class="dd"><p class="p">Specify the minimum via count in the via variables files
by setting a single value that serves as a global count constraint regardless
of the widths of the metal enclosure layers for the via.</p>
<p class="p">For technology flows that use the predefined via variables<span class="ph filepath"></span> file,
the following syntax applies:</p>
<pre class="pre codeblock"><code>VARIABLE <span class="ph FontProperty equationvariable">Via</span>_COUNT <span class="ph FontProperty equationvariable">value</span></code></pre><p class="p"><span class="ph FontProperty equationvariable">Via</span> is
a via in the predefined via variables<span class="ph filepath"></span> file,
and <span class="ph FontProperty equationvariable">value</span> is
a positive integer that is the minimum number of vias required within
a via array for that via.</p>
<p class="p">For example:</p>
<pre class="pre codeblock"><code>VARIABLE VIA1_COUNT 2
...
VARIABLE VIA8_COUNT 4
...</code></pre><p class="p">For technology flows that use the generated via variables file,
the following syntax applies:</p>
<pre class="pre codeblock"><code>VARIABLE <span class="ph FontProperty equationvariable">Vtype</span>_COUNT <span class="ph FontProperty equationvariable">value</span></code></pre><p class="p"><span class="ph FontProperty equationvariable">Vtype</span> is
the foundry notation for the via type corresponding to the via layer
number, and <span class="ph FontProperty equationvariable">value</span> is
a positive integer that is the minimum number of vias required within
a via array for a via of that type.</p>
<p class="p">For example:</p>
<pre class="pre codeblock"><code>VARIABLE Vy_COUNT 2</code></pre></dd>
<dt class="dt dlterm">Option 2: Set Via Counts in Techlib.tcl</dt>
<dd class="dd"><p class="p">Specify the minimum via count in the <span class="ph filepath">techlib.tcl</span> file
by providing a Tcl proc (proc count_for_wide_metal) that returns
a width‑dependent count for the upper and lower enclosure layers
for the via. Each via type has a different minimum count per metal
width and must be specified separately. For example:</p>
<pre class="pre codeblock"><code>proc count_for_wide_metal {via} {
	switch -exact $via {
	V1 {return  [list \
							"{10 20 2} \
							{20 30 4} \
							{30 6}" \
							"{10 20 2} \
							{20 30 4} \
							{30 7}" \
						]
		}
V2 {return  [list \
							"{10 20 2} \
							{20 30 4} \
							{30 8}" \
							"{10 20 2} \
							{20 30 4} \
							{30 9}" \
						]
		}
	}
}</code></pre><p class="p">The Tcl proc returns a list of two elements each enclosed by
quotation marks (“ ”). The first of these elements refers to the
lower enclosure layer (for example, M1 for V1), and the second refers
to the upper enclosure layer (for example, M2 for V1).</p>
<p class="p">For each of the two elements, there is a list of tuples. For
example, for V1 and M1, the list of tuples is as follows:</p>
<pre class="pre codeblock"><code>{10 20 2} {20 30 4} {30 6}</code></pre><p class="p">The first two values in a tuple define the width range for the
enclosure layer (in microns), and the last value is the via count.
The width range includes the beginning value but not the ending
value. If only one value is specified for the width range, the width
of the enclosure layer must be greater than or equal to this value.
For example:</p>
<pre class="pre codeblock"><code>{30 6}</code></pre><p class="p">In this tuple, the width of the enclosure layer must be &gt; = 30
microns, and “6” is the minimum count for the via in an array.</p>
</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If both via count options are specified, the first option
takes precedence over the second. If neither option is specified,
the minimum via count defaults to “1”, and no via‑count filtering
is applied. The options differ with respect to consideration of
width of the enclosure layers for the via.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ViaConstraints_ide67716dc.html" title="You can use certain specifications in the Calibre YieldEnhancer PowerVia flow to apply constraints, such as setting the lower layers in the via stack, defining the via‑to‑via spacing checks, and controlling the via counts in arrays.">Via Constraints</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_yaye_ref"
                DocTitle = "Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual"
                PageTitle = "Via Count Rules Filtering"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ViaCountRulesFiltering_id298667d0.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>