<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Spacing Between Vias" />
<meta name="abstract" content="The spacing checks between vias on neighboring (upper and lower) via layers in the Calibre YieldEnhancer PowerVia flow can be controlled by adding Tcl procedures to the techlib.tcl file and space constraints to the via variables files." />
<meta name="description" content="The spacing checks between vias on neighboring (upper and lower) via layers in the Calibre YieldEnhancer PowerVia flow can be controlled by adding Tcl procedures to the techlib.tcl file and space constraints to the via variables files." />
<meta name="prodname" content="Calibre YieldAnalyzer and YieldEnhancer User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_yaye_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="15" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 24, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id4bf128a5-f118-4641-a68f-949ae378e7fd" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Spacing Between Vias</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Spacing Between Vias" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id4bf128a5-f118-4641-a68f-949ae378e7fd">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Spacing Between Vias</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The spacing checks between vias on neighboring
(upper and lower) via layers in the Calibre YieldEnhancer PowerVia
flow can be controlled by adding Tcl procedures to the <span class="ph filepath">techlib.tcl</span> file and
space constraints to the via variables files.</span>
</div>
<p class="p">During via insertion, the powervia utility inserts
vias starting from the lower via layers and proceeding to the upper
via layers. The space constraints between these neighboring via
layers can be checked by adding the following statement to the <span class="ph filepath">techlib.tcl</span> file:</p>
<pre class="pre codeblock"><code>proc lower_via_space_constraint_needed</code></pre><p class="p">DRC spacing checks are performed for the following via pairs,
where V<span class="ph FontProperty equationvariable">x</span> denotes
the current via insertion layer:</p>
<ul class="ul"><li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__idca9e7709-8eeb-4010-b707-7750e42d27c1"><p class="p">V<span class="ph FontProperty equationvariable">x</span>,
V<span class="ph FontProperty equationvariable">x</span>-1_drawn_vias</p>
</li>
<li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__ida900e912-859d-427c-b2a5-5aee09ebb75f"><p class="p">V<span class="ph FontProperty equationvariable">x</span>,
V<span class="ph FontProperty equationvariable">x</span>-1_inserted_vias</p>
</li>
<li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__id8294a568-1082-404c-995a-65983a98462d"><p class="p">V<span class="ph FontProperty equationvariable">x</span>,
V<span class="ph FontProperty equationvariable">x</span>+1_drawn_vias</p>
</li>
</ul>
<p class="p">The Tcl procedure in the statement returns a list of via layers
for which spacing checks are needed. For example:</p>
<pre class="pre codeblock"><code>proc lower_via_space_constraint_needed {} {
	return "V1 V3 V5 V6"
}</code></pre><p class="p">If the statement is not added to the <span class="ph filepath">techlib.tcl</span> file,
no spacing checks between neighboring via layers are performed.</p>
<p class="p">Because the drawn vias have different types (BAR, LRG, and others)
that must also be checked, a second Tcl procedure must be specified
to include all the variations of via types for a particular via
layer. This procedure is specified by adding the following statement
to the <span class="ph filepath">techlib.tcl</span> file:</p>
<pre class="pre codeblock"><code>proc get_via_variations</code></pre><p class="p">For example:</p>
<pre class="pre codeblock"><code>proc get_via_variations {via} {
   if {  $via == "VIA1i" || $via == "VIA2i" } {return "$via"}
   return "$via ${via}BAR"
}</code></pre><p class="p">The spacing distance for each pair of via types is defined in
the via variables files depending on your technology flow.</p>
<p class="p">For technology flows that use the predefined via variables file,
the following syntax applies (specify one variable statement per
line):</p>
<pre class="pre codeblock"><code>VARIABLE &lt;UpperViaType&gt;_&lt;LowerViaType&gt;_SPACE &lt;distance_microns&gt;</code></pre><p class="p">For example, when adding V2, the space constraints are specified
as shown:</p>
<pre class="pre codeblock"><code>VARIABLE V2_V1_SPACE 0.2
VARIABLE V2_V1BAR_SPACE 0.2
VARIABLE V2_V1LRG_SPACE 0.2
VARIABLE V3_V2_SPACE 0.3
VARIABLE V3BAR_V2_SPACE 0.3
VARIABLE V3LRG_V2_SPACE 0.3
…</code></pre><p class="p">For technology flows that use the generated via variables file,
the following syntax applies (specify one variable statement per
line): </p>
<pre class="pre codeblock"><code>VARIABLE &lt;UpperLayerType&gt;[via_variation]_&lt;LowerLayerType&gt;[via_variation]_LOWER_SPACE &lt;distance_microns&gt;</code></pre><p class="p">When specifying the LOWER_SPACE constraint, use the following
format in the via variables file:</p>
<ul class="ul"><li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__ida2961632-4681-4b1f-b477-3c95fb88280d"><p class="p">VARIABLE
V<span class="keyword ParameterName OptionalReplaceable">xb</span>_V<span class="keyword ParameterName OptionalReplaceable">x</span>_LOWER_SPACE
— Spacing to use when the upper layer is V<span class="keyword ParameterName OptionalReplaceable">xb</span> and
the lower layer is V<span class="keyword ParameterName OptionalReplaceable">x</span>.</p>
</li>
<li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__id7f666c47-ea0f-4617-b5f5-65b9909eb065"><p class="p">VARIABLE V<span class="keyword ParameterName OptionalReplaceable">xb</span>_V<span class="keyword ParameterName OptionalReplaceable">xb</span>_LOWER_SPACE
— Spacing to use when the upper layer is V<span class="keyword ParameterName OptionalReplaceable">xb</span> and
the lower layer is V<span class="keyword ParameterName OptionalReplaceable">xb</span>.</p>
</li>
</ul>
<p class="p">For example, when adding V2, with via layer types V2 = Vx, V1
= Vx, and V3 = Vy, the space constraints are specified as shown:</p>
<pre class="pre codeblock"><code>VARIABLE Vx_Vx_LOWER_SPACE 0.2
VARIABLE Vx_VxBAR_LOWER_SPACE 0.2
VARIABLE Vx_VxLRG_LOWER_SPACE 0.3
        
VARIABLE Vy_Vx_LOWER_SPACE 0.4
VARIABLE VyBAR_Vx_LOWER_SPACE 0.4
VARIABLE VyLRG_Vx_LOWER_SPACE 0.4
…</code></pre><p class="p">When specifying V<span class="keyword ParameterName OptionalReplaceable">xb</span> space
constraints and V<span class="keyword ParameterName OptionalReplaceable">xb</span>BAR
and V<span class="keyword ParameterName OptionalReplaceable">xb</span>LRG
via variations, use the following format in the via variables file:</p>
<ul class="ul"><li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__idc46a6aaf-a3de-4533-a555-ab91897b0c88"><p class="p">V<span class="keyword ParameterName OptionalReplaceable">xb</span>_V<span class="keyword ParameterName OptionalReplaceable">xb</span>BAR_SPACE
— Specifies the space between square V<span class="keyword ParameterName OptionalReplaceable">xb</span> and
bar via V<span class="keyword ParameterName OptionalReplaceable">xb</span> (provided
that V<span class="keyword ParameterName OptionalReplaceable">xb</span>BAR
is defined in “proc get_via_variation” in the <span class="ph filepath">techlib.tcl</span> file).</p>
</li>
<li class="li" id="id4bf128a5-f118-4641-a68f-949ae378e7fd__idfe1163a7-89d2-4e24-864f-fcddf3b0d84f"><p class="p">V<span class="keyword ParameterName OptionalReplaceable">xb</span>_V<span class="keyword ParameterName OptionalReplaceable">xb</span>LRG_SPACE
— Specifies the space between V<span class="keyword ParameterName OptionalReplaceable">xb</span> and
large‑square via V<span class="keyword ParameterName OptionalReplaceable">xb</span> (provided
that V<span class="keyword ParameterName OptionalReplaceable">xb</span>LRG
is defined in “proc get_via_variation” in the <span class="ph filepath">techlib.tcl</span> file).</p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ViaConstraints_ide67716dc.html" title="You can use certain specifications in the Calibre YieldEnhancer PowerVia flow to apply constraints, such as setting the lower layers in the via stack, defining the via‑to‑via spacing checks, and controlling the via counts in arrays.">Via Constraints</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_yaye_ref"
                DocTitle = "Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual"
                PageTitle = "Spacing Between Vias"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_SpacingBetweenVias_id4bf128a5.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® YieldAnalyzer and YieldEnhancer User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>