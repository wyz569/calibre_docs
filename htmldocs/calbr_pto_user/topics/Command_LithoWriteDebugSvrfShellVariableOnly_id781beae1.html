<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="LITHO_WRITE_DEBUG_SVRF" />
<meta name="abstract" content="Generates additional information on LITHO operations that can be useful for creating test cases or debugging." />
<meta name="description" content="Generates additional information on LITHO operations that can be useful for creating test cases or debugging." />
<meta name="DC.subject" content="LITHO_WRITE_DEBUG_SVRF, Generate testcases" />
<meta name="keywords" content="LITHO_WRITE_DEBUG_SVRF, Generate testcases" />
<meta name="prodname" content="Calibre Post-Tapeout Flow User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Information common to RET and MDP, plus links to product-specific tips." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pto_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="All" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 8, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Post-Tapeout Flow User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10101,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id781beae1-1fb8-432f-8608-c1df486d5bc5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>LITHO_WRITE_DEBUG_SVRF</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="LITHO_WRITE_DEBUG_SVRF" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10101,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id781beae1-1fb8-432f-8608-c1df486d5bc5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">LITHO_WRITE_DEBUG_SVRF</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Environment variable</p>
<p class="shortdesc">Generates additional information
on LITHO operations that can be useful for creating test cases or
debugging.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">LITHO_WRITE_DEBUG_SVRF</span> <span class="keyword ParameterName RequiredReplaceable">id</span> | <span class="keyword ParameterName RequiredReplaceable">name</span> </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__idc32bbd6d-bf4e-4225-bb78-7d9c1cce090f"><span class="keyword ParameterName RequiredReplaceable">id</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
the LITHO statement to which the variable applies. An <span class="keyword ParameterName RequiredReplaceable">id</span> of
“1” references the first LITHO statement executed, “2” would be
the second, and so on. Set <span class="keyword ParameterName RequiredReplaceable">id</span> to
-2 to output files for all relevant operations if testcase size
is not a concern.</p>
<p class="p">Either <span class="keyword ParameterName RequiredReplaceable">id</span> or <span class="keyword ParameterName RequiredReplaceable">name</span> is
required, but they cannot be specified together.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id1ca0b23c-1d7f-4d8a-8a8e-ce1dc4ad7bf2"><span class="keyword ParameterName RequiredReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies the <span class="keyword ParameterName RequiredReplaceable">name</span> of
a LITHO FILE statement. When this form is used, the operations that
use the specified litho setup file are written out.</p>
<p class="p">Either <span class="keyword ParameterName RequiredReplaceable">id</span> or <span class="keyword ParameterName RequiredReplaceable">name</span> is
required, but they cannot be specified together.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Use this variable to create simpler
test cases for specific LITHO operations. (For RET operations, see “<a class="xref fm:HeadingAndPage" href="Command_RetWriteDebugSvrf_id31cb6305.html#id31cb6305-8871-4ba2-a95b-632540e50ecb__Command_RetWriteDebugSvrf_id31cb6305.xml#id31cb6305-8871-4ba2-a95b-632540e50ecb" title="Generates additional information on RET operations that can be useful for creating test cases or debugging.">RET_WRITE_DEBUG_SVRF</a>”.)
The rule file must be run with the ‑hier switch; the variable is
not supported with ‑pto or flat runs.</p>
<p class="p">You can specify that the files be written to a directory other
than the current working directory with LITHO_WRITE_DEBUG_SVRF_DATA_DIR.
Set this to an existing directory.</p>
<p class="p">LITHO_WRITE_DEBUG_SVRF causes the Calibre run to create OASIS
and SVRF debugging files. The filenames depend on how the variable
is specified:</p>
<ul class="ul"><li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id986b55ed-5a55-4fed-98f4-659fdba1184c"><p class="p">If you
set <span class="keyword ParameterName RequiredReplaceable">id</span> to
a positive number, the files have a base name of <span class="ph filepath">litho_<var class="keyword varname">operation</var>_debug</span> where <var class="keyword varname">operation</var> is
the second keyword in the SVRF operation (for example, denseopc
from LITHO DENSEOPC).</p>
</li>
<li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id88c79422-c13f-428c-a98d-c53e56345331"><p class="p">If you set <span class="keyword ParameterName RequiredReplaceable">id</span> to
-2 (echo all), the files have a base name of <span class="ph filepath">litho_<var class="keyword varname">operation</var>_<var class="keyword varname">N</var>_debug</span> where <var class="keyword varname">N</var> starts
at 1 for the first LITHO operation.</p>
</li>
<li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id1395f41c-28cf-4237-846b-ff6ab8f20b1f"><p class="p">If you set <span class="keyword ParameterName RequiredReplaceable">name</span>,
the files have a base name of <span class="ph filepath">litho_<var class="keyword varname">name</var>_<var class="keyword varname">N</var>_debug</span> where
name is the setup file you specified and <var class="keyword varname">N</var> indicates
the sequence through it.</p>
</li>
</ul>
<p class="p">The <span class="ph filepath"><var class="keyword varname">filename</var>.svrf</span> file
references the <span class="ph filepath"><var class="keyword varname">filename</var>.oas</span> file.
When the SVRF file is executed, it runs only the single LITHO operation.</p>
<p class="p">It is simpler to use the <span class="keyword ParameterName RequiredReplaceable">name</span> argument
instead of the <span class="keyword ParameterName RequiredReplaceable">id</span> argument.
The id argument requires you to count the operations executed. In
most cases, you cannot rely on the “LITHO RUN” banner for determining
the appropriate ID. The number shown in the banner increments for
RET operations such as RET NMDPC but does not increment for sparse
OPC such as LITHO OPCPRO. </p>
<p class="p">Often several LITHO operations
run concurrently. Concurrent operations count as one invocation,
as shown in “<a class="xref fm:HeadingAndPage" href="#id781beae1-1fb8-432f-8608-c1df486d5bc5__id51413410-c387-44c0-93e6-76616b20345d">Example 2 - Counting in Transcript</a>”. To determine
the value to use for <span class="keyword ParameterName RequiredReplaceable">id</span>:</p>
<ol class="ol"><li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id7a893a79-e8c9-4cdf-9f50-4cac89ae6506"><p class="p">Save the transcript from running
the real Calibre job. The job does not need to complete but does
need to start the operation(s) intended for separation.</p>
</li>
<li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id68e0f79a-e3d3-4932-9dd1-272b41129ef5"><p class="p">In the transcript, move past the
rule file compilation stage. One way to do this is to search for
the string </p>
<pre class="pre codeblock leveled"><code>COMPILATION MODULE COMPLETED</code></pre></li>
<li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__iddff5c7aa-04b7-40bd-83b6-bba19af0a596"><p class="p">Search for the string LITHO occurring
during execution, and count the number of jobs being started. This
gives the <span class="keyword ParameterName RequiredReplaceable">id</span>. </p>
<ul class="ul"><li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id2257c68c-4e51-4e25-b501-491cfdd2b75c"><p class="p">A job consists of any cluster
of “<span class="keyword ParameterName OptionalReplaceable">layer</span> =
LITHO <span class="keyword ParameterName OptionalReplaceable">tool</span>”
lines appearing together. The clustering indicates they are being
processed concurrently.</p>
</li>
<li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id99da1f8f-7073-453d-b9b2-b2ba212c9132"><p class="p">Each LITHO command in the
SVRF file appears at least twice in the operation stage of the transcript:
once when it starts being processed, and again when it ends. Only count
the ones starting the job.</p>
</li>
<li class="li" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__idc3f30319-96d7-421f-be4b-eec8db40ad1f"><p class="p">Do not count LITHO FILE
statements, environment variables, or other LITHO occurrences.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">You
can obtain complete test cases by setting <span class="keyword ParameterName RequiredReplaceable">id</span> to
-2. If test case size is not a concern, this is the most reliable
method for creating a complete test case.</p>
</div>
</li>
</ul>
</li>
</ol>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__idf41e638c-dd57-49e6-9ab3-03637a4fe8fb"><h2 class="title Subheading sectiontitle">Example 1 - Counting
in SVRF File</h2><p class="p">Assume you have an SVRF file containing
the following statements:</p>
<pre class="pre codeblock leveled"><code>LAYER metal1 11
LAYER metal3 15

opc_m1 = LITHO DENSEOPC FILE m1 metal1 MAP metal1_opc
opc_m1 {COPY opc_m1} DRC CHECK MAP opc_m1 oasis 111 m1_out.oas
opc_m3 {LITHO OPC metal3 FILE m3} DRC CHECK MAP opc_m3 m3_opc.gds

LITHO FILE m1 [...
	layer metal1 hidden atten 0.06
	denseopc_options opts {...
		layer metal1 opc atten 0.06
	}
	setlayer metal1_opc = denseopc metal1 MAP metal1 OPTIONS opts
]

LITHO FILE m3 [...
	layer 15 metal3 0 0 opc dark
]</code></pre><p class="p">If you do not set LITHO_WRITE_DEBUG_SVRF,
your output is the files <span class="ph filepath">m1_out.oas</span> and <span class="ph filepath">m3_opc.gds</span>,
and the usual result databases and reports. </p>
<p class="p">To produce files for a Calibre OPCpro
test case, set LITHO_WRITE_DEBUG_SVRF to 2 in the shell before invoking
Calibre. (This points to the second LITHO command, on the line beginning
“opc_m3”.) This generates the litho_opc_debug files in addition
to the usual output.</p>
</div>
<div class="section Subsection" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id51413410-c387-44c0-93e6-76616b20345d"><h2 class="title Subheading sectiontitle">Example 2 - Counting in Transcript</h2><p class="p">In the following transcript excerpt,
setting LITHO_WRITE_DEBUG_SVRF to 2 would return a group of 3 concurrent
operations. Setting LITHO_WRITE_DEBUG_SVRF to <span class="ph filepath">m2_orc.in</span> would
have the same effect.</p>
<p class="p">LITHO operation invocations are
in bold. Duplicate invocations are in green. </p>
<pre class="pre codeblock flushLeft"><code>Running Calibre: $CALIBRE_HOME/calibre -remotefile gridflex.cfg -64 -hyper 
-turbo -turbo_litho -drc -hier rules

Environment variable LITHO_WRITE_DEBUG_SVRF (=’2’) is being used
//  Calibre v2021.1_33.19    Mon Mar 1 16:54:23 PST 2021
//  Calibre Utility Library   v0-10_13-2017-1    Wed Jun 3 07:42:12 PDT 2020
//  Litho Libraries v2021.1_33.19  Mon Mar 1 16:10:01 PST 2021
//
//                   Copyright Siemens 1996-2021
//                       All Rights Reserved.
//   THIS WORK CONTAINS TRADE SECRET AND PROPRIETARY INFORMATION
//      WHICH IS THE PROPERTY OF MENTOR GRAPHICS CORPORATION
//        OR ITS LICENSORS AND IS SUBJECT TO LICENSE TERMS.
//
//  The registered trademark Linux is used pursuant to a sublicense from LMI, the
//  exclusive licensee of Linus Torvalds, owner of the mark on a world-wide basis.
//
//  Mentor Graphics software executing under x86-64 Linux

...

Layer FOM::&lt;1&gt; DELETED -- LVHEAP = 349/415/415  SHARED = 121/192

WARNING: 20 polygon result(s) segmented in DRC RuleCheck M1.

<span class="ph CodeHighlight Bold">M2_fill = LITHO OPC m2_opc diff FILE ./litho/m2_opc.in  </span>
------------------------------------------------------------------------
Operation EXECUTING on HDB 0 (T506 S15 E0:383 H0:195 A16:644 L0:186 C5)

...

TIME FOR LITHO CORMERGE:       CPU TIME = 238 + 1687  REAL TIME = 158   TIMESTAMP 2276
&lt;MON:E 2275 O 69&gt;

<span class="ph CodeHighlight green">M2_fill = LITHO OPC m2_opc diff FILE ./litho/m2_opc.in</span> 
------------------------------------------------------------------------
M2_fill (HIER-PMF TYP=1 CFG=0 HGC=3259010...

...

Layer xG_67m.2h::&lt;1&gt; DELETED -- LVHEAP = 1284/1332/1332  SHARED = 970/992

<span class="ph CodeHighlight Bold">m2_90::&lt;1&gt; = LITHO ORC m2_orc m2_targ MAPNUMBER 300 FILE ./litho/m2_orc.in
m2_85::&lt;1&gt; = LITHO ORC m2_orc m2_targ MAPNUMBER 301 FILE ./litho/m2_orc.in
m2_80::&lt;1&gt; = LITHO ORC m2_orc m2_targ MAPNUMBER 302 FILE ./litho/m2_orc.in
</span>-------------------------------------------------------------------------
Operation EXECUTING on HDB 0 (T2441 S15 E0:472 H4:287 A0:947 L0:229 C5)

...

Layer v12 DELETED -- LVHEAP = 1750/3390/3393  SHARED = 1371/1696

Layer fin DELETED -- LVHEAP = 1750/3390/3393  SHARED = 1371/1696

<span class="ph CodeHighlight green">m2_90::&lt;1&gt; = LITHO ORC m2_orc m2_targ MAPNUMBER 300 FILE ./litho/m2_orc.in
m2_85::&lt;1&gt; = LITHO ORC m2_orc m2_targ MAPNUMBER 301 FILE ./litho/m2_orc.in
m2_80::&lt;1&gt; = LITHO ORC m2_orc m2_targ MAPNUMBER 302 FILE ./litho/m2_orc.in
</span>------------------------------------------------------------------------
m2_90::&lt;1&gt; (HIER TYP=1 CFG=1 HGC=0 FGC=0 HEC=0 FEC=0 VHC=F VPC=F)

...

Layer cp1m.orc.2: p1m.pinch ::&lt;1&gt; DELETED -- LVHEAP = 3026/3871/3872  SHARED = 2809/3584

<span class="ph CodeHighlight Bold">via_Mopc = LITHO OPC via_opcIn FILE ./litho/vim/setup/via_opc.in</span>
-----------------------------------------------------------------
Operation EXECUTING on HDB 0 (T3371 S15 E0:476 H2:450 A0:970 L0:229 C3)

...

<span class="ph CodeHighlight green">via_Mopc = LITHO OPC via_opcIn FILE ./litho/vim/setup/via_opc.in</span> 

...</code></pre></div>
<div class="section Subsection" id="id781beae1-1fb8-432f-8608-c1df486d5bc5__id9ad010ba-c72a-4699-a57a-d7b677db095f"><h2 class="title Subheading sectiontitle">Example
3 - Filenames</h2><p class="p">When developing Calibre pxOPC recipes, a fairly standard procedure
is to generate a curved target with a LITHO OPCVERIFY call, run
Calibre pxOPC using RET PXOPC, and then check the results with a
second LITHO OPCVERIFY call. This produces a transcript with the following
banners:</p>
<pre class="pre codeblock flushLeft"><code>==============================================================================
=====              START OPCVERIFY EXECUTION (LITHO RUN 1)               =====
==============================================================================
------------------------------------------------------------------------------
-----                             SETUP FILE                             -----
------------------------------------------------------------------------------
--- OPCVERIFY SETUP FILE = smooth.in</code></pre><pre class="pre codeblock flushLeft"><code>...
==============================================================================
=====                START PXOPC EXECUTION (LITHO RUN 2)                 =====
==============================================================================
------------------------------------------------------------------------------
-----                             SETUP FILE                             -----
------------------------------------------------------------------------------
--- PXOPC SETUP FILE = pxopc.in</code></pre><pre class="pre codeblock flushLeft"><code>...
==============================================================================
=====              START OPCVERIFY EXECUTION (LITHO RUN 3)               =====
==============================================================================
------------------------------------------------------------------------------
-----                             SETUP FILE                             -----
--------------------------------------------------------------------------------
--- OPCVERIFY SETUP FILE = opcv</code></pre><p class="p">The simplest method to be sure you have the correct operation
is to use the setup file name. Before running again, set LITHO_WRITE_DEBUG_SVRF
to the appropriate setup file name. For example:</p>
</div>
<pre class="pre ShellCommand">setenv LITHO_WRITE_DEBUG_SVRF opcv</pre>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PostTapeoutEnvironmentVariables_id18b6f179.html" title="The post-tapeout environment variables are preferred by some, but Siemens EDA recommends using the equivalent SVRF commands instead for visibility. In case of a conflict between an environment variable and an SVRF setting, the environment variable’s setting is used.">Post-Tapeout Environment Variables</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pto_user"
                DocTitle = "Calibre® Post-Tapeout Flow User’s Manual"
                PageTitle = "LITHO_WRITE_DEBUG_SVRF"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_LithoWriteDebugSvrfShellVariableOnly_id781beae1.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Post-Tapeout Flow User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>