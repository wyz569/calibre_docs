<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Step 3a - Choosing the Number of Kernels" />
<meta name="abstract" content="The SOCS approximation to the full Hopkins imaging equations uses a reduced number of kernels to represent the imaging equations compared to the full Hopkins kernel set. Choosing the number of kernels that best represents the optical model must start with an arbitrary initial choice that is evaluated and revised after an initial optical model is built." />
<meta name="description" content="The SOCS approximation to the full Hopkins imaging equations uses a reduced number of kernels to represent the imaging equations compared to the full Hopkins kernel set. Choosing the number of kernels that best represents the optical model must start with an arbitrary initial choice that is evaluated and revised after an initial optical model is built." />
<meta name="prodname" content="Calibre WORKbench User's and Reference Manual" />
<meta name="version" content="2017.3" />
<meta name="release" content="v2017.3" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre WORKbench User's and Reference Manual" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_wbench_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® WORKbench™ User’s and Reference Manual" />
<meta name="ConditionFiltering" content="XML" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Step 3a - Choosing the Number of Kernels</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Step 3a - Choosing the Number of Kernels" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Step 3a - Choosing the Number of Kernels</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The SOCS approximation
to the full Hopkins imaging equations uses a reduced number of kernels
to represent the imaging equations compared to the full Hopkins
kernel set. Choosing the number of kernels that best represents
the optical model must start with an arbitrary initial choice that
is evaluated and revised after an initial optical model is built. </span>
</div>
<div class="fig fignone" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id6315e8e0-861f-4493-8893-2d1844cbeb45"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Optical Model Tool (Kernel/Image Tab)</span><br /><div class="imagecenter"><img class="image imagecenter" height="456" src="../graphics/new_omt_kernelimage.png" width="465" /></div><br /></div>
<div class="fig fignone" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id3b55fca4-196b-4121-af43-f7ed13578ba3"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Setting SOCS Kernel Parameters</span><br /><div class="imagecenter"><img class="image imagecenter" height="277" src="../graphics/new_omt_kernelclose.png" width="468" /></div><br /></div>
<ol class="ol"><li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id741ba27c-eaa5-4d0d-baf5-a63ca0d14516"><p class="p">In the Optical Model Tool, switch to the <span class="ph uicontrol">Kernels/Image</span> tab.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id7c662f1f-d3d1-4370-874b-4791230cbf89"><p class="p">Set the Number of Kernels field (3a in <a class="xref fm:FigureAndPage" href="#id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id6315e8e0-861f-4493-8893-2d1844cbeb45">Figure 1</a>).</p>
<ul class="ul"><li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id7ee8c1a9-a7e6-4938-b3c8-b09dfb991223"><p class="p">The higher number of kernels, the more
accurate the model, at the cost of run time.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id48eafc35-b57c-4a35-8ee0-7430a50e6a83"><p class="p">More incoherent sources will usually
require more kernels.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id4332a1a4-eea6-4509-9c5d-32981e9fc6f7"><p class="p">A typical starting number of kernels
is 16. For a low contrast layer such as a contact
layer, the number of required kernels may be larger. Typically,
the relative contribution to the image intensity from each kernel
is quite small for kernels above 30.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idb7f1e842-6290-4577-a9ef-7b575156c976"><p class="p">Kernels should be checked for symmetry
(see the <a class="xref fm:HeadingOnly" href="#id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id465043ae-1536-4f7d-ab0e-45ab30ad745b">Usage Notes</a>) when symmetry
is expected, such as for quasar or annular illumination.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id0e9f3ae5-7926-4f91-aac6-075945a8c632"><p class="p">This field can be set to 0 if the full
Hopkins expansion is desired. This option is significantly slower.</p>
</li>
</ul>
<p class="p">In Optical model parameters file, the number
of kernels is defined with the <a class="xref fm:HeadingOnly" href="Command_Approxorder_ida4a6908a.html#ida4a6908a-2520-4ac0-9772-5a3ec0c7db0a__Command_Approxorder_ida4a6908a.xml#ida4a6908a-2520-4ac0-9772-5a3ec0c7db0a" title="Defines the number of kernels in the optics part of the SOCS approximation.">approxorder</a> parameter.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id9d6143b1-f612-4377-bdce-2cc12de1dd8a"><p class="p">Continue to set other optical model fields,
as described in “<a class="xref fm:HeadingAndPage" href="Concept_Step3bSettingOpticalDiameterKernelGridSize.html#idee9a97ed-efb9-44d8-a1fd-b0b0145e2db4__Concept_Step3bSettingOpticalDiameterKernelGridSize.xml#idee9a97ed-efb9-44d8-a1fd-b0b0145e2db4" title="The optical diameter defines the size of the square of spatial influence of the optical system. Interactions between proximate edges are possible when the edges are separated by a distance up to the optical diameter.">Step 3b - Setting the Optical Diameter and Kernel Grid Size</a>”. </p>
</li>
</ol>
<div class="section Subsections" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id421ef2ee-302e-4187-abe4-c7e3dd7b4f40"><div class="section Subsection" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id465043ae-1536-4f7d-ab0e-45ab30ad745b"><h2 class="title Subheading sectiontitle">Usage Notes</h2><ul class="ul"><li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idf9e6110f-fa9e-447d-9e68-0bf3cc7a802f"><p class="p"><span class="ph FontProperty HeadingLabel">More kernels increases the accuracy.</span> </p>
<p class="p">The number of kernels controls the accuracy
of the SOCS approximation compared to the Full Hopkins simulation
with the same optical diameter and grid size. As a rule, the SOCS
approximation approaches the exact Hopkins model
as the number of kernels is increased. </p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id4c3cf50b-2249-498e-b1e2-03eebc99aeec"><p class="p"><span class="ph FontProperty HeadingLabel">Run-time performance decreases as the number of kernels is increased.</span> </p>
<p class="p">Accuracy compared to Full Hopkins is not
the same as accuracy compared to empirical data. The Full Hopkins
simulation of the optics is only one part of the system modeled.
Mask distortions and resist behavior also affect the results, limiting
the overall accuracy.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__ide322450a-6fe4-4cd1-a5e9-a6324eb79eda"><p class="p"><span class="ph FontProperty HeadingLabel">Symmetric versus paired kernels.</span> </p>
<p class="p">Assuming that the input optical system has
X-axis reflection, Y-axis reflection, and 90-degree rotation symmetry,
empirical evidence shows that the kernels resulting from the SOCS
decomposition come in two “flavors”: </p>
<ul class="ul"><li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__ide56cc138-5853-4aab-9729-27f0827b4f18"><p class="p">The “symmetric” variety of kernels have
X-Y symmetry, meaning that the kernel and its conjugate transpose
are equal, A = A*. </p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id12b77581-46e9-4158-96b3-85e2afd46c4d"><p class="p">The “paired” variety of kernels A and
B have the property that A = B*. </p>
</li>
</ul>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id9ec90494-b5d6-45da-b049-fd1d07231fb8"><p class="p"><span class="ph FontProperty HeadingLabel">Avoid unbalanced kernels.</span> </p>
<p class="p">The truncated SOCS model must be symmetrical
(all kernels must either be symmetrical or have a conjugate transpose
pair).</p>
<p class="p">We define a SOCS model to be “unbalanced”
when the truncation results in inclusion of a member of a kernel
pair, but exclusion of its mate. </p>
<p class="p">For example, <a class="xref fm:Figure" href="#id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id2539cf49-05af-42f1-8bd9-14cdf130f11f">Figure 3</a> shows a paired kernel set. The SOCS
approximation using these kernels should not be truncated at 10
because kernel 11 (K11) is needed to balance kernel 10 (K10).</p>
<div class="fig fignone" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id2539cf49-05af-42f1-8bd9-14cdf130f11f"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Paired Kernel Set </span><br /><div class="imagecenter"><img class="image imagecenter" height="177" src="../graphics/wb_opt_mod10a.png" width="439" /></div><br /></div>
<p class="p">When identical mask structures rotated by
90 degrees are simulated with an unbalanced SOCS optical model,
using a CTR (constant threshold resist), different EPE values can
result, as shown in <a class="xref fm:Figure" href="#id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idbe57bf07-c8d0-496e-b426-7f857746f336">Figure 4</a>.</p>
<div class="fig fignone" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idbe57bf07-c8d0-496e-b426-7f857746f336"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Effect of an Unbalanced Optical Model</span><br /><div class="imagecenter"><img class="image imagecenter" height="121" src="../graphics/ImbalancedEPE.png" width="331" /></div><br /></div>
<p class="p">The Calibre WORKbench application provides
three features that can help choose the correct number of kernels
based on symmetry and accuracy, shown in <a class="xref fm:Figure" href="#id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idbbc79526-4e84-4f61-9cde-004067e03007">Figure 5</a>.</p>
</li>
</ul>
<h2 class="title Subheading sectiontitle">Refinement for the Number of
Kernels After the Model is Generated</h2><p class="p">Once all
the parameters of the optical model have been selected and the model
generated, it may be desirable to refine the number of kernels to
obtain acceptable accuracy and OPC correction speed. The following
methods are available in Calibre WORKbench to determine the best number
of kernels:</p>
<ul class="ul"><li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idaab6c0e8-ea2d-4415-a5b0-3cbb001b3fb9"><p class="p">Use the Kernsym command for symmetric
optical systems</p>
<p class="p">The <span class="ph uicontrol">Kernsym</span> button
(see A in <a class="xref fm:FigureAndPage" href="#id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id6315e8e0-861f-4493-8893-2d1844cbeb45">Figure 1</a> in the Optical Model Tool, <span class="ph uicontrol">Kernels/Image</span> tab)
runs the <a class="xref fm:HeadingOnly" href="Command_Kernsym_idab32ab95.html#idab32ab95-327b-4317-942f-37fdff94385b__Command_Kernsym_idab32ab95.xml#idab32ab95-327b-4317-942f-37fdff94385b" title="Reports on the kernel symmetry of the current optical model.">kernsym</a> command, which returns the kernel
symmetry status as an ordered pair set (<span class="ph FontProperty emphasis">kernel value kernel value kernel value</span>…).
Kernsym checks the model for X-axis reflection, Y-axis reflection,
and 90-degree rotation symmetry. Assuming that the input optical
system has those symmetries, the generated model should have the
same symmetry. The kernsym output values appear in the console window;
the most important value is the last one in the list. If the last
(highest) kernel is asymmetric (value of 0), kernels needed to be
added or subtracted until kernsym output for the highest kernel
is symmetric (value of 1). Note that such a symmetry check is not
necessary when the input optical system does not have the three
symmetries listed here, such as a system employing dipole illumination.</p>
</li>
<li class="li" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__id9de812df-efe4-4d48-97b3-f1fc3db3fa7c"><p class="p">Use the Cutline window to compare the
intensity graph for Hopkins and SOCS simulations. When the SOCS
and Hopkins match reasonably well, there are enough kernels in the
model. Note that a perfect match is not expected unless the number
of kernels is very large. The OPC correction time increases approximately linearly
with the number of kernels.</p>
<div class="fig fignone" id="id34b86940-7ce1-4f3f-bebd-96f9ef6f1528__idbbc79526-4e84-4f61-9cde-004067e03007"><span class="figcap"><span class="fig--title-label">Figure 5. </span>Comparing SOCS to Full Hopkins</span><br /><div class="imagecenter"><img class="image imagecenter" height="441" src="../graphics/wb_opt_mod12a.png" width="471" /></div><br /></div>
</li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_Step3SelectingOpticalKernelParameters_id71d7d090.html" title="Optical models in the Calibre WORKbench application use the Sum Of Coherent Systems (SOCS) model, which is an approximation of the full Hopkins simulation and provides a fast intensity calculation. This section describes the optical model components that define the SOCS kernel parameters and affect the accuracy of the approximation.">Step 3 - Selecting Optical Kernel Parameters</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_wbench_useref"
                DocTitle = "Calibre® WORKbench™ User’s and Reference Manual"
                PageTitle = "Step 3a - Choosing the Number of Kernels"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_Step3aChoosingNumberKernels_id34b86940.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® WORKbench™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>