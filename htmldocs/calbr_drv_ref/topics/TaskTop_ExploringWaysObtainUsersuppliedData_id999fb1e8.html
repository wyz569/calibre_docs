<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Exploring Ways to Obtain User‑Supplied Data" />
<meta name="abstract" content="In this procedure you use the Tcl gets command to capture the keyboard data, the tk_getSaveFile Tk command to create a file browser widget, and then configure the file browser widget." />
<meta name="description" content="In this procedure you use the Tcl gets command to capture the keyboard data, the tk_getSaveFile Tk command to create a file browser widget, and then configure the file browser widget." />
<meta name="prodname" content="Calibre DESIGNrev Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="2019.4" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="Batch Command Support for Calibre® DESIGNrev™, Calibre® WORKbench™, Calibre® LITHOview™, and Calibre® MDPview™" />
<meta name="SourceHandle" content="calbr_drv_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® DESIGNrev™ Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Exploring Ways to Obtain User‑Supplied Data</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Exploring Ways to Obtain User‑Supplied Data" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Exploring Ways to Obtain User‑Supplied Data</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">In
this procedure you use the Tcl gets command to capture the keyboard
data, the tk_getSaveFile Tk command to create a file browser widget,
and then configure the file browser widget.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id07081d1b-a974-4b94-b467-54eb15a8e3a1"><span class="ph cmd">Create a file called <span class="ph filepath italic">prompt.tcl</span> and add the following
lines of code:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>puts "This macro creates a file containing the layout hierarchy." 
puts "Please enter the full pathname for the file to create." 
set filename [gets stdin] 
puts "You entered $filename" </code></pre><p class="p">This script relies heavily
on the Tcl commands puts and gets:</p>
<ul class="ul"><li class="li" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id580b5ac0-326a-4f3a-acfe-a690050d4fd7"><p class="p">It uses the puts command
three times: to display a message to the user, to prompt for input,
and later, to report back on the data the user entered. Notice you
need not specify a channelID. The default channelID for puts is
stdout, which is the shell window.</p>
</li>
<li class="li" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__idad78918b-100c-4804-b4e1-956d96852283"><p class="p">It uses the gets command
to capture the data the user enters via the keyboard. The gets command
does not have a default channelID, so you must tell explicitly where
to get the information from. In this case, the information comes from
stdin, which is the keyboard.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__idccc509f9-a983-4181-b572-4cdb3fec8762"><span class="ph cmd">Invoke Calibre DESIGNrev in
GUI mode.</span></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id1adbc637-47ff-4f8b-b049-e35c49311325"><span class="ph cmd">Switch from the GUI window
to the terminal window by clicking in the terminal window. </span></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__ide9486cc4-196b-4970-bfa5-240e18a273b3"><span class="ph cmd">Press Enter
to display the “%” prompt. </span></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id14457aa4-9c5c-4119-ab67-e14ab2183e68"><span class="ph cmd">Type the following command and press Enter.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>source prompt.tcl </code></pre><p class="p">When you source this script,
it processes the first two lines, displaying the message and the
prompt, then waits for your input.</p>
</div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id260e74d5-6bf6-4b25-bb15-02489bbb0641"><span class="ph cmd">Type:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>sample_file.txt </code></pre><p class="p">Nothing
occurs until you press Enter.</p>
</div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id1c83751f-099e-4f84-9ef2-ceb9ab2ec08b"><span class="ph cmd">Press Enter.</span><div class="itemgroup info StepInfo"><p class="p">The shell window tells you
what filename you entered. The full output in the shell window is
as follows:</p>
<pre class="pre codeblock leveled"><code>% source prompt.tcl 
This macro creates a file containing the layout hierarchy. 
Please enter the full pathname for the file to create. 
sample_file.txt 
You entered sample_file.txt 
% </code></pre><p class="p">The problem with this method
is that it assumes the person using the macro knows to switch to
the shell window to view the prompt and enter the data.</p>
</div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__idcf61a80e-e4e7-4f32-a170-39ecf31c8604"><span class="ph cmd">Create a new ASCII file called <span class="ph filepath italic">browser.tcl</span> containing the
following lines of code:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>set filename [tk_getSaveFile] 
puts "You entered $filename" </code></pre></div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id3064b842-05f7-46da-80b0-b4bc30ab8fef"><span class="ph cmd">Source the script in the terminal
window to invoke a file browser dialog box.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>source browser.tcl </code></pre><p class="p">The Tk command
tk_getSaveFile creates a file browser widget. When you enter a filename,
either by selecting a file or typing a name in directly, and click <span class="ph menucascade"><span class="ph uicontrol">Save</span></span>,
the command passes the filename back to the application. Thus, the
variable filename gets set to the filename the user specifies.</p>
</div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id87fcef06-c1b1-4a64-a33b-f4cfc4e57e86"><span class="ph cmd">Type in
the filename “sample_file.txt” and click <span class="ph menucascade"><span class="ph uicontrol">Save</span></span>.</span></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__idc1d9de86-5cc2-45ac-9fc7-7e7c167a0307"><span class="ph cmd">Check the terminal window.
The script tells you what filename you entered:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>% source browser.tcl 
You entered /user/cdoc/sample_file.txt 
% </code></pre></div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__ide97fcefb-50ac-4801-9d78-4cb0f3b9d164"><span class="ph cmd">Next, modify <span class="ph filepath italic">browser.tcl</span> to match the following
code.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>set title "Enter pathname for file" 
set types { 
   {{Text Files}      {.txt} } 
   {{All Files}       *      } 
} 
set filename [tk_getSaveFile -filetypes $types -title $title] 
puts "You entered $filename" </code></pre><p class="p">The command arguments for tk_getSaveFile
lets you configure the file browser widget. In the lines above,
you define a title for the widget, and identify types of files the user
can display and select from.</p>
</div></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__idf38b4bfd-6def-4cb0-ac18-35946e95aeda"><span class="ph cmd">Save the file, then source
it from the Tcl prompt.</span></li>
<li class="li step stepexpand" id="id999fb1e8-935c-4d7e-8c58-7e3325fcdcc5__id914099ff-cf95-41ab-adc9-b90a879827ea"><span class="ph cmd">Navigate
to an actual file and select it, then click <span class="ph menucascade"><span class="ph uicontrol">Save</span></span>.</span><div class="itemgroup info StepInfo"><p class="p">The tool displays a dialog
box asking if you want to overwrite the file. One of the added benefits
of using the file browser widgets provided by Tk is they simplify
writing code to manipulate files.</p>
</div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ExplorationsInCreatingMacros_id35535188.html" title="Examples are used to explore the process of creating a simple macro that writes the hierarchy of the current layout to a file the user specifies.">Explorations in Creating Macros</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_drv_ref"
                DocTitle = "Calibre® DESIGNrev™ Reference Manual"
                PageTitle = "Exploring Ways to Obtain User‑Supplied Data"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ExploringWaysObtainUsersuppliedData_id999fb1e8.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® DESIGNrev™ Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>