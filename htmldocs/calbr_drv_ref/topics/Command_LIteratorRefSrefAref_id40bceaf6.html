<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="$L iterator (ref | sref | aref)" />
<meta name="abstract" content="Returns a list of the specified type of references." />
<meta name="description" content="Returns a list of the specified type of references." />
<meta name="DC.subject" content="$L iterator count batch command, Iterator Count batch command" />
<meta name="keywords" content="$L iterator count batch command, Iterator Count batch command" />
<meta name="prodname" content="Calibre DESIGNrev Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="2019.4" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="Batch Command Support for Calibre® DESIGNrev™, Calibre® WORKbench™, Calibre® LITHOview™, and Calibre® MDPview™" />
<meta name="SourceHandle" content="calbr_drv_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® DESIGNrev™ Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id40bceaf6-2ad8-498d-8aa5-9823d6043515" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>$L iterator (ref | sref | aref)</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="$L iterator (ref | sref | aref)" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">$L iterator (ref | sref | aref)</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Returns
a list of the specified type of references.</span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">$L iterator</span> [export <span class="keyword ParameterName OptionalReplaceable">layer</span>] {<span class="keyword ParameterName Required">ref</span> | <span class="keyword ParameterName Required">sref</span> | <span class="keyword ParameterName Required">aref</span>} <span class="keyword ParameterName RequiredReplaceable">cell</span> <span class="keyword ParameterName Required">range</span> <span class="keyword ParameterName RequiredReplaceable">startRange endRange</span> [<span class="keyword ParameterName Optional">‑depth</span> <span class="keyword ParameterName OptionalReplaceable">startDepth</span> <span class="keyword ParameterName OptionalReplaceable">endDepth</span> [<span class="keyword ParameterName Optional">‑inCell</span> <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span>] [<span class="keyword ParameterName Optional">‑filterCell</span> <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span>] [<span class="keyword ParameterName Optional">‑prop</span> <span class="keyword ParameterName OptionalReplaceable">propName</span> <span class="keyword ParameterName OptionalReplaceable">propValue</span>]] [‑includeProperties {0 | 1}] [<span class="keyword ParameterName Optional">-arefToSrefs</span>] [‑duplicate]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idce854ab1-bdc5-4159-9924-8c3390a39f56">export <span class="keyword ParameterName OptionalReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set used
to export an iterator result to the specified <span class="keyword ParameterName OptionalReplaceable">layer</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__ida0ead6d9-a0d8-4aab-a3d0-93899818405b">{<span class="keyword ParameterName Required">ref | sref | aref</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument used to
control which type of references are returned. Valid values include:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id4edd29ea-0fa5-4d2a-a54d-c5eb4997cd54"><p class="p Opt"><span class="keyword ParameterName Required">ref</span> —
Return both single references and arrays. </p>
</li>
<li class="li ArgOption" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id7603622b-96bc-4eaa-be3f-2221a9e65a7b"><p class="p Opt"><span class="keyword ParameterName Required">sref</span> —
Return single references.</p>
</li>
<li class="li ArgOption" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id44e60aac-e34f-41ec-aa19-67eeefb6242b"><p class="p Opt"><span class="keyword ParameterName Required">aref</span> —
Return arrays.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id0be97458-1189-471d-827a-09971d1192ef"><span class="keyword ParameterName RequiredReplaceable">cell</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument specifying
the name of the cell containing the objects to examine.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id702b4545-92ec-49b2-8f05-3b6e6425c64c"><span class="keyword ParameterName Required">range</span> <span class="keyword ParameterName RequiredReplaceable">startRange endRange</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument specifying
a starting and ending range of elements to return. The list returned
contains all elements in the original list with indices <span class="keyword ParameterName RequiredReplaceable">startRange</span> through <span class="keyword ParameterName RequiredReplaceable">endRange</span>,
inclusive. Indexes start at 0 for the first element. You can specify
“end” for the <span class="keyword ParameterName RequiredReplaceable">endRange</span> value
instead of an integer to specify the last element in the list. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idcecf1709-f863-4eb3-83e0-07d481002ff0"><span class="keyword ParameterName Optional">-depth </span><span class="keyword ParameterName OptionalReplaceable">startDepth endDepth</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying
the hierarchical output of objects between <span class="keyword ParameterName OptionalReplaceable">startDepth</span> and <span class="keyword ParameterName OptionalReplaceable">endDepth</span> with
the search beginning in the specified <span class="keyword ParameterName RequiredReplaceable">cell</span>.
When traversing the hierarchy, each instance within an AREF is traversed.
This has the effect of hiding AREFs and returning all placement
locations.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id5498960c-bd66-43a3-8a16-1c92d82e3cd8"><span class="keyword ParameterName Optional">-inCell</span> <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An
optional argument specifying a list of cells in which to search
for the specified object type. You can specify the name of one cell
or use the Tcl list command to specify multiple cells. The value
you specify for <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span> accepts
the wildcard (*), which can be used to find zero or more cell occurrences.</p>
<p class="p">This option is only supported when the ‑depth argument is specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id18d8c2fc-92ad-410f-ba3b-bd84743dfda2">-filterCell<span class="keyword ParameterName Required"></span> <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument for SREF- and AREF-type iterators, used to return only
objects that reference the specified <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span>.
You can specify the name of one cell or use the Tcl list command
to specify multiple cells. The value you specify for <span class="keyword ParameterName OptionalReplaceable">list_of_cells</span> accepts
the wildcard (*), which can be used to find zero or more text occurrences.</p>
<p class="p">This option is only supported when the ‑depth argument is specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id4a884623-a264-4f95-8aca-b4c346be6a41"><span class="keyword ParameterName Optional">-prop</span> <span class="keyword ParameterName OptionalReplaceable">propName</span> <span class="keyword ParameterName OptionalReplaceable">propValue</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
specifying a property name and value pair. The iterator returns
only references that match the specified property name and value. This
option is only supported when the -depth argument is specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id23732902-80be-454a-bd4c-859037b6dea8"><span class="keyword ParameterName Optional">‑includeProperties</span> 0 | 1</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used to
force properties to always or never be included in the result of
the iterator. Valid values include:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id92706834-9a92-40a6-b394-62d48e26dec4"><p class="p Opt">0
(false) — Force properties to never be included in the Tcl result
of the iterator.</p>
</li>
<li class="li ArgOption" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idf59e1a65-f0ed-4d7a-b798-956272e0a52a"><p class="p Opt">1
(true) — Force properties to always be included in the Tcl result
of the iterator.</p>
</li>
</ul>
<p class="p">If the -includeProperties option
is not specified, properties are included only if the layout is
created or loaded with the -preserveProperties option. If you specify
“-includeProperties 0” and the layout was created or loaded with
-preserveProperties, then no properties are included for each result.
If you specify “-includeProperties 1” and the layout was not created
or loaded with the -preserveProperties options, empty Tcl lists
are included for the properties in each result.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id9f88d899-00c4-4b91-9ef9-183f03802492"><span class="keyword ParameterName Required">-</span><span class="keyword ParameterName Optional">arefToSrefs</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used to
return SREF objects representing the internal instances of any AREFs.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idb604e96e-c684-4ec3-a407-c20fccab6b43"><span class="keyword ParameterName Required">-</span><span class="keyword ParameterName Optional">duplicate</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used to
find duplicate references, reporting all duplicated placements.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">Returns a Tcl list of references
that match the specified iterator criteria. Special characters are
escaped as necessary. For example, a string object containing a
single ‘}’ character is escaped to prevent Tcl from parsing this
character as a closing string or command clause. Strings containing
special Tcl characters, such as cell names containing ‘$’ or property text
strings containing blanks, are enclosed in ‘{ }’ when necessary.</p>
<p class="p">The data output by this command falls into two different categories:
non_hierarchical and hierarchical data. The format for non-hierarchical
data is output when the ‑depth argument is <span class="ph FontProperty emphasis">not</span> specified
and ignores cell contents. The format for hierarchical data is output
when ‑depth is specified and returns hierarchy data.</p>
<p class="p">This command has two sets
of output formats, one where hierarchy data is returned and the
other where cell contents are ignored. Hierarchy data is returned
when -depth is specified.</p>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id1a14dddc-c408-48b7-b25a-ba8f1e815aa7"><h2 class="title Subheading sectiontitle">Non-Hierarchical
Data</h2><ul class="ul"><li class="li" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__ida2ece24f-a453-4fce-989e-08203c3f79db"><p class="p">Sref —
Returns single reference information in the following format:</p>
<p class="p">{<span class="keyword ParameterName OptionalReplaceable">cell_name x y mirror angle mag</span> [{<span class="keyword ParameterName OptionalReplaceable">properties</span>}]}</p>
<p class="p">where:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id899a63a2-f481-43a7-9fa1-13912af9908e" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:0.418in" /><col style="width:3.481in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">cell_name</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The name of the referenced cell.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">x y</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The coordinates at which the origin of the cell
reference is placed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mirror</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">Identifies whether the cell is mirrored around
the bottom boundary (lower x-axis when the angle is 0). A value
of 0 means the cell is not mirrored and 1 means the cell is mirrored.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">angle</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The angle of rotation applied to the cell.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mag</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The magnification applied to the cell. A value
of 1.0 means the cell is not magnified.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">{<span class="keyword ParameterName OptionalReplaceable">properties</span>}</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">A list of geometry and reference properties associated
with the cell. The layout must be read using the ‑preserveProperties
argument to preserve property data (refer to the <a class="xref Link" href="../../calbr_drv_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'layout create Commands', 'calbr_drv_ref'); return false;">layout create commands</a> for
information on this argument). An empty list ({ }) is returned when the
cell has no properties associated with it.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__ida3a01e0b-5bfb-4105-8dea-3691c75e3727"><p class="p">Aref — Returns
array information in the following format:</p>
<p class="p">{<span class="keyword ParameterName OptionalReplaceable">cell_name x y mirror angle mag col rows xspace yspace</span> [{<span class="keyword ParameterName OptionalReplaceable">properties</span>}]}</p>
<p class="p">where:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__ide5136fe2-fe5d-4c9f-9a40-cef014752e53" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:0.418in" /><col style="width:3.481in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">cell_name</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The name of the cells referenced in the array.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">x y</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The coordinates at which the origin of the cell
reference is placed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mirror</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">Identifies whether the cell is mirrored around
the bottom boundary (lower x-axis when the angle is 0). A value
of 0 means the cell is not mirrored and 1 means the cell is mirrored.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">angle</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The angle of rotation applied to the cell.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mag</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The magnification applied to the cell. A value
of 1.0 means the cell array is not magnified.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">cols rows</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The number of columns and rows in the array.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">xspace yspace</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The X and Y distance between array elements
before magnification.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">{<span class="keyword ParameterName OptionalReplaceable">properties</span>}</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">A list of geometry and reference properties associated
with the array. The layout must be read using the ‑preserveProperties
argument to preserve property data (refer to the <a class="xref Link" href="../../calbr_drv_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'layout create Commands', 'calbr_drv_ref'); return false;">layout create commands</a> for
information on this argument). An empty list ({ }) is returned when the
array has no properties associated with it.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id1652105c-5ef6-4db9-96a0-0f9a8c91dd85"><h2 class="title Subheading sectiontitle">Hierarchical
Data</h2><ul class="ul"><li class="li" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id91b77740-ee5f-44b3-80fd-31a740aa0856"><p class="p">Sref —
Returns single reference information in the following format:</p>
<p class="p">{{<span class="keyword ParameterName OptionalReplaceable">cell_name x y mirror angle mag</span> [{<span class="keyword ParameterName OptionalReplaceable">properties</span>}]} <span class="keyword ParameterName OptionalReplaceable">path</span> {<span class="keyword ParameterName OptionalReplaceable">bbox</span>}}</p>
<p class="p">where:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idfdca72c6-4d61-4887-9814-ae328679464c" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:0.418in" /><col style="width:3.481in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">cell_name</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The name of the referenced cell.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">x y</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The coordinates at which the origin of the cell
reference is placed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mirror</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">Identifies whether the cell is mirrored around
the bottom boundary (lower x-axis when the angle is 0). A value
of 0 means the cell is not mirrored and 1 means the cell is mirrored.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">angle</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The angle of rotation applied to the cell.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mag</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The magnification applied to the cell. A value
of 1.0 means the cell is not magnified.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">{<span class="keyword ParameterName OptionalReplaceable">properties</span>}</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">A list of geometry and reference properties associated
with the cell. The layout must be read using the ‑preserveProperties
argument to preserve property data (refer to the <a class="xref Link" href="../../calbr_drv_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'layout create Commands', 'calbr_drv_ref'); return false;">layout create commands</a> for
information on this argument). An empty list ({ }) is returned when the
cell has no properties associated with it.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">path</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The path in which the cell reference resides.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">{<span class="keyword ParameterName OptionalReplaceable">bbox</span>}</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The bounding box information for the placement
of the cell. The information is returned as x and y coordinates
of the bounding box, and the height and width.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idcec15a3b-983a-4104-b2b2-af3e0cbe480b"><p class="p">Aref — Returns
array information in the following format:</p>
<p class="p">{<span class="keyword ParameterName OptionalReplaceable">cell_name x y mirror angle mag col rows xspace yspace</span> [{<span class="keyword ParameterName OptionalReplaceable">properties</span>}]} <span class="keyword ParameterName OptionalReplaceable">path</span> {<span class="keyword ParameterName OptionalReplaceable">bbox</span>}}</p>
<p class="p">where:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__idf79b8f3e-e9a3-4146-9d30-3c424332ee34" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:0.418in" /><col style="width:3.481in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">cell_name</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The name of the cells referenced in the array.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">x y</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The coordinates at which the origin of the cell
reference is placed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mirror</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">Identifies whether the cell is mirrored around
the bottom boundary (lower x-axis when the angle is 0). A value
of 0 means the cell is not mirrored and 1 means the cell is mirrored.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">angle</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The angle of rotation applied to the cell.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">mag</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The magnification applied to the cell. A value
of 1.0 means the cell array is not magnified.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">cols rows</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The number of columns and rows in the array.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">xspace yspace</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The X and Y distance between array elements
before magnification.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">{<span class="keyword ParameterName OptionalReplaceable">properties</span>}</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">A list of geometry and reference properties associated
with the array. The layout must be read using the ‑preserveProperties
argument to preserve property data (refer to the <a class="xref Link" href="../../calbr_drv_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'layout create Commands', 'calbr_drv_ref'); return false;">layout create commands</a> for
information on this argument). An empty list ({ }) is returned when the
array has no properties associated with it.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p"><span class="keyword ParameterName OptionalReplaceable">path</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The path in which the cell reference resides.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">{<span class="keyword ParameterName OptionalReplaceable">bbox</span>}</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">The bounding box information for the placement
of the cell. The information is returned as x and y coordinates
of the bounding box, and the height and width.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Returns a list of the specified
type of references. The hierarchical traversal treats instances
that are internal to AREFs individually.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id7e2ac4f3-7640-4668-a40a-c28076472199"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">This first example displays a list
of objects, reporting all duplicated placements in the mask. Duplicated
instances are in the RDB file, dup2200, as polygons.</p>
<pre class="pre codeblock leveled"><code>set mylayout [layout create lab2.oas] 
$mylayout create layer 2200 
set totcnt 0 
set cells [layout peek lab2.oas -cells] 
foreach cell $cells { 
	set cnt [llength [$mylayout iterator export 2200 ref $cell \ 
		range begin end -duplicate]] 
	incr totcnt $cnt 
	puts "Found $cnt duplicate(s) in $cell" 
} 
puts "Total duplicated $totcnt" 
$mylayout rdbout dup2200 e13656z -layers 2200 </code></pre></div>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id3301233b-8b56-421e-9a09-ca90f662a14d"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This example illustrates floating
point representation:</p>
<pre class="pre codeblock leveled"><code>% set cwb [find objects -class cwbWorkBench] 
::cwbWorkBench::cwbWorkBench0 
% set L1 [$cwb cget -_layout] 
layout1 
% $L1 iterator sref [$L1 topcell] range 0 end 
{inv -104000 -58000 0 0.0 1.0 {}} {nand 0 -22000 0 0.0 1.0 {}} </code></pre></div>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id3d9e5132-ebd0-4e74-b6cd-396078ebad79"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">This example illustrates text string
representation, in which braces are used to enclose strings that
contain special Tcl characters (for example, inv[1] and nand$1).</p>
<pre class="pre codeblock leveled"><code>% set cwb [find objects -class cwbWorkBench] 
::cwbWorkBench::cwbWorkBench0 
% set L2 [$cwb cget -_layout] 
layout2 
% $L2 iterator sref [$L2 topcell] range 0 end 
{{inv[1]} -104000 -58000 0 0.0 1.0 {}} {{nand$1} 0 -22000 0 0.0 1.0 {}}</code></pre></div>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id6f751cb6-612d-437b-94b8-44a7ba8f8f1b"><h2 class="title Subheading sectiontitle">Example
4</h2><p class="p">This example returns all instances that reference cells containing
the string “VIA” and are in the cells “inv” and “nand”.</p>
<pre class="pre codeblock"><code>$L iterator ref topcell range 0 end -depth 0 99 -filterCell VIA* \
	‑inCell [list inv nand]</code></pre></div>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id7f618a3f-9048-48dc-aa6e-b9936701e56e"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">This example returns all instances that reference cells beginning
with “M” and that are in cells beginning with “INV” and “BUF”.</p>
<pre class="pre codeblock"><code>layout2 iterator ref top range 0 end -depth 0 99 -filterCell M* \
	-inCell [list INV* BUF*]</code></pre></div>
<div class="section Subsection" id="id40bceaf6-2ad8-498d-8aa5-9823d6043515__id0a8af178-0822-410a-8655-9ab6c1a0fee6"><h2 class="title Subheading sectiontitle">Example
6</h2><p class="p">The following script (named <span class="ph filepath">cell_size_boundary.tcl</span>)
outputs cell boundary coordinates and cell size in database units
(dbu).</p>
<pre class="pre codeblock"><code>if {$argc != 1} {
	puts "Error: wrong # of arguments"
	#puts "Usage: calibredrv cell_size_boundary.tcl &lt;layout filename&gt;"
	exit
}
set input [lindex $argv 0]
set L [layout create $input]
set topcell [$L topcell]  
set cellinfo [$L iterator sref  $topcell range 0 end -depth 0 100]
foreach c $cellinfo {
	puts "This cell: [lindex $c 0 0] X: [lindex $c 0 1] Y: [lindex $c 0 2]
		Mirror: [lindex $c 0 3] Angle: [lindex $c 0 4] Mag: [lindex $c 0 5]"
	puts "Path: [lindex $c 1 0]"
	puts "Boundary X: [lindex $c 2 0] Y: [lindex $c 2 1] 
		Width: [lindex $c 2 2] Height: [lindex $c 2 3] "
	puts " "
	puts "Entire list:   $c"
}</code></pre><p class="p">Enter the following command to execute the script:</p>
<pre class="pre ShellCommand">$MGC_HOME/bin/calibredrv cell_size_boundary.tcl <var class="keyword varname">layout_filename</var></pre>
<p class="p">Example output:</p>
<pre class="pre codeblock"><code>Collecting data..
Analyzing data...
Sorting data...

-------------------------------------------------------------------------
-----                  LAYOUT FILE OBJECT SUMMARY                   -----
-------------------------------------------------------------------------
Type                         Count
----------------------------------
LAYER                           10
CELL                             9
PLACEMENT                      206
ARRAY                            2
RECTANGLE                      723
POLYGON                         52
PATH                             0
TEXT                             0
PROPERTY                         0

-------------------------------------------------------------------------
-----                     LOAD LAYOUT SUMMARY                       -----
-------------------------------------------------------------------------
OASIS FILE READ FROM '&lt;path_to_layout&gt;'

DATABASE PRECISION:  1000

MAXIMUM HIERARCHY DEPTH:  1

LAYOUT FILE SIZE =              12 K  =            0 M
LAYOUT MEMORY    =             357 K  =            0 M
LAYOUT READ TIME = 0 sec REAL.  TOTAL TIME = 0 sec REAL.

This cell: a9500 X: 180500 Y: 449500 Mirror: 0 Angle: 0.0 Mag: 1.0
Path: /lab1
Boundary X: 178500 Y: 447500 Width: 4000 Height: 4000 

Entire list:   {a9500 180500 449500 0 0.0 1.0} /lab1 {178500 447500 4000
	4000}
This cell: a9500 X: 228500 Y: 449500 Mirror: 0 Angle: 0.0 Mag: 1.0
Path: /lab1
Boundary X: 226500 Y: 447500 Width: 4000 Height: 4000
...</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_LayoutObjectMethods_idfc06fae2.html" title="Use the layout object methods to operate on objects in a layout, such as cells, polygons, references, and layers. The layout object methods described in this section can be used for all layout viewers.">Layout Object Methods</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_drv_ref"
                DocTitle = "Calibre® DESIGNrev™ Reference Manual"
                PageTitle = "$L iterator (ref | sref | aref)"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_LIteratorRefSrefAref_id40bceaf6.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® DESIGNrev™ Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>