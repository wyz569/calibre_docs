<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Writing a GUI Plug-in Procedure" />
<meta name="abstract" content="In this procedure you learn about passing arguments to a GUI plug-in and then invoking the command procedure from the GUI plug-in." />
<meta name="description" content="In this procedure you learn about passing arguments to a GUI plug-in and then invoking the command procedure from the GUI plug-in." />
<meta name="prodname" content="Calibre DESIGNrev Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="2019.4" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="Batch Command Support for Calibre® DESIGNrev™, Calibre® WORKbench™, Calibre® LITHOview™, and Calibre® MDPview™" />
<meta name="SourceHandle" content="calbr_drv_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® DESIGNrev™ Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id09d391dc-4e79-405b-aa2c-3b66fb01f796" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Writing a GUI Plug-in Procedure</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Writing a GUI Plug-in Procedure" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id09d391dc-4e79-405b-aa2c-3b66fb01f796">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Writing a GUI Plug-in Procedure</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">In this procedure
you learn about passing arguments to a GUI plug-in and then invoking
the command procedure from the GUI plug-in.</span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__ide8620319-7ca0-409d-b110-d53eaf3aea6d"><p class="p">Calibre
DESIGNrev is running in interactive GUI mode and a layout is loaded</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__idc87b6be1-61df-4211-99b0-2c8961ae2bf8"><span class="ph cmd">Open the file <span class="ph filepath italic">write_hier.tcl</span> and
add the contents of <span class="ph filepath italic">browser.tcl</span> to
the bottom of the file.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>set title "Enter pathname for file" 
set types { 
    {{Text Files}       {.txt} } 
    {{All Files}        *      } 
} 
set filename [tk_getSaveFile -filetypes $types -title $title] 
puts "You entered $filename"</code></pre></div></li>
<li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__id34675281-38a1-4fa7-96bf-ac1946abe6ff"><span class="ph cmd">Turn the code from <span class="ph filepath">browser.tcl</span> into
an actual procedure.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>proc write_hier_plug_in { wbHandle window} { 
   set title "Enter pathname for file" 
   set types { 
    {{Text Files}       {.txt} } 
    {{All Files}        *      } 
   } 
   set filename [tk_getSaveFile -filetypes $types -title $title] 
   write_hier $wbHandle $filename 
} </code></pre><p class="p">A GUI plug-in procedure is
always passed two arguments: the handle for the layout viewer application,
and the handle for the window from which the macro is invoked. You
rarely use the second variable (window), but you must include it
in the procedure definition; otherwise, the Tcl interpreter generates
an error when it attempts to invoke the macro.</p>
</div></li>
<li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__idd5176bc0-39f8-41f9-bb87-bee12e3726ad"><span class="ph cmd">Replace the line ‘puts “You
entered $filename”’ with a call to the new procedure.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>write_hier $wbHandle $filename</code></pre><p class="p">This procedure call passes
to write_hier the two pieces of information it requires: the handle
for the layout viewer application, and the name of the file it is
to create.</p>
</div></li>
<li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__id95e09b9f-de0d-4b7e-883c-85de04b0f582"><span class="ph cmd">Add comments to ensure your
script is readable by others.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>############################################################## 
# PROC: write_hier_plug_in 
############################################################## 
# wbHandle = the handle (internal name) for the application 
# window = the pathname of the window where the macro was invoked. 
##############################################################</code></pre></div></li>
<li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__id7d8b67a7-7e62-422c-85ea-e6e4febce02e"><span class="ph cmd">Test the procedure by sourcing
the file and calling the GUI plug-in procedure manually:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>source write_hier.tcl 
set wb [find objects -class cwbWorkBench] 
write_hier_plug_in $wb any_string </code></pre><p class="p">To call the GUI plug-in procedure
you must know the handle for the layout viewer application. The
Tcl interpreter expects a window handle as well, but this is not used
so you can pass it a nonsense string, in this case “any_string”.</p>
</div></li>
<li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__ide31b9b47-9d7f-4d46-9bf4-1afdbb3c0e53"><span class="ph cmd">When the file browser dialog
box pops up, enter <span class="ph filepath">new_sample.txt</span>, and click
Save.</span><div class="itemgroup info StepInfo"><p class="p">When the procedure finishes,
the shell window displays the % prompt, indicating it is ready for
the next command.</p>
</div></li>
<li class="li step stepexpand" id="id09d391dc-4e79-405b-aa2c-3b66fb01f796__idefe514c0-55de-420e-b063-8b37828cd4fa"><span class="ph cmd">Exit Calibre DESIGNrev, then
open <span class="ph filepath italic">new_sample.txt</span> to
read the output data.</span></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ExplorationsInCreatingMacros_id35535188.html" title="Examples are used to explore the process of creating a simple macro that writes the hierarchy of the current layout to a file the user specifies.">Explorations in Creating Macros</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_drv_ref"
                DocTitle = "Calibre® DESIGNrev™ Reference Manual"
                PageTitle = "Writing a GUI Plug-in Procedure"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_WritingGuiPlugInProcedure_id09d391dc.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® DESIGNrev™ Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>