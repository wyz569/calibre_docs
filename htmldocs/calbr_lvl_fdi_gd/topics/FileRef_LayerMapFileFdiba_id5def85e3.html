<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="FileRefTopic" />
<meta name="DC.Title" content="Layer Map File for fdiBA" />
<meta name="abstract" content="Specifies the layer correspondence between the fill data and the third-party layout database for fdiBA." />
<meta name="description" content="Specifies the layer correspondence between the fill data and the third-party layout database for fdiBA." />
<meta name="prodname" content="Calibre Layout Comparison and Translation Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-12-14" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="DBdiff, FastXOR, fdi2gds, fdi2oasis, and fdiBA" />
<meta name="SourceHandle" content="calbr_lvl_fdi_gd" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Layout Comparison and Translation Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10099,product.id.P11427,product.id.P11426,product.id.P10119,product.id.P10089,product.id.P10122,product.id.P11427,product.id.P11493,product.id.P11802,product.id.P11803,product.id.P11801" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id5def85e3-128e-4b27-9268-a1bb9efcc8e7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Layer Map File for fdiBA</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Layer Map File for fdiBA" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10099,product.id.P11427,product.id.P11426,product.id.P10119,product.id.P10089,product.id.P10122,product.id.P11427,product.id.P11493,product.id.P11802,product.id.P11803,product.id.P11801" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Layer Map File for fdiBA</h1>
<div class="body refbody FileRefBody"><div class="abstract FileRefAbstract"><p class="p ContextMGC">Specified
in: fdiBA -layerMap</p>
<p class="shortdesc">Specifies the layer correspondence
between the fill data and the third-party layout database for fdiBA.</p>
<p class="p">OpenAccess and LEF/DEF version <span class="ph fmvar:LEFDEF_v">5.8</span> supports annotating fill layers with
+OPC to indicate that the fill shapes on these layers need OPC correction
during the OPC phase. fdiBA back-annotates the DFM database layers
with the +OPC construct. To enable FILL or FILL OPC backannotation
to OA and LEF/DEF, you must specify the purpose of the layer as
“oaFillOPC” or “opcfill”, respectively, in the layer map file.</p>
<p class="p">Both file formats also support adding vias
as part of the FILLS section. fdiBA adds vias into the FILLS section.
When a new via placement has to be added and via definition is not
present in a DEF file, fdiBA adds the via definition to the VIAS
section of the DEF file.</p>
<p class="p">When vias that are added to the FILLS section
form an asymmetric via, they are split into a symmetric via and
equivalent rectangles. The symmetric via is added in the FILLS section
and the additional rectangles are added as rectangles in the FILLS
section.</p>
<p class="p">By default, fdiBA creates a default temporary
file location in <span class="keyword ParameterName OptionalReplaceable">$CALIBRE_HOME/tmp</span>.
You can change the temporary file location by setting the environment
variable MGC_TMPDIR to a file pathname.</p>
</div>
<div class="section Formats"><h2 class="title Subheading sectiontitle">Format</h2><p class="p">A layer mapping
file must conform to the following formatting and syntax rules:</p>
<ul class="ul"><li class="li" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id3a45071e-df4a-48e6-b40b-a6d6351d2a53"><p class="p">The file is case-sensitive.</p>
</li>
</ul>
<ul class="ul"><li class="li" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id5505fbaf-4624-48c5-8ccb-dd5f71f8b40c"><p class="p">Blank lines are skipped. </p>
</li>
</ul>
<ul class="ul"><li class="li" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id19890468-0263-46e4-a748-46cd1088a488"><p class="p">Lines that start with the # character
are skipped.</p>
</li>
</ul>
<p class="p">The contents of the layer mapping
file are system-dependent. The file format for each mapping line
is in one of these two forms:</p>
<pre class="pre codeblock leveled"><code><span class="keyword ParameterName OptionalReplaceable">input_BA_layer_name</span> [<span class="keyword ParameterName OptionalReplaceable">out_purpose</span>] <span class="keyword ParameterName OptionalReplaceable">out_layer_number out_datatype</span> 	[<span class="keyword ParameterName OptionalReplaceable">mask_number</span>] </code></pre><p class="p">or</p>
<pre class="pre codeblock leveled"><code><span class="keyword ParameterName OptionalReplaceable">input_BA_layer_name</span> [<span class="keyword ParameterName OptionalReplaceable">out_purpose</span>] <span class="keyword ParameterName OptionalReplaceable">out_layer_number out_datatype</span> 
	CUT [CUTSIZE:<span class="keyword ParameterName OptionalReplaceable">height</span>:<span class="keyword ParameterName OptionalReplaceable">width</span>] [<span class="keyword ParameterName OptionalReplaceable">mask_number</span>] </code></pre><p class="p">The second syntax form is used only
for the CUT (via) material type. In that syntax, the <span class="keyword ParameterName OptionalReplaceable">purpose</span> is
used only for systems <span class="keyword ParameterName Required">LEFDEF</span> or <span class="keyword ParameterName Required">OA</span>. </p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Parameters</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__idd43dc4d0-6337-4ce3-af26-7dbec933295d"><span class="keyword ParameterName OptionalReplaceable">input_BA_layer_name</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Required
layer from the backannotation input file. By default, shapes from
an <span class="keyword ParameterName OptionalReplaceable">input_BA_layer_name</span> and
optional <span class="keyword ParameterName OptionalReplaceable">purpose</span> are
mapped using their input layer numbers and a datatype record of
0. The <span class="keyword ParameterName OptionalReplaceable">input_layout_layer_number</span> and <span class="keyword ParameterName OptionalReplaceable">datatype</span> arguments
are non-negative integers and allow customized control of the output.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id45bc77c7-9042-4e4e-90fe-03a06793bae2"><span class="keyword ParameterName OptionalReplaceable">out_purpose</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Optional
purpose of the layer in the backannotation input file. The <span class="keyword ParameterName OptionalReplaceable">out_purpose</span> corresponds to
the customary purpose names in OA databases. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">LEF/DEF only requires
the <span class="keyword ParameterName OptionalReplaceable">purpose </span>column
if you are mapping fill layers. Apply the “opcfill” layer purpose
name if you are mapping FILL or FILL OPC DEF objects.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__idd06eeda2-4941-42b3-8894-d972dc215393"><span class="keyword ParameterName OptionalReplaceable">out_layer_number</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Required
layer number of the layer for the output layout database. This value
allows customized control of the output. The <span class="keyword ParameterName OptionalReplaceable">out_layer_number</span> is
a non-negative integer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id7d983f6c-130f-4e88-8ad1-a2103f5b5243"><span class="keyword ParameterName OptionalReplaceable">out_datatype</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Required
datatype number of the layer for the output layout database. This
value allows customized control of the output. The <span class="keyword ParameterName OptionalReplaceable">out_datatype</span> is
a non-negative integer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__idcca65731-d473-4a28-b195-85fd170666b3"><span class="keyword ParameterName OptionalReplaceable">mask_number</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Optional
argument used for OpenAccess multi-patterning only. This argument
is a non-negative integer less than four corresponding to the “color”
of a split mask. This number is associated with shapes on the backannotated
layer. The value 0 is not used in production flows, but is accepted.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id1e5512f5-4d2b-450f-8c58-e952a2fd5972">CUT</dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies
that the material is a CUT material type. This syntax is supported
for all input layout systems. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__idee7c89e4-ecf8-4720-ad22-9095608ea254">CUTSIZE:<span class="keyword ParameterName OptionalReplaceable">height</span>:<span class="keyword ParameterName OptionalReplaceable">width</span></dt>
<dd class="dd ArgumentDescription"><p class="p">The CUTSIZE
column is optional. If CUTSIZE is not specified, then that row maps
all vias on the input layer that are not mapped by some other row
that contains a CUTSIZE parameter set. The optional CUTSIZE:<span class="keyword ParameterName OptionalReplaceable">y</span>:<span class="keyword ParameterName OptionalReplaceable">x</span> parameter
set defines height (<span class="keyword ParameterName OptionalReplaceable">y</span>)
and width (<span class="keyword ParameterName OptionalReplaceable">x</span>)
in user units and maps only vias of the specified dimensions (see <a class="xref fm:Figure" href="#id5def85e3-128e-4b27-9268-a1bb9efcc8e7__iddcfb6772-1948-43f0-86f2-9b5f1a4a9335">Figure 1</a>). </p>
<div class="fig fignone" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__iddcfb6772-1948-43f0-86f2-9b5f1a4a9335"><span class="figcap"><span class="fig--title-label">Figure 1. </span>CUTSIZE:y:x Dimensions
for -layermap in fdiBA </span><br /><div class="imageleft"><img class="image imageleft" height="109" src="../graphics/fdi_files2.png" width="468" /></div><br /></div>
<p class="p">If an incorrect object type
is used with the CUT syntax form, this warning is issued:</p>
<pre class="pre codeblock leveled"><code>WARNING: Object type:&lt;object&gt; can’t be specified with material type:CUT in layer mapping file &lt;filename&gt;. Ignoring the entry.</code></pre></dd>
</dl>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__ida8c788e1-8b8f-4d9f-9234-e181e21028e3"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Here is an example layer mapping
file for system <span class="keyword ParameterName Required">LEFDEF</span> or <span class="keyword ParameterName Required">OA</span>:</p>
<pre class="pre codeblock"><code>#BA layer name    purpose    output layer    datatype    object type
metal1         drawing          1            1         
via1           drawing          2            1
metal2         drawing          3            3
metal1                          1            1

#All metal1 shapes that belong to a pin are mapped to 31,102
metal1         drawing         31           102        PIN

# All metal1 text is mapped to 31,201
metal1         drawing         31           201        TEXT</code></pre></div>
<div class="section Subsection" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__id54bb897d-ca75-46a1-aadd-b93137b6d87f"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">There is a separate syntax for
the CUT material type. This syntax is supported for all input layout
systems. Here is a corresponding layer mapping file:</p>
<pre class="pre codeblock"><code>#BA layer name  output layer   datatype    object     CUTSIZE:y:x
via1                 10           100        CUT
via1                 10           200        CUT      CUTSIZE:2:2
via1                 10           300        CUT      CUTSIZE:3:3</code></pre><p class="p">In the preceding layer mapping
file, all 2×2 user unit vias on layer via1 are mapped to layer 10 datatype
200. All 3×3 user unit vias on layer via1 are mapped to layer 10
datatype 300. Any via on layer via1 having dimensions that do not
correspond to a row containing a CUTSIZE parameter are mapped to
layer 10 datatype 100.</p>
</div>
<div class="section Subsection" id="id5def85e3-128e-4b27-9268-a1bb9efcc8e7__idca35fcc0-66a8-4aeb-b998-33b92e7669a2"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">This example demonstrates how to backannotate OPC fill to a GDS
output database.</p>
<p class="p">Create an fdiBA layermap file that maps fill layers to layer
numbers and datatypes:</p>
<pre class="pre codeblock"><code>MET1 997 0
MET1 opcfill 1 0</code></pre><p class="p">Call fdiBA with the appropriate options and specify the layer
map file. The fdiBA utility creates a DEF file that contains OPC
fill in the FILLS section as follows:</p>
<pre class="pre codeblock"><code>FILLS 2 ;
- LAYER MET1
RECT ( 16480 13380 ) ( 16600 13500 ) 
...
- LAYER MET1 + OPC
RECT ( 8480 488 ) ( 10736 1488 )
RECT ( -232 2128 ) ( 3480 5736 )
RECT ( 3128 -152 ) ( 4128 848 )
RECT ( 0 920 ) ( 1000 1000 ) ;

END FILLS</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_BackannotationMapping_idfb592c91.html" title="The fdiBA utility uses its own layer mapping file.">Mapping Files for Backannotation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lvl_fdi_gd"
                DocTitle = "Calibre® Layout Comparison and Translation Guide"
                PageTitle = "Layer Map File for fdiBA"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/FileRef_LayerMapFileFdiba_id5def85e3.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Layout Comparison and Translation Guide, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>