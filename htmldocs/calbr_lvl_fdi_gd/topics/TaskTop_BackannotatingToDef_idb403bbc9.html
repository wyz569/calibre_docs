<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Directly Backannotating to DEF Using SVRF" />
<meta name="abstract" content="The Calibre DEF backannotation flow enables you to generate geometries (such as redundant vias, line extensions, and fill) for a LEF/DEF layout in Calibre and then export the new geometries to a full or incremental DEF file. You can read the generated DEF file into your place and route tool using to combine the enhanced geometries with your existing design." />
<meta name="description" content="The Calibre DEF backannotation flow enables you to generate geometries (such as redundant vias, line extensions, and fill) for a LEF/DEF layout in Calibre and then export the new geometries to a full or incremental DEF file. You can read the generated DEF file into your place and route tool using to combine the enhanced geometries with your existing design." />
<meta name="prodname" content="Calibre Layout Comparison and Translation Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-12-14" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="DBdiff, FastXOR, fdi2gds, fdi2oasis, and fdiBA" />
<meta name="SourceHandle" content="calbr_lvl_fdi_gd" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Layout Comparison and Translation Guide" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10099,product.id.P11427,product.id.P11426,product.id.P10119,product.id.P10089,product.id.P10122,product.id.P11427,product.id.P11493,product.id.P11802,product.id.P11803,product.id.P11801" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb403bbc9-845c-4ff4-871e-844d28352cb9" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Directly Backannotating to DEF Using SVRF</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Directly Backannotating to DEF Using SVRF" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10099,product.id.P11427,product.id.P11426,product.id.P10119,product.id.P10089,product.id.P10122,product.id.P11427,product.id.P11493,product.id.P11802,product.id.P11803,product.id.P11801" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idb403bbc9-845c-4ff4-871e-844d28352cb9">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Directly Backannotating
to DEF Using SVRF</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The Calibre
DEF backannotation flow enables you to generate geometries (such
as redundant vias, line extensions, and fill) for a LEF/DEF layout
in Calibre and then export the new geometries to a full or incremental
DEF file. You can read the generated DEF file into your place and
route tool using to combine the enhanced geometries with your existing
design.</p>
<p class="p">This procedure demonstrates how to perform backannotation
using a LEF/DEF design with the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM RDB DEF', 'svrf_ur'); return false;">DFM RDB DEF</a> statement.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The DFM RDB DEF statement
uses a Calibre RealTime Digital license.</p>
</div>
<div class="fig fignone" id="idd05fc8cd-0b43-42aa-ad23-54a914f028a7"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Workflow for Direct Backannotation to DEF</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/dfm_rdb_def_flow.png" /></div><br /></div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id683db200-effc-4758-a25a-149674406a6f"><p class="p">A design in LEF/DEF format. </p>
</li>
<li class="li" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id321bdffe-05a9-4786-86ae-dc737fc8789f"><p class="p">An SVRF rule file that generates enhancement shapes,
such as vias, line extensions, or fill.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id0fb90166-0e37-4672-8344-964cd6b4dfbc"><span class="ph cmd">In your place and route tool, export your design
to a LEF/DEF database.</span></li>
<li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id6b4e4fe0-d03d-48bf-933e-da3636c13745"><span class="ph cmd">Ensure that your rule file contains the Layout
System statement and that the Layout Primary statement specifies
your top cell name.</span><div class="itemgroup info StepInfo"><p class="p">The rule file should
also include statements that generate enhancement geometries and
a DFM RDB.</p>
</div></li>
<li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id31774865-3d02-4fb5-a3dc-37f7c77cef23"><span class="ph cmd">To generate a new incremental DEF (<span class="ph filepath">out.def</span>)
that contains enhancement shapes, add the DFM RDB DEF statement
to your rule file within a rule check:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>rule_check_name {
<span class="ph CodeHighlight Bold"> DFM RDB DEF out.def <var class="keyword varname">list_of_layers</var></span>
}</code></pre></div></li>
<li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__idb29d0584-a0a4-449c-b25b-e459a38d5b80"><span class="ph cmd">Map all layers in the input design to your DEF
design using the DFM RDB DEF LAYERMAP option. For example:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>rule_check_name {
 DFM RDB DEF out.def <span class="keyword ParameterName OptionalReplaceable">list_of_layers</span>

<span class="ph CodeHighlight Bold">  LAYERMAP METAL1 NET:VIA_BOT METAL1__</span>
 …
}</code></pre><p class="p">This is the minimum usage. See the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM RDB DEF', 'svrf_ur'); return false;">DFM RDB DEF</a> statement in
the <cite class="cite">SVRF Manual</cite> for complete information on all optional
arguments.</p>
</div></li>
<li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id7bb8fa42-ddd8-4d64-8fd6-f0521f1cd1f6"><span class="ph cmd">Identify the layers the comprise the via stacks.
For example:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>rule_check_name {
 DFM RDB DEF out.def <var class="keyword varname OptionalReplaceable">list_of_layers</var>

  LAYERMAP METAL1 NET:VIA_BOT METAL1__
 …
  <span class="ph CodeHighlight Bold">VIASTACK METAL1 VIA12 METAL2</span>
}</code></pre></div></li>
<li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id5f3f9ce4-105d-49b9-99f7-96723be06f91"><span class="ph cmd">Create a summary report of the run:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>rule_check_name {
 DFM RDB DEF out.def <var class="keyword varname OptionalReplaceable">list_of_layers</var>

  LAYERMAP METAL1 NET:VIA_BOT METAL1__
…
  VIASTACK METAL1 VIA12 METAL2

  <span class="ph CodeHighlight Bold">SUMMARYREPORT summary.txt</span>
}</code></pre></div></li>
<li class="li step stepexpand" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__idab1e8a9f-9e55-4a10-931b-4865044ea707"><span class="ph cmd">Run Calibre using the rule file:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>calibre -drc -hier -turbo -hyper $rules |&amp; tee run.log </code></pre></div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The Calibre run creates an output DEF file that
contains enhancement shapes generated by your Calibre rules. The
tool has three output modes:</p>
<ul class="ul"><li class="li" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id5d2b5277-fc53-4cb1-860c-be5a592efe63"><p class="p"><span class="ph FontProperty HeadingLabel">Enhancement</span> —
By default, or if you specify the DEFMODE ENH argument set, the tool
outputs an incremental DEF that you can import back into your place
and route tool using incremental DEF read. </p>
</li>
<li class="li" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id49ec75d1-9d82-499c-a77d-74dd74db5d54"><p class="p"><span class="ph FontProperty HeadingLabel">Merged DEF</span> —
To merge enhancement shapes with an existing DEF design, specify your
LEF/DEF layout with the Layout Path statement and include the DEFMODE FULL
option in the DFM RDB DEF statement. The new DEF file includes both
the enhancement shapes and all DEF objects from the original file.</p>
</li>
<li class="li" id="idb403bbc9-845c-4ff4-871e-844d28352cb9__id1db920aa-b8c2-488f-a2d2-2df08e7301ac"><p class="p"><span class="ph FontProperty HeadingLabel">Engineering Change Order DEF</span> —
To generate an incremental DEF that only contains NET, VIA, and
SPECIALNET annotations, set the DEFMODE to ECO.</p>
</li>
</ul>
<p class="p">If your input DEF files use different precisions
than the output DEF, use the OUTPUTDEFPRECISION option to explicitly
define the precision.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock"><code>BA_FLOW {
  DFM RDB DEF out.def M1_CAL VIA12_CAL M2_CAL VIA23_CAL M3_CAL 
    VIA34_CAL M4_CAL

   NEWNETMODE specialnets
   VIAMODE LEF
   DEFMODE FULL
   OUTPUTLEF out.lef

   LAYERMAP METAL1 NET:VIA_BOT M1_CAL
   LAYERMAP VIA12 NET:VIA_CUT VIA12_CAL
   LAYERMAP METAL2 NET:VIA_TOP M2_CAL
   LAYERMAP VIA23 NET:ROUTING VIA23_CAL
   LAYERMAP METAL3 NET:ROUTING M3_CAL
   LAYERMAP VIA34 NET:ROUTING VIA34_CAL
   LAYERMAP METAL4 NET:ROUTING M4_CAL
   VIASTACK METAL1 VIA12 METAL2
 
   NETPROPERTYNAME "net"
   SUMMARYREPORT sum.log
}</code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ViaFillBackannotationFdiba_id5a40bbf5.html" title="The fdiBA utility performs backannotation of fill data or vias stored in a specified input database.">Via and Fill Backannotation</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lvl_fdi_gd"
                DocTitle = "Calibre® Layout Comparison and Translation Guide"
                PageTitle = "Directly Backannotating to DEF Using SVRF"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_BackannotatingToDef_idb403bbc9.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Layout Comparison and Translation Guide, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>