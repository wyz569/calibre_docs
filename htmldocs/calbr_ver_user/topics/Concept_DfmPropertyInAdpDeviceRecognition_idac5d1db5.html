<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="DFM Property in ADP Device Recognition" />
<meta name="abstract" content="The DFM Property operation is used in Advanced Device Properties (ADP) applications. This operation requires care in handling undefined mathematical expressions, such as division by zero." />
<meta name="description" content="The DFM Property operation is used in Advanced Device Properties (ADP) applications. This operation requires care in handling undefined mathematical expressions, such as division by zero." />
<meta name="prodname" content="Calibre Verification User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-15" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ver_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Verification User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idac5d1db5-b78d-47d1-bbb2-5cda965232d8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM Property in ADP Device Recognition</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM Property in ADP Device Recognition" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idac5d1db5-b78d-47d1-bbb2-5cda965232d8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM Property in ADP Device Recognition</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The DFM Property
operation is used in Advanced Device Properties (ADP) applications.
This operation requires care in handling undefined mathematical expressions,
such as division by zero.</span>
</div>
<p class="p"><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Property', 'svrf_ur'); return false;">DFM Property</a> enables
the assignment of property values to shapes, which enables classification
and property calculation for certain devices. See “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Example Device Annotation Programs Using DFM Property', 'svrf_ur'); return false;">Example Device Annotation Programs Using DFM Property</a>” in the <cite class="cite">SVRF
Manual </cite>for a discussion of this capability.</p>
<p class="p">When using DFM Property, it is important to
protect against <span class="ph FontProperty emphasis">expression evaluation failure</span>.
Expression evaluation failure occurs in any situation where DFM
Property cannot assign an appropriate property to polygons. Examples
include numerical errors, lookups on non-existent properties, out-of-range
properties, and so forth. Here is an example:</p>
<pre class="pre codeblock leveled"><code>prop_layer = DFM PROPERTY gate_layer ml2 OVERLAP MULTI 
               [ a = area(ml1)/count(ml2) ] // possible divide-by-zero </code></pre><p class="p">If count(ml2) == 0, there is division by 0
and the property “a” cannot be assigned a value. Consequently, a
polygon on gate_layer cannot be copied to prop_layer, and prop_layer
will have fewer polygons than the original gate_layer. </p>
<p class="p">In Calibre ADP applications, prop_layer is
usually an auxiliary layer in a DEVice statement. The gate_layer
contains the seed shape. If the aux layer polygon is missing, the device
on the gate_layer is classified as a BAD DEVICE. If prop_layer is
supposed to contain the seed shape, then the device is not extracted.</p>
<p class="p">Partial copies of device layers are problematic
in the ADP flow. Devices in the layout are not extracted and it
is difficult to determine the cause. DFM Property issues a warning
in the transcript if the operation did a partial copy due to expression
evaluation failure. You should look for such warnings if you suspect
this problem. Also, compare the FGC (flat geometry count) for the
gate_layer to the FGC of the prop_layer to confirm whether polygons
were lost. Here is an example from a transcript:</p>
<pre class="pre codeblock leveled"><code>gate_layer (HIER TYP=1 CFG=1 HGC=4578 <span class="ph CodeHighlight orange">FGC=316325</span> HEC=137654 FEC=37475542 VHC=F VPC=F)</code></pre><p class="p">If this FGC number does not match the prop_layer,
there is a problem in getting the properties onto the correct polygons.</p>
<p class="p">All ADP rule files can avoid this problem by
including <dfn class="term italic">fall-through expressions</dfn> for
each property value where a problem might occur. A fall-through expression
is a second expression that applies if the first expression results
in an exception. Using a fall-through expression ensures preservation
of all polygons from the first input layer. For example:</p>
<pre class="pre codeblock leveled"><code>prop_layer = DFM PROPERTY gate_layer ml2 OVERLAP MULTI 
             [ a = area(ml2)/count(ml2) ] // possible divide-by-zero 
             [ a = -1 ] // error value for divide-by-zero case </code></pre><p class="p">When
count(ml2) == 0, the property is assigned the value -1. The Device built-in
language program should check for this error value and handle it
appropriately. Of course, the error value could be anything. You
must determine the convention to use and ensure it is handled appropriately
in the device property calculation.</p>
<p class="p">You can also set defaults for vector properties.
Consider this example:</p>
<pre class="pre codeblock leveled"><code>prop_layer = DFM PROPERTY gate_layer ml2 OVERLAP MULTI 
             [ p = VPROPERTY(ml2,"p",3) ]  
             // possible out-of-range ordinal lookup 
             [ p = vector(,,) ]  
             // handle out-of-range ordinal by creating an  
             // empty vector with tuple_size==3 </code></pre><p class="p">With vector properties, the fall-through expression
must generate a vector with the same tuple size as the first expression
would generate. </p>
<p class="p">DFM Property checks that all subsequent references
to the same output property are of the same type (and for vectors,
tuple size is included in that type checking).</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_DeviceRecognition_ida758e963.html" title="Device recognition extracts instances of devices from collections of shapes in the layout, computes specified properties of these instances, and prepares the results for use by other processes.">Device Recognition</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ver_user"
                DocTitle = "Calibre® Verification User’s Manual"
                PageTitle = "DFM Property in ADP Device Recognition"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_DfmPropertyInAdpDeviceRecognition_idac5d1db5.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Verification User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>