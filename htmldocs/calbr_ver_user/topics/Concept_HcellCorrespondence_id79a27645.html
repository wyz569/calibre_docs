<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Hcell Correspondence" />
<meta name="abstract" content="Cell correspondence between layout and source is defined in an hcell list. An hcell list has layout cell names in the left column with corresponding source cell names in the right column." />
<meta name="description" content="Cell correspondence between layout and source is defined in an hcell list. An hcell list has layout cell names in the left column with corresponding source cell names in the right column." />
<meta name="prodname" content="Calibre Verification User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-15" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ver_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Verification User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id79a27645-8511-4a69-906c-6f9a5942e6d9" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Hcell Correspondence</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Hcell Correspondence" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id79a27645-8511-4a69-906c-6f9a5942e6d9">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Hcell
Correspondence</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Cell correspondence
between layout and source is defined in an hcell list. An hcell
list has layout cell names in the left column with corresponding
source cell names in the right column.</span>
</div>
<pre class="pre codeblock leveled"><code>// layout source 
   ABC    DEF 
   GHI    JKL 
   UVW    XYZ </code></pre><p class="p">In a pair of hcells, the
layout cell name and corresponding source cell name may be the same,
or they may be different. You can specify a 1-to-many relationship
by placing a layout name in several lines with different source
names:</p>
<pre class="pre codeblock leveled"><code>// layout source 
   ABC    DEF 
   ABC    MNO 
   ABC    PQR </code></pre><p class="p">Similarly, you can specify a many-to-1 relationship
by placing a source name in several lines with different layout
names:</p>
<pre class="pre codeblock leveled"><code>   UVW    XYZ 
   RST    XYZ 
   OPQ    XYZ </code></pre><p class="p">However, m-to-n (many-to-many) relationships
are not allowed, for example, this results in an error during circuit
comparison:</p>
<pre class="pre codeblock leveled"><code>   UVW    XYZ 
   RST    XYZ 
   OPQ    XYZ 
   OPQ    GHI // error. OPQ mapped previously to XYZ, 
              // which is mapped to three different names. </code></pre><p class="p">Many-to-many cell correspondence is a global
error that causes hierarchical LVS comparison to abort without comparing
individual cells. A pair of cell names that leads to the many-many correspondence
is indicated in the run transcript. In the previous example, the
following message may appear in the transcript:</p>
<pre class="pre codeblock leveled"><code>ERROR:  Correspondence "OPQ" "GHI" leads to a many-many correspondence.</code></pre><p class="p">Many-to-many cell correspondence is also indicated
with a respective secondary comparison status in the LVS Report.
The primary comparison status is INCORRECT because the cells cannot
be compared.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Hcells can be cloned by the Layout Clone Rotated Placements
and Layout Clone Transformed Placements YES statements. Cloning
of hcells can cause many-to-many cell correspondence errors to occur.
The clone names contain “$C&lt;n&gt;$ strings in them, where &lt;n&gt;
is an integer. If such errors occur, you need to adjust the hcell
list to mitigate them.</p>
</div>
<p class="p">Many-to-many correspondence is not checked
in the circuit extraction stage because only layout cells matter
in that context.</p>
<p class="p">When Calibre nmLVS-H identifies corresponding cells during the
netlist comparison phase, conflicts can prevent two cells from being
matched. A conflict exists between cells A and B if both of the
following are true:</p>
<p class="p BlockIndent">Cell A already corresponds to cell C.</p>
<p class="p BlockIndent">Either cell B contains an instance of cell C, or C
contains an instance of B. Containment can be direct or indirect.</p>
<p class="p">Under such conditions, cells A and B cannot correspond without
creating a cycle in the merged hierarchy. (It is possible to create
an hcell correspondence cycle in the design hierarchy when hcell
containment topology on the layout side does not match that on the
source side.) Thus, LVS refrains from matching the cells even if
they should correspond based on explicit hcells or -automatch. When
such a conflict occurs, the following warning is produced:</p>
<p class="p BlockIndent">WARNING: Cell &lt;name&gt; cannot be made to correspond
with cell &lt;name&gt; due to a hierarchical conflict.</p>
<p class="p">It is possible this situation can be triggered by the Query Server’s
hcell and hierarchical analysis interface. The Query Server’s hcell
analyzer selection processing identifies correspondences in an arbitrary
order, which can differ from the order used by LVS. Hence, different
conflicting cells may be excluded by the Query Server versus LVS,
and consequently the selected hcells from the Query Server may lead
to poor LVS performance. Typically, you need to resolve such conflicts
by modifying the hcell list. Otherwise, the set of corresponding
cells is unpredictable and sensitive to arbitrary ordering. See
also “<a class="xref fm:HeadingAndPage" href="General_HierarchicalCellsFormingCycle_idd93ec80e.html#idd93ec80e-90fa-45f9-ab0c-b283ece322bd__General_HierarchicalCellsFormingCycle_idd93ec80e.xml#idd93ec80e-90fa-45f9-ab0c-b283ece322bd" title="This section appears in the LVS Report if a cycle is found in the cell hierarchy. The cell hierarchy consists of the layout and source hierarchies as well as cell correspondence information. Cycles in the cell hierarchy are global errors that cause LVS-H to abort prior to the comparison stage.">Hierarchical Cells Forming a Cycle</a>”.</p>
<p class="p">Using the following list, where TOP is the
primary cell name, is essentially equivalent to running flat LVS:</p>
<pre class="pre codeblock leveled"><code>TOP TOP</code></pre><p class="p">However, for SPICE-to-SPICE comparisons, it often runs faster
than not using it.</p>
<p class="p">By default, primitive devices correspond by
component type. You can override this for user-defined devices by
including device element names in the hcell correspondence file.
The cell correspondence file then exclusively determines the correspondence
of the user-defined primitive devices. This mapping does not work
for built-in devices.</p>
<div class="section Subsections"><div class="section Subsection" id="id79a27645-8511-4a69-906c-6f9a5942e6d9__id09078ddc-002c-462a-9402-76fd748d9548"><h2 class="title Subheading sectiontitle">Wildcards in Hcell
Names</h2><p class="p">The hcell list names may specify * wildcards,
which match zero or more characters. Wildcards can be used in layout
or source names. Wildcard patterns in hcell lists behave as follows:</p>
<ul class="ul"><li class="li" id="id79a27645-8511-4a69-906c-6f9a5942e6d9__id4be038c1-950a-4ef2-9f6d-d49b9aca39b4"><p class="p">If wildcards
are used for only a layout or the source name (not both) on a single
line of an hcell list, then the wildcards match any strings in that
design’s cell names according to the pattern specified for the name.
If more than one cell name matches the pattern, this establishes
a many-to-one hcell correspondence. For example, assume this hcell
list:</p>
<pre class="pre codeblock"><code>inv*_1* inv_1x</code></pre><p class="p">Any layout cell names starting with the string “inv” followed
by any number of characters, followed by “_1”, followed by any number
of characters, correspond to the source name inv_1x.</p>
</li>
<li class="li" id="id79a27645-8511-4a69-906c-6f9a5942e6d9__idb2d772fb-5fbe-401d-81bf-42a4fc693d24"><p class="p">If wildcards
are used for both the layout and the source names on a single line
of an hcell list, then only the wildcards on the layout side match
strings. The wildcards on the source side are placeholders for the
strings that the layout wildcards match and are replaced by any
matched strings to form candidate source cell names. For any candidate source
cell name that exists in the source design, that cell is used for
hcell correspondence. For example, suppose these are layout cell
names:</p>
<pre class="pre codeblock"><code>blue1
blue2
green</code></pre><p class="p">and these are source cell names:</p>
<pre class="pre codeblock"><code>red0
red1
red10</code></pre><p class="p">Assume this hcell list line:</p>
<pre class="pre codeblock"><code>blue* red*</code></pre><p class="p">The cell names blue1 and blue2 match the layout pattern. The
match of the string “1” causes a match of the source name red1.
The match of the string “2” causes no match of a source name.</p>
</li>
<li class="li" id="id79a27645-8511-4a69-906c-6f9a5942e6d9__idf2bbaa96-d9be-4648-903e-0937ad1a3fbb"><p class="p">If wildcards
are used for both the layout and source names on a single line of
an hcell list, then each layout pattern wildcard matches only the
longest possible string of characters in each layout cell name.
The longest possible match for a single wildcard is unambiguous.
For multiple wildcards in a pattern, each wildcard, from left to
right, matches the longest possible string and leaves the remaining
portion of a name to be matched by the next wildcard. So, for this
name:</p>
<pre class="pre codeblock"><code>buf$$1x$1x</code></pre><p class="p">and this wildcard pattern:</p>
<pre class="pre codeblock"><code>buf*$*</code></pre><p class="p">The first wildcard matches “$$1x” and the second wildcard matches
“1x”.</p>
</li>
<li class="li" id="id79a27645-8511-4a69-906c-6f9a5942e6d9__id023f264c-c67e-4df9-8b95-73cb32dda03a"><p class="p">If wildcards
are used for both the layout and source names on a single line of
an hcell list, then the number of wildcards used in the layout pattern
must match the number of wildcards used in the source pattern. If
there is a mismatch, and the layout pattern matches at least one
cell name, then a runtime error results, and the LVS comparison overall
status is NOT COMPARED. Any strings that match the layout wildcards
are substituted for the wildcards in the source pattern, one-for-one,
and in the order the wildcards occur. For example, this hcell list
pair is disallowed because the wildcard count does not match in
the layout and source patterns:</p>
<pre class="pre codeblock"><code>blue*_*2x red_*2x // bad. wildcard mismatch.</code></pre><p class="p">The preceding usage results in a runtime error and an overall
status of NOT COMPARED in an LVS report. This is OK:</p>
<pre class="pre codeblock"><code>blue<span class="ph CodeHighlight orange">*</span>_<span class="ph CodeHighlight magenta">*</span>2x red<span class="ph CodeHighlight orange">*</span>_<span class="ph CodeHighlight magenta">*</span>2x</code></pre><p class="p">The wildcards having the same colors are in a one-to-one correspondence
for string matching and substitution.</p>
</li>
<li class="li" id="id79a27645-8511-4a69-906c-6f9a5942e6d9__id39966a5e-ab32-4d27-91bd-54398abe08fd"><p class="p">Unlike the
Hcell specification statement, names using wildcards should not
usually be quoted in a -hcell list because the quotes are treated
as literal.</p>
</li>
</ul>
<p class="p">Care must be taken that wildcards do not lead
to many-to-many cell correspondence, which causes a error. For example,
specifying this:</p>
<pre class="pre codeblock leveled"><code>A* A 
*B B </code></pre><p class="p">could cause a match where layout cells AB and
A1B match source cells A and B, which causes an error because of
the ambiguity of the match. Changes to layout cell names can lead
to ambiguous hcell name matches when wildcards are used.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_Hcells_id3166033d.html" title="The term hcell stands for hierarchically corresponding cell. Hcells are cells that exist in both the layout and source designs and that (presumably) perform the same function. Calibre cannot determine if cells are identical in function because mask layout formats or SPICE netlists do not contain such information. Also, simply because two cells may have the same name is not necessarily a guarantee they have the same topology or device properties. So the user must specify cell correspondence in hierarchical LVS flows.">Hcells</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Contain_Hcells_id3166033d.html" title="The term hcell stands for hierarchically corresponding cell. Hcells are cells that exist in both the layout and source designs and that (presumably) perform the same function. Calibre cannot determine if cells are identical in function because mask layout formats or SPICE netlists do not contain such information. Also, simply because two cells may have the same name is not necessarily a guarantee they have the same topology or device properties. So the user must specify cell correspondence in hierarchical LVS flows.">Hcells</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ver_user"
                DocTitle = "Calibre® Verification User’s Manual"
                PageTitle = "Hcell Correspondence"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_HcellCorrespondence_id79a27645.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Verification User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>