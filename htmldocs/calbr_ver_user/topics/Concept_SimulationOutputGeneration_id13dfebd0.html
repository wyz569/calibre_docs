<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Simulation Output Generation" />
<meta name="abstract" content="By default, V2LVS utilizes a Calibre nmLVS comment-coded extension ($PINS) to make pin connections. Such connections are independent of port order in the SPICE. However, the $PINS construct is unique to Calibre flows, and some tools may not recognize it." />
<meta name="description" content="By default, V2LVS utilizes a Calibre nmLVS comment-coded extension ($PINS) to make pin connections. Such connections are independent of port order in the SPICE. However, the $PINS construct is unique to Calibre flows, and some tools may not recognize it." />
<meta name="DC.subject" content="V2LVS, simulation output" />
<meta name="keywords" content="V2LVS, simulation output" />
<meta name="prodname" content="Calibre Verification User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-15" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ver_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Verification User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id13dfebd0-8db1-46f5-b0f4-2ea571cb1821" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Simulation Output Generation</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Simulation Output Generation" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id13dfebd0-8db1-46f5-b0f4-2ea571cb1821">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Simulation Output Generation</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">By default,
V2LVS utilizes a Calibre nmLVS comment-coded extension ($PINS) to
make pin connections. Such connections are independent of port order
in the SPICE. However, the $PINS construct is unique to Calibre
flows, and some tools may not recognize it.</span>
</div>
<p class="p">The <a class="xref fm:HeadingOnly" href="Command_V2lvsgenerateOrderedPins_idddd749d4.html#idddd749d4-068f-4a4f-9620-efa87ea03c45__Command_V2lvsgenerateOrderedPins_idddd749d4.xml#idddd749d4-068f-4a4f-9620-efa87ea03c45" title="Specifies whether pin netlisting uses traditional SPICE rather than $PINS constructs.">v2lvs::generate_ordered_pins</a> -enable option (command line:
-i) generates standard SPICE output that is acceptable to many SPICE simulators.
This output may also be used in conjunction with Calibre xRC generated
netlists to perform detailed simulations of critical nets using
SPICE-based simulators. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">V2LVS is intended
to translate Verilog netlists for use with Calibre nmLVS. The v2lvs::generate_ordered_pins
command is provided as a convenience only. V2LVS is not guaranteed
to produce SPICE output that is suitable for simulation or compatible
with any particular simulator.</p>
</div>
<p class="p">Since named connections are not possible in
SPICE without use of an extension like $PINS, a SPICE library (using <a class="xref fm:HeadingOnly" href="Command_V2lvsloadSpice_id23946bc3.html#id23946bc3-7234-45f6-a75a-18381ffa2564__Command_V2lvsloadSpice_id23946bc3.xml#id23946bc3-7234-45f6-a75a-18381ffa2564" title="Specifies a SPICE library file with translation mode for SPICE pins.">v2lvs::load_spice</a> ‑range_mode
or -pin_mode) is useful when v2lvs::generate_ordered_pins -enable
is used. This is so V2LVS can determine the pin correspondence between
the Verilog netlist and the SPICE library. </p>
<p class="p">V2LVS does not read the SPICE library file
specified with <a class="xref fm:HeadingOnly" href="Command_V2lvssetIncludes_id50ba0115.html#id50ba0115-1ce0-4b94-89c6-b86add5e2af9__Command_V2lvssetIncludes_id50ba0115.xml#id50ba0115-1ce0-4b94-89c6-b86add5e2af9" title="Specifies a SPICE netlist to be referenced in a .INCLUDE statement in the output.">v2lvs::set_includes</a> (command line: -s). The v2lvs::set_includes command
merely instructs V2LVS to issue a .INCLUDE statement at the start
of its SPICE output. The v2lvs::load_spice -range_mode or ‑pin_mode
options are used to read SPICE library files to determine pin format
and sequence.</p>
<p class="p">Inconsistencies in pin configuration between
the Verilog and SPICE libraries are not detected by V2LVS. (Pin
inconsistency is detected by LVS.) Inconsistencies can be addressed when
using <a class="xref fm:HeadingOnly" href="Command_V2lvscombineInterfaceInfo_idb417886e.html#idb417886e-38b0-4c3f-aee8-7ae4817c8fbc__Command_V2lvscombineInterfaceInfo_idb417886e.xml#idb417886e-38b0-4c3f-aee8-7ae4817c8fbc" title="Specifies whether to prefer Verilog library pin order over the SPICE library when both refer to the same macro.">v2lvs::combine_interface_info</a> -enable, but this uses the $PINS
construct, which may not be acceptable to circuit simulators. </p>
<div class="section Subsections"><div class="section Subsection" id="id13dfebd0-8db1-46f5-b0f4-2ea571cb1821__id08de6bf1-5a0d-4bf5-b0e2-32939a8d0e89"><h2 class="title Subheading sectiontitle">Example — Generate ordered pins
for standard SPICE output</h2><p class="p">File <span class="ph filepath">src.v</span>:</p>
<pre class="pre codeblock leveled"><code>// Verilog source 
module top (); 
wire w1, w2, w3; 
A inst1( .in1(w1), .in2(w2), .out3(w3) ); 
endmodule </code></pre><p class="p">File <span class="ph filepath">lib.v</span>:</p>
<pre class="pre codeblock leveled"><code>// Verilog library 
module A ( in1, in2, out3 ); 
input in1, in2; 
output out3; 
endmodule </code></pre><p class="p">File <span class="ph filepath">lib.spi</span>:</p>
<pre class="pre codeblock leveled"><code>$ SPICE library with pin order that does not match the Verilog library: 
.SUBCKT A out3 in2 in1 
.ENDS </code></pre><p class="p">Run V2LVS with default ($PINS) output using
this script:</p>
<pre class="pre codeblock leveled"><code><a class="xref fm:HeadingOnly" href="Command_V2lvsloadVerilog_ida6b20476.html#ida6b20476-ba78-42f0-83a3-86b49eaac201__Command_V2lvsloadVerilog_ida6b20476.xml#ida6b20476-ba78-42f0-83a3-86b49eaac201" title="Specifies a Verilog structural netlist or library file.">v2lvs::load_verilog</a> -filename src.v  
v2lvs::load_verilog -filename lib.v -lib_mode 
<a class="xref fm:HeadingOnly" href="Command_V2lvssetIncludes_id50ba0115.html#id50ba0115-1ce0-4b94-89c6-b86add5e2af9__Command_V2lvssetIncludes_id50ba0115.xml#id50ba0115-1ce0-4b94-89c6-b86add5e2af9" title="Specifies a SPICE netlist to be referenced in a .INCLUDE statement in the output.">v2lvs::set_includes</a> -filename lib.spi 
<a class="xref fm:HeadingOnly" href="Command_V2lvswriteOutput_id9fb31825.html#id9fb31825-aa26-4092-9575-68231a218d93__Command_V2lvswriteOutput_id9fb31825.xml#id9fb31825-aa26-4092-9575-68231a218d93" title="Specifies to output a translated SPICE netlist of the input Verilog design. Optionally specifies the name of a consolidated SPICE library file.">v2lvs::write_output</a> -filename src_unordered_pins.spi 
exit </code></pre><p class="p">and with v2lvs::generate_ordered_pins -enable
(standard SPICE pins) with this script:</p>
<pre class="pre codeblock leveled"><code># NOTE THE FOLLOWING LINE IS COMMENTED OUT 
# <a class="xref fm:HeadingOnly" href="Command_V2lvsloadSpice_id23946bc3.html#id23946bc3-7234-45f6-a75a-18381ffa2564__Command_V2lvsloadSpice_id23946bc3.xml#id23946bc3-7234-45f6-a75a-18381ffa2564" title="Specifies a SPICE library file with translation mode for SPICE pins.">v2lvs::load_spice</a> -filename lib.spi -pin_mode 
<a class="xref fm:HeadingOnly" href="Command_V2lvsgenerateOrderedPins_idddd749d4.html#idddd749d4-068f-4a4f-9620-efa87ea03c45__Command_V2lvsgenerateOrderedPins_idddd749d4.xml#idddd749d4-068f-4a4f-9620-efa87ea03c45" title="Specifies whether pin netlisting uses traditional SPICE rather than $PINS constructs.">v2lvs::generate_ordered_pins</a> -enable 
v2lvs::load_verilog -filename src.v  
v2lvs::load_verilog -filename lib.v -lib_mode 
<a class="xref fm:HeadingOnly" href="Command_V2lvssetIncludes_id50ba0115.html#id50ba0115-1ce0-4b94-89c6-b86add5e2af9__Command_V2lvssetIncludes_id50ba0115.xml#id50ba0115-1ce0-4b94-89c6-b86add5e2af9" title="Specifies a SPICE netlist to be referenced in a .INCLUDE statement in the output.">v2lvs::set_includes</a> -filename lib.spi 
v2lvs::write_output -filename src_ordered_pins.spi 
exit </code></pre><p class="p">The respective output netlists are as follows:</p>
<pre class="pre codeblock leveled"><code>$$ unordered pins
.INCLUDE "lib.spi"  

.SUBCKT top  
Xinst1 A $PINS <span class="ph CodeHighlight orange">in1</span>=<span class="ph CodeHighlight orange">w1</span> in2=w2 <span class="ph CodeHighlight orange">out3</span>=<span class="ph CodeHighlight orange">w3</span>  
.ENDS 

$$ ordered pins
.INCLUDE "lib.spi"  

.SUBCKT top  
Xinst1 <span class="ph CodeHighlight orange">w1</span> w2 <span class="ph CodeHighlight orange">w3</span> A      $$ w1 &lt;--&gt; out3 w3 &lt;--&gt; in1 in lib.spi 
.ENDS </code></pre><p class="p">Recall this line from <span class="ph filepath">lib.spi</span>:</p>
<pre class="pre codeblock leveled"><code>.SUBCKT A <span class="ph CodeHighlight orange">out3</span> in2 <span class="ph CodeHighlight orange">in1</span></code></pre><p class="p">Rule file:</p>
<pre class="pre codeblock leveled"><code>// This LVS rule file compares $PINS output with  
// v2lvs::generate_ordered_pins output 
SOURCE PATH src_unordered_pins.spi 
SOURCE PRIMARY top 
SOURCE SYSTEM SPICE 

LAYOUT PATH src_ordered_pins.spi 
LAYOUT PRIMARY top 
LAYOUT SYSTEM SPICE 

LVS REPORT lvs.rep </code></pre><p class="p">Execute:</p>
<pre class="pre codeblock leveled"><code>calibre -lvs -hier rules</code></pre><p class="p">The LVS status is INCORRECT due to the pin
order mismatch in Xinst1.</p>
<p class="p">Uncommenting the v2lvs::load_spice command
in the second script causes the LVS to be CORRECT in this case because
the corresponding port order in <span class="ph filepath">lib.spi</span> is
matched in the output.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_V2lvs_idf9540624.html" title="The V2LVS (Verilog-to-LVS) tool translates a Verilog structural netlist into a SPICE netlist suitable for Calibre nmLVS/Calibre nmLVS-H and Calibre PERC.">V2LVS</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ver_user"
                DocTitle = "Calibre® Verification User’s Manual"
                PageTitle = "Simulation Output Generation"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_SimulationOutputGeneration_id13dfebd0.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Verification User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>