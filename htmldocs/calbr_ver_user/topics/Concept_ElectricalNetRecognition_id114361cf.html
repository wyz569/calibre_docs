<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Electrical Net Recognition" />
<meta name="abstract" content="A number of rule file statements cause connectivity to be established on layers. The shapes that have the same connectivity are recognized as being on the same electrical net." />
<meta name="description" content="A number of rule file statements cause connectivity to be established on layers. The shapes that have the same connectivity are recognized as being on the same electrical net." />
<meta name="DC.subject" content="Connectivity extraction, connectivity statements" />
<meta name="keywords" content="Connectivity extraction, connectivity statements" />
<meta name="prodname" content="Calibre Verification User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-15" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ver_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Verification User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id114361cf-e74c-4c1e-8351-f6683f2b206a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Electrical Net Recognition</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Electrical Net Recognition" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id114361cf-e74c-4c1e-8351-f6683f2b206a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Electrical Net Recognition</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">A number of
rule file statements cause connectivity to be established on layers.
The shapes that have the same connectivity are recognized as being
on the same electrical net.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id6317e732-efc6-4eb3-b9f2-2f98a884fc9f"><h2 class="title Subheading sectiontitle">Connect</h2><p class="p">Interconnect
layers are layers that appear in Connect or Connect BY operations
in the rule file.</p>
<p class="p">Abutting or overlapping
polygons on a <span class="ph FontProperty emphasis">single</span> interconnect
layer are always considered to be part of a single net, such as
those in the following figure. Polygons that touch only at corners
are not considered to be part of the same net.</p>
<div class="fig fignone" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__idf668ead0-7a75-4b9b-b1a6-70fd4587fdda"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Connected Shapes on a Single
Layer</span><br /><div class="imagecenter"><img class="image imagecenter" height="108" src="../graphics/conn_ext03a.png" width="222" /></div><br /></div>
<p class="p">Polygons on different layers
can be connected directly by overlap or abutment, as specified in <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Connect', 'svrf_ur'); return false;">Connect</a> operations
in the rule file. Again, polygons touching at corners do not form
valid connections. </p>
<p class="p"><a class="xref fm:Figure" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__id0eb9a329-4fa4-43ce-af73-9383f6499ba6">Figure 2</a> shows an example of a valid connections
for two input layers.</p>
<div class="fig fignone" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id0eb9a329-4fa4-43ce-af73-9383f6499ba6"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Connected Shapes from Different
Layers</span><br /><div class="imagecenter"><img class="image imagecenter" height="131" src="../graphics/conn_ext04a.png" width="194" /></div><br /></div>
<p class="p">Polygons on two interconnect layers can be
connected to each other by mutual intersection with a third polygon
on a contact layer. This is specified in a Connect BY operation
in the rule file. <a class="xref fm:Figure" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__id7a078249-1bd4-41d6-b3e2-56fa7a9afac4">Figure 3</a> shows an example. If all three polygons
(one from each layer) do not have a common intersection, then there
is no connection.</p>
<div class="fig fignone" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id7a078249-1bd4-41d6-b3e2-56fa7a9afac4"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Polygons Connected By Contact</span><br /><div class="imagecenter"><img class="image imagecenter" height="156" src="../graphics/conn_ext05a.png" width="264" /></div><br /></div>
</div>
<div class="section Subsection" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id032ba5aa-30ac-45f1-9635-78999945323e"><h2 class="title Subheading sectiontitle">Shielding</h2><p class="p">A Connect BY operation causes <dfn class="term italic">shielding</dfn> if it has this form:</p>
<p class="lines ApplCommand">CONNECT layer1 layer2 layer3 … layerN BY layerC</p>
<p class="p">The
distinguishing feature is there are at least three <span class="keyword ParameterName OptionalReplaceable">layer</span>N
parameters. </p>
<p class="p">A similar behavior occurs for the Sconnect
BY operation with more than two layers before the BY keyword. The
remainder of this discussion is in the context of Connect, but it
also applies to Sconnect.</p>
<p class="p">Connections are always formed between <span class="keyword ParameterName RequiredReplaceable">layer1</span> and <span class="keyword ParameterName RequiredReplaceable">layerC</span> when
they mutually overlap a third layer from <span class="keyword ParameterName RequiredReplaceable">layer2</span> through <span class="keyword ParameterName OptionalReplaceable">layer</span>N.
The first available object from <span class="keyword ParameterName RequiredReplaceable">layer2</span> through <span class="keyword ParameterName OptionalReplaceable">layer</span>N,
in that order, that intersects <span class="keyword ParameterName RequiredReplaceable">layer1</span> and <span class="keyword ParameterName RequiredReplaceable">layerC</span> at
a given location participates in the connection; no other layers
from <span class="keyword ParameterName RequiredReplaceable">layer2</span> through <span class="keyword ParameterName OptionalReplaceable">layer</span>N
participate.</p>
<p class="p">For example, in the preceding Connect BY statement,
connections between layer1 and layer3 are only made if there are
no layer2 polygons present at the point of connection. This can
cause unexpected results in some cases. See <a class="xref fm:Figure" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__idb63668ab-b407-4a5f-a553-63cc424f666a">Figure 4</a>.</p>
<div class="fig fignone" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__idb63668ab-b407-4a5f-a553-63cc424f666a"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Shielding</span><br /><div class="imagecenter"><img class="image imagecenter" height="144" src="../graphics/conn_ext06a.png" width="395" /></div><br /></div>
<p class="p">In Calibre nmLVS-H, the Connect BY statement
in <a class="xref fm:Figure" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__idb63668ab-b407-4a5f-a553-63cc424f666a">Figure 4</a> could break the connectivity of hcells.
In the example in the right-hand figure, the connectivity extractor
has to search the entire hierarchy to determine if any m1_a objects
are present. If so, it could be necessary to promote m1_b objects
whose connectivity cannot be determined out of a cell and up to
a level of hierarchy where connectivity can be determined. This
can cause undesired side-effects like the promotion of pins, which
in turn leads to incorrect connectivity in hcells. Additionally,
there is a performance penalty for Connect BY statements with shielding.</p>
<p class="p">Given a shielded Connect statement:</p>
<pre class="pre codeblock leveled"><code>CONNECT a b c BY d</code></pre><p class="p">The simplest way to remove the shielding is
to do this:</p>
<pre class="pre codeblock leveled"><code>CONNECT a b BY d 
CONNECT a c BY d </code></pre><p class="p">which is the recommended method in most cases.</p>
<p class="p">In some cases, downstream parasitic extraction
tools may require that the contact/via polygons be separated for
each transition. If that is needed, you can do something like this:</p>
<pre class="pre codeblock leveled"><code>d1 = d INSIDE (a AND b) 
d2 = (d NOT INSIDE (a AND b)) INSIDE (b AND c) 
// you get “d NOT INSIDE (a AND b)” for no extra overhead due to 
// concurrency with the d1 derivation 
CONNECT a b BY d1 
CONNECT a c BY d2 </code></pre><p class="p">There could be increased memory and runtime
costs for the contact/via layer derivations, however.</p>
<p class="p">In cases such as the one
in <a class="xref fm:Figure" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__idb63668ab-b407-4a5f-a553-63cc424f666a">Figure 4</a> where layers m1_a and m1_b are metal
routing layers derived from m1, it is wasteful to include m1_a and
m1_b in Connect BY statements. It would be better to establish connectivity
on m1 using a common (and necessary) statement such as this:</p>
<pre class="pre codeblock leveled"><code>CONNECT m1 poly BY cont</code></pre><p class="p">With connectivity established on m1 by such
a statement, you are free to derive any layers from m1 that you
need using <a class="xref fm:HeadingOnly" href="Concept_NodePreservingLayerOperations_idefbb9525.html#idefbb9525-c63e-4cfd-918a-39cdb0f6eb96__Concept_NodePreservingLayerOperations_idefbb9525.xml#idefbb9525-c63e-4cfd-918a-39cdb0f6eb96" title="The connectivity model for the design is constructed in a single step before any operation that requires or passes connectivity. (DRC Incremental Connect YES changes this behavior in DRC). The connectivity model is built from all Connect and Sconnect statements in the rule file. From this initial connectivity model, node IDs can be passed to derived layers through node-preserving layer operations.">Node-Preserving Layer Operations</a> such as AND and NOT. For example:</p>
<pre class="pre codeblock leveled"><code>// these layers inherit nodal information from m1, which appears in a 
// Connect BY operation. 
m1_a = m1 AND a_layer 
m1_b = m1 NOT b_layer </code></pre><p class="p">This way, all m1 routing layers have their
connectivity established without the problems of shielding or wasteful
Connect BY operations.</p>
<p class="p">In some cases, node-preserving operations may
not be applicable, or a layer may be derived from an operation that
does not preserve nets. In such cases, the <a class="xref fm:HeadingOnly" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__id4b04626d-a2d2-4701-86e1-9a0102add75f">Stamp</a> operation
can be useful. For example:</p>
<pre class="pre codeblock leveled"><code>CONNECT m1 
m1_a = SIZE m1 BY -1 </code></pre><p class="p">Layer m1_a does not have connectivity because
Size is not a node-preserving operation. You could then write this:</p>
<pre class="pre codeblock leveled"><code>stamp_m1_a = STAMP m1_a BY m1</code></pre><p class="p">There is another beneficial method to use in
situations like this one. In the following case, layer m1_a is guaranteed
to be contained inside m1. You can take advantage of the containment
and restore the connectivity like this:</p>
<pre class="pre codeblock leveled"><code>copy_m1_a = m1 AND m1_a</code></pre><p class="p">The key feature of this
method is the derived layer (in this case, copy_m1_a) must be a
subset of the originating layer (m1 here).</p>
<p class="p">In general, Connect BY operations with shielding
should be avoided. However, in situations involving multiple substrate
layers, use of shielding may be necessary. In such cases, the Connect
BY operations usually list the layers from top to bottom from the
perspective of the cross-section of the chip’s layer profile. </p>
</div>
<div class="section Subsection" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id5fdc5784-ab06-40db-a26d-3cc64f3362a0"><h2 class="title Subheading sectiontitle">Sconnect</h2><p class="p">Sconnect
establishes one-way connections from an upper layer to a lower layer.</p>
<p class="p"><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Sconnect', 'svrf_ur'); return false;">Sconnect</a> is
often used to detect soft connections (high-resistance connections)
through well regions. Connectivity is unidirectional and is passed
from the upper layer to lower layers. The lower layers and contact
layer (if specified) receive node numbers from the upper layer,
never in the other direction.</p>
<p class="p">The Sconnect operation without
a contact layer forms unidirectional connections from the upper layer
to the lower layer when the layers overlap. Polygons that abut can
form connections if you specify the ABUT ALSO keyword. Polygons
touching only at corners do not form valid connections.</p>
<div class="fig fignone" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id8da75704-34cd-4d66-a069-77534b122142"><span class="figcap"><span class="fig--title-label">Figure 5. </span>Sconnect</span><br /><div class="imagecenter"><img class="image imagecenter" height="174" src="../graphics/conn_ext07a.png" width="361" /></div><br /></div>
<p class="p">You can establish connectivity by specifying
a contact layer and multiple lower layers using the Sconnect BY
keyword. <a class="xref fm:Figure" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__id825b7c1a-28e6-4eb4-a209-b5074cb23c54">Figure 6</a> shows an example. As with the Connect
BY operation, all three polygons from the three layers must intersect
a common point for the connection to be valid.</p>
<div class="fig fignone" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id825b7c1a-28e6-4eb4-a209-b5074cb23c54"><span class="figcap"><span class="fig--title-label">Figure 6. </span>Sconnect Operation</span><br /><div class="imagecenter"><img class="image imagecenter" height="100" src="../graphics/conn_ext08a.png" width="267" /></div><br /></div>
<p class="p">Sconnect BY is subject to <a class="xref fm:HeadingOnly" href="#id114361cf-e74c-4c1e-8351-f6683f2b206a__id032ba5aa-30ac-45f1-9635-78999945323e">Shielding</a> in a similar
way to Connect BY. In situations where connections are established
by polygon promotion due to shielding, Sconnect attempts to push the
connections down to the appropriate hierarchical level; however,
this cannot be guaranteed. In certain situations, the promotion
of polygons can cause connectivity problems in hcells. For this
reason, it is good practice to have only three layers in any Sconnect
BY operation: two interconnect layers and the contact layer.</p>
</div>
<div class="section Subsection" id="id114361cf-e74c-4c1e-8351-f6683f2b206a__id4b04626d-a2d2-4701-86e1-9a0102add75f"><h2 class="title Subheading sectiontitle">Stamp</h2><p class="p">Stamp
is a layer operation used to create a derived layer that receives
its connectivity information from a stamping layer. The derived
layer is used to pass logical connectivity between overlapping polygons
of two different layers. </p>
<p class="p">In the following example, the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Stamp', 'svrf_ur'); return false;">Stamp </a>operation selects all
polyc polygons, overlapped by metal1 polygons, that can receive
valid connectivity information from metal1 polygons. The connectivity
information is assigned to the derived layer named x.</p>
<pre class="pre codeblock leveled"><code>x = STAMP polyc BY metal1  
// x is a derived layer constructed from polyc  
// with metal1 nodal information </code></pre><p class="p">This type of connectivity allows LVS to assign
net numbers to intentional devices based upon these overlaps. By
knowing which intentional devices reside on which nets, a comparison
can be made against the schematic. </p>
<p class="p">For most applications involving soft connection
(or nwell jumper) checks, using the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Sconnect', 'svrf_ur'); return false;">Sconnect</a> statement
is preferable to using Stamp. There are some specialized DRC applications
in which Stamp may be useful.</p>
<p class="p">In Calibre xRC, the Stamp operation is basically
treated like an Sconnect statement. However, the layer specified
in the BY argument of the Stamp operation is frequently a contact
layer and in Calibre xRC it is not allowed to connect a contact
layer directly to any other layer. As a result, all layers necessary
to connect parasitic layers to device layers should be identified
in a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Sconnect', 'svrf_ur'); return false;">Connect</a> (or <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Sconnect', 'svrf_ur'); return false;">Sconnect</a>) statement,
which provides all of the connectivity necessary to produce a valid
point of connection for the device pins.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ConnectivityExtraction_id94526290.html" title="Connectivity extraction recognizes electrically-connected regions in the layout called nets. Nets are recognized from layout shapes through analysis of the relations between the shapes and other objects on various layers such as text objects.">Connectivity Extraction</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ver_user"
                DocTitle = "Calibre® Verification User’s Manual"
                PageTitle = "Electrical Net Recognition"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ElectricalNetRecognition_id114361cf.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Verification User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>