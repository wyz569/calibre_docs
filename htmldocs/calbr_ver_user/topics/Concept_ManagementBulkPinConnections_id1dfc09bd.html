<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Management of Bulk Pin Connections" />
<meta name="abstract" content="In typical Place and Route (PnR) flows, a SPICE library file for the standard cells is provided by a third-party IP vendor, another group within the production organization, or it could be a part of the design kit from the foundry. Footprints of these standard cells are used in the PnR flow to route at the top level. In the PnR flow, the standard cells are in a black-box format. The Verilog netlist is generated from the PnR tool to fill in the black boxes. Since PnR does not work at the transistor level, it does not have a pin for the bulk connection in the Verilog netlist." />
<meta name="description" content="In typical Place and Route (PnR) flows, a SPICE library file for the standard cells is provided by a third-party IP vendor, another group within the production organization, or it could be a part of the design kit from the foundry. Footprints of these standard cells are used in the PnR flow to route at the top level. In the PnR flow, the standard cells are in a black-box format. The Verilog netlist is generated from the PnR tool to fill in the black boxes. Since PnR does not work at the transistor level, it does not have a pin for the bulk connection in the Verilog netlist." />
<meta name="prodname" content="Calibre Verification User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-15" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ver_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Verification User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id1dfc09bd-6979-49c3-870d-761408f0722e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Management of Bulk Pin Connections</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Management of Bulk Pin Connections" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id1dfc09bd-6979-49c3-870d-761408f0722e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Management of Bulk Pin Connections</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">In typical
Place and Route (PnR) flows, a SPICE library file for the standard
cells is provided by a third-party IP vendor, another group within
the production organization, or it could be a part of the design
kit from the foundry. Footprints of these standard cells are used
in the PnR flow to route at the top level. In the PnR flow, the standard
cells are in a black-box format. The Verilog netlist is generated
from the PnR tool to fill in the black boxes. Since PnR does not
work at the transistor level, it does not have a pin for the bulk
connection in the Verilog netlist. </span>
</div>
<p class="p">Generally, the PnR environment
does not manage bulk pin connections, so a means to add a pin to
the Verilog module is needed. Bulk pins can then connect to the
correct bulk nets. The bulk nets are also added to the supply net
domains of the Verilog netlist from PnR and to instantiated module
interfaces.</p>
<p class="p">V2LVS has supported a -addpin option that adds
a pin to subcircuit definitions and subcircuit calls in the output
SPICE netlist. This is done where such pins do not exist in the input
Verilog netlist or in relevant SPICE libraries. </p>
<p class="p">In this example, -addpin fails to give the
desired output. Net VDDB acts as a bulk pin for the buffer_cell
subcircuit and the designer wants to connect VDDB to vcc2 in the
test_top subcircuit.</p>
<p class="p">Verilog File (<span class="ph filepath">top.v</span>):</p>
<pre class="pre codeblock leveled"><code>module test_top (in1, vcc1, <span class="ph CodeHighlight orange">vcc2</span>, vss, out1); 
  input in1; 
  output out1; 
  inout vcc1, <span class="ph CodeHighlight orange">vcc2</span>, vss; 
  wire wire_conn; 
  buffer_cell \U_cell1/lsync (.INP1(in1), .OUT1(wire_conn), .VDD(vcc1), .VSS(vss)); 
  buffer_cell \U_cell2/lsync (.INP1(wire_conn), .OUT1(out1), .VDD(vcc1), .VSS(vss)); 
endmodule </code></pre><p class="p">SPICE library (<span class="ph filepath">subckt_def.s</span>):</p>
<pre class="pre codeblock leveled"><code>.SUBCKT buffer_cell INP1 OUT1 VDD <span class="ph CodeHighlight orange">VDDB</span> VSS 
M1 OUT1 INP1 VSS VSS nmos W=0.4e6 L=0.06e6 
M2 OUT1 INP1 VDD <span class="ph CodeHighlight orange">VDDB</span> pmos W=0.2e6 L=0.06e6 
.ENDS buffer_cell </code></pre><p class="p">Desired output:</p>
<pre class="pre codeblock leveled"><code>.INCLUDE "subckt_def.s" 
.SUBCKT test_top in1 vcc1 <span class="ph CodeHighlight orange">vcc2</span> vss out1 
XU_cell1/lsync buffer_cell $PINS INP1=in1 OUT1=wire_conn VDD=vcc1 VSS=vss <span class="ph CodeHighlight orange">VDDB=vcc2</span> 
XU_cell2/lsync buffer_cell $PINS INP1=wire_conn OUT1=out1 VDD=vcc1 VSS=vss <span class="ph CodeHighlight orange">VDDB=vcc2</span> 
.ENDS </code></pre><p class="p">Using the V2LVS command line interface with
the -addpin option:</p>
<pre class="pre codeblock leveled"><code>v2lvs -v top.v -lsp subckt_def.s -s subckt_def.s -addpin VDDB \
-o v2lvs_top.spi -log v2lvs_top.log </code></pre><p class="p">The output is this:</p>
<pre class="pre codeblock leveled"><code>.INCLUDE "subckt_def.s" 
.SUBCKT test_top in1 vcc1 <span class="ph CodeHighlight orange">vcc2</span> vss out1 VDDB 
XU_cell1/lsync buffer_cell $PINS INP1=in1 OUT1=wire_conn VDD=vcc1 VSS=vss + <span class="ph CodeHighlight orange">VDDB=VDDB</span> 
XU_cell2/lsync buffer_cell $PINS INP1=wire_conn OUT1=out1 VDD=vcc1 VSS=vss + <span class="ph CodeHighlight orange">VDDB=VDDB</span> 
.ENDS </code></pre><p class="p">Notice that VDDB is connected to VDDB, as shown
in the output. However, the designer wants to connect the VDDB pin
of buffer_cell to the vcc2 port present in the cell test_top. The ‑addpin
option does not do this.</p>
<p class="p">The desired output can be produced by in the
V2LVS Tcl interface using this command:</p>
<pre class="pre codeblock leveled"><code><a class="xref fm:HeadingOnly" href="Command_V2lvsaddActualPort_id58bbd3e6.html#id58bbd3e6-58f6-4910-915b-1db4c8af0097__Command_V2lvsaddActualPort_id58bbd3e6.xml#id58bbd3e6-58f6-4910-915b-1db4c8af0097" title="Specifies to add an actual port/pin.">v2lvs::add_actual_port</a> -module test_top -inst * -connect_formal_actual \
{ VDDB vcc2 } </code></pre><p class="p">In this command, the * is used as a wildcard
to match all instances. The command searches for all instances in
cell test_top, and in such instances, the pin VDDB (if VDDB is present
in the child subcircuit) is connected to the port net vcc2 (if vcc2
is present in the cell test_top). </p>
<p class="p">You may want to analyze the design and then
use port/pin commands to make changes in the output. Using the V2LVS
Tcl commands in a Tcl script can be useful in these cases. For example,
if you want to find all cells under a cell called TOP and store
them in a variable, you can use this command in the Tcl shell:</p>
<pre class="pre codeblock leveled"><code>set cell_list [<a class="xref fm:HeadingOnly" href="Command_V2lvsfindModule_id071160ab.html#id071160ab-bb51-4957-8617-f748cb480871__Command_V2lvsfindModule_id071160ab.xml#id071160ab-bb51-4957-8617-f748cb480871" title="Creates a list of module names from the input Verilog netlist. When used without any optional argument sets, this command returns a list of all module names.">v2lvs::find_module</a> -under TOP]</code></pre><p class="p">Now, you can pass the cell_list variable to
another command as an input:</p>
<pre class="pre codeblock leveled"><code><a class="xref fm:HeadingOnly" href="Command_V2lvsaddFormalPort_id0d571c36.html#id0d571c36-fca2-46eb-9c54-e053384563a8__Command_V2lvsaddFormalPort_id0d571c36.xml#id0d571c36-fca2-46eb-9c54-e053384563a8" title="Specifies to add a formal port/pin.">v2lvs::add_formal_port</a> -port VDDB -module $cell_list</code></pre></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_Declarations_id05193903.html" title="The following declaration types are meaningful to V2LVS: input, output, inout, all net types, and parameter.">Declarations</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ver_user"
                DocTitle = "Calibre® Verification User’s Manual"
                PageTitle = "Management of Bulk Pin Connections"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ManagementBulkPinConnections_id1dfc09bd.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Verification User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>