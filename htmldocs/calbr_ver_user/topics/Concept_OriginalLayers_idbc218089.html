<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Original Layers" />
<meta name="abstract" content="Original layers (or drawn layers) are layers that represent original layout data. Original layers have assigned numbers, datatypes, and texttypes. In a rule file, layers may be referenced by numbers, but more frequently the numbers are mapped to names by using Layer statements." />
<meta name="description" content="Original layers (or drawn layers) are layers that represent original layout data. Original layers have assigned numbers, datatypes, and texttypes. In a rule file, layers may be referenced by numbers, but more frequently the numbers are mapped to names by using Layer statements." />
<meta name="DC.subject" content="Drawn layer" />
<meta name="keywords" content="Drawn layer" />
<meta name="prodname" content="Calibre Verification User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-15" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ver_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Verification User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idbc218089-7850-49c1-9672-573709890e5f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Original Layers</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Original Layers" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11801,product.id.P11802,product.id.P11426,product.id.P10099,product.id.P10084,product.id.P10090,product.id.P11493,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idbc218089-7850-49c1-9672-573709890e5f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Original Layers</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc"><dfn class="term italic">Original layers</dfn> (or drawn layers)
are layers that represent original layout data. Original layers
have assigned numbers, datatypes, and texttypes. In a rule file,
layers may be referenced by numbers, but more frequently the numbers
are mapped to names by using Layer statements. </span>
</div>
<p class="p">A layer name to number mapping
may be one-to-one, and when the rule file references the layer name,
that layer is a <span class="ph FontProperty emphasis">simple layer</span>.</p>
<p class="p">The verification system also allows you to
use <dfn class="term italic">layer sets</dfn>, which consist
of a layer name assigned to more than one layer number. In this
case, the layer set behaves as if it were a simple layer with all
shapes on the constituent layers combined. Like simple layers, layer
sets are referred to in the rule file by their name or alias.</p>
<p class="p">Here are examples of
how original layers are declared in an SVRF rule file:</p>
<pre class="pre codeblock leveled"><code><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layer', 'svrf_ur'); return false;">LAYER</a> m1 2 // simple layer 
LAYER met 3 4 5 // layer set 
LAYER all_met m1 met // another layer set </code></pre><p class="p">In most layer operations, the tool automatically
merges the polygon data on an original layer before using that layer.
In a merged-data representation, any original polygons that overlap
or share an edge have been merged into one polygon. (The primary
exceptions are the one-layer Boolean operations that operate on
unmerged original layers.) Merged data is normally a more accurate
depiction of the true mask than unmerged data. Merged data also reduces
the number of objects that the Calibre database must store.</p>
<div class="section Subsections"><div class="section Subsection" id="idbc218089-7850-49c1-9672-573709890e5f__id47483610-a067-4586-86ea-cbd18af141dd"><h2 class="title Subheading sectiontitle">Datatypes and Texttypes</h2><p class="p">Calibre
does not use datatypes or texttypes for its internal database layers.
All layout database layers (with or without datatype or texttype)
are represented using a layer number within the Calibre database.</p>
<p class="p">If the layout database format uses datatypes,
then all datatypes for a given layer are mapped into a single Calibre
layer by default. For example, if you have layer 1 with datatypes
1 and 2 in your layout, these are all mapped to Calibre layer 1
internally. No datatype is used.</p>
<p class="p">Processing
of drawn geometry and text based on datatypes and texttypes is possible
through <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layer Map', 'svrf_ur'); return false;">Layer Map</a> specification statements.
As with all rule file elements, there are no restrictions on the
relative ordering of the Layer and Layer Map specification statements.
Using the previous example, you could map the datatypes this way
in the rule file:</p>
<div class="fig fignone ExampleTitle" id="idbc218089-7850-49c1-9672-573709890e5f__idd24019e5-035c-4dfb-aa6f-b1a8d0882e9c"><span class="figcap"><span class="fig--title-label">Example 1. </span>Mapping
Layer Datatypes to Calibre Layers</span><pre class="pre codeblock leveled"><code>LAYER MAP 1 DATATYPE 1 1 
LAYER MAP 1 DATATYPE 2 2 
LAYER my_layer1 1 
LAYER my_layer2 2 </code></pre></div>
<p class="p">In this example, layer 1 datatype 1 is mapped
to Calibre layer 1. Layer 1 datatype 2 is mapped to Calibre layer
2. Then the Calibre layer numbers are given the names my_layer1
and my_layer2.</p>
<p class="p">When the DATATYPE keyword is present, then
a Layer Map specification statement is called a datatype map. For
datatype maps, when reading a geometry G on layer L with datatype D,
the layout stream reader proceeds as follows:</p>
<ol class="ol"><li class="li" id="idbc218089-7850-49c1-9672-573709890e5f__id58961e64-0178-44aa-b3cb-dc556fa4d7e5"><p class="p">If for any datatype map (source_layers, source_types,
target_layer), L is in source-layers and D is in source-types, then
for each datatype map (source_layers, source_types, target_layer)
such that L is in source_layers and D is in source_types, geometry
G is treated as if it were on target_layer. </p>
</li>
<li class="li" id="idbc218089-7850-49c1-9672-573709890e5f__id9494ef8f-2a34-41b0-a869-f8c4e44ab025"><p class="p">If G is so mapped, then it is no longer treated
as being on layer L, unless L is a target_layer in one of G’s datatype
maps. </p>
</li>
<li class="li" id="idbc218089-7850-49c1-9672-573709890e5f__id829402cf-729a-4e4b-93cf-0d1cf02a657d"><p class="p">If G is in no datatype map, then it is treated
as being on layer L regardless of datatype.</p>
</li>
</ol>
<p class="p">A common problem when using layer maps are
target layer numbers created for the sole purpose of the mapping
which are non-empty. For example:</p>
<pre class="pre codeblock leveled"><code>LAYER metal 100 
LAYER MAP 6 DATATYPE 1 100 </code></pre><p class="p">The intent is that any layout geometry on layer
6, datatype 1, is mapped to Calibre layer 100 and given the name
metal. Problems can arise if layer 100 in the input layout database contains
geometry that is not intended to be used, but which is placed on
Calibre layer 100 per the mapping algorithm described previously.
A simple solution is to map input objects on layer 100 to an unused
layer as follows:</p>
<pre class="pre codeblock leveled"><code>// map database layer 100 (all datatypes) to unused Calibre layer 999
LAYER MAP 100 DATATYPE &gt;= 0 999 
LAYER unused 999 

LAYER MAP 6 DATATYPE 1 100 // layer 6 datatype 1 goes to Calibre layer 100 
LAYER metal 100 </code></pre><p class="p">Because layer maps are not always carefully
designed, a warning is issued for any input layer that meets these
criteria:</p>
<ol class="ol"><li class="li" id="idbc218089-7850-49c1-9672-573709890e5f__id024866e9-95bb-4cae-a075-fd196315171c"><p class="p">Is required by the execution flow.</p>
</li>
<li class="li" id="idbc218089-7850-49c1-9672-573709890e5f__id7202de1d-09bf-448b-a31d-81c50dc5ce69"><p class="p">Is the target layer of a datatype map.</p>
</li>
<li class="li" id="idbc218089-7850-49c1-9672-573709890e5f__id3e33763f-5aa6-450c-a017-d67e596391f9"><p class="p">Contains objects which themselves are not
mapped by any datatype map.</p>
</li>
</ol>
<p class="p">When the Layer Map TEXTTYPE keyword is present, it is called
a texttype map, which is used for mapping text layers. A TEXTTYPE
map works in a similar way to DATATYPE maps. Texttype maps apply
to text objects that exist on a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout Property Text', 'svrf_ur'); return false;">Layout Property Text</a>, <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout Text', 'svrf_ur'); return false;">Layout Text</a>, <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Text Layer', 'svrf_ur'); return false;">Text Layer</a> (and
in LVS, <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Port Layer Text', 'svrf_ur'); return false;">Port Layer Text</a>, and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Device', 'svrf_ur'); return false;">Device</a> TEXT
MODEL LAYER and TEXT PROPERTY LAYER parameters) in the same way
that datatype maps work for datatypes and original layers defined
in Layer specification statements. </p>
<p class="p">Texttype attributes of text objects are retained
throughout the Calibre flow, so if a text object’s layer number
is mapped in a TEXTTYPE map but not the texttype number, its original texttype
attribute is maintained. The texttype can also be mapped to a different
type using the Layer Map statement.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_Layers_idb13d8fa3.html" title="A geometric layout database consists of layers corresponding to materials used in chip manufacturing. The layers contain various objects like polygons, paths, text objects, and properties. There are four types of layers that Calibre tools process.">Layers</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layer Map', 'svrf_ur'); return false;">Layer Map [Standard Verification Rule Format (SVRF) Manual]</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ver_user"
                DocTitle = "Calibre® Verification User’s Manual"
                PageTitle = "Original Layers"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_OriginalLayers_idbc218089.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Verification User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>