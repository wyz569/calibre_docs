<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Creating Waiver Cell Rule Checksum Annotations with waiver_flow" />
<meta name="abstract" content="You can generate waiver shapes with rule checksum annotations using waiver_flow. In a verification run with waivers, any rule checksum in the waiver cell is compared to the rule in the specified rule file. If the checksum does not match the corresponding rule or rule filename, a warning is issued and waivers are not applied for that rule." />
<meta name="description" content="You can generate waiver shapes with rule checksum annotations using waiver_flow. In a verification run with waivers, any rule checksum in the waiver cell is compared to the rule in the specified rule file. If the checksum does not match the corresponding rule or rule filename, a warning is issued and waivers are not applied for that rule." />
<meta name="prodname" content="Calibre Auto-Waivers User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-24" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="All;show" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_autowaiver_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Auto-Waivers™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10116,product.id.P10096,product.id.P10125,product.id.P10126" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id480c79d1-4986-43d6-afb0-747f3d0092bb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Creating Waiver Cell Rule Checksum Annotations with waiver_flow</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Creating Waiver Cell Rule Checksum Annotations with waiver_flow" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10116,product.id.P10096,product.id.P10125,product.id.P10126" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id480c79d1-4986-43d6-afb0-747f3d0092bb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Creating Waiver Cell Rule
Checksum Annotations with waiver_flow</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">You can generate
waiver shapes with rule checksum annotations using waiver_flow.
In a verification run with waivers, any rule checksum in the waiver
cell is compared to the rule in the specified rule file. If the
checksum does not match the corresponding rule or rule filename,
a warning is issued and waivers are not applied for that rule. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">To use rule checksums, you
must enable the legacy Calibre Auto-Waivers engine by setting the CALIBRE_WAIVER_OLD_ENGINE
environment variable. See “<a class="xref fm:HeadingAndPage" href="General_CalibreEnvironmentVariables_idbd8e1479.html#idbd8e1479-9a21-47b7-80e4-2b1cbedaf74d__General_CalibreEnvironmentVariables_idbd8e1479.xml#idbd8e1479-9a21-47b7-80e4-2b1cbedaf74d" title="Calibre tools require that the CALIBRE_HOME environment variable be set.">Calibre Environment Variables</a>”.</p>
</div>
<p class="p">The following commands
are used in the waiver setup file to control rule checksum generation:</p>
<ul class="ul"><li class="li" id="id068110d9-a92f-4776-b910-a661c1a212f1"><p class="p">RULE_CHECKSUM_TEXT_LAYER</p>
</li>
<li class="li" id="id48716bcc-69d0-42db-9c5c-d56f2fdfbeb9"><p class="p">RULE_CHECKSUM_TEXTTYPE</p>
</li>
<li class="li" id="id4cb8eeb0-13cb-44d1-bbfc-a55e329f95d6"><p class="p">RUN_RULE_CHECKSUM</p>
</li>
</ul>
<p class="p">For more details on rule checksums and limitations,
refer to “<a class="xref fm:HeadingAndPage" href="General_RuleChecksumAnnotations_id1c52b585.html#id1c52b585-aea0-4474-9871-379913fa5ada__General_RuleChecksumAnnotations_id1c52b585.xml#id1c52b585-aea0-4474-9871-379913fa5ada" title="Rule checksums are used to ensure that the rule being waived has not been modified. Waivers generated in Calibre Auto-Waivers are based on the rule name. Rule checksums guarantee that the rule code associated with the rule name has not been changed since the waiver shape was last generated.">Rule Checksum Annotations</a>” of Appendix A.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id954a6acf-52e4-4ce5-b0f8-1c76bbf627e0"><p class="p">Layout
files and associated rule file with rules that you want to waive</p>
</li>
<li class="li" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id85e5b0f3-7878-4547-a437-0b22c51fcceb"><p class="p">A
waiver criteria file and a waiver cells file for the design</p>
</li>
<li class="li" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id31f93dc7-a404-4f25-ae9f-ea67709948c6"><p class="p">A
supported layout viewer</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id88c876a1-1d81-49dc-b032-e5df07eda4d3"><span class="ph cmd">Review your waiver cells file
and make any modifications as necessary.</span></li>
<li class="li step stepexpand" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id1854fa64-bdee-4041-a214-df48c3b4d607"><span class="ph cmd">Write a waiver setup file
such as the following: </span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>INPUT_LIBRARY design.gds 
RULE FILE rules 
WAIVER_CELLS waiver_cells_file 
LAYOUT_SYSTEM GDSII 
MERGE NO 
WAIVER_DATABASE waived.gds 
 
## These checksum statements use the default layer settings ## 
RULE_CHECKSUM_TEXT_LAYER 1234 
RULE_CHECKSUM_TEXTTYPE 9 
RUN_RULE_CHECKSUM YES</code></pre><p class="p">Save the file as <span class="keyword ParameterName OptionalReplaceable">waiver_setup</span>.</p>
</div></li>
<li class="li step stepexpand" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id73c36ecb-5b95-4c51-abbb-617608829ac6"><span class="ph cmd">Run the tool as follows:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code><span class="keyword ParameterName Required">waiver_flow </span><span class="keyword ParameterName RequiredReplaceable">waiver_setup_file</span>  </code></pre><p class="p">Waivers are generated based
on the information in the waiver setup and description files. The
embedded waiver shapes are saved, by default, to <span class="ph filepath">waived.gds</span>.</p>
</div></li>
<li class="li step stepexpand" id="id480c79d1-4986-43d6-afb0-747f3d0092bb__id476b8f4e-eb87-4a7e-9368-42a5a00da384"><span class="ph cmd">Check the <span class="ph filepath">waiver.summary</span> file
to ensure there were no problems in the waiver_flow run.</span></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The waiver_flow tool computes the
checksum for all rules associated with the generated waiver shapes.
Checksum text objects appear inside the waiver geometry cells on
layer 1234 and texttype 9. </p>
<p class="p">In this example, the checksums for
rules defined in the <span class="keyword ParameterName OptionalReplaceable">rule</span> file
are embedded in the waiver cell cells defined in the <span class="ph FontProperty emphasis">waiver_cells</span> file.
When performing a DRC run, the waiver cell rule checksums are compared
with the DRC rule file.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_WaiverShapeGenerationWaiverFlowTool_id4041f08e.html" title="The waiver_flow executable generates waiver shapes in batch mode. The tool is multi-threaded, and for larger designs, that is the preferable run mode.">Waiver Shape Generation with the waiver_flow Tool</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/TaskTop_UsingRuleChecksumsInCalibreWaiver_id2706037d.html#id2706037d-e752-458f-8d36-9d293bd9ffc3__" title="Apply calibre -waiver to verify rule checksums from waiver cells in a physical verification run. Rule checksums ensure that the rule code used to generate waiver cells matches the rule code used in the verification run.">Using Rule Checksums in calibre -waiver</a></div>
<div><a class="link" href="../topics/General_RuleChecksumAnnotations_id1c52b585.html#id1c52b585-aea0-4474-9871-379913fa5ada__" title="Rule checksums are used to ensure that the rule being waived has not been modified. Waivers generated in Calibre Auto-Waivers are based on the rule name. Rule checksums guarantee that the rule code associated with the rule name has not been changed since the waiver shape was last generated.">Rule Checksum Annotations</a></div>
<div><a class="link" href="../topics/FileRef_WaiverSetupFileFormatWaiverGeneration_idf13f9f02.html#idf13f9f02-814c-4e02-8989-e4ed41649b6b__" title="Specifies input and output parameters for waiver_flow.">Waiver Setup File Format for Waiver Generation</a></div>
<div><a class="link" href="../topics/TaskTop_GeneratingWaiversWaiverFlowTool_id724cb589.html#id724cb589-e38b-43a6-b700-3ba1681f4756__" title="The waiver_flow executable generates waiver shapes in batch mode.">Generating Waivers with the waiver_flow Tool</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_autowaiver_useref"
                DocTitle = "Calibre® Auto-Waivers™ User’s and Reference Manual"
                PageTitle = "Creating Waiver Cell Rule Checksum Annotations with waiver_flow"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CreatingWaiverCellRuleChecksumAnnotationsWaiverFlow_id480c79d1.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Auto-Waivers™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>