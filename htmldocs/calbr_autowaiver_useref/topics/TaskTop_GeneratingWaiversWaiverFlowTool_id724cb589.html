<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Generating Waivers with the waiver_flow Tool" />
<meta name="abstract" content="The waiver_flow executable generates waiver shapes in batch mode." />
<meta name="description" content="The waiver_flow executable generates waiver shapes in batch mode." />
<meta name="prodname" content="Calibre Auto-Waivers User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-24" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="All;show" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_autowaiver_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Auto-Waivers™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10116,product.id.P10096,product.id.P10125,product.id.P10126" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id724cb589-e38b-43a6-b700-3ba1681f4756" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Generating Waivers with the waiver_flow Tool</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Generating Waivers with the waiver_flow Tool" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10116,product.id.P10096,product.id.P10125,product.id.P10126" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id724cb589-e38b-43a6-b700-3ba1681f4756">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Generating Waivers with the waiver_flow Tool</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The
waiver_flow executable generates waiver shapes in batch mode. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If
you run waiver_flow more than once, the tool overwrites files of
the same name from an earlier run. For this reason, it is best to
do DRC and ERC waiver generation in different directories.</p>
</div>
</div>
<div class="section Restrictions"><h2 class="title Subheading sectiontitle">Restrictions and Limitations</h2><ul class="ul"><li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id05344e82-d897-438f-85b9-366f5bc36cc1"><p class="p">The waiver_flow utility cannot be used to generate
waivers for cloned cells. Use the drc_waiv_asc2gds utility or Calibre
RVE.</p>
</li>
</ul>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id528a9511-0df4-4cc8-bd3d-e008982ad22d"><p class="p">See “<a class="xref fm:HeadingAndPage" href="General_RequirementsRunningCalibreautowaiver_id425e57f2.html#id425e57f2-867c-417a-abd9-ad5692af0d4f__General_RequirementsRunningCalibreautowaiver_id425e57f2.xml#id425e57f2-867c-417a-abd9-ad5692af0d4f" title="Calibre Auto-Waivers requires its own license and existing Calibre licenses for each verification tool. Depending on the use case, you may also choose to configure the tool by writing a waiver setup file.">Requirements for Running Calibre Auto‑Waivers</a>”. </p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__ida0c12f54-022e-4b91-b4ef-7ee2c2d680ba"><p class="p">A
waiver cells file. See “<a class="xref fm:HeadingAndPage" href="Contain_WaiverDescriptionFiles_ide2beca4b.html#ide2beca4b-09db-44ca-9f09-1946b4fc31d9__Contain_WaiverDescriptionFiles_ide2beca4b.xml#ide2beca4b-09db-44ca-9f09-1946b4fc31d9" title="Waiver description files are used to define the waivers that you intend to enforce. There are two waiver description files: the waiver criteria and the waiver cells files.">Waiver Description Files</a>” and “<a class="xref fm:HeadingOnly" href="TaskTop_WritingWaiverCellsFileWaiverFlow_idadfcc71e.html#idadfcc71e-2173-4d07-80a2-c7bece9fc918__TaskTop_WritingWaiverCellsFileWaiverFlow_idadfcc71e.xml#idadfcc71e-2173-4d07-80a2-c7bece9fc918" title="In order to generate waivers with the waiver_flow tool, you must have a waiver cells file to define the cells from which waivers are generated. This file must be written manually and must be prepared before a waiver_flow run.">Writing the Waiver Cells File for waiver_flow</a>” for instructions, if needed. </p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id5149c03d-526c-4cc5-bb38-acf8e0b8f96f"><p class="p">A
waiver generation setup file. See “<a class="xref fm:HeadingOnly" href="TaskTop_WritingWaiverSetupFileWaiverGeneration_id8af6ebbc.html#id8af6ebbc-e5f7-4474-a6f0-246b2a90d51a__TaskTop_WritingWaiverSetupFileWaiverGeneration_id8af6ebbc.xml#id8af6ebbc-e5f7-4474-a6f0-246b2a90d51a" title="In order to generate waiver geometry with waiver_flow, you must have a waiver generation setup file to define the inputs and outputs.">Writing the Waiver Setup File for Waiver Generation</a>” for instructions, if needed. </p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id03580cdc-d452-431d-8335-731831424e5c"><p class="p">The
input layout should not have waiver shapes embedded in it that conflict
with any design cell and rule check pair specified in the waiver
description files. Failure to guarantee this can cause a warning
in the waiver_flow run. Additional waivers from the conflicting
rule check and cell pair <span class="keyword ParameterName OptionalReplaceable">are not merged into the output design</span>.</p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id524e2ff4-07c5-401f-919b-36d57089e1d7"><p class="p">If
using the -turbo option, you need sufficient licenses to run the
job.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id252c6179-9cbb-429c-b7ef-7e1f1a8b8753"><span class="ph cmd">Ensure your input files are
all available and correct. </span></li>
<li class="li step stepexpand" id="id724cb589-e38b-43a6-b700-3ba1681f4756__idffec8b6a-9e5b-4139-b483-ac148ee32489"><span class="ph cmd">Open the waiver generation
setup file and do the following:</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__idebe671d3-8095-47ba-8d4e-011ba39ee8f3"><p class="p">Ensure the INPUT_LIBRARY,
RULE_FILE, and WAIVER_CELLS paths are properly specified.</p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id14bf17a2-2b1c-49d8-abcb-9f7c467a6305"><p class="p">If you are embedding waiver
shapes in your design, ensure the MERGE YES statement is specified
in the waiver generation setup file.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id103b710d-49c7-4cc5-95d6-b3c826f683d7"><span class="ph cmd">Run the waiver_flow executable.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>waiver_flow [-erc] [-turbo [<span class="keyword ParameterName OptionalReplaceable">N</span>] [-hyper]] [-nowait | -wait n] <span class="keyword ParameterName RequiredReplaceable">waiver_setup_file</span> |tee waiver_flow.log </code></pre><p class="p">Where <span class="keyword ParameterName RequiredReplaceable">waiver_setup_file</span> is
the waiver generation setup file described under “<a class="xref fm:HeadingAndPage" href="FileRef_WaiverSetupFileFormatWaiverGeneration_idf13f9f02.html#idf13f9f02-814c-4e02-8989-e4ed41649b6b__FileRef_WaiverSetupFileFormatWaiverGeneration_idf13f9f02.xml#idf13f9f02-814c-4e02-8989-e4ed41649b6b" title="Specifies input and output parameters for waiver_flow.">Waiver Setup File Format for Waiver Generation</a>”.</p>
<p class="p">The -turbo option causes Calibre
to be called internally in MT mode. This option should be used when
there are large cells in which waivers are applied.</p>
</div></li>
<li class="li step stepexpand" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id1a50430e-e1e2-4e4d-83a8-9b2f5227bc3b"><span class="ph cmd">After the run, check the following:</span><ol type="a" class="ol substeps"><li class="li substep" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id6af63db9-2245-4e80-b7ad-cd80aad0c9c6"><span class="ph cmd">Open the <span class="ph filepath">waiver.summary</span> (the
name may be different if WAIVER_SUMMARY is specified in the setup
file) file in a text reader and check the messages. A listing of messages
is found in the section “<a class="xref fm:HeadingAndPage" href="Contain_CalibreAutoWaiverRuntimeMessages_id946a5803.html#id946a5803-6955-495a-b42f-e61463d78720__Contain_CalibreAutoWaiverRuntimeMessages_id946a5803.xml#id946a5803-6955-495a-b42f-e61463d78720" title="Runtime messages issued by Calibre Auto-Waivers applications are prefixed by an error, warning, or note string to indicate the severity of the message.">Calibre Auto-Waivers Runtime Messages</a>”.</span></li>
<li class="li substep" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id51ea0bd3-0bf6-4ae8-9ee3-c950acb63cf4"><span class="ph cmd">Change directories to the <span class="ph filepath">Waiver_results</span> directory. </span><div class="itemgroup stepresult"><p class="p">This directory contains subdirectories with the names
of cells from the INPUT_LIBRARY design in which waivers are applied.
The primary files of interest in each subdirectory are as follows:</p>
<ul class="ul"><li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id47bc6c8d-e48b-4ade-b710-f5069f2ff2e9"><p class="p">A link to your
INPUT_LIBRARY design called <span class="ph filepath">chip.gds</span></p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__idf3a7ec4b-9e22-401d-9ccf-dbca5f1c1d1c"><p class="p">A DRC summary
report that ends in a <span class="keyword ParameterName OptionalReplaceable">.report</span> suffix</p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id88de0fac-a899-4885-9a20-3b7f2da7d228"><p class="p">A DRC results
database called <span class="ph filepath">DRC_RES.db</span></p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__ida0cb8db6-acb6-4c12-9166-583b2c320d59"><p class="p">A <span class="ph filepath">calibre.log</span> file.
The <span class="ph filepath">calibre.log</span> file is useful to check if
something appears abnormal in the run</p>
</li>
</ul>
<p class="p">If the run used the -erc option,
then the files in this directory have the ERC string in them instead
of DRC.</p>
</div></li>
<li class="li substep" id="id724cb589-e38b-43a6-b700-3ba1681f4756__idc11a72c9-d883-4c29-b5e6-961663c885a9"><span class="ph cmd">If you find the waivers generally
are not what you expect for a given rule check, then adjust your
waiver cells file. See “<a class="xref fm:HeadingAndPage" href="FileRef_WaiverCellsFileFormat_id9fe2467c.html#id9fe2467c-fac1-4021-847e-3397532f80c5__FileRef_WaiverCellsFileFormat_id9fe2467c.xml#id9fe2467c-fac1-4021-847e-3397532f80c5" title="Specifies the rules that you want to waive by cell when generating waiver shapes with the waiver_flow tool.">Waiver Cells File Format</a>”.</span></li>
<li class="li substep" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id7e6fad46-dd03-4d72-bfb1-196a776a0f6f"><span class="ph cmd">After making adjustments,
run waiver_flow again and follow step 4 again.</span></li>
<li class="li substep" id="id724cb589-e38b-43a6-b700-3ba1681f4756__idf60a4ad2-115f-42ed-86e0-a5d5b760530b"><span class="ph cmd">If you are embedding waiver
shapes in your design (MERGE YES is specified in the setup file),
then do the following:</span><div class="itemgroup info SubStepInfo"><ol class="ol" type="i"><li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__ida61c2d96-3d39-4815-bcca-1483a21b6e23"><p class="p">Return
to your working directory and locate the WAIVER_DATABASE file (<span class="ph filepath">waived.gds</span> by
default). </p>
<p class="p">The file contains your original design data merged with waiver
shapes. </p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id825be3bf-9743-4ad0-bd4d-162a5b164883"><p class="p">Open this file
in your layout viewer and examine the cells in which waivers have been
applied. </p>
</li>
<li class="li" id="id724cb589-e38b-43a6-b700-3ba1681f4756__ide035a342-7e15-4311-a0de-4d7ecab44a3a"><p class="p">You can look
for placements of the waiver geometry cells as seen in Step 1. See “<a class="xref fm:HeadingAndPage" href="Contain_PhysicalVerificationWaivers_id9194c951.html#id9194c951-2059-4bce-b2de-0879d602ca66__Contain_PhysicalVerificationWaivers_id9194c951.xml#id9194c951-2059-4bce-b2de-0879d602ca66" title="The verification flow for DRC, DFM, and ERC waivers is similar. The calibre ‑waiver option causes waivers to be applied for which there are waiver shapes (either in the input design or merged with it at runtime) that correspond to the waiver criteria file and waiver verification setup file specifications.">Physical Verification with Waivers</a>” for a description of the waiver geometry
output.</p>
</li>
</ol>
</div></li>
<li class="li substep" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id7125331e-3b25-4d68-a596-f381ed5d1b5d"><span class="ph cmd">If you are using non-embedded
waiver shapes (MERGE NO), open the waiver geometry file (<span class="ph filepath">waived.gds</span> by
default; the WAIVER_DATABASE file, if specified) in your layout
viewer and inspect the contents. You can look for placements of
the waiver geometry cells as seen in Step 1.</span><div class="itemgroup info SubStepInfo"><p class="p">This file is merged with your chip design in the
calibre -waiver run to enforce the waivers.</p>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id86dc9aba-2f79-4db7-82f1-cd2562e2fe55"><span class="ph cmd">If you are providing IP, give
the waiver generation setup file and waiver description files to
the IP users.</span></li>
<li class="li step stepexpand" id="id724cb589-e38b-43a6-b700-3ba1681f4756__id198375d8-4e21-4957-a99f-d2f980cfd29f"><span class="ph cmd">Perform design verification
with waivers. See “<a class="xref fm:HeadingOnly" href="TaskTop_WritingWaiverCriteriaFileWaiverVerification_id3764bc93.html#id3764bc93-8a0b-4a6e-b6d5-57fcf4a5a8bb__TaskTop_WritingWaiverCriteriaFileWaiverVerification_id3764bc93.xml#id3764bc93-8a0b-4a6e-b6d5-57fcf4a5a8bb" title="You can specify custom criteria for waivers shapes that are applied during verification if the default values do not meet your requirements. The tool writes all waiver criteria applied to rule checks as a DRC Check Comment. These comments are visible in Calibre RVE.">Writing the Waiver Criteria File for Waiver Verification</a>.”</span><div class="itemgroup info StepInfo"><div class="note note"><span class="notetitle">Note:</span> <p class="p">As of 2019.2, waiver shape edges are always expanded
by two DBU. If your waiver database was generated in 2019.1 and
earlier, you may need to regenerate your waiver databases using
2019.2 and newer in order to ensure that waivers are correctly applied.</p>
</div>
</div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_WaiverShapeGenerationWaiverFlowTool_id4041f08e.html" title="The waiver_flow executable generates waiver shapes in batch mode. The tool is multi-threaded, and for larger designs, that is the preferable run mode.">Waiver Shape Generation with the waiver_flow Tool</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Contain_PhysicalVerificationWaivers_id9194c951.html#id9194c951-2059-4bce-b2de-0879d602ca66__" title="The verification flow for DRC, DFM, and ERC waivers is similar. The calibre ‑waiver option causes waivers to be applied for which there are waiver shapes (either in the input design or merged with it at runtime) that correspond to the waiver criteria file and waiver verification setup file specifications.">Physical Verification with Waivers</a></div>
<div><a class="link" href="../topics/Concept_WaiverCellsInstancesErrorCells_id221865a5.html#id221865a5-b48c-47b6-ba91-55bb50f7e579__" title="Cells with waive-able errors that contain instances of cells with waive-able errors must be treated carefully in order to have waivers applied properly throughout the design.">Waiver Cells With Instances of Error Cells</a></div>
<div><a class="link" href="../topics/Contain_CalibreAutoWaiverRuntimeMessages_id946a5803.html#id946a5803-6955-495a-b42f-e61463d78720__" title="Runtime messages issued by Calibre Auto-Waivers applications are prefixed by an error, warning, or note string to indicate the severity of the message.">Calibre Auto-Waivers Runtime Messages</a></div>
<div><a class="link" href="../topics/FileRef_WaiverSetupFileFormatWaiverGeneration_idf13f9f02.html#idf13f9f02-814c-4e02-8989-e4ed41649b6b__" title="Specifies input and output parameters for waiver_flow.">Waiver Setup File Format for Waiver Generation</a></div>
<div><a class="link" href="../topics/Command_WaiverUtil_id7e28cc9d.html#id7e28cc9d-59c6-4097-8fee-7f50733656c9__" title="This command takes a GDSII or OASIS input file and performs a specified waiver operation on the file.">waiver_util</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_autowaiver_useref"
                DocTitle = "Calibre® Auto-Waivers™ User’s and Reference Manual"
                PageTitle = "Generating Waivers with the waiver_flow Tool"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_GeneratingWaiversWaiverFlowTool_id724cb589.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Auto-Waivers™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>