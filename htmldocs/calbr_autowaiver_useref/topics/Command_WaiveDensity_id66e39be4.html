<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="WAIVE_DENSITY" />
<meta name="abstract" content="Specifies that the waivers are applied for Density results on a per-window basis, such as the results in a Density RDB." />
<meta name="description" content="Specifies that the waivers are applied for Density results on a per-window basis, such as the results in a Density RDB." />
<meta name="prodname" content="Calibre Auto-Waivers User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-24" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="All;show" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_autowaiver_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Auto-Waivers™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10116,product.id.P10096,product.id.P10125,product.id.P10126" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id66e39be4-16fd-44a0-b9e3-22c5a09e3555" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>WAIVE_DENSITY</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="WAIVE_DENSITY" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10116,product.id.P10096,product.id.P10125,product.id.P10126" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id66e39be4-16fd-44a0-b9e3-22c5a09e3555">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">WAIVE_DENSITY</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Waiver
criteria file statement. </p>
<p class="shortdesc">Specifies that the waivers are applied
for Density results on a per-window basis, such as the results in
a Density RDB. </p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName RequiredReplaceable">density_rule </span>{<span class="keyword ParameterName Required">WAIVE_DENSITY</span> [<span class="keyword ParameterName OptionalReplaceable">result_overlap</span>] } | NONE</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id66e39be4-16fd-44a0-b9e3-22c5a09e3555__ida8a74550-c4c1-41a2-bce1-8208c9dce3a3"><span class="keyword ParameterName OptionalReplaceable">result_overlap</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional
argument that specifies the overlap percentage of the density result
with the waiver. WAIVE_DENSITY is not specified with a <span class="keyword ParameterName OptionalReplaceable">waiver_type </span>or <span class="keyword ParameterName OptionalReplaceable">waiver_overlap</span> parameter.
The <span class="keyword ParameterName OptionalReplaceable">result_overlap </span>parameter
is applied per-window, not per-merged-result as is done with a standard
form waiver statement. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66e39be4-16fd-44a0-b9e3-22c5a09e3555__idd1b0ff30-dda9-447d-8ea8-6eb742c773fb">NONE</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional argument that
specifies that no waivers for the specified <span class="keyword ParameterName RequiredReplaceable">density_rule</span> are
applied in calibre ‑waiver or generated with waiver_flow. NONE must
not be specified with other primary criteria. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The tool
applies WAIVE_DENSITY waivers where a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density', 'svrf_ur'); return false;">Density</a> window’s
area intersects a waiver shape, and the ratio of the area of intersection
to the area of the Density window exceeds the <span class="keyword ParameterName OptionalReplaceable">result_overlap</span> percentage.
For example, if your <span class="keyword ParameterName OptionalReplaceable">result_overlap </span>is
50, then a result window is waived when greater than 50 percent
of its area intersects the waiver shape. The only exception to this
is when a <span class="keyword ParameterName OptionalReplaceable">result_overlap</span> of
100 is used. In that case, 100 percent intersection is required
for a waiver to apply.</p>
<p class="p">If the <span class="keyword ParameterName RequiredReplaceable">density_rule</span> is
specified in a standard form statement and a WAIVE_DENSITY statement
exists, then the WAIVE_DENSITY statement is applied by default unless
the rule has no Density operation in it. In the latter case, the
corresponding standard form statement is applied and a WARNING is
issued.</p>
<p class="p">The <span class="keyword ParameterName RequiredReplaceable">density_rule</span> check
can have only one layer operation that has output to the DRC Results Database
when WAIVE_DENSITY is used, otherwise a warning is issued and no
waivers occur. </p>
<p class="p">WAIVE_DENSITY
statements are applied in these ways:</p>
<ul class="ul"><li class="li" id="id66e39be4-16fd-44a0-b9e3-22c5a09e3555__id8ccbe458-f762-4e53-9275-ee6196c7a016"><p class="p"><span class="keyword ParameterName Required">waiver_flow</span> —
Waiver shapes are always generated for the final layer operation
in the rule (the rule with output to the DRC Results Database),
whether that operation is a Density operation, or not.</p>
</li>
<li class="li" id="id66e39be4-16fd-44a0-b9e3-22c5a09e3555__id03882399-0d33-4ec6-b453-f95f0c3c02dd"><p class="p"><span class="keyword ParameterName Required">calibre -drc -waiver</span> —
Waivers are applied to the Density operation in the rule, if that operation
is deriving a layer, or that operation is the final one in the rule.
If the Density operation is deriving a layer, that layer is manipulated
by any subsequent layer operations in the rule. If this occurs,
DRC results can intersect waiver shapes, which can lead to non-intuitive
results. In such cases, use a standard form waiver statement, or
a WAIVE_EXTENT or WAIVE_MARKER statement in conjunction with the WAIVE_DENSITY
statement.</p>
</li>
</ul>
<p class="p">Density waivers may be applied using the standard
form waiver criteria syntax; however, most users want to waive <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density', 'svrf_ur'); return false;">Density</a> results on
a per-window basis rather than on a per-merged-result basis. To
implement per-window waivers, the WAIVE_DENSITY statement is used.</p>
<p class="p">For this waiver rule:</p>
<pre class="pre codeblock leveled"><code>density_rule WAIVE_DENSITY 99</code></pre><p class="p">a waiver_flow run generates waiver shapes for
all <span class="keyword ParameterName RequiredReplaceable">density_rule</span> results
windows. In a subsequent calibre ‑waiver run, any <span class="keyword ParameterName RequiredReplaceable">density_rule</span> result
window that is completely overlapped (99 percent coverage) by a
waiver shape is waived. See “<a class="xref fm:HeadingAndPage" href="Contain_DensityWindowWaivers_idd764954f.html#idd764954f-09b8-4b03-9737-9a682524035b__Contain_DensityWindowWaivers_idd764954f.xml#idd764954f-09b8-4b03-9737-9a682524035b" title="Top-level Density results are merged into single shapes that can be comprised of multiple windows. Typically, you should waive results on a per-window basis rather than on a merged-window (top-level) basis to ensure the intended result.">Density Window Waivers</a>” for information about this
flow.</p>
<p class="p">The output of the calibre -drc -waiver run
includes <span class="ph filepath">density_waived.rdb</span> and <span class="ph filepath">unused_waiver.rdb</span> files,
which can be loaded into Calibre RVE. </p>
<p class="p">If your Density results are false errors due
to an offset of the cell-level Density window grid versus the top-level
window grid, you can calculate the threshold <span class="keyword ParameterName OptionalReplaceable">result_overlap</span> value
for waiving all Density results in the cell, as follows. Assume
these definitions:</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">x-offset</span> —
Difference in the +x direction between the cell-level Density window
grid and the top-level window grid.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">wx</span> —
Length of the Density window in the x-direction.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">wy</span> —
Length of the Density window in the y-direction.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">area_offset</span> =
x-offset * wy</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">area_window</span> =
wx * wy</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">threshold percent</span> =
((1- area_offset/area_window) * 100) - 1</p>
<div class="fig fignone" id="id66e39be4-16fd-44a0-b9e3-22c5a09e3555__idae28bc5c-c4b3-4092-883d-9526af04db9f"><span class="figcap"><span class="fig--title-label">Figure 1. </span>result_overlap Waiver Threshold</span><br /><div class="imageleft"><img class="image imageleft" height="136" src="../graphics/setup_and_description_files09a.png" width="468" /></div><br /></div>
<p class="p">A <span class="keyword ParameterName OptionalReplaceable">result_overlap</span> that
is less than or equal to the threshold percent waives all results
in the cell. Calculations for y-direction offsets are similar. If
there is an offset in both the x- and y-directions, the lesser threshold
percent serves as the threshold for both directions.</p>
<p class="p">The preceding threshold calculation is cumbersome
because of layout dependencies. An easier solution to waiving all
Density results in a cell is to do this:</p>
<pre class="pre codeblock leveled"><code><span class="keyword ParameterName Required">density_rule</span> WAIVE_DENSITY 100 WAIVE_EXTENT cell</code></pre><p class="p">This combination of statements causes all <span class="keyword ParameterName RequiredReplaceable">density_rule</span> results
to be waived when they are completely overlapped (100 percent coverage)
by the extent of the cell. See “<a class="xref fm:HeadingAndPage" href="TaskTop_UsingCellExtentWaivers_id5d111140.html#id5d111140-8a46-447f-84e4-8633681fcc16__TaskTop_UsingCellExtentWaivers_id5d111140.xml#id5d111140-8a46-447f-84e4-8633681fcc16" title="You can waive rule check results within the extent of a cell, which can be used for any rule check for which you want to waive DRC or ERC results that touch the extent of a cell. Cell extent waivers are often useful in cases where an unplaced cell is known to be clean, but the cell has Density errors when placed in the design. This happens because the Density window grid uses a different basepoint in the full design.">Using Cell Extent Waivers</a>” for information about using
the EXTENT keyword.</p>
<p class="p">Another common usage is to use a marker layer
to waive Density results when a cell is placed in the main design.
To do this, you can have the following:</p>
<pre class="pre codeblock leveled"><code>density_rule WAIVE_DENSITY 100 WAIVE_MARKER marker </code></pre><p class="p">This causes all <span class="keyword ParameterName RequiredReplaceable">density_rule</span> results
to be waived when they are completely overlapped by the marker layer
in the cell.</p>
<p class="p">If you have a WAIVE_DENSITY rule check that
contains supported layer operations other than Density, this can
have side effects.</p>
<p class="p">Consider this rule:</p>
<pre class="pre codeblock leveled"><code>Check1{ 
X = DENSITY M1 &lt; 0.4 WINDOW 100 100 STEP 10 
SIZE X BY 100 
} </code></pre><p class="p">The waiver_flow command generates the waiver
shapes from the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Size', 'svrf_ur'); return false;">Size</a> operation.
Assume this waiver criteria statement is used: Check1 WAIVE_DENSITY
100. During the calibre ‑waiver run, the initial results are those
Density windows outside of the waiver shapes. These results then
have the Size operation applied to them. It is possible that after
sizing, there are results that overlap a waiver shape. This is probably
not what is desired; you may prefer to use a standard waiver statement,
a WAIVE_MARKER statement, or a WAIVE_EXTENT statement in conjunction
with WAIVE_DENSITY.</p>
<p class="p">Here is another case:</p>
<pre class="pre codeblock leveled"><code>Check2{ 
X = DENSITY M1 &lt; 0.4 WINDOW 100 100 STEP 10 
EXT X &lt; 50 
} </code></pre><p class="p">The waiver_flow command generates the waiver
shapes from the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'External', 'svrf_ur'); return false;">External</a> operation.
You would expect these waiver shapes to abut layer X shapes, but
they are not inside layer X. If you use just WAIVE_DENSITY for this
rule, there probably will be no waivers applied in the calibre ‑waiver
run because there is no interaction between the waiver shapes and
the Density windows. You may prefer to use a standard waiver statement,
a WAIVE_MARKER statement, or a WAIVE_EXTENT statement in conjunction
with WAIVE_DENSITY.</p>
<p class="p">Here is another case:</p>
<pre class="pre codeblock leveled"><code>Check3{ 
X = DENSITY M1 &lt; 0.4 WINDOW 100 100 STEP 10 
X AND (EXTENT NOT RAM) 
} </code></pre><p class="p">In this case, the waiver_flow output waiver
shapes will be a subset of the data from layer X. Using WAIVE_DENSITY
for this rule will likely cause the waivers to be applied by calibre ‑waiver
in matched locations.</p>
<p class="p">As a general guideline, if downstream layer
operations reduce the Density output to a subset of shapes that
Density generates, then WAIVE_DENSITY results will likely be acceptable.
If downstream operations go outside of the Density shapes, then
there is risk of unexpected results. If you have such rules, you
must decide how to manage the waivers: use a standard waiver statement,
or use WAIVE_MARKER or WAIVE_EXTENT in combination with your WAIVE_DENSITY
statement.</p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="Concept_WaiverCriteriaFileDescription_ida23c3b83.html#ida23c3b83-ebdf-43ab-a0e8-a4e4fce94b0d__Concept_WaiverCriteriaFileDescription_ida23c3b83.xml#ida23c3b83-ebdf-43ab-a0e8-a4e4fce94b0d" title="The waiver criteria file is optionally used by the waiver_flow executable to generate waiver shapes with custom criteria. It is used during calibre -waiver runs to enforce waivers. It can be imported into Calibre RVE to define waiver criteria.">Waiver Criteria File Description</a>” for additional details.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock"><code>dens_1 WAIVE_DENSITY 99</code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/FileRef_WaiverCriteriaFileFormat_id82e0856c.html" title="This file is optional for waiver generation in waiver_flow and verification in calibre -waiver. It is used in calibre -waiver to specify criteria for waiver shapes.">Waiver Criteria File Format</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_autowaiver_useref"
                DocTitle = "Calibre® Auto-Waivers™ User’s and Reference Manual"
                PageTitle = "WAIVE_DENSITY"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_WaiveDensity_id66e39be4.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Auto-Waivers™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>