<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Integration" />
<meta name="abstract" content="Integration information is provided for CAD engineers who are deploying pre-configured tools to their engineering groups." />
<meta name="description" content="Integration information is provided for CAD engineers who are deploying pre-configured tools to their engineering groups." />
<meta name="prodname" content="Calibre xACT User's Manual" />
<meta name="version" content="2017" />
<meta name="release" content="v2017" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-24" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="xact_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="None" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® xACT™ User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11427,product.id.P10122" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="NO" />
<meta name="HighlightColor" content="mgc_wheat" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id28071c79-0105-40f4-9c5e-0d6bd89d6433" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Integration</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Integration" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11427,product.id.P10122" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id28071c79-0105-40f4-9c5e-0d6bd89d6433">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Integration</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Integration
information is provided for CAD engineers who are deploying pre-configured
tools to their engineering groups. </span>
</div>
<p class="p">Instructions for integrating the
Calibre Interactive interface with layout viewers are available
in the “<a class="xref Link" href="../../calbr_interactive_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Setting the Calibre Interactive  Socket Port for a Layout Viewer', 'calbr_interactive_user'); return false;">Setting the Calibre Interactive Socket Port for a Layout Viewer</a>”
appendix of the <span class="ph FontProperty ManualTitle">Calibre Interactive User’s Manual</span>.</p>
<div class="section Subsections" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id01d9ce05-8cb0-4315-8ec0-7de982942620"><div class="section Subsection" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id22436950-e80d-4c67-a8c0-e50253ceac50"><h2 class="title Subheading sectiontitle">Guide to Calibre Interactive
Files</h2><p class="p">The Calibre Interactive environment
reads several types of configuration files. Settings in any of these
affect how Calibre runs initiated from Calibre Interactive behave.
These files are the following:</p>
<ul class="ul"><li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__idfe481029-0bd8-4db0-b39c-fc30e890694b"><p class="p"><span class="ph FontProperty HeadingLabel">Preferences file</span> </p>
<p class="p">The Calibre Interactive preferences
file for parasitic extraction is <span class="ph filepath">.cgipexdb</span>.
The default location is<span class="ph filepath">$HOME/.cgipexdb</span>. The
preferences files save the settings on the Startup tab of the Setup
Preferences dialog and previously referenced runsets. When Calibre Interactive
starts it automatically reads the preference file.</p>
</li>
<li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id0955407a-006a-492f-8d6c-1822b4113c00"><p class="p"><span class="ph FontProperty HeadingLabel">Runsets</span> </p>
<p class="p">A
runset is a text file created by Calibre Interactive to store the
settings specified in the interface. Only non-default data is recorded.
Users are typically prompted to load a runset at the start of each
interactive session.</p>
</li>
<li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id44c3de5e-4bc6-476a-9995-03fa6efcaabe"><p class="p"><span class="ph FontProperty HeadingLabel">Run scripts</span> </p>
<p class="p">A run script is any script which can be executed.
For Calibre Interactive, run scripts are typically part of a trigger
as described in the “<a class="xref Link" href="../../calbr_interactive_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Trigger Functions in Calibre Interactive', 'calbr_interactive_user'); return false;">Trigger Functions in Calibre Interactive</a>” chapter of the <a class="xref LinkItalic" href="../../calbr_interactive_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_interactive_user'); return false;">Calibre Interactive User’s Manual</a>. More generally, shell run scripts
may also be used at the command line to execute a series of Calibre
Interactive runs.</p>
</li>
<li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id89b26f1b-4b92-4387-8db8-69a1c1c8cfaf"><p class="p"><span class="ph FontProperty HeadingLabel">Rule files</span> </p>
<p class="p">A rule file is a file that contains SVRF
and TVF statements specifying the details of the Calibre run. Many
SVRF specifications are only accessible in the rule file; a user
cannot override them from Calibre Interactive.</p>
</li>
</ul>
<p class="p">Calibre Interactive loads files in the following
sequence when invoked:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id3f01a158-7a11-4be9-abdc-ac64697890a5" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Calibre Interactive Settings Sequence</span></caption><colgroup><col style="width:0.682in" /><col style="width:5.817in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d31533e212"><p class="p">Stage</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d31533e215"><p class="p">Action</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e212 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e215 "><p class="p">Load the preferences
file specified by $MGC_CALIBRE_PEX_RUNSET_FILE. By default, this
points to <span class="ph filepath">$HOME/.cgipexdb</span>. </p>
<p class="p">The preferences file populates the runset
list and startup preferences.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e212 "><p class="p">2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e215 "><p class="p">Load a runset file and
fill in the fields in the GUI.  </p>
<p class="p">If the Load Runset File dialog has not been
disabled by the preferences file, Calibre Interactive prompts the
user to specify a runset. If the dialog has been disabled or the user
cancels the dialog, no runset is loaded and default values are used
in the fields.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e212 "><p class="p">3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e215 "><p class="p">Load files as user specifies. </p>
<p class="p">Typically, the user loads at least one rule
file but may also load additional runsets. <span class="ph FontProperty emphasis">Rule file settings are not loaded into the GUI until the user clicks Load.</span>  </p>
<p class="p">The rule file and additional runsets can change
fields already set in stages 1 and 2. The most recently loaded settings
file (or manual setting by the user) is used at execution.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e212 "><p class="p">4</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e215 "><p class="p">At execution, Calibre
Interactive prepares a control file and runs any pre‑ and post‑execution
trigger run scripts.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e212 "><p class="p">5</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e215 "><p class="p">At exit, Calibre Interactive
prompts the user to save current settings to the loaded runset file.
If the user made any changes, they will overwrite previous settings.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">In stage 4, Calibre Interactive prepares a
control file. This file includes the rule file and GUI settings.
Its name is based on the rule file name. For example, if the rule
file is “rules”, then the control file is “_rules_”. This file is
written to the working directory. Subsequent runs overwrite control
files with the same name.</p>
</div>
<div class="section Subsection" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__idb8fa756d-71d7-4497-9adc-3451f6e15449"><h2 class="title Subheading sectiontitle">Batch
Shell Script Creation in Calibre Interactive</h2><p class="p">Many CAD engineers find it easiest to create
new scripts by working in Calibre Interactive until they have a
debugged setup, and then use Calibre Interactive’s files as the
basis of a shell script which they deliver to their customers. </p>
<p class="p">For information on how to run
a batch shell script in Calibre Interactive see “<a class="xref Link" href="../../calbr_interactive_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Running Batch Calibre with a Calibre Interactive Control File', 'calbr_interactive_user'); return false;">Running Batch Calibre with a Calibre Interactive Control File</a>” in
the <span class="ph FontProperty ManualTitle">Calibre Interactive User’s Manual</span>. </p>
</div>
<div class="section Subsection" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__idd80fe5ea-ef19-49a8-87d0-0761130dd534"><h2 class="title Subheading sectiontitle">Best Practices
for Shell Scripts</h2><p class="p">An example run script and tips for writing
shell scripts are provided for you. The tips are based on experience
helping customers set up their solutions.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__idb178c2f0-403d-43c8-bf2a-d1d69b6add53" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>Best Practices for Shell Scripts</span></caption><colgroup><col style="width:2.020in" /><col style="width:4.479in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d31533e307"><p class="p">Tip</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d31533e310"><p class="p">Reason</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e307 "><p class="p">Explicitly set the shell.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e310 "><p class="p">This ensures the script
will run for all users, no matter their shell preference. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e307 "><p class="p">Use redirects to capture messages.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e310 "><p class="p">Many
examples in training and on Support Center use “| tee” to capture
logs as well as display messages in the terminal. However, “| tee”
does not copy the standard error (stderr) output to the log file.
Use “&gt;&amp;” or “&gt;&amp;!” in most shells to redirect both standard
output and standard error to the same file.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e307 "><p class="p">Have the script remove
any Calibre-generated files before invoking Calibre.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e310 "><p class="p">Calibre leaves databases
in the working directory so that users can come back to their results
later. However, subsequent runs will overwrite data in existing
files and this could cause misleading results - for example, left
over netnames appearing in a netlist or erroneously swapped pins. </p>
<p class="p">Because some users may have a local version
of rm, we recommend setting it explicitly as: </p>
<pre class="pre ShellCommand">/bin/rm -rf</pre>
<p class="p">or as appropriate for your operating system.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e307 "><p class="p">Set environment variables explicitly
in the script rather than the user environment.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d31533e310 "><p class="p">Setting environment variables
explicitly in the script serves several purposes:</p>
<ul class="ul"><li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__idaa31828a-8299-43e9-9f7b-e454159c8425"><p class="p">Easier to verify when debugging.</p>
</li>
<li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id6ccb4918-0963-4da0-b3ab-44a7261edbd8"><p class="p">Reduces problems due to variables remaining
set in the shell; they are only active while the script is executing.</p>
</li>
<li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id2b1423e9-e54d-42ab-9d34-cf035f4feaef"><p class="p">Less typing than setting in the shell
each time.</p>
</li>
<li class="li" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__id36ba7c9a-ce30-4524-85c9-3a5756d1d2fa"><p class="p">Easier to package complete testcases.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The following is an example shell script that
follows best practices. Alternatives are provided together, with
all but one commented out. This example run script can be used as
the basis of your scripts.</p>
<div class="fig fignone" id="id28071c79-0105-40f4-9c5e-0d6bd89d6433__idd727ad18-3c2f-4ed0-bef6-3ebfd7eae5ce"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Example Shell Script to Run
Calibre</span><pre class="pre codeblock leveled"><code>#!/bin/csh -f 
## Ensure which version will be run  
setenv MGC_HOME /net/tools/calibre/&lt;<span class="ph FontProperty emphasis">calibre_release</span>&gt;/lv_micro.ixl 
setenv PATH $MGC_HOME/bin:$PATH 
## Clean the working directory  
/bin/rm -r *svd* *SVD* lvs.log phdb.log pdb.log fmt.log *sum tr* 
####### Use this environment variable for debugging ############### 
################################################################### 
#setenv CALIBRE_ECHO_RULE_FILE YES 
######## Run-Specific Environment Variables ####################### 
################################################################### 
#            Mentor Graphics Variables 
#            Your Flow Variables 
#setenv PROCESS_SIZE 90 
#setenv PROCESS_TYPE CU 
#setenv ADD_FILL NO 
## Hcells for LVS and PHDB 
set h = "" 
#set h = "-hcell hcells" 
## Xcells for xACT PDB 
set x = "" 
#set x = "-xcell xcells" 
set r = "rules"  
set c = "layout_primary"  
###### Run PHDB, PDB, and FMT steps 
$MGC_HOME/bin/calibre -lvs -hier -spice svdb/$c.sp $h $r &gt;&amp;! lvs.log 
#$MGC_HOME/bin/calibre -xact -phdb                  $x $r &gt;&amp;! phdb.log 
$MGC_HOME/bin/calibre -xact -3d -rcc               $x $r &gt;&amp;! pdb.log 
$MGC_HOME/bin/calibre -xact -fmt -all               $x $r &gt;&amp;! fmt.log </code></pre></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_IntegrationTroubleshootingTopics_id926b22ac.html" title="Some troubleshooting and integration techniques are provided to address common problems.">Integration and Troubleshooting Topics</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "xact_user"
                DocTitle = "Calibre® xACT™ User’s Manual"
                PageTitle = "Integration"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_Integration_id28071c79.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® xACT™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>