<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="setlayer curve" />
<meta name="abstract" content="Creates “smoothed” shapes based on the input layer." />
<meta name="description" content="Creates “smoothed” shapes based on the input layer." />
<meta name="DC.subject" content="setlayer curve command, Smooth shapes, Layers, smoothing" />
<meta name="keywords" content="setlayer curve command, Smooth shapes, Layers, smoothing" />
<meta name="prodname" content="Calibre pxOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre pxOPC User's and Reference Manual" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pxopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® pxOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,doc.type.documentation.ref" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide913ec1f-eed6-424d-ae7a-ac011b57924a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>setlayer curve</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="setlayer curve" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,doc.type.documentation.ref" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">setlayer curve</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Type: <a class="xref fm:HeadingOnly" href="Contain_LithoSetupFileCommands_id8d8eeb16.html#id8d8eeb16-8d3b-498a-b62a-578ebe9caaa5__Contain_LithoSetupFileCommands_id8d8eeb16.xml#id8d8eeb16-8d3b-498a-b62a-578ebe9caaa5" title="The inline_file argument to RET PXOPC specifies an in-line Litho File setup file containing a command initialization block. Commands in this block are lowercase only. The following commands may appear in the setup file, specified one per line.">Litho Setup File Commands</a></p>
<p class="shortdesc">Creates “smoothed” shapes based
on the input layer.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">setlayer</span> <span class="keyword ParameterName RequiredReplaceable">output_layer_name</span> <span class="keyword ParameterName Required">=</span> <span class="keyword ParameterName Required">curve</span> <span class="keyword ParameterName RequiredReplaceable">input_layer_name</span> <br />
[order {linear | <span class="keyword ParameterName OptionalDefault">quadratic</span> | cubic | <span class="keyword ParameterName OptionalReplaceable">num</span>}] [cpdist <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span>] [pts_per_cp <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
[maxdist <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span>] [midpt <span class="keyword ParameterName OptionalReplaceable">midpt_value</span>] [scale1 <span class="keyword ParameterName OptionalReplaceable">value</span>] [scale2 <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[midpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>] [endpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>] [active_layer <span class="keyword ParameterName OptionalReplaceable">active_layer</span>] <br />
[jog_tol <span class="keyword ParameterName OptionalReplaceable">tol_val</span> jog_adj <span class="keyword ParameterName OptionalReplaceable">adj_val</span>] [jog_cleanup_dist <span class="keyword ParameterName OptionalReplaceable">value</span>] [jog_extra <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[output_cpts <span class="keyword ParameterName OptionalReplaceable">val</span>] [output_clean_target] <br />
[concave [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>]]  [convex [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>]] <br />
[line_end [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>] length <span class="keyword ParameterName OptionalReplaceable">value</span> ] <br />
[space_end [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>] length <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[jog [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>] length <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[new_cp <span class="keyword ParameterName OptionalReplaceable">corner1</span> <span class="keyword ParameterName OptionalReplaceable">corner2</span> length <span class="keyword ParameterName OptionalReplaceable">constraint</span> [length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span>]<br />
   offset <span class="keyword ParameterName OptionalReplaceable">value</span> [perp <span class="keyword ParameterName OptionalReplaceable">value</span>] [delete_corner] [delete_midpt]]</p>
<p class="lines UsageLine">where <span class="keyword ParameterName OptionalReplaceable">set_of_options</span> is the following set of optional arguments:<br />
[cpdist <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span>] [maxdist <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span>] [midpt <span class="keyword ParameterName OptionalReplaceable">midpt_value</span>][midpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>] [endpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id62d53370-1192-49f1-b668-a26847902f0d"><span class="keyword ParameterName RequiredReplaceable">output_layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword specifying
the name of the new output target layer. The new layer is created
and the results of the operation are written to the layer. This
layer must be a valid Calibre layer containing polygon data.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__ida4d019e1-0c3e-400d-a1b7-e63b3be79dab"><span class="keyword ParameterName RequiredReplaceable">input_layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword specifying
the name of the input layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idc6ccd882-de8a-4b0b-b4a1-b659928c7d34">order {linear | <span class="keyword ParameterName OptionalDefault">quadratic</span> | cubic | <span class="keyword ParameterName OptionalReplaceable">num</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that specifies
the B-spline order number. You can either specify a value <span class="keyword ParameterName OptionalReplaceable">num</span> between
2 and 6, or specify linear (equivalent to a <span class="keyword ParameterName OptionalReplaceable">num</span> of
2), quadratic (3), or cubic (4). The default value is quadratic.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idec9a07b6-ebc2-483d-b6d4-ad6cf27d986c">cpdist <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the distance between
additional control points inserted to the left and right of an original
polygon point. Longer distances increase rounding. The default value
is 50 nm.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id6f31f074-88ef-4b97-8ba7-4e351ee98c71">pts_per_cp <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the number of vertices
for each control point in the output. The default is 10 vertices.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id542b2306-c521-4af8-822d-d8f5386c1c72">maxdist <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that the last control
point should be at exactly <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span> away
from the original polygon vertex. Though the spline curve will not
trace out the same shape as the polygon, at <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span>,
the curve will touch the polygon.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id46ac56cb-e7a0-41d9-9f76-b80ab141fffa">active_layer <span class="keyword ParameterName OptionalReplaceable">active_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If the active_layer argument
is specified, the output produces control points that overlap between
the specified input layer and <span class="keyword ParameterName OptionalReplaceable">active_layer</span>.
This is implemented by making sure that no additional control points
are placed within the <span class="keyword ParameterName OptionalReplaceable">active_layer</span>. </p>
<p class="p">The effect of this option is
to force the output edge to conform to the drawn gate edge while still
over the active layer before flaring out at the 90 degree polygon
bend. This squares out any 90 degree turns in poly or metal layers
that lie near an active region, minimizing any gate flare effect.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idc466a95a-3491-4545-830b-f0ceea48e7a8">midpt <span class="keyword ParameterName OptionalReplaceable">midpt_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies how many additional
control points to add in the middle of a notch/nub that would have
had no additional control points otherwise.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id0e4990d5-94d2-4cd5-9388-3b974cc24d84">[scale1 <span class="keyword ParameterName OptionalReplaceable">value</span>] [scale2 <span class="keyword ParameterName OptionalReplaceable">value</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">If an adjacent edge is a notch
or nub and is smaller than <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span> *
scale1, control points on adjacent edges are put at a <span class="keyword ParameterName OptionalReplaceable">dist_value</span> *
scale2 distance, instead of the <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span>.
This is done for better curvature control for various line widths.
Both scale1 and scale2 default to 1 if undeclared.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__ida32dbec8-0d65-4f5e-b318-bdc4336d6bbe">midpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">All control points created by
the midpt parameter (in the middle of line ends/space ends) are moved
to increase the curvature (towards the outside of the polygon for
line ends and towards the inside of the polygon for space ends). </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id90f214e1-0c24-4461-a63d-630d1488a046">endpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">All control points situated
at the polygon’s corners are moved to increase the curvature (towards
the outside of the polygon for convex corners and towards the inside
of the polygon for concave corners).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idcd549bd7-c669-45f1-a6ca-58b4c32ac9e1">jog_tol <span class="keyword ParameterName OptionalReplaceable">tol_val</span> jog_adj <span class="keyword ParameterName OptionalReplaceable">adj_val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">When specified, this option
will ignore all jogs less than or equal to <span class="keyword ParameterName OptionalReplaceable">tol_val</span> that
have neighbor edges smaller or equal to <span class="keyword ParameterName OptionalReplaceable">adj_val</span>.
This is to prevent small jogs from affecting the results of target
smoothing prior to OPC.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id6f3826e7-7fd0-41d4-920a-ca70ca2f7bf4">jog_cleanup_dist <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">In the first stage of generating
a spline, target jogs are removed according to the jog removal parameters
jog_tol and jog_adj. </p>
<p class="p">If a value for jog_cleanup_dist
is set:</p>
<ul class="ul"><li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idfdeabba3-4187-4068-bb65-b59b9d607e6c"><p class="p">Edges with their length &lt;=
jog_tol and with at least one neighbor with length &lt;= jog_adj
(if jog_adj is present), and with both neighbors’ lengths &gt; jog_tol,
and parallel to each other, are classified as jogs.</p>
</li>
<li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idd86f082b-352a-44c5-aab2-1d06ca01da0b"><p class="p">Edges classified as jogs are
removed.</p>
</li>
<li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id0d24fb27-5448-4b18-918b-abb633f85a0d"><p class="p">Unconnected edges (which are
parallel by definition) are shortened by up to jog_cleanup_dist
then connected by a line.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">This algorithm
has a finite interaction distance, thus will cause no hierarchical differences.</p>
</div>
</li>
</ul>
<p class="p">If jog_cleanup_dist is not specified,
setlayer curve defaults to 0.5 microns (the maximum value possible).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__ida1e9c015-38a3-47b7-a7ea-50c7a8ac677e">jog_extra <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies to generate
additional control points when edges are longer than jog_adj <span class="keyword ParameterName OptionalReplaceable">adj_val</span>.
The control point is inserted <span class="keyword ParameterName OptionalReplaceable">value</span> from
the jog along the edge.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id32196aa0-2b7f-46aa-a0c1-0a023689860a">output_cpts <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
squares with a half-width equal to the <span class="keyword ParameterName OptionalReplaceable">val</span> are
output instead of the actual curve. The squares represent the curve's
control points. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id594e5863-c539-42ed-bd71-edc0437db7c6">output_clean_target</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the “clean” (after jog removal) target is output instead of the spline.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id0be3287a-4c7a-4084-8268-8c351fd4a616">concave</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the global values set by the previous arguments are overridden in
the case of concave corners.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idffcb6868-0d05-4ee7-a037-61b235affd47">convex</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are set for convex corners.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id0870e885-506e-4178-8738-7b1d392f7aec">line_end</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are set to line ends.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idbb6c560d-6662-44d6-a975-40499816e671">space_end</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are arranged for space ends.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id94c2427a-e16f-48d8-9046-90d61a598ed5">jog</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are set for jogs.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idb9c728f4-547a-4502-a833-4c468b21431c">length <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument (required
if line_end, space_end, or jog are used) that specifies the fragment
length of the feature.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If concave,
convex, line_end, space_end, and jog are not used, or if they are
not fully defined, then the values used will be the values set by
the original keywords. If those values are not set, then the default
values are used. </p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idb40b9444-5b08-498f-9412-0b01c869a0a7">new_cp <span class="keyword ParameterName OptionalReplaceable">corner1</span> <span class="keyword ParameterName OptionalReplaceable">corner2</span> length <span class="keyword ParameterName OptionalReplaceable">constraint</span> [length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] offset <span class="keyword ParameterName OptionalReplaceable">value</span> [perp <span class="keyword ParameterName OptionalReplaceable">value</span>] [delete_corner] [delete_midpt]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
when to manually add new control points. When a point could be added
by either new_cp or jog_extra, the one from new_cp is inserted.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id8a5d65be-60b2-46e9-9c14-8efdd49f1d2b"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">corner1</span> <span class="keyword ParameterName OptionalReplaceable">corner2</span> length <span class="keyword ParameterName OptionalReplaceable">constraint</span> —
Specifies the edge to receive the control point. The corners may
be “convex,” “concave,” “noncorner,” or “any.” Noncorner refers
to the shallow corners inserted near jogs when jog_tol is specified.
If jog_tol is not set, no corners match noncorner.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id32558d5f-c5ee-4f88-bd39-b9b4b7b000fa"><p class="p Opt">length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span> —
An optional constraint that applies to the preceding edge.</p>
</li>
<li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__idfe71e732-614e-49a7-b3a6-7b67d4bc16ed"><p class="p Opt">length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span> —
An optional constraint that applies to the edge after <span class="keyword ParameterName OptionalReplaceable">corner2</span>.</p>
</li>
</ul>
<p class="p">The length constraints are in microns.</p>
<p class="p">If the edge specification is symmetric (for example, new_cp convex
convex length…) two control points are inserted, because it matches
both corners.</p>
</li>
<li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id01edd781-32f3-4969-81e1-935e49510db1"><p class="p Opt">offset <span class="keyword ParameterName OptionalReplaceable">value</span> [perp <span class="keyword ParameterName OptionalReplaceable">value</span>]
— Specifies where to place the new control point. The offset value
must be between ‑1.0 and 1.0, inclusive, measured inward along the
edge from <span class="keyword ParameterName OptionalReplaceable">corner1</span>.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id295b9121-12cb-4ef9-90b9-e6370001b54f"><p class="p Opt">perp <span class="keyword ParameterName OptionalReplaceable">value</span> —
An optional perpendicular offset. Positive values move the control point
outward from the polygon. Specifying “offset 0.05 perp -0.05” will
offset the control point 50 nm away from the first corner and 50
nm into the polygon’s region.</p>
</li>
</ul>
</li>
<li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id65e9642b-1c56-4858-9637-2e67cb982521"><p class="p Opt">delete_corner
— An optional argument to new_cp that removes an old corner control point
to prevent interference with the new control point.</p>
</li>
<li class="li ArgOption" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id0959f6a3-9a3b-4383-b32f-cfc6046866a3"><p class="p Opt">delete_midpt
— An optional argument to new_cp that removes an old midpoint control point
to prevent interference with the new control point.</p>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The setlayer curve command allows
you to create a “smoothed” target based on the original target.
The smoothed target allows you to prevent overcorrection on 2D structures
and jogs.</p>
<p class="p">The setlayer curve command implements
the curve using a series of B-splines. B-splines are also known
as basis splines, a spline function with minimal support with respect
to a given degree, smoothness, and domain partition. Spline functions
of a given degree, smoothness, and domain partition can be represented
as a linear combination of B-splines of that same degree and smoothness
over that same partition.</p>
<p class="p">This command generates a spline
or spline-derived output in the following sequence:</p>
<ol class="ol"><li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id692056e0-168c-4c85-a17a-97620276676a"><p class="p">Target jogs are removed according
to the jog removal parameters jog_tol and jog_adj. The results are
affected by whether you set a value for jog_cleanup_dist. If jog_tol
and jog_adj are not set, all line segments are considered edges.</p>
</li>
<li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id8b38a857-0ec3-4b8a-83ca-e09a84b899af"><p class="p">Spline control
points are generated according to the following parameters:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__ida19c2317-b6b2-439b-bc13-dc0cd06b314a" class="table" frame="void" border="0" rules="none"><colgroup><col style="width:1.565in" /><col style="width:1.565in" /><col style="width:1.094in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">order</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">cpdist</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">pts_per_cp</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">maxdist</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">midpt</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">scale1</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">scale2</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">midpt_offset</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">endpt_offset</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">active_layer</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">jog_extra</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">new_cp</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Control points are derived from
existing polygon vertices; additional points are added before and
after corners. At least one point is added in the center of short
segments.</p>
</li>
<li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id705d30a7-5856-4919-9128-73432c5d553d"><p class="p">The output is generated according
to the control points and the following parameters:</p>
<ul class="ul"><li class="li" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id9ebec6e1-3c67-40cb-ad5e-dde4a5980413"><p class="p">pts_per_cp, output_clean_target,
output_cpts</p>
</li>
</ul>
</li>
</ol>
<div class="section Subsection" id="ide913ec1f-eed6-424d-ae7a-ac011b57924a__id6d6f4196-59ce-4e66-9e14-fdfddaeb1b9a"><h2 class="title Subheading sectiontitle">Warnings </h2><p class="p">If pts_per_cp is set to a value
higher than five, this warning appears in the transcript:</p>
<pre class="pre codeblock leveled"><code>"setlayer curve": Using a pts_per_cp value larger than 5 can cause unnecessary slowdown in curve and subsequent ops </code></pre></div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock leveled"><code>L1 {RET PXOPC m1a FILE "setup.in" MAP L1} DRC CHECK MAP L1 20 
... 
LITHO FILE setup.in [ 
... 
	layer orig hidden clear           //Note only one layer declared 
... 
	<span class="keyword ParameterName Required">setlayer smoothed = curve orig</span>    //This creates a smoothed target 
	... 
	//Both layers get passed to pxOPC... 
	setlayer mask_out = pxopc orig <span class="keyword ParameterName Required">smoothed</span> MAP orig OPTIONS px.options 
	... 
	// ... so both need to be listed in the pxopc_options block. 
	pxopc_options px.options {  //pxopc-specific commands 
		layer orig CORRECTION clear 
		layer smoothed TARGET clear 
		... 
	} 
] </code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_LithoSetupFileCommands_id8d8eeb16.html" title="The inline_file argument to RET PXOPC specifies an in-line Litho File setup file containing a command initialization block. Commands in this block are lowercase only. The following commands may appear in the setup file, specified one per line.">Litho Setup File Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pxopc_useref"
                DocTitle = "Calibre® pxOPC™ User’s and Reference Manual"
                PageTitle = "setlayer curve"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_SetlayerCurve_ide913ec1f.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® pxOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>