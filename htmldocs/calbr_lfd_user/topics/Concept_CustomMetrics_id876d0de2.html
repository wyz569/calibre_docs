<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Custom Metrics" />
<meta name="abstract" content="Custom metrics take the form of rulechecks that use the DFM ANALYZE and DFM PROPERTY operations to calculate a score based on statistics for one or more layers. Within the TVF rule file, all code used for preparing data or calculating the scores must be supplied in the form of a VERBATIM block." />
<meta name="description" content="Custom metrics take the form of rulechecks that use the DFM ANALYZE and DFM PROPERTY operations to calculate a score based on statistics for one or more layers. Within the TVF rule file, all code used for preparing data or calculating the scores must be supplied in the form of a VERBATIM block." />
<meta name="DC.subject" content="DFM Analyze, Metrics, custom, Expressions, for calculating scores" />
<meta name="keywords" content="DFM Analyze, Metrics, custom, Expressions, for calculating scores" />
<meta name="prodname" content="Calibre Litho-Friendly Design User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-19" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_lfd_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 19, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Litho-Friendly Design User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id876d0de2-e7a9-477d-b591-c067190eb480" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Custom Metrics</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Custom Metrics" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id876d0de2-e7a9-477d-b591-c067190eb480">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Custom
Metrics</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Custom metrics
take the form of rulechecks that use the DFM ANALYZE and DFM PROPERTY
operations to calculate a score based on statistics for one or more
layers. Within the TVF rule file, all code used for preparing data
or calculating the scores must be supplied in the form of a VERBATIM
block.</span>
</div>
<ul class="ul"><li class="li" id="id876d0de2-e7a9-477d-b591-c067190eb480__id8e2dd91a-2040-4153-b4ae-6a959dd1b7d8"><p class="p">Make sure all the layers needed to calculate
the score exist. If necessary, derive additional layers using Boolean
operations, isolate specific portions using user-supplied island
layers, and so on.</p>
</li>
<li class="li" id="id876d0de2-e7a9-477d-b591-c067190eb480__id0e4fdb3c-7caf-4892-81a5-953c46226cab"><p class="p">Within the rulecheck, use DFM ANALYZE
or DFM PROPERTY commands to calculate the scores. DFM ANALYZE is
recommended when calculating properties in a shifting window, while
DFM PROPERTY is recommended when calculating properties for individual
error markers.</p>
</li>
<li class="li" id="id876d0de2-e7a9-477d-b591-c067190eb480__idef5eb6e9-6815-4fdb-9a79-c170b5aee673"><p class="p">Pass all layers used to calculate the
metric to the DFM ANALYZE or DFM PROPERTY command.</p>
</li>
<li class="li" id="id876d0de2-e7a9-477d-b591-c067190eb480__ide5ab2da8-1442-4d6c-9ced-548f9e366d2a"><p class="p">Expression used to calculate the score
can be written using the operators *, /, +, - and the following
functions:</p>
</li>
</ul>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id876d0de2-e7a9-477d-b591-c067190eb480__id55d47d53-c296-4daf-9590-1e4f304fdf60" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Expression Functions</span></caption><colgroup><col style="width:1.544in" /><col style="width:1.544in" /><col style="width:1.544in" /><col style="width:1.544in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d38185e168"><p class="p">Operation</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d38185e171"><p class="p">Input Layer Type</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d38185e174"><p class="p">Function</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d38185e177"><p class="p">Specification Without <span class="keyword ParameterName RequiredReplaceable">layer</span></p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e168 "><p class="p">AREA(<span class="keyword ParameterName OptionalReplaceable">layer</span>)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e171 "><p class="p">original
or derived polygon</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e174 "><p class="p">Calculates the area of <span class="keyword ParameterName OptionalReplaceable">layer</span> polygons
inside the data capture window.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e177 "><p class="p">AREA() returns area of
the data-capture window.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e168 "><p class="p">PERIMETER(<span class="keyword ParameterName OptionalReplaceable">layer</span>)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e171 "><p class="p">original
or derived polygon</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e174 "><p class="p">Calculates the perimeter
of <span class="keyword ParameterName OptionalReplaceable">layer</span> polygons
in the data capture window.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e177 "><p class="p">PERIMETER() returns the
perimeter of the data capture window.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e168 "><p class="p">COUNT(<span class="keyword ParameterName OptionalReplaceable">layer)</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e171 "><p class="p">derived polygon,</p>
<p class="p">derived edge,</p>
<p class="p">original</p>
<p class="p">error</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e174 "><p class="p">Calculates the number
of <span class="keyword ParameterName OptionalReplaceable">layer</span> objects
in the data capture window.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d38185e177 "><p class="p">Compiler error.</p>
</td>
</tr>
</tbody>
</table>
</div>
<ul class="ul"><li class="li" id="id876d0de2-e7a9-477d-b591-c067190eb480__id14a5cb08-1f54-4ce0-a3de-b6f4356dc3a3"><p class="p">Be sure to specify a results database
(RDB) to which the scores are written, using the keyword RDB or
the DFM RDB command. Technically, this is not required, however,
if you omit the RDB, you are not able to inspect the scores in map
or histogram form using the Calibre RVE graphical debug program.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Because each custom metric is created with a unique
name (the name of the rulecheck) you can write all custom metrics
to the same RDB.</p>
</div>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="id876d0de2-e7a9-477d-b591-c067190eb480__id8d5d8a47-8362-44a6-9880-e932ea8f5c07"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Assume that there are areas that refer to critical
regions (ProcessBandFailure_poly) and they should have a larger
weight in the variability index.</p>
<pre class="pre codeblock leveled"><code>customMetric_poly {DFM ANALYZE targetBand_poly  
     targetProcessBandMismatch_poly  ProcessBandFailure_poly  
     [(AREA(targetProcessBandMismatch_poly)+ 
     30*AREA(ProcessBandFailure_poly))/AREA(targetBand_poly)] &gt;= 0  
     RDB customCheck2.rdb} 
 
// or 
 
PolyErrors_w_customMetric = DFM PROPERTY targetBand_poly \ 
     targetProcessBandMismatch_poly  ProcessBandFailure_poly \ 
     [ customeMetric = [(AREA(targetProcessBandMismatch_poly)+\ 
         30*AREA(ProcessBandFailure_poly))/AREA(targetBand_poly)] &gt;= 0  
 
 </code></pre><p class="p">The metric calculates a weighted average using
a formula that multiplies the area of failures inside the critical
regions by 30, and the area of normal failures by one.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CodingMetricsScoreProcessDesign_id9bd0c6aa.html" title="The lithographer should provide you with a complete description for each of the metrics to be created. You can use standard metrics or custom metrics.">Coding Metrics to Score a Process or Design</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lfd_user"
                DocTitle = "Calibre® Litho-Friendly Design User’s Manual"
                PageTitle = "Custom Metrics"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CustomMetrics_id876d0de2.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Litho-Friendly Design User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>