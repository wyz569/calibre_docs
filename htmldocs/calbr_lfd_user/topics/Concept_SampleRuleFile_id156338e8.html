<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Sample Rule File" />
<meta name="abstract" content="The rule file is written using TVF. The Tcl Verification Format (TVF) is a programmable expansion to the Standard Verification Rule Format (SVRF) language for Calibre." />
<meta name="description" content="The rule file is written using TVF. The Tcl Verification Format (TVF) is a programmable expansion to the Standard Verification Rule Format (SVRF) language for Calibre." />
<meta name="DC.subject" content="Sample rule deck" />
<meta name="keywords" content="Sample rule deck" />
<meta name="prodname" content="Calibre Litho-Friendly Design User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-19" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_lfd_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 19, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Litho-Friendly Design User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id156338e8-ce1b-4068-9260-9d42772447a8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Sample Rule File</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Sample Rule File" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id156338e8-ce1b-4068-9260-9d42772447a8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Sample
Rule File</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The rule file
is written using TVF. The Tcl Verification Format (TVF) is a programmable expansion
to the Standard Verification Rule Format (SVRF) language for Calibre. </span>
</div>
<p class="p">For
a complete discussion of TVF, refer to <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Tcl Verification Format', 'svrf_ur'); return false;">“Tcl Verification Format</a>” in the <cite class="cite">Standard Verification Rule Format (SVRF)
Manual</cite>.</p>
<pre class="pre codeblock leveled"><code>#! tvf 
namespace import tvf::* 
 
# This is a Calibre LFD demo that showcases much of the Calibre 
# LFD functionality. 
 
#================================================================ 
# Load Calibre LFD-generic library 
#================================================================ 
package require CalibreDFM_LFD 
 
#================================================================ 
# Import extra utilities. This is required for the Calibre LFD 
# demo only! It does illustrate how a user may create their own 
# procedures local to their environment. For documentation on 
# what each procedure is doing, please view the utilities file 
# itself or the demo manual. 
# 
# The procedures exposed via the utilities file are NOT supported 
# by Siemens Digital Industries Software with the exception of the 
# current demo 
# application. 
#================================================================ 
source ./bin/CalibreDFM_LFD_DEMO_UTILS.tcl 
 
#================================================================ 
# Layer Select (1=run, 0=don’t run) 
#================================================================ 
set RUN_ACTIVE 1 
set RUN_POLY 1 
set RUN_CONTACT 1 
set RUN_METAL1 1 
 
#================================================================ 
# Specify Calibre LFD input files 
#================================================================ 
set LayersFile “./lfd/lfd_demo.lyr” 
set PdkFile “./lfd/lfd_demo.pdk” 
set LayoutFile “./gds/lfd_demo.gds” 
 
#================================================================ 
# Specify Calibre LFD output files 
#================================================================ 
set LayoutDB “\$RDB_DIR/lfd_output.oas” 
set ChecksDB “\$RDB_DIR/lfd_checks.rdb” 
set BandsDB “\$RDB_DIR/lfd_pvbands.rdb” 
set IndexDB “\$RDB_DIR/lfd_indices.rdb” 
set SummaryDB “\$RDB_DIR/lfd_results.sum” 
 
#================================================================ 
# Settings and Configurations 
#================================================================ 
set LayoutSystem GDSII 
set LayoutPrimary * 
set LayoutMagnify 10 
set Precision 10000 
set Resolution 1 
set LayoutDBType “OASIS” 
set LayoutDBOptions “USER MERGED” 
set SummaryDBType ““ 
set SummaryDBOptions ““ 
 
################################################################# 
# Start the actual recipe 
################################################################# 
 
#================================================================ 
# (Optional) Encrypted Run 
#================================================================ 
if { [ info exists ::env(CALIBRE_ENCRYPTED_TVF_YES) ] } { 
set PdkFile “./lfd/lfd_demo.pdke” 
} 
 
#================================================================ 
# Predefined Runtime Options 
#================================================================ 
tvf::LAYOUT PATH \”$LayoutFile\” 
tvf::LAYOUT SYSTEM $LayoutSystem 
tvf::LAYOUT PRIMARY \”$LayoutPrimary\” 
tvf::LAYOUT MAGNIFY $LayoutMagnify 
tvf::LAYOUT PROCESS BOX RECORD YES 
tvf::LAYOUT ERROR ON INPUT NO 
tvf::PRECISION $Precision 
tvf::RESOLUTION $Resolution 
tvf::DRC RESULTS DATABASE \”$LayoutDB\” $LayoutDBType $LayoutDBOptions 
tvf::DRC SUMMARY REPORT \”$SummaryDB\” $SummaryDBType $SummaryDBOptions 
tvf::DRC MAXIMUM RESULTS all 
tvf::DRC MAXIMUM VERTEX 199 
tvf::DRC KEEP EMPTY YES 
tvf::FLAG SKEW YES 
tvf::FLAG ACUTE NO 
tvf::FLAG OFFGRID YES 
 
#================================================================ 
# Start Calibre LFD 
#================================================================ 
LFD::Begin 
 
#================================================================ 
# Calibre LFD Global Configurations 
#================================================================ 
LFD::SimConfig -modelpath [ getenv MODEL_DIR ] -pixel 0.020 
 
#================================================================ 
# Layer Definitions 
#================================================================ 
source $LayersFile 
 
#================================================================ 
# Load the PDK 
#================================================================ 
LFD::LoadPDK $PdkFile 
 
#================================================================ 
# Run Active 
#================================================================ 
if { $RUN_ACTIVE } { 
 
# Register Layer and Generate PV-bands 
# --------------------------------- 
LFD::RegisterLayer \ 
    -pdk lfd_demo \ 
    -Designlayer active \ 
    -Processlayer pdklyr_active 
 
# Start Checks 
# --------------------------------- 
LFD::MinSpaceCheck -pdkCheckName Active_MSC_p1 -layer active \ 
		-database $ChecksDB 
LFD::MinSpaceCheck -pdkCheckName Active_MSC_p2 -layer active \ 
		-database $ChecksDB 
LFD::MinWidthCheck -pdkCheckName Active_MWC_p1 -layer active \ 
		-database $ChecksDB 
LFD::MinWidthCheck -pdkCheckName Active_MWC_p2 -layer active \ 
		-database $ChecksDB 
 
# Generate Output 
# --------------------------------- 
LFD::OutputBands -pdkCheckName Active_Band_p1 -layer active \ 
		-layerOut Active_Band_p1 
LFD::OutputBands -pdkCheckName Active_Band_p2 -layer active \ 
		-layerOut Active_Band_p2 
LFD::CaptureContour -pdkCheckName Active_CNTR_nom -layer active \ 
		-layerOut Active_CNTR_nom 
LFD::VariabilityIndices -layer active -windowSize extents \ 
		-database $IndexDB 
LFD::Demo::RuleCheck active OASIS 11 0 $LayoutDB 
LFD::Demo::RuleCheck Active_Band_p1 ASCII $BandsDB 
LFD::Demo::RuleCheck Active_Band_p2 ASCII $BandsDB 
LFD::Demo::RuleCheck Active_CNTR_nom ASCII $BandsDB 
} 
 
#================================================================ 
# Run Poly 
#================================================================ 
if { $RUN_POLY } { 
 
# Register Layer and Generate PV-bands 
# --------------------------------- 
LFD::RegisterLayer \ 
    -pdk lfd_demo \ 
    -Designlayer poly \ 
    -Processlayer pdklyr_poly 
 
# Start Checks 
# --------------------------------- 
LFD::MinSpaceCheck -pdkCheckName Poly_MSC_p1 -layer poly \ 
		-database $ChecksDB 
LFD::MinSpaceCheck -pdkCheckName Poly_MSC_p2 -layer poly \ 
		-database $ChecksDB 
LFD::MinWidthCheck -pdkCheckName Poly_MWC_p1 -layer poly \ 
		-database $ChecksDB 
LFD::MinWidthCheck -pdkCheckName Poly_MWC_p2 -layer poly \ 
		-database $ChecksDB 
LFD::MaxCDVariabilityCheck -pdkCheckName Poly_MCVC_p1 \ 
		-layer poly -database $ChecksDB 
LFD::MaxCDVariabilityCheck -pdkCheckName Poly_MCVC_p2 \ 
		-layer poly -database $ChecksDB 
 
 
# Generate Output 
# --------------------------------- 
LFD::OutputBands -pdkCheckName Poly_Band_p1 -layer poly \ 
		-layerOut Poly_Band_p1 
LFD::OutputBands -pdkCheckName Poly_Band_p2 -layer poly \ 
		-layerOut Poly_Band_p2 
LFD::CaptureContour -pdkCheckName Poly_CNTR_nom -layer poly \ 
		-layerOut Poly_CNTR_nom 
LFD::VariabilityIndices -layer poly -windowSize extents -database $IndexDB 
LFD::Demo::RuleCheck poly OASIS 13 0 $LayoutDB 
LFD::Demo::RuleCheck Poly_Band_p1 ASCII $BandsDB 
LFD::Demo::RuleCheck Poly_Band_p2 ASCII $BandsDB 
LFD::Demo::RuleCheck Poly_CNTR_nom ASCII $BandsDB 
} 
 
#================================================================ 
# Run Contact 
#================================================================ 
if { $RUN_CONTACT } { 
 
# Register Layer and Generate PV-bands 
# --------------------------------- 
LFD::RegisterLayer \ 
    -pdk lfd_demo \ 
    -Designlayer contact \ 
    -Processlayer pdklyr_contact 
 
# Start Checks 
# --------------------------------- 
LFD::MinSpaceCheck -pdkCheckName Contact_MSC_p1 -layer contact \ 
		-database $ChecksDB 
LFD::MinSpaceCheck -pdkCheckName Contact_MSC_p2 -layer contact \ 
		-database $ChecksDB 
LFD::AreaCheck -pdkCheckName Contact_AC_p1 -layer contact \ 
		-database $ChecksDB 
LFD::AreaCheck -pdkCheckName Contact_AC_p2 -layer contact \ 
		-database $ChecksDB 
 
# Generate Output 
# --------------------------------- 
LFD::OutputBands -pdkCheckName Contact_Band_p1 -layer contact \ 
		-layerOut Contact_Band_p1 
LFD::OutputBands -pdkCheckName Contact_Band_p2 -layer contact \ 
		-layerOut Contact_Band_p2 
LFD::CaptureContour -pdkCheckName Contact_CNTR_nom -layer contact \ 
		-layerOut Contact_CNTR_nom 
LFD::VariabilityIndices -layer contact -windowSize extents \ 
		-database $IndexDB 
LFD::Demo::RuleCheck contact OASIS 15 0 $LayoutDB 
LFD::Demo::RuleCheck Contact_Band_p1 ASCII $BandsDB 
LFD::Demo::RuleCheck Contact_Band_p2 ASCII $BandsDB 
LFD::Demo::RuleCheck Contact_CNTR_nom ASCII $BandsDB 
} 
 
#================================================================ 
# Run Metal1 
#================================================================ 
if { $RUN_METAL1 } { 
 
# Register Layer and Generate PV-bands 
# --------------------------------- 
LFD::RegisterLayer \ 
    -pdk lfd_demo \ 
    -Designlayer metal1 \ 
    -Processlayer pdklyr_metal1 
 
# Start Checks 
# --------------------------------- 
LFD::MinSpaceCheck -pdkCheckName Metal1_MSC_p1 -layer metal1 \ 
		-database $ChecksDB 
LFD::MinSpaceCheck -pdkCheckName Metal1_MSC_p2 -layer metal1 \ 
		-database $ChecksDB 
LFD::MinWidthCheck -pdkCheckName Metal1_MWC_p1 -layer metal1 \ 
		-database $ChecksDB 
LFD::MinWidthCheck -pdkCheckName Metal1_MWC_p2 -layer metal1 \ 
		-database $ChecksDB 
LFD::LineEndCheck -pdkCheckName Metal1_LEC_p1 -layer metal1 \ 
		-database $ChecksDB 
LFD::LineEndCheck -pdkCheckName Metal1_LEC_p2 -layer metal1 \ 
		-database $ChecksDB 
 
# Generate Output 
# --------------------------------- 
LFD::OutputBands -pdkCheckName Metal1_Band_p1 -layer metal1 \ 
		-layerOut Metal1_Band_p1 
LFD::OutputBands -pdkCheckName Metal1_Band_p2 -layer metal1 \ 
		-layerOut Metal1_Band_p2 
LFD::CaptureContour -pdkCheckName Metal1_CNTR_nom -layer metal1 \ 
		-layerOut Metal1_CNTR_nom 
LFD::VariabilityIndices -layer metal1 -windowSize extents \ 
		-database $IndexDB 
LFD::Demo::RuleCheck metal1 OASIS 16 0 $LayoutDB 
LFD::Demo::RuleCheck Metal1_Band_p1 ASCII $BandsDB 
LFD::Demo::RuleCheck Metal1_Band_p2 ASCII $BandsDB 
LFD::Demo::RuleCheck Metal1_CNTR_nom ASCII $BandsDB 
} 
 
#================================================================ 
# Calibre LFD Checks: Multiple Layers 
#================================================================ 
if { $RUN_METAL1 &amp;&amp; $RUN_CONTACT } { 
 
LFD::MinAreaOverlapCheck \ 
    -pdkCheckName Contact_Metal1_MAOC_p1 \ 
    -layer1 contact \ 
    -layer2 metal1 \ 
    -database $ChecksDB 
} 
 
if { $RUN_POLY &amp;&amp; $RUN_ACTIVE } { 
 
LFD::MaxAreaVariabilityCheck \ 
    -pdkCheckName Poly_Active_MAVC_p1 \ 
    -layer1 poly \ 
    -layer2 active \ 
    -database $ChecksDB 
} 
 
if { $RUN_POLY &amp;&amp; $RUN_CONTACT } { 
 
LFD::AreaOverlayCheck \ 
    -pdkCheckName Poly_Contact_AOC_p1 \ 
    -layer1 poly \ 
    -layer2 contact \ 
    -database $ChecksDB 
 
LFD::InterLayerSpaceCheck \ 
    -pdkCheckName Poly_Contact_ILSC_p1 \ 
    -layer1 poly \ 
    -layer2 contact \ 
    -database $ChecksDB 
 
LFD::MinOverlayCheck \ 
    -pdkCheckName Poly_Contact_MOC_p1 \ 
    -layer1 contact \ 
    -layer2 poly \ 
    -database $ChecksDB 
} 
 
if { $RUN_POLY &amp;&amp; $RUN_ACTIVE &amp;&amp; $RUN_CONTACT } { 
 
# AddCustomCheck: Gate to Contact Space Check (GCSC) 
tvf::SETLAYER Gate_CNTR_nom = Poly_CNTR_nom and Active_CNTR_nom 
tvf::SETLAYER Active_Contact_CNTR_nom = Contact_CNTR_nom and Active_CNTR_nom 
tvf::SETLAYER gate_cont_marker_0 = EXTERNAL Gate_CNTR_nom 
		Active_Contact_CNTR_nom &lt; 0.040 REGION 
tvf::SETLAYER gate_cont_marker_1 = SIZE gate_cont_marker_0 BY 0.010 
tvf::SETLAYER gate_cont_marker_2 = EXTENTS gate_cont_marker_1 
tvf::SETLAYER gate_cont_marker_3 = OR poly contact 
tvf::SETLAYER gate_cont_marker_4 = NOT gate_cont_marker_2 
		gate_cont_marker_3 
tvf::SETLAYER gate_cont_marker_5 = NOT COIN EDGE gate_cont_marker_4 
		gate_cont_marker_3 
tvf::SETLAYER gate_cont_marker_6 = EXPand EDGE gate_cont_marker_5  
		INSIDE BY 0.010 
tvf::SETLAYER gate_cont_marker = NOT gate_cont_marker_4 gate_cont_marker_6 
tvf::SETLAYER gate_cont_property = DFM PROPERTY gate_cont_marker 
		Gate_CNTR_nom Active_Contact_CNTR_nom INTERSECTING 
		PVI=(AREA(Gate_CNTR_nom)  
		+ AREA(Active_Contact_CNTR_nom)) / AREA(gate_cont_marker)\] &gt;= 0 
 
LFD::AddCustomCheck \ 
    -layer active \ 
    -customCheck gate_cont_property \ 
    -subwindow 1 \ 
    -checkName Gate_Contact_GCSC_p1 \ 
    -priority 800 \ 
    -comment {Increase separation} \ 
    -database $ChecksDB 
} 
 
#================================================================ 
# Finish Calibre LFD 
#================================================================ 
LFD::End 
 
################################################################# 
# End the actual recipe 
################################################################# </code></pre></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCAppe_SampleCalibreLfdRuleFilePdk_id13d97411.html" title="An example rule file and PDK for Calibre LFD are provided.">Sample Calibre LFD Rule File and PDK</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lfd_user"
                DocTitle = "Calibre® Litho-Friendly Design User’s Manual"
                PageTitle = "Sample Rule File"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_SampleRuleFile_id156338e8.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Litho-Friendly Design User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>