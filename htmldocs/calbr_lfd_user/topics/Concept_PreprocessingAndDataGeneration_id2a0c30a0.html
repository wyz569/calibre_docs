<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Preprocessing and Data Generation" />
<meta name="abstract" content="The functionality of the LFD::MLDataGen command is used for preprocessing and data generation in the first phase of the Calibre LFD DNN flow." />
<meta name="description" content="The functionality of the LFD::MLDataGen command is used for preprocessing and data generation in the first phase of the Calibre LFD DNN flow." />
<meta name="prodname" content="Calibre Litho-Friendly Design User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-19" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_lfd_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 19, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Litho-Friendly Design User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P11426" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="yes" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2a0c30a0-e292-41df-b987-c9cd587e2f07" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Preprocessing and Data Generation</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Preprocessing and Data Generation" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P11426" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id2a0c30a0-e292-41df-b987-c9cd587e2f07">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Preprocessing and Data Generation</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The functionality of the LFD::MLDataGen
command is used for preprocessing and data generation in the first
phase of the Calibre LFD DNN flow. </span>
</div>
<p class="p">The preprocessing and data generation phase is used
for model preparation in the Calibre LFD DNN flow. The goal of this
phase is to use the available hotspot information in your input design
to generate data for preparing a machine learning model for the
DNN training phase of the flow.</p>
<p class="p">Some parameters are common across the LFD::<a class="xref fm:HeadingOnly" href="Command_Mldatagen_id316e4411.html#id316e4411-e51a-4198-ac52-8bd99b5ff6c4__Command_Mldatagen_id316e4411.xml#id316e4411-e51a-4198-ac52-8bd99b5ff6c4" title="Samples and translates features for input to a machine learning training model in the preprocessing and data generation phase of the Calibre LFD deep neural network (DNN) flow.">MLDataGen</a> and LFD::<a class="xref fm:HeadingOnly" href="Command_Mloptimizer_idc0e34fdb.html#idc0e34fdb-b96a-48f6-a3e0-ec7b198351eb__Command_Mloptimizer_idc0e34fdb.xml#idc0e34fdb-b96a-48f6-a3e0-ec7b198351eb" title="Performs hotspot prediction on a new design using a machine learning trained model in the prediction phase of the Calibre LFD deep neural network (DNN) flow.">MLOptimizer</a> commands.
The same values must be used for these parameters in order to ensure
accurate prediction of hotspots in a new layout of interest.</p>
<p class="p">The inputs required for the preprocessing and data generation
phase of the Calibre LFD DNN flow are as follows:</p>
<ul class="ul"><li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__id392e8379-6aa9-4554-a0c9-677683543305"><p class="p"><span class="ph FontProperty HeadingLabel">Input layout</span> —
The input layout includes the target layer (for example, metal 3),
the critical hotspot layer, and the non‑hotspot layer. OASIS or
GDSII database format is supported. The input layout must be DRC
clean.</p>
</li>
<li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__id0c3c2af3-d9e6-4fc7-bf3c-90f30c0aceec"><p class="p"><span class="ph FontProperty HeadingLabel">Window Size</span> —
The initial window size is estimated before the model preparation (preprocessing
and data generation phase) by capturing the patterns of the input
design with a starting size (for example, 10 pitches) and then matching
these patterns on the same design to see how many locations match
the hotpot patterns.</p>
</li>
<li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__idc421a80f-45e8-40a3-8199-8cb6b8077175"><p class="p"><span class="ph FontProperty HeadingLabel">Anchor Settings</span> —
The anchor placement includes all critical hotspots and selected regions
of non‑hotspots in unique cells. The anchor settings are based on
the minimum width and space of the drawn layer. The LFD::MLDataGen
command creates the anchors, separates them into hotspot and non‑hotspot
anchors, and classifies them. Only the unique anchors are included
in the data generation that is input to the model training phase
of the flow.</p>
</li>
<li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__idab80e940-8553-47eb-a82c-515245303206"><p class="p"><span class="ph FontProperty HeadingLabel">Rule File</span> —
The Tcl Verification Format (TVF) rule file used for running Calibre
LFD fast mode on the input layout. This rule file calls Calibre
LFD, which includes the Calibre LFD rule block with the LFD::MLDataGen
command statement.</p>
</li>
</ul>
<p class="p">The outputs from the preprocessing and data generation phase
of the Calibre LFD DNN flow are as follows:</p>
<ul class="ul"><li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__id16dff000-633d-453d-a43a-8a164cd26f19"><p class="p"><span class="ph FontProperty HeadingLabel">CSV file</span> —
The output file containing the generated data with feature information
from the input layout. This file is used for the model training
phase of the Calibre LFD DNN flow. Standard CSV format is supported.
The CSV file must be post‑processed, before it can be input to the <a class="xref fm:HeadingOnly" href="Command_LfdDnnTrain_id10408446.html#id10408446-3689-479c-81f6-5417ec31aa2b__Command_LfdDnnTrain_id10408446.xml#id10408446-3689-479c-81f6-5417ec31aa2b" title="A Calibre LFD executable utility that uses machine learning to train a raw (untrained) model with the generated CSV file output from the preprocessing and data generation phase of the Calibre LFD DNN flow.">lfd_dnn_train</a> utility
and used for model training. This can be done with a Linux sort
command. For example, the csh “sort” command with text‑processing commands
is used to format the CSV file:</p>
<pre class="pre ShellCommand">sort -r -u -k3 -t, datagen_out.csv &gt; \
data_center_3600_UNIQ.csv 
mkdir -p UNIQ
awk -F, '{tmp=$(NF); $(NF)=""; OFS=FS; print tmp,$0}' \
data_center_3600_UNIQ.csv | sort -t, -k4 -u | awk -F, '{tmp=$1; \
$1=""; OFS=FS; print substr($0 tmp,2)}' &gt; UNIQ/\
data_center_3600_UNIQ.csv</pre>
</li>
<li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__id5cb56718-6022-4b28-9030-d0a292db2102"><p class="p"><span class="ph FontProperty HeadingLabel">Results Database</span> —
The results database from the Calibre DRC run. This database contains
layer results that can be used for analysis.</p>
</li>
<li class="li" id="id2a0c30a0-e292-41df-b987-c9cd587e2f07__ida93d9df3-6c57-473f-b978-9b0a50ad2f08"><p class="p"><span class="ph FontProperty HeadingLabel">DRC Summary Report </span>—
The summary report from the Calibre DRC run.</p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreLFDDNNMachineLearningModelPreparationAndUsage_id73c6345d.html" title="You use machine learning to run the Calibre LFD DNN flow in three phases: preprocessing and data generation, model training, and hotspot prediction.">Calibre LFD DNN Machine Learning Model Preparation and Usage</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lfd_user"
                DocTitle = "Calibre® Litho-Friendly Design User’s Manual"
                PageTitle = "Preprocessing and Data Generation"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_PreprocessingAndDataGeneration_id2a0c30a0.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Litho-Friendly Design User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>