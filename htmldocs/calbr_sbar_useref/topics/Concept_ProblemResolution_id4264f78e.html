<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Problem Resolution" />
<meta name="abstract" content="Systematic approaches are provided to resolve problems you encounter with your rules." />
<meta name="description" content="Systematic approaches are provided to resolve problems you encounter with your rules." />
<meta name="prodname" content="Calibre® Opcsbar™ User's And Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="Mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2020-08-28" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="3" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_sbar_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 01, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® OPCsbar™ User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="All" />
<meta name="ConditionFiltering" content="XML" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id4264f78e-8b27-499e-a186-09cee7b419de" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Problem Resolution</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Problem Resolution" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id4264f78e-8b27-499e-a186-09cee7b419de">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Problem
Resolution</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Systematic
approaches are provided to resolve problems you encounter with your
rules.</span>
</div>
<div class="section Subsections" id="id4264f78e-8b27-499e-a186-09cee7b419de__id7d5ee7ea-5db2-4b49-a11c-0238dad79a67"><div class="section Subsection" id="id4264f78e-8b27-499e-a186-09cee7b419de__id403b5b60-3a70-4a40-8a41-b2e39231922d"><h2 class="title Subheading sectiontitle">Quick Checks for Rules</h2><p class="p">Minimum SPACE values should be greater than
or equal to the sum of the scattering bar widths and spaces between
them and the target shapes. <a class="xref fm:Figure" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id611f3a40-6d94-4bfc-bb40-1d4656d23fdb">Figure 1</a> shows a calculation of minimum space.</p>
<div class="fig fignone" id="id4264f78e-8b27-499e-a186-09cee7b419de__id611f3a40-6d94-4bfc-bb40-1d4656d23fdb"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Calculating Minimum SPACE</span><br /><div class="imagecenter"><img class="image imagecenter" height="156" src="../graphics/SB_troubleshooting3a.png" width="426" /></div><br /></div>
<p class="p">For REGULAR scattering bars, (defined with
the same width, spaced a single regular distance apart) you can
define variables and calculate values in your rule deck as shown
in <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id94533651-a266-4291-98a9-d31ed6b203e4">Table 1</a> and <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id583da114-715c-42b4-ae95-faa799793b79">Table 2</a>:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__id94533651-a266-4291-98a9-d31ed6b203e4" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Variables
to Define</span></caption><colgroup><col style="width:0.819in" /><col style="width:2.833in" /><col style="width:2.722in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e182"><p class="p">Variable</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e185"><p class="p">Definition</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e188"><p class="p">Comment</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e182 "><p class="p">sbWidth</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e185 "><p class="p">Scattering Bar width</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e188 "><p class="p">use this for all SBWIDTHs</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e182 "><p class="p">sbDist</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e185 "><p class="p">Distance from feature
to sb </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e188 "><p class="p">typically larger than MINSBOFFSET</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e182 "><p class="p">minGap</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e185 "><p class="p">Minimum space between scattering
bars </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e188 "><p class="p">typically = MINSBSPACE</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__id583da114-715c-42b4-ae95-faa799793b79" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>Values for Low End of SPACE Constraint</span></caption><colgroup><col style="width:1.871in" /><col style="width:2.391in" /><col style="width:2.438in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e231"><p class="p">Configuration</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e234"><p class="p">Minimum Space Values</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e237"><p class="p">Maximum Space Values</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e231 "><p class="p">CENTER</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e234 "><p class="p">2*sbDist+sbWidth</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e237 "><p class="p">2*sbDist+2*sbWidth+minGap</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e231 "><p class="p">OFFSET</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e234 "><p class="p">2*sbDist+2*sbWidth+minGap</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e237 "><p class="p">2*sbDist+3*sbWidth+2*minGap</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e231 "><p class="p">OFFSET + CENTER</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e234 "><p class="p">2*sbDist+3*sbWidth+2*minGap</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e237 "><p class="p">2*sbDist+4*sbWidth+3*minGap</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e231 "><p class="p">2 OFFSETS </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e234 "><p class="p">2*sbDist+4*sbWidth+3*minGap</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e237 "><p class="p">2*sbDist+5*sbWidth+4*minGap</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e231 "><p class="p">2 OFFSETS + CENTER</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e234 "><p class="p">2*sbDist+5*sbWidth+4*minGap</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e237 "><p class="p">2*sbDist+6*sbWidth+5*minGap</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e231 "><p class="p">3 OFFSETS</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e234 "><p class="p">2*sbDist+6*sbWidth+5*minGap</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e237 "><p class="p">2*sbDist+7*sbWidth+6*minGap</p>
</td>
</tr>
</tbody>
</table>
</div>
<h2 class="title Subheading sectiontitle">Unexpected Placement of
Scattering Bars</h2><p class="p">When scattering bars are not where you expected,
there are two possible causes:</p>
<ol class="ol"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id1fe8dc21-de3c-4395-a705-6db76d8a4024"><p class="p">The rules are wrong, leading to unexpected
raw scattering bars.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id853d2dfa-a031-4b67-a4a3-a1c0d51dc486"><p class="p">The cleanup algorithm modified the raw scattering
bars and they no longer match your expectations.</p>
</li>
</ol>
<p class="p">Determine which of these is the cause of your
unexpected scattering bar placement.</p>
<p class="p">The flow in <a class="xref fm:Figure" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id98f5648d-e587-44e7-951f-81b8549c1668">Figure 2</a> shows how to determine unexpected scattering
bar isolation.</p>
<div class="fig fignone" id="id4264f78e-8b27-499e-a186-09cee7b419de__id98f5648d-e587-44e7-951f-81b8549c1668"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Isolation of Incorrectly Placed Scattering Bars</span><br /><div class="imagecenter"><img class="image imagecenter" height="508" src="../graphics/SB_troubleshooting4a.png" width="460" /></div><br /></div>
<h2 class="title Subheading sectiontitle">Cleanup Resolution</h2><p class="p">Once you
have identified a problem due to cleanup options, turn on <a class="xref fm:HeadingOnly" href="Command_Nocleanup_idcce9e2d0.html#idcce9e2d0-f23c-4bf7-990a-2d96482a669c__Command_Nocleanup_idcce9e2d0.xml#idcce9e2d0-f23c-4bf7-990a-2d96482a669c" title="Inhibits cleanup of scattering bars.">NOCLEANUP</a>, re-run, and compare results to
those of the first run. Follow these general steps as an aid:</p>
<ol class="ol"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id462ba5a5-81d2-408a-b39e-8858d8eeb487"><p class="p">Find one area where the original results were
incorrect.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id59357877-b9cb-4fda-beb3-29f639edd4e1"><p class="p">Isolate the failure during the cleanup option
that caused the problem. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id17f3864e-f8d5-424f-9ff6-54a435478038"><p class="p">Find the problem in <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__idd9f2e809-14a5-4b17-96fe-3cc6762095a0">Table 3</a> and consider the possible solutions. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id97c9b6de-aa01-48e0-8e62-22c5ab0764c1"><p class="p">Test the recommended solution:</p>
<ol class="ol" type="a"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id3d3dd5f0-20cd-4c31-ba98-867650ef9fff"><p class="p">Comment out NOCLEANUP in your rule file.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id28d38798-a4d6-4aa4-b5b1-29ce9da7cd7b"><p class="p">Modify the keyword(s) as suggested.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id785b63fc-4f9e-43b5-bc88-3527953a0770"><p class="p">Re-run OPCSBAR.</p>
</li>
</ol>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__idfab47da8-3b7d-4689-bd6a-a7efd2de4f16"><p class="p">Check the new results.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id7bda9d1e-9bf6-46bd-af90-b667b5c20847"><p class="p">Continue modifying keyword values until the
problem is resolved.</p>
</li>
</ol>
<p class="p">After you have resolved one problem, if the
output is still not what you want, repeat the process for another
problem, this time comparing the most recent results to the results
with NOCLEANUP.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__idd9f2e809-14a5-4b17-96fe-3cc6762095a0" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 3. </span>Resolving Cleanup Problems</span></caption><colgroup><col style="width:2.395in" /><col style="width:3.655in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e389"><p class="p">Problem</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e392"><p class="p">Try this…</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Two parallel bars replaced by
one</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Comment out <a class="xref fm:HeadingOnly" href="Command_Centermerge_id12369d67.html#id12369d67-d57b-4b30-956f-5da61e2ed441__Command_Centermerge_id12369d67.xml#id12369d67-d57b-4b30-956f-5da61e2ed441" title="Merges adjacent scattering bars by center.">CENTERMERGE</a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Overlapping bars trimmed away</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Add <a class="xref fm:HeadingOnly" href="Command_JogFill_idfad78e7d.html#idfad78e7d-ff2c-4f95-a5bc-eb1ce7575dd5__Command_JogFill_idfad78e7d.xml#idfad78e7d-ff2c-4f95-a5bc-eb1ce7575dd5" title="Cleans overlapping scattering bars.">JOG FILL</a> or increase <a class="xref fm:HeadingOnly" href="Command_Minjogwidth_idc37d7774.html#idc37d7774-9117-4bc5-a7ab-d857ef683382__Command_Minjogwidth_idc37d7774.xml#idc37d7774-9117-4bc5-a7ab-d857ef683382" title="Defines the minimum jog width.">MINJOGWIDTH</a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Overlapping bars replaced by
one</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Comment out <a class="xref fm:HeadingOnly" href="Command_Colinearize_id6bbe43fd.html#id6bbe43fd-01d4-42a2-bb44-f549d8577db6__Command_Colinearize_id6bbe43fd.xml#id6bbe43fd-01d4-42a2-bb44-f549d8577db6" title="Merges adjacent scattering bars.">COLINEARIZE</a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Small scattering bars missing</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Reduce <a class="xref fm:HeadingOnly" href="Command_Minsblength_id85ed86b5.html#id85ed86b5-afe7-4286-a2b3-6d7bd9ac0fae__Command_Minsblength_id85ed86b5.xml#id85ed86b5-afe7-4286-a2b3-6d7bd9ac0fae" title="Defines minimum length of scattering bars.">MINSBLENGTH</a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Missing first priority scattering
bars</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Reduce <a class="xref fm:HeadingOnly" href="Command_Minsboffset_id38fed7ad.html#id38fed7ad-8238-47aa-a593-09c166dbf506__Command_Minsboffset_id38fed7ad.xml#id38fed7ad-8238-47aa-a593-09c166dbf506" title="Defines a minimum offset.">MINSBOFFSET</a> or <a class="xref fm:HeadingOnly" href="Command_Lineendoffset_id57805693.html#id57805693-bf0e-493b-8d16-599bd8abccaf__Command_Lineendoffset_id57805693.xml#id57805693-bf0e-493b-8d16-599bd8abccaf" title="Defines minimum line end offset.">LINEENDOFFSET</a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Missing second or third priority
scattering bars</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Reduce <a class="xref fm:HeadingOnly" href="Command_Minsbspace_id512e88f9.html#id512e88f9-023d-4c6e-9205-a66d885c0b53__Command_Minsbspace_id512e88f9.xml#id512e88f9-023d-4c6e-9205-a66d885c0b53" title="Defines minimum scattering bar spacing.">MINSBSPACE</a> or <a class="xref fm:HeadingOnly" href="Command_Lineendspace_id63b39dd7.html#id63b39dd7-074d-4848-a90e-e54cc1c2b022__Command_Lineendspace_id63b39dd7.xml#id63b39dd7-074d-4848-a90e-e54cc1c2b022" title="Defines minimum line end spacing.">LINEENDSPACE</a>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e389 "><p class="p">Scattering bars shortened oddly</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e392 "><p class="p">Turn off <a class="xref fm:HeadingOnly" href="Command_Sblayer_id8f696411.html#id8f696411-dd39-40f7-87db-1c20b8955645__Command_Sblayer_id8f696411.xml#id8f696411-dd39-40f7-87db-1c20b8955645" title="Preexisting scattering bar layer name.">SBLAYER</a> or <a class="xref fm:HeadingOnly" href="Command_PrioritizeByLayer_id36e2e9f4.html#id36e2e9f4-e709-4b29-ba6b-809b66ff3679__Command_PrioritizeByLayer_id36e2e9f4.xml#id36e2e9f4-e709-4b29-ba6b-809b66ff3679" title="Defines priorities for generating scattering bars.">PRIORITIZE BY LAYER</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"><a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__idd9f2e809-14a5-4b17-96fe-3cc6762095a0">Table 3</a> provides a list of cleanup problems.</p>
<h2 class="title Subheading sectiontitle">Design Problem Resolution</h2><p class="p">Once you have identified the problem as stemming
from MINEDGELENGTH, EXTENSION, or LINEENDMERGE, you should experiment
with these keywords to see what you must do to get the desired results. </p>
<ol class="ol"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__idf57eef2b-a2dd-4014-9e3d-56bb21af12b5"><p class="p">Find one area where the original results were
not what you wanted.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id2bd7aa3d-2069-4088-98f4-a4b281d5a0f6"><p class="p">Compare the results from a run using NOCLEANUP
with these options (layoutA) to the results from a run using NOCLEANUP
without these options (layoutB).</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__idd1f157f5-0770-4a3a-8fe8-a0ce265bac9a"><p class="p">Once you identify a problem, look it up in <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id139f394d-226d-45e5-b31e-6b1d24d77de8">Table 4</a>. This table suggests possible solutions. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__idf1e03383-74cb-4885-bd22-865c60f0f5b2"><p class="p">Test the recommended solution:</p>
<ol class="ol" type="a"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id0071e94c-fe27-480b-b21d-1e79989bff79"><p class="p">Beginning with the script used to generate
layoutA, modify the keyword(s) as suggested.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__idbd7b90fd-073b-4fce-8720-64005a014675"><p class="p">Re-run OPCSBAR.</p>
</li>
</ol>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id81d13291-0e5a-4ae1-94d2-7ebb45dde32f"><p class="p">Compare this new layout to layoutA and layoutB
to see how much this helped, if at all.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id921ca726-a056-44fd-a2a7-1a16d5e382ab"><p class="p">Continue tweaking the keyword value until
the problem is resolved.</p>
</li>
</ol>
<p class="p">After you have resolved one problem, if the
output is still not what you want, repeat the process for another
problem, this time comparing the most recent results with the layoutB results.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__id139f394d-226d-45e5-b31e-6b1d24d77de8" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 4. </span>Resolving Design Problems</span></caption><colgroup><col style="width:1.874in" /><col style="width:4.176in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e573"><p class="p">Problem in LayoutA</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e576"><p class="p">Try this…</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e573 "><p class="p">Not all scattering bars
created</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e576 "><p class="p">Run with the original
values for <a class="xref fm:HeadingOnly" href="Command_Extension_idab62bf5f.html#idab62bf5f-7053-40e5-ae31-3304232bdc6f__Command_Extension_idab62bf5f.xml#idab62bf5f-7053-40e5-ae31-3304232bdc6f" title="Adjusts ends of scattering bars.">EXTENSION</a> and <a class="xref fm:HeadingOnly" href="Command_Lineendmerge_id2d97bc8f.html#id2d97bc8f-511a-4ce8-bb85-ea9876a74b68__Command_Lineendmerge_id2d97bc8f.xml#id2d97bc8f-511a-4ce8-bb85-ea9876a74b68" title="Merges adjacent scattering bars by end.">LINEENDMERGE</a>, but without <a class="xref fm:HeadingOnly" href="Command_Minedgelength_idde03a6a3.html#idde03a6a3-e887-4b68-a5cc-82372f114c7c__Command_Minedgelength_idde03a6a3.xml#idde03a6a3-e887-4b68-a5cc-82372f114c7c" title="Defines minimum edge lengths.">MINEDGELENGTH</a>. If this helps, you can still
use MINEDGELENGTH, but it will need to be smaller than the value
you used originally. Experiment to find the best value.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e573 "><p class="p">Scattering bars created
the wrong length</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e576 "><p class="p">Adjust the value for
EXTENSION.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e573 "><p class="p">One long scattering bar
where there should be two</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e576 "><p class="p">Run with the original
values for EXTENSION and MINEDGELENGTH, but without LINEENDMERGE.
If this helps, adjust EXTENSION and LINEENDMERGE values so scattering
bars are only merged where you want them to be.</p>
</td>
</tr>
</tbody>
</table>
</div>
<h2 class="title Subheading sectiontitle">Rule Problem Resolution</h2><p class="p">When the problem is with the rules, you must
look for the solution in one or more of the following places:</p>
<ul class="ul"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id54d040cb-c559-4a42-b9b1-827b7b743fd6"><p class="p">Input layers: <a class="xref fm:HeadingOnly" href="Command_InLayer_id83a4fb6e.html#id83a4fb6e-b8fd-4c3c-9332-46717a1417cc__Command_InLayer_id83a4fb6e.xml#id83a4fb6e-b8fd-4c3c-9332-46717a1417cc" title="Specifies an input layer name for which to generate scattering bars.">in_layer</a> and <a class="xref fm:HeadingOnly" href="Command_RefLayer_id5de5e8b0.html#id5de5e8b0-c455-40ed-b245-17286380e7c8__Command_RefLayer_id5de5e8b0.xml#id5de5e8b0-c455-40ed-b245-17286380e7c8" title="Reference layer name for measuring violations.">ref_layer</a></p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id87353f96-a2e5-4fb5-b55f-967632b2d41f"><p class="p">Placement arguments: SBOFFSET and CENTER</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id69d44fa9-f703-47fa-85c2-bcc4e5843c54"><p class="p">SPACE and WIDTH conditions (refer to <a class="xref fm:Figure" href="Concept_ScatteringBarCleanup_idc33aaac7.html#idc33aaac7-5bcf-4dd3-8d35-852deb5f715a__ide5e13e44-4a18-4783-9a03-e2655116af64">Figure 3</a>)</p>
</li>
</ul>
<p class="p">Start by looking at one set of scattering bars
at a time. You do this by setting the priority level for <a class="xref fm:HeadingOnly" href="Command_Nocleanup_idcce9e2d0.html#idcce9e2d0-f23c-4bf7-990a-2d96482a669c__Command_Nocleanup_idcce9e2d0.xml#idcce9e2d0-f23c-4bf7-990a-2d96482a669c" title="Inhibits cleanup of scattering bars.">NOCLEANUP</a> as shown in <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id30b5e509-f755-4578-989d-0688c4c5879f">Table 5</a>.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__id30b5e509-f755-4578-989d-0688c4c5879f" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 5. </span>Scattering Bars Returned
Based on Priority</span></caption><colgroup><col style="width:0.235in" /><col style="width:0.985in" /><col style="width:0.985in" /><col style="width:2.085in" /><col style="width:2.085in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e678"><p class="p">priority</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e686"><p class="p">Rules alone</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e689"><p class="p">with</p>
<p class="p"><a class="xref fm:HeadingOnly" href="Command_Sblayer_id8f696411.html#id8f696411-dd39-40f7-87db-1c20b8955645__Command_Sblayer_id8f696411.xml#id8f696411-dd39-40f7-87db-1c20b8955645" title="Preexisting scattering bar layer name.">SBLAYER</a></p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e699"><p class="p">with one</p>
<p class="p"><a class="xref fm:HeadingOnly" href="Command_PrioritizeByLayer_id36e2e9f4.html#id36e2e9f4-e709-4b29-ba6b-809b66ff3679__Command_PrioritizeByLayer_id36e2e9f4.xml#id36e2e9f4-e709-4b29-ba6b-809b66ff3679" title="Defines priorities for generating scattering bars.">PRIORITIZE BY LAYER</a></p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e709"><p class="p">with SBLAYER and one </p>
<p class="p">PRIORITIZE BY LAYER</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "><p class="p">closest to edge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "><p class="p">on SBLAYER</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "><p class="p">closest to edges touching
island layer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">on SBLAYER</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "><p class="p">second from edge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "><p class="p">closest to edge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "><p class="p">closest to other edges</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">closest to edges touching
island layer</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "><p class="p">third from edge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "><p class="p">second from edge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "><p class="p">second from edges touching
island layer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">closest to other edges</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">4</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "><p class="p">third from edge</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "><p class="p">second from other edges</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">second from edges touching
island layer</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">5</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "><p class="p">third from edges touching
island layer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">second from other edges</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">6</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "><p class="p">third from other edges</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">third from edges touching
island layer</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e678 "><p class="p">7</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e686 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e689 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e699 "> </td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e709 "><p class="p">third from other edges</p>
</td>
</tr>
</tbody>
</table>
</div>
<ol class="ol"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__ida4bed587-e6bd-4d3f-95cf-f039680a6b86"><p class="p">Find one area where the original results were
not what you wanted.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id2e3c98db-9617-4e95-9d84-71e0f73dc2f5"><p class="p">Edit the rule file used to generate a layout
using NOCLEANUP without EXTENSION, LINEENDMERGE, or MINEDGELENGTH
(layoutB), setting NOCLEANUP priority to 1.</p>
<pre class="pre codeblock leveled"><code>NOCLEANUP 1</code></pre></li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id6b0e714b-f44d-42e7-9f2b-f9cee6141f5e"><p class="p">Run OPCSBAR with this rule file to generate
layoutC.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id753544d5-8a02-4ee7-9331-ca6b014f973b"><p class="p">Compare layoutC to your expectations. Check <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id30b5e509-f755-4578-989d-0688c4c5879f">Table 5</a> to make sure you know exactly what scattering
bars you should be seeing.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id5ee0ff9f-604d-4de6-9a6c-063b02ff850e"><p class="p">Once you identify a problem, look it up in <a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id08ca250b-63d1-47b0-8cf0-31f284808a18">Table 6</a>. This table suggests probable solutions. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id25437715-375d-4392-baa8-f9af22fec92c"><p class="p">Test the recommended solution:</p>
<ol class="ol" type="a"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id16b80cb0-277d-425c-87cf-efb296ca3eef"><p class="p">Beginning with the script used to generate
layout C, modifying the input layers or rules as suggested.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id9446e515-4505-42e6-8806-5c1149bcebd8"><p class="p">Re-run OPCSBAR.</p>
</li>
</ol>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id66436f32-a04f-440a-b637-bee8085e9fcc"><p class="p">Compare this new layout to layoutA and layoutB
to see how much this helped, if at all.</p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id2cd42a2b-1d2c-41e3-86cb-498842834fc8"><p class="p">Continue adjusting the rules until this set
of scattering bars appear the way you want them. Repeat for every
other set of scattering bars until the final results are the RAW
scattering bars you expected.</p>
</li>
</ol>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__id08ca250b-63d1-47b0-8cf0-31f284808a18" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 6. </span>Resolving Rules Problems</span></caption><colgroup><col style="width:3.025in" /><col style="width:3.025in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e861"><p class="p">Problem</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e864"><p class="p">Try this…</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e861 "><p class="p">Wrong number of scattering bars</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e864 "><p class="p">If using <span class="keyword ParameterName OptionalReplaceable">ref_layer</span>,
run OPCSBAR without it. If not using <span class="keyword ParameterName OptionalReplaceable">ref_layer</span>,
look for unbounded spaces.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e861 "><p class="p">Scattering bars in wrong
place</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e864 "><p class="p">Check the SBOFFSET in
SPACE or SPACELAYER that was used to generate these scattering bars.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e861 "><p class="p">Missing scattering bars
here and there</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e864 "><p class="p">If using <a class="xref fm:HeadingOnly" href="Command_Space_idbf4f12d1.html#idbf4f12d1-b933-4217-a485-563ded245fe1__Command_Space_idbf4f12d1.xml#idbf4f12d1-b933-4217-a485-563ded245fe1" title="Defines a constraining spatial range between edges to qualify and generate scattering bars.">SPACE</a> rules, check the WIDTH conditions
used to generate these scattering bars.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e861 "><p class="p">Scattering bars generated
for edges that should not be treated.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e864 "><p class="p">Create a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DRC Check Map', 'svrf_ur'); return false;">DRC CHECK MAP</a> statement (detailed in the <a class="xref LinkItalic" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'svrf_ur'); return false;">Standard Verification Rule Format (SVRF) Manual</a>) to write the <span class="keyword ParameterName RequiredReplaceable">in_layer</span> as
a separate layer in your output database. Perform a visual inspection
to make sure it contains expected data.</p>
<p class="p">If <span class="keyword ParameterName RequiredReplaceable">in_layer</span> is
a polygon layer, use SVRF to derive an edge layer to pass only the
edges requiring scattering bar treatment.</p>
</td>
</tr>
</tbody>
</table>
</div>
<h2 class="title Subheading sectiontitle">Using NOCLEANUP to Resolve
Scattering Bar Generation Failure</h2><p class="p">When expected scattering bars fail to be generated,
the problem is typically caused by the cleanup phase of raw scattering
bars.</p>
<p class="p"><a class="xref fm:Figure" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id55ee3e0b-9c61-424f-a2b1-6b0627e20faa">Figure 3</a> shows how you can find the cause of
the problem with NOCLEANUP. This sample data was designed to illustrate
how to debug missing scattering bars and should not be interpreted
as a production scattering bar placement recipe.</p>
<div class="fig fignone" id="id4264f78e-8b27-499e-a186-09cee7b419de__id55ee3e0b-9c61-424f-a2b1-6b0627e20faa"><span class="figcap"><span class="fig--title-label">Figure 3. </span>NOCLEANUP Usage</span><br /><div class="imagecenter"><img class="image imagecenter" height="497" src="../graphics/SB_troubleshooting5.png" width="471" /></div><br /></div>
<h2 class="title Subheading sectiontitle">Performance Issues</h2><p class="p">The
leading cause of performance problems is passing flattened (or partially
flattened) data to the Calibre OPCsbar command. Some flattening
is always likely to occur as you prepare the original layers using
SVRF commands. When performance is an issue, flatten the data as
little as possible.</p>
<p class="p">Tracking down flattening problems involves
studying the Calibre transcript. The Calibre nmDRC hierarchical
engine automatically generates this text transcript at run-time
and sends it to stdout, which is typically the shell window from
which you invoked the application. It is good practice to save the
transcript by redirecting the output to a file, which you can do
when you invoke the Calibre nmDRC hierarchical engine, by using
the pipe/tee syntax, as follows:</p>
<div class="fig fignone" id="id4264f78e-8b27-499e-a186-09cee7b419de__idd8737d2d-1fad-4d21-8ead-4c7e14348530"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:120" src="../graphics/SB_troubleshooting6.png" /></div><br /></div>
<p class="p">In the transcript, you see a
separate set of statistics for every layer operation:</p>
<ul class="ul"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id8af316bf-d5b7-4c81-9763-6519385e4655"><p class="p">The first line shows the layer operation
as it appears in the rule file. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id36f89b36-9e06-4075-8d6b-4a6b6ba6393e"><p class="p">This line is followed by a dashed line. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id90308513-ca8a-45d8-afab-5931c8af22db"><p class="p">The second line shows the name of the
generated layer followed by several statistics.</p>
</li>
</ul>
<p class="p">Statistics of interest are HGC and FGC:</p>
<ul class="ul"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id0cd0b7e0-865b-4f41-89b9-a5d721f68683"><p class="p">HGC: The number of hierarchical objects
on the layer. </p>
</li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id9086a6da-4686-442f-991f-1d654192bd24"><p class="p">FGC: The estimated number of flat objects
on the layer. </p>
</li>
</ul>
<p class="p">For every layer operation, you can calculate
the degree of flattening as the ratio of HGC to FGC:</p>
<p class="p">For a more complete description of the Calibre transcript, refer
to the “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre nmDRC Results', 'calbr_ver_user'); return false;">nmDRC Results</a>”
chapter of the <a class="xref LinkItalic" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_ver_user'); return false;">Calibre Verification User’s Manual.</a> </p>
<div class="fig fignone" id="id4264f78e-8b27-499e-a186-09cee7b419de__id9058de39-49ca-4d03-a553-a06c58d9d668"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:120" src="../graphics/SB_troubleshooting7.png" /></div><br /></div>
<h2 class="title Subheading sectiontitle">Common Causes of Flattening</h2><p class="p">Flattening is contextual. Some operations applied
to certain designs causes significant flattening. With other designs,
the same operation may cause minimal flattening. The following sections
describe operations that may cause flattening.</p>
<h2 class="title Subheading sectiontitle">Isolation of Edges using
EXTERNAL</h2><p class="p">Flattening is caused by
creating a very large measurement region for the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'External', 'svrf_ur'); return false;">External</a> dimension
check detailed in the <a class="xref LinkItalic" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'svrf_ur'); return false;">Standard Verification Rule Format (SVRF) Manual</a>. When the measurement
region extends beyond a cell boundary, flattening is required to
check edges not in the cell:</p>
<pre class="pre codeblock leveled"><code>temp_layer = EXTERNAL orig_layer &gt; 2 &lt;=4</code></pre><p class="p">By using an EXTERNAL dimension check, followed
by a logical NOT, you are only requiring Calibre to search in small
measurement regions. The chances that the region extends beyond
a cell boundary are greatly reduced, so flattening is also greatly
reduced:</p>
<pre class="pre codeblock leveled"><code>temp_layer1 = EXTERNAL orig_layer &lt;= 2
temp_layer = orig_layer NOT temp_layer1</code></pre><h2 class="title Subheading sectiontitle">Isolation of Critically Dimensioned Features using SIZE</h2><p class="p">SIZE with UNDEROVER finds critically dimensioned
features by reducing features to the point where all features smaller
than 2*size_by_value disappear. When the second half of the operation
enlarges the features back to their original sizes, the critically
dimensioned features no longer exist. Using the Boolean NOT, you
can then remove all features that are not critically dimensioned
from the original layer. This process can cause a significant amount
of flattening wherever polygons cross cell boundaries:</p>
<pre class="pre codeblock leveled"><code>temp_layer1 = SIZE orig_layer BY 0.07 UNDEROVER
temp_layer = orig_layer NOT temp_layer1</code></pre><p class="p">INTERNAL finds critically dimensioned features
more directly by finding internally facing edges nearer than the
specified amount. Calibre does not usually need to flatten data
to perform this operation because the dimension check is within
a single feature, and hence a single cell. However, this is not
as accurate because it measures distances perpendicular to an original
edge, which will not always be the shortest distance between the
two edges:</p>
<pre class="pre codeblock leveled"><code>temp_layer = INTERNAL orig_layer &lt;= 0.14
temp_layer = orig_layer WITH WIDTH &lt;= 0.14</code></pre><p class="p">A third approach, WITH WIDTH finds critically
dimensioned features more directly by isolating those features that
are narrower than the specified amount. </p>
<p class="p">This approach is most accurate because it uses
the shortest distance between two edges as the width, regardless
of the orientation. However, it also causes the most flattening
because performing a shortest distance calculation requires that
all portions of a polygon must be placed on the same hierarchical
level.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id4264f78e-8b27-499e-a186-09cee7b419de__id90fed4df-17d0-44d2-b130-6c0993fbf7a9" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 7. </span>Comparing Methods for
Finding CD Features</span></caption><colgroup><col style="width:1.957in" /><col style="width:1.102in" /><col style="width:1.040in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e1052"><p class="p">Operation</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e1055"><p class="p">Performance</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12992e1058"><p class="p">Accuracy</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e1052 "><p class="p">INTERNAL</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="3" style="vertical-align:top;" headers="d12992e1055 "><p class="p">Best</p>
<p class="p">Better</p>
<p class="p">Worst</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="3" style="vertical-align:top;" headers="d12992e1058 "><p class="p">Worst</p>
<p class="p">Better</p>
<p class="p">Best</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e1052 "><p class="p">SIZE UNDEROVER</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d12992e1052 "><p class="p">WITH WIDTH</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"><a class="xref fm:Table" href="#id4264f78e-8b27-499e-a186-09cee7b419de__id90fed4df-17d0-44d2-b130-6c0993fbf7a9">Table 7</a> shows this trade-off.</p>
<h2 class="title Subheading sectiontitle">Extensive Edge Classification</h2><p class="p">For some designs, Calibre OPCsbar causes large
amounts of flattening. You can minimize this in two ways:</p>
<ul class="ul"><li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__ide75bbda9-c3b7-4ea4-9941-a0e78d3439d3"><p class="p">Supply an <span class="keyword ParameterName RequiredReplaceable">in_layer</span> containing
only those portions of the design requiring scattering bar treatment.
This can cause less flattening if it cuts down on the number of
edges to classify and on the scope of the measurement regions created
in the process:</p>
<pre class="pre codeblock leveled"><code>OPCSBAR orig_layer
	&lt;sbar recipe&gt;</code></pre></li>
<li class="li" id="id4264f78e-8b27-499e-a186-09cee7b419de__id6b7d3dfe-b00f-499a-af23-1ba1b61c583a"><p class="p">Use SPACELAYER rules to avoid performing
edge classification altogether. Note, however, that using this method,
the pre-processing you do may end up flattening the data just as
much or more than Calibre OPCsbar:</p>
<pre class="pre codeblock leveled"><code>OPCSBAR temp_poly_layer orig_layer
	&lt;sbar recipe using SPACE rules&gt;</code></pre><pre class="pre codeblock leveled"><code>OPCSBAR temp_edge_layer orig_layer
	&lt;sbar recipe using SPACE rules&gt;</code></pre><pre class="pre codeblock leveled"><code>OPCSBAR orig_layer
	&lt;sbar recipe using SPACELAYER rules&gt;</code></pre></li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CalibreOpcsbarBestPracticesProblemResolution_id3c1312a2.html" title="There are several best practices and troubleshooting tips you can follow to create the most effective Calibre OPCsbar rule file.">Calibre OPCsbar Best Practices and Problem Resolution</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_sbar_useref"
                DocTitle = "Calibre® OPCsbar™ User’s and Reference Manual"
                PageTitle = "Problem Resolution"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ProblemResolution_id4264f78e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® OPCsbar™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>