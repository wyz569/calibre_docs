<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Smooth Biased Target Layers" />
<meta name="abstract" content="Biasing operations can occasionally introduce many small irregularities (such as excess jogs or overcorrection) that degrade the overall shapes, preventing clean fragmentation and making the target layer unsuitable for correction." />
<meta name="description" content="Biasing operations can occasionally introduce many small irregularities (such as excess jogs or overcorrection) that degrade the overall shapes, preventing clean fragmentation and making the target layer unsuitable for correction." />
<meta name="prodname" content="Calibre nmMPC and Calibre nmCLMPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmmpc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="ConditionFiltering" content="XML" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2095f617-6e05-4427-8993-f994f7542f8d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Smooth Biased Target Layers</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Smooth Biased Target Layers" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id2095f617-6e05-4427-8993-f994f7542f8d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Smooth Biased Target Layers</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Biasing operations
can occasionally introduce many small irregularities (such as excess
jogs or overcorrection) that degrade the overall shapes, preventing
clean fragmentation and making the target layer unsuitable for correction.</span>
</div>
<p class="p">To correct this, use the <a class="xref fm:HeadingOnly" href="Command_RetargetLayer_id6ff75a00.html#id6ff75a00-52d3-4862-a41e-88fae43f395f__Command_RetargetLayer_id6ff75a00.xml#id6ff75a00-52d3-4862-a41e-88fae43f395f" title="Defines a new target layer, leaving the fragmentation on the opc layers.">retarget_layer</a> command to separate the target
from the layer being corrected. The opc layer is copied to a retarget
layer and “smoothed.” The original layer is now the opc layer, and
the correction target is the “retarget layer.” In this case, EPE
is measured from the image to the retarget layer, then the fragments
on the opc layer are moved accordingly (fragments on the retarget
layer cannot be moved since smoothed or rounded corners cannot be corrected).</p>
<p class="p">There are three basic approaches to deal with
biasing issues:</p>
<ul class="ul"><li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__idd65bb6f8-52ec-4bad-a9a7-5d9feee50220"><p class="p">Correct a layer with small jogs, then
pass in original layer (a pre-biased layer) before biasing as an
opc layer, using the layer with jogs as retarget layer.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__idd70699c2-85d4-473a-bf3c-05fb878bb694"><p class="p">Use a smoothed target.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__id55eb7e9c-b9a2-4ff1-aa8b-d9f3c9533015"><p class="p">Smooth the jogs and the retarget layer.</p>
</li>
</ul>
<p class="p">The smoothing process on the retarget layer
represents a more physical target, reducing the dependency on corner
fragment length It also reduces overcorrection at corners that results
in “ringing” in the image.</p>
<p class="p">Smoothed layers can be generated using the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurve_id4340ef68.html#id4340ef68-2da0-441a-99bc-4f121af39f87__Command_SetlayerCurve_id4340ef68.xml#id4340ef68-2da0-441a-99bc-4f121af39f87" title="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”).">setlayer curve</a> command and are passed to MPC
as retarget layers. The setlayer curve command can be used to produce
a smooth target. The curve command implements a b-spline, and control
points are derived from existing polygon vertices. Additional points
are added before and after corners and at least one point is added
in the center of short segments.</p>
<p class="p">Additionally, the purpose of the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurveTarget_id63c898f5.html#id63c898f5-7821-4354-bc39-65c53128244d__Command_SetlayerCurveTarget_id63c898f5.xml#id63c898f5-7821-4354-bc39-65c53128244d" title="Creates a target that mimics the final image.">setlayer curve_target</a> command is to create a target
that mimics what the final image is going to look like. Using this
command, you look at the differences between the image and the curve
target and adjust the parameters to more closely match what the
final image looks like. By having a feasible target (one that can
actually be printed on masks), the optimization can be simplified,
resulting in better correction results.</p>
<p class="p">A general process for smoothing layers can
be described as:</p>
<ol class="ol"><li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__id6306f378-dd77-45cb-a4a5-d0fb92deef91"><p class="p">Get reasonable good correction results without
using smooth target.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__ide36f5d7d-1b16-4d50-adda-fdf8f55d9c46"><p class="p">Use post-correction simulation contour to
estimate the amount of residual corner rounding.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__ida5df13a4-832f-4c6a-831c-8d561d36f137"><p class="p">Adjust curve parameters to match existing
contour.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__ided6fdee2-4b48-483a-adc9-0ca8c106885d"><p class="p">When done, compare correction results with
and without smoothed input.</p>
<ol class="ol" type="a"><li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__idd1483c1f-8bb2-47f0-9e51-b3214a9a8191"><p class="p">Results should show improved corrections.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__ida1c2d557-a3f4-4fd7-92da-5ba7648ccbc4"><p class="p">Some fragment length adjustment may help.</p>
</li>
</ol>
</li>
</ol>
<p class="p">A smoothed target can be used for EPE measurement
against the contour(s), with the following notes:</p>
<ul class="ul"><li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__idd580f2f5-a1e8-4b58-a6de-6715ec8165b0"><p class="p">EPE measurements are made orthogonal
to the smooth target.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__id86ccd258-2082-4c13-a4be-32d62f09169f"><p class="p">Convex and line end fragments still use
the maximum EPE.</p>
</li>
<li class="li" id="id2095f617-6e05-4427-8993-f994f7542f8d__id401570c1-6e55-4eb6-b145-45f54001437c"><p class="p">Concave corners use the minimum EPE.</p>
</li>
</ul>
<p class="p">The following is an example Calibre nmMPC setup
file performing target smoothing using setlayer curve_target:</p>
<pre class="pre codeblock leveled"><code>LAYER poly 4 
poly { copy poly } DRC CHECK MAP poly 4 
 
LITHO FILE "EBEAM.setup" [ 
	ebeam_model_load ebeamModel { 
		model_type simulation  
		diff_length  0.030 
} 
 
layer poly 
 
denseopc_options srcOptions { 
	version 1 
	image ebeam_model ebeamModel 
	algorithm 1     
	background clear 
	layer poly opc dark 
	layer tgt hidden dark 
	retarget_layer tgt  
     
	max_iterations 1 
	feedback -0.98 
	tile_fragmentation_only 1 
} 
 
setlayer tgt = curve_target poly criticalDistance 0.040 \
	cornerRadius 0.040 cornerRadiusConcave 0.020 \
	cornerRadiusConvex 0.040 lineEndRatio 1.0 maxJog 0.006 \
	roundCorner true  
setlayer mpc_poly = mpc poly tgt MAP poly OPTIONS srcOptions 
] 
  
target {LITHO MPC poly MAP tgt FILE "EBEAM.setup"} DRC CHECK MAP target 5 
mpc_poly {LITHO MPC poly MAP mpc_poly FILE "EBEAM.setup"} DRC CHECK \
	MAP mpc_poly 301 </code></pre></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmmpcSetupFile_id264c0f3c.html" title="Once the models are created and calibrated, the mask can now be corrected by creating a Calibre nmMPC setup file, a file that contains commands that reference the long range and short range simulation models and uses them to adjust the mask polygons.">The Calibre nmMPC Setup File</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmmpc_useref"
                DocTitle = "Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual"
                PageTitle = "Smooth Biased Target Layers"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_SmoothBiasedTargetLayers_id2095f617.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>