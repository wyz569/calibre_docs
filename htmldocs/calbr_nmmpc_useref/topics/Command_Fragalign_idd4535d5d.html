<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="fragalign" />
<meta name="abstract" content="Aligns fragment break points on a specified layer." />
<meta name="description" content="Aligns fragment break points on a specified layer." />
<meta name="DC.subject" content="fragalign" />
<meta name="keywords" content="fragalign" />
<meta name="prodname" content="Calibre nmMPC and Calibre nmCLMPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmmpc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="ConditionFiltering" content="XML" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idd4535d5d-4a51-49f8-8b67-6992102170a7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>fragalign</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="fragalign" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idd4535d5d-4a51-49f8-8b67-6992102170a7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">fragalign</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">
      <a class="xref fm:HeadingOnly" href="General_MpcCustomTclScriptingCommands_idab30e874.html#idab30e874-d2ab-4b6c-aa3c-b2f31da8b96c__General_MpcCustomTclScriptingCommands_idab30e874.xml#idab30e874-d2ab-4b6c-aa3c-b2f31da8b96c" title="The following table lists the nmMPC custom scripting commands.">MPC Custom Tcl Scripting Commands</a>
    </p>
<p class="shortdesc">Aligns fragment break points
on a specified layer.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">fragalign</span> <span class="keyword ParameterName RequiredReplaceable">layer</span> <span class="keyword ParameterName RequiredReplaceable">tag</span> <span class="keyword ParameterName Required">maxmove</span> <span class="keyword ParameterName RequiredReplaceable">max_move</span> <span class="keyword ParameterName Required">maxpolywidth</span> <span class="keyword ParameterName RequiredReplaceable">max_width</span> <br />
<span class="keyword ParameterName Required">minedgelen</span> <span class="keyword ParameterName RequiredReplaceable">minedgelength</span> [priorityTag <span class="keyword ParameterName OptionalReplaceable">inTagName</span>] [copy] [alignToCorners]<br />
[unalignedTag <span class="keyword ParameterName OptionalReplaceable">outTagName</span>] [allowDelete]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__idc6860aa2-5147-4ec9-9635-989cbc2e534b">
              <span class="keyword ParameterName RequiredReplaceable">layer</span>
              <span class="keyword ParameterName Required"></span>
            </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the layer to align
(fragments on layers that do not match are not touched).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id8ce38391-6329-46cd-9134-1f48c6c78152">
              <span class="keyword ParameterName RequiredReplaceable">tag</span>
              <span class="keyword ParameterName Required"></span>
            </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the tag name of fragments
to align (use “all” to align all fragments, otherwise only a particular
tag set is considered for alignment and all other fragments are
left alone). </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Since
all of the fragments to be aligned must be contiguous, it is recommended
that you specify all of the tags to be aligned at one time and not
to use multiple calls to fragalign. This might mean combining some
tags together before calling fragalign. </p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id9aafe51a-8569-410a-a7d1-e2499ba51706">
              <span class="keyword ParameterName Required">maxmove </span>
              <span class="keyword ParameterName RequiredReplaceable">max_move</span>
              <span class="keyword ParameterName Required"></span>
            </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the maximum distance
that a fragment break is to be moved from its original location.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id2820a2c5-fad6-4d01-801c-088fb750f84f">
              <span class="keyword ParameterName Required">maxpolywidth </span>
              <span class="keyword ParameterName RequiredReplaceable">max_width</span>
              <span class="keyword ParameterName Required"></span>
            </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the maximum distance
across a polygon for which alignment is to be performed. This is
measured perpendicular to the direction that a breakpoint is moved
during alignment. To prevent unintended alignment, this should be
set to the minimum acceptable value. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id1b02fbac-d4b0-495f-afa8-ac3509da2e4f">
              <span class="keyword ParameterName Required">minedgelen </span>
              <span class="keyword ParameterName RequiredReplaceable">minedgelength</span>
              <span class="keyword ParameterName Required"></span>
            </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the shortest edge
that may be created during alignment. This is not the same as the value
set by fragment_min.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id416b1cb5-d7a3-4a4b-a425-f13a6575ce70">priorityTag <span class="keyword ParameterName OptionalReplaceable">priorityTagName</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that specifies
a set of tags whose edges take priority over all others. These fragments
will not be lengthened or shortened, but other fragments may be
aligned to them. Only the non-priority fragment will be lengthened
or shortened, the priority fragment will remain the same length.
If an attempt is made to align two priority fragments with one another,
then neither will be moved. </p>
<pre class="pre codeblock leveled"><code>  newTag corners -how ORTAGS convex_corner concave_corner 
  fragalign opcLayer all 0.005 0.005 0.040 0.025 corners 
 </code></pre><p class="p">There is no default priorityTag
value, so if none is specified, there are no priority fragments. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id0f15a649-3b77-4e4d-bfe5-670adb9c448b">copy</dt>
<dd class="dd ArgumentDescription"><p class="p">Duplicates fragment breaks on
one side of a polygon to the other side of the polygon if the constraints <span class="keyword ParameterName OptionalReplaceable">max_width</span> and <span class="keyword ParameterName OptionalReplaceable">minedgelength</span> are
met.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id1f29f0b6-1189-4c7a-aa3a-d9935a85a470">alignToCorners</dt>
<dd class="dd ArgumentDescription"><p class="p">By default fragments opposite
a corner are not aligned to a corner. This type of alignment will
generally be done by interfeature fragmentation, if needed. In cases
where that is not possible, alignToCorners can be specified where
needed. This option aligns the fragments opposite a corner to a
corner, as long as the search constraints and minedgelength are
met. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">It is
possible to specify alignToCorners with priorityTag. Fragments which
are in the priorityTag tag set will not be aligned to corners (the
priorityTag takes priority over alignToCorners).</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id9bac74d2-7521-49be-a1ad-2a3e70c58313">unalignedTag <span class="keyword ParameterName OptionalReplaceable">unalignedTagName</span></dt>
<dd class="dd ArgumentDescription"><p class="p">After fragalign is finished,
some fragments may still not be aligned. Fragments that were not aligned
can be output to the tag set <span class="keyword ParameterName OptionalReplaceable">unalignedTagName</span>.
For a fragment to be in this tag set, it must be alignable (within
the maxmove and maxpolywidth constraints) and one of its endpoints
must not line up with the fragment across the polygon. If a fragment
has both endpoints aligned, or is too far away to ever be considered
for alignment, it will not be in this tag set. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id22c8ab4e-d852-4383-8faa-03a6e54dad5b">allowDelete</dt>
<dd class="dd ArgumentDescription"><p class="p">This is available when fragalign
is used with the “copy” option. It deals with a very specific case
where alignment is needed, but not possible: one side of a polygon
has promoted fragments which cannot be moved, so only the opposite
side can be moved. If alignment absolute must be achieved, and only
one side can be adjusted, then it may be necessary to delete a fragment
from the one side which can be adjusted. This option allows a deletion
to occur, if the delete will result in correct alignment afterwords. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command aligns fragment break
points on a specified layer with tag name so that fragment breaks
across a feature are in line. </p>
<p class="p">A fragment break lines up with
its neighbor across the polygon if it is within +/- <span class="keyword ParameterName OptionalReplaceable">max_move</span> when
projected across the polygon. It does not need to be moved more
than <span class="keyword ParameterName OptionalReplaceable">max_move</span> and
the polygon is no wider than <span class="keyword ParameterName OptionalReplaceable">max_width</span> between
the two break points. No edges will be created less than <span class="keyword ParameterName OptionalReplaceable">minedgelength</span> in
length. </p>
<p class="p">The break points to be aligned
are generally lined up on the midpoint between the two breaks. This
may not be possible in some cases without violating <span class="keyword ParameterName OptionalReplaceable">minedgelength</span>.
Under those conditions, other points may be tried in an attempt
to get an alignment without violating <span class="keyword ParameterName OptionalReplaceable">minedgelength</span>.
If this cannot be done without violating <span class="keyword ParameterName OptionalReplaceable">minedgelength</span> for
either fragment, then neither end point will be moved. </p>
<p class="p">In some cases, fragment alignment
may desirable, but some fragments should not be changed (they should
only used to move other fragments). When this occurs, a tag name
should be specified for priorityTag to give priority to edges whose
break point should not be moved. For example, a fragment next to
a corner may be critical, and should not be lengthened or shortened: </p>
<pre class="pre codeblock leveled"><code>newTag corners -how ORTAGS convex_corner concave_corner 
fragalign opcLayer all maxmove 0.005 maxpolywidth 0.040 minedgelen 0.025 priorityTag corners 
 </code></pre><p class="p">This permits most fragments to
be aligned to the midpoint between fragments. The fragments on corners
are not changed, but the fragment across the polygon from them may
be lengthened or shortened to line up with end of a corner fragment. </p>
<p class="p">Note the following limitations
for fragalign:</p>
<ul class="ul"><li class="li" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id77436120-4610-458f-ab4a-e15d87272f5b"><p class="p">Only Manhattan fragments
may be aligned. All other angles, including 45 degree angles, are
ignored. </p>
</li>
<li class="li" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id0e6f4673-56c8-4e5e-92f3-d84850df2d0e"><p class="p">Fragments opposite a corner
are not aligned by default. </p>
</li>
<li class="li" id="idd4535d5d-4a51-49f8-8b67-6992102170a7__id4f57e1cd-9ceb-4bbd-8a7e-b90dfdb9a6d2"><p class="p">Fragment breaks will not
be lined up if aligning either side will violate <span class="keyword ParameterName OptionalReplaceable">minedgelength</span>. </p>
</li>
</ul>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">The following example finds fragments
on the opc layer which are on lines greater than 65nm wide and further
than 65nm from other features. All fragments which met both of these requirements
will be aligned. This approach uses less CPU time than trying to
align twice, and is more effective at identifying long fragment
spans which can be aligned: </p>
<pre class="pre codeblock leveled"><code>  newTag wideLayer  -how INTERNAL &gt; 0.065 OPPOSITE INPUT1 opc_layer all 
  newTag wideGap    -how EXTERNAL &gt; 0.065 OPPOSITE INPUT1 opc_layer all 
  newTag alignTags -how andTags wideLayer wideGap 
  fragalign opc_layer alignTags maxmove 0.005 maxpolywidth 0.040
		minedgelen 0.025 
 </code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MpcCorrectionCommands_idd4dfbecb.html" title="The following table lists all the commands used for MPC Correction.">MPC Correction Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmmpc_useref"
                DocTitle = "Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual"
                PageTitle = "fragalign"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Fragalign_idd4535d5d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>