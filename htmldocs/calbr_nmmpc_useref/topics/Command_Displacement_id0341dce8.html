<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DISPLACEMENT" />
<meta name="abstract" content="Sets FROZEN/FIXED status, displacement, desired displacement, and displacement limits for all fragments in the given tag." />
<meta name="description" content="Sets FROZEN/FIXED status, displacement, desired displacement, and displacement limits for all fragments in the given tag." />
<meta name="prodname" content="Calibre nmMPC and Calibre nmCLMPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmmpc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="ConditionFiltering" content="XML" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0341dce8-f5f9-42c3-bd99-ab0849073d1c" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DISPLACEMENT</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DISPLACEMENT" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DISPLACEMENT</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="General_MpcCustomTclScriptingCommands_idab30e874.html#idab30e874-d2ab-4b6c-aa3c-b2f31da8b96c__General_MpcCustomTclScriptingCommands_idab30e874.xml#idab30e874-d2ab-4b6c-aa3c-b2f31da8b96c" title="The following table lists the nmMPC custom scripting commands.">MPC Custom Tcl Scripting Commands</a> </p>
<p class="shortdesc">Sets FROZEN/FIXED status, displacement,
desired displacement, and displacement limits for all fragments
in the given tag.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"> <span class="keyword ParameterName Required">DISPLACEMENT</span> <span class="keyword ParameterName RequiredReplaceable">tag</span> [<span class="keyword ParameterName Optional">‑applyLimitIn</span> | <span class="keyword ParameterName Optional">‑applyLimitOut</span> | <span class="keyword ParameterName Optional">‑applyProperty</span>] <br />
[{<span class="keyword ParameterName Optional">‑fixedOffset</span> | <span class="keyword ParameterName Optional">‑fixedOffsetIncr</span> | <span class="keyword ParameterName Optional">‑hintOffset</span> | <span class="keyword ParameterName Optional">‑hintOffsetIncr</span>} <span class="keyword ParameterName OptionalReplaceable">val</span>]  <br />
[<span class="keyword ParameterName Optional">‑freeze</span> | <span class="keyword ParameterName Optional">‑unfreeze</span>]  [<span class="keyword ParameterName Optional">‑limit</span> {<span class="keyword ParameterName OptionalReplaceable">inner</span> <span class="keyword ParameterName OptionalReplaceable">outer</span>} | <span class="keyword ParameterName Optional">clear</span>] <br />
[<span class="keyword ParameterName Optional">‑moveLimitsFromTarget</span>]  [<span class="keyword ParameterName Optional">‑unlock</span>] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__idee5225d5-8189-41d9-9cff-e90a087cfa10"><span class="keyword ParameterName RequiredReplaceable">tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
the tag set to operate upon.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id2d1f7f3b-470e-4ad3-b1dc-5f38bc7e2178"><span class="keyword ParameterName Optional">‑applyLimitIn</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the inner
displacement limit to the value annotated on <span class="keyword ParameterName RequiredReplaceable">tag</span>. The
annotation value must be &lt;=0. Positive values generate a warning,
and the inner limit is set to 0.</p>
<p class="p">This option cannot be combined with ‑applyProperty or ‑applyLimitOut.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id39968630-2901-447e-9f57-f26704fea967"><span class="keyword ParameterName Optional">‑applyLimitOut</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the outer
displacement limit to the value annotated on <span class="keyword ParameterName RequiredReplaceable">tag</span>. The
annotation value must be &gt;=0. Negative values generate a warning,
and the outer limit is set to 0.</p>
<p class="p">This option cannot be combined with ‑applyProperty or ‑applyLimitIn.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__ide5c97f03-d66b-435a-a4ca-09cf95406c3b"><span class="keyword ParameterName Optional">‑applyProperty</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the desired
displacement from property annotations on the fragments in <span class="keyword ParameterName RequiredReplaceable">tag</span>.
The properties are treated as absolute bias values. </p>
<p class="p">This option cannot be combined with ‑applyLimitIn or ‑applyLimitOut.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id85ba01bd-d4d9-4164-8a19-0c0af2597d78">-fixedOffset <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
the displacement to <span class="keyword ParameterName OptionalReplaceable">val</span>,
even if it violates mask constraints. The fragment is moved and
its desired displacement is set to the current (after move) displacement.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__idbcb94d26-536c-4812-883e-5d1832c539b4">-fixedOffsetIncr <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
the displacement to <span class="keyword ParameterName OptionalReplaceable">current_disp</span> + <span class="keyword ParameterName OptionalReplaceable">val</span>,
even if it violates mask constraints. The fragment is moved and
its desired displacement is set to the current (after move) displacement.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id13b6a3bc-5077-4f0d-b490-8e3ab9c342b6">-freeze | -unfreeze</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional arguments that allow
or disallow the fragments to be moved by FRAGMENT_MOVE or OPC_ITERATION.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Do not manually unfreeze fragments that were frozen by
commands such as sraf_print_avoidance. Some commands algorithmically
freeze sensitive fragments to preserve litho quality.</p>
</div>
<p class="p">When using ‑freeze, be sure the coordinates are in multiples
of database units. After MPC, fragments are snapped to the layout
grid and the final position may be different. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__idbe203f48-b7ed-4917-aa5f-f3ffe8b36df0">-hintOffset <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
the desired displacement to <span class="keyword ParameterName OptionalReplaceable">val. </span>The
fragment is not moved until the next call to FRAGMENT_MOVE.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__ide453bb32-ed1b-4e5e-8c9c-93d20ff99ed9">-hintOffsetIncr <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
the desired displacement to <span class="keyword ParameterName OptionalReplaceable">current_disp</span> + <span class="keyword ParameterName OptionalReplaceable">val. </span>The
fragment is not moved until the next call to FRAGMENT_MOVE.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__ida0809fa6-e601-43e0-a1e8-a127f44c50bd">-limit <span class="keyword ParameterName OptionalReplaceable">inner</span> <span class="keyword ParameterName OptionalReplaceable">outer</span>  ‑limit clear</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
limits in user units for the inner or outer displacements for all fragments
in the tag set. The inner value must be &lt;=0, and the outer value
must be &gt;=0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__ida8ef8bd5-0bb6-420c-8c9a-6e46a5f97a8b">-moveLimitsFromTarget</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets values for
the correction layer based upon the opc layer. When ‑moveLimitsFromTarget
is specified, all other parameters except for <span class="keyword ParameterName RequiredReplaceable">tag</span> are
ignored. This keyword is relevant only to correction layers.</p>
<p class="p">For correction fragments in <span class="keyword ParameterName RequiredReplaceable">tag</span>,
displacement limits are set using displacement limits of mapped
opc fragment. If no limits are set on the opc fragment, no limits
are set on correction fragment. If the correction layer fragment
is already outside the displacement limits of the opc fragment,
no restrictions are placed on the displacements of correction fragment.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id719b1f1d-1608-4b89-a327-88bfd2f250d2">‑unlock</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword for use in Calibre<sup>®</sup> nmBIAS™ setup
files. It unlocks fragments locked by BIASRULE … ‑lockAll.</p>
</dd>
</dl>
</div>
<div class="section ArgumentSet"><h2 class="title Subheading sectiontitle">Tcl Result</h2><p class="p">None</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command sets FROZEN/FIXED
status, displacement, desired displacement, and displacement limits
for all fragments in the given tag set.</p>
<p class="p">After moving, the actual displacement might differ from the desired
displacement because of various setup file commands, such as MRC
constraints (mrc_rule), max_opc_move, and so on. </p>
<p class="p">DISPLACEMENT does not conform to max_iter_movement. The max_iter_movement command
only applies to an MPC iteration-directed edge movement.</p>
<div class="section Subsection" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id67a99f2a-6c11-4f6e-8c79-74fce868c5d5"><h2 class="title Subheading sectiontitle">Precedence</h2><p class="p">These are the rules by which conflicting arguments are resolved:</p>
<ol class="ol"><li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id1c984454-3bc4-461a-9d31-a084f6f5b525"><p class="p">‑applyProperty
and ‑moveLimitsFromTarget both cause all other optional arguments
to be ignored.</p>
</li>
<li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id6104f210-1200-4758-b978-c0333f9faf09"><p class="p">‑limit, ‑applyLimitIn,
and ‑applyLimitOut take precedence over offsets. They are mutually
exclusive.</p>
</li>
<li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id608c766e-5d87-439f-b2d3-2578e23a43ee"><p class="p">‑fixedOffset,
‑fixedOffsetIncr, ‑hintOffset, and ‑hintOffsetIncr are mutually
exclusive, and take precedence over -unlock, ‑freeze, and ‑unfreeze.</p>
</li>
</ol>
</div>
<p class="p">For example: </p>
<pre class="pre codeblock leveled"><code>DISPLACEMENT tag1 -freeze -fixedOffset 0.20 -limit -0.01 0.01 </code></pre><p class="p">sets the displacement to 0.01,
moves the fragment, and then freezes it. (Fragments in tag1 that are
already frozen only have their displacement set.)</p>
<p class="p">You can get different behavior
depending on whether hintOffset or fixedOffset is called first, and
whether FRAGMENT_MOVE is called or not. The behavior of hintOffset
and fixedOffset can be described as follows:</p>
<ul class="ul"><li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__idbdeb519c-708f-4801-8cbe-cc4138d7990e"><p class="p">hintOffset just sets the
desired displacement, which only affects the next FRAGMENT_MOVE.</p>
</li>
<li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id6db06022-b1a7-4bef-8849-2d745833599a"><p class="p">fixedOffset sets the desired
displacement <span class="ph FontProperty emphasis">and</span> moves
the fragment to its new location.</p>
</li>
</ul>
<p class="p">Then:</p>
<ul class="ul"><li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id16827657-7e4f-4ae6-bab9-2f4bf2963afc"><p class="p">If you specify hintOffset
followed by fixedOffset, MPC behaves as if hintOffset was not specified.</p>
</li>
<li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id05bed609-facc-4fb8-b67c-88812c69b584"><p class="p">If you specify fixedOffset
followed by hintOffset, OPC behaves as if hintOffset was not specified
(because hintOffset without FRAGMENT_MOVE doesn't affect the locations of
the fragments).</p>
</li>
<li class="li" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id136e1025-93c4-4567-8cb6-3a9a3cf24ac7"><p class="p">If you specify fixedOffset
followed by hintOffset, then FRAGMENT_MOVE behaves as if fixedOffset
was not specified.</p>
</li>
</ul>
<div class="section Subsection" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__idcdd17697-e7c9-4707-a2ca-a8aedb19c42d"><h2 class="title Subheading sectiontitle">Property
Annotations</h2><p class="p">For ‑applyProperty, ‑applyLimitIn, and ‑applyLimitOut, it is
your responsibility to ensure the value in the property annotation
is appropriate. Because the values are computed at runtime, it is not
possible to check them when the setup file is parsed.</p>
<p class="p">Numeric annotations can be computed with NMBIAS_MEASURE_TAG and
NEWTAG expression.</p>
</div>
<div class="section Subsection" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id9cf4bccd-e8be-4273-80ca-215adb8ed862"><h2 class="title Subheading sectiontitle">Tcl Results</h2><p class="p">None</p>
</div>
<div class="section Subsection" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id5f7d44b2-55f5-4838-ad24-e9d9cf0f9d3c"><h2 class="title Subheading sectiontitle">Performance</h2><p class="p">O(<span class="ph FontProperty equationvariable">N</span>),
where <span class="ph FontProperty equationvariable">N</span> is
the number of fragments in the input.</p>
<p class="p">Rating = fast</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id9b871033-4b62-4f79-ade5-0b48e4a53602"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">The following lines freeze the tag set line_ends and perform
one iteration of MPC on all other fragments. The fragments of the
line_ends tag set are then unfrozen and have their desired displacement
increased by 0.02. </p>
<pre class="pre codeblock leveled"><code>  DISPLACEMENT line_ends -freeze 
  OPC_ITERATION 1 
  DISPLACEMENT line_ends -unfreeze -hintOffsetIncr 0.02 </code></pre></div>
<div class="section Subsection" id="id0341dce8-f5f9-42c3-bd99-ab0849073d1c__id84f6e8d3-39c8-43e1-93fa-03ea3b587454"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example calculates context-specific values for fragments
in the tag_short group and saves the values by creating annotated
tag sets. DISPLACEMENT reads the values in the annotated tag sets
to create variable limits for the fragments.</p>
<pre class="pre codeblock"><code>NMBIAS_MEASURE_TAG m1 -tag tag_short -overlapLayer ovl 
	 -measurement_type enclosing -dist 0.2 -aout tag_short_encl </code></pre><pre class="pre codeblock"><code>NEWTAG expression tag_short { 
    subexpression nbr_enc1 = neighbor(tag_short_encl, corner:convex, 
                                      resolution: max);
    expr(nbr_enc1) * 1.2} -aout tag_short_outer</code></pre><pre class="pre codeblock"><code>NEWTAG expression tag_short { 
    subexpression nbr_enc2 = neighbor(tag_short_encl, corner:convex, 
                                      resolution: min);
    expr(nbr_enc2) * -0.8} -aout tag_short_inner</code></pre><pre class="pre codeblock"><code>NEWTAG expression tag_short_encl { 
      property(tag_short_encl) * 0.1
    } -aout tag_short_disp</code></pre><pre class="pre codeblock"><code>DISPLACEMENT tag_short_outer -applyLimitOut
DISPLACEMENT tag_short_inner -applyLimitIn
DISPLACEMENT tag_short_disp -applyProperty
FRAGMENT_MOVE</code></pre><p class="p">Unlike the case of constant limits or offsets, each annotation-based
setting must be in a separate DISPLACEMENT call.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MpcCorrectionCommands_idd4dfbecb.html" title="The following table lists all the commands used for MPC Correction.">MPC Correction Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmmpc_useref"
                DocTitle = "Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual"
                PageTitle = "DISPLACEMENT"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Displacement_id0341dce8.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>