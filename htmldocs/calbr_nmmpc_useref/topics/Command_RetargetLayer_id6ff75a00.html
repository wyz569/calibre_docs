<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="retarget_layer" />
<meta name="abstract" content="Defines a new target layer, leaving the fragmentation on the opc layers." />
<meta name="description" content="Defines a new target layer, leaving the fragmentation on the opc layers." />
<meta name="DC.subject" content="retarget_layer" />
<meta name="keywords" content="retarget_layer" />
<meta name="prodname" content="Calibre nmMPC and Calibre nmCLMPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmmpc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="ConditionFiltering" content="XML" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id6ff75a00-52d3-4862-a41e-88fae43f395f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>retarget_layer</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="retarget_layer" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10101" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id6ff75a00-52d3-4862-a41e-88fae43f395f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">retarget_layer</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="General_MpcDenseopcOptionsCommands_ida79cb58c.html#ida79cb58c-92b5-48b0-987b-92c4ae7c47f2__General_MpcDenseopcOptionsCommands_ida79cb58c.xml#ida79cb58c-92b5-48b0-987b-92c4ae7c47f2" title="The OPTION opt_name argument specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase only command initialization block consisting of the following keywords, specified one per line:">MPC denseopc_options Commands</a> </p>
<p class="shortdesc">Defines a new target layer,
leaving the fragmentation on the opc layers.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">retarget_layer </span><span class="keyword ParameterName RequiredReplaceable">layer</span><span class="keyword ParameterName Required">... </span>[{emulate | spline} [concave_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span>] [convex_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span>]]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__idd806e4bb-b1ed-40f5-91af-7980d1069a4f"><span class="keyword ParameterName RequiredReplaceable">layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies a new target layer(s).
The default is no retarget layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__id5438aeff-a611-483d-ad05-7c2f07b6defe">emulate</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional flag that is used
for target smoothing in which the input retarget layer is a smooth
contour (generated by the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurve_id4340ef68.html#id4340ef68-2da0-441a-99bc-4f121af39f87__Command_SetlayerCurve_id4340ef68.xml#id4340ef68-2da0-441a-99bc-4f121af39f87" title="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”).">setlayer curve</a> command). This is similar to the
spline option, except that it allows retarget edges to differ from
the original Calibre nmMPC run. This helps reduce ripples near corners
especially at concave corners. The setlayer curve command produces
a more realistic target, which often results in less aggressive
corner correction. However, you must still carefully tune your fragmentation
and Calibre nmMPC recipes.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The emulate
option is particularly useful in scenarios where the spline option
incorrectly handles the retarget edges and MPC might not even converge.</p>
</div>
<p class="p">In general, retargeting should
not modify the opc layer by more than the minimum feature width
of MPC. Also, Calibre nmMPC will attempt to correct a retarget layer
(you will need to ensure that PVbands do not worsen because of it).
The emulate option uses a continuous angle-weighted distance function,
which means there is no limitation to degree changes.</p>
<p class="p">Because spline searches for
the nearest curve target segment the emulate option is best used
where the curve target lies significantly outside the opc target.
For example, when the curve is outside a line end, the nearest curve
target segment for spline is a segment at the corner, rather than
at the line end tip. This results in a sub-optimal site placement
slanted to the line end fragment but perpendicular to the curve
target. In this same situation, emulate considers the intersection
angle and picks the optimal segment at the line end tip for site placement,
perpendicular to the line end.</p>
<p class="p"><a class="xref fm:Figure" href="#id6ff75a00-52d3-4862-a41e-88fae43f395f__id1fa7efe8-acd0-405d-bfac-f1e4654e7c05">Figure 1</a> shows the effects of using retarget_layer emulate.</p>
<div class="fig fignone" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__id1fa7efe8-acd0-405d-bfac-f1e4654e7c05"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Effects of retarget_layer emulate</span><br /><div class="imagecenter"><img class="image imagecenter" height="135" src="../graphics/retar_layer_em_fig.jpg" width="525" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__ida784c163-efd2-43b6-acb7-cd820f127d8e">spline</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional flag that is used
for target smoothing in which the input retarget layer is a smooth
contour (generated by the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurve_id4340ef68.html#id4340ef68-2da0-441a-99bc-4f121af39f87__Command_SetlayerCurve_id4340ef68.xml#id4340ef68-2da0-441a-99bc-4f121af39f87" title="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”).">setlayer curve</a> command). This differs from the
emulate option in that it restricts retarget edges to stay close
to the original biased edges. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__id0b0f6f76-a664-47d5-a8d1-f28c68d1c293">concave_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that uses
the distance from a concave corner specified by <span class="keyword ParameterName OptionalReplaceable">val</span> to
tag fragments as concave adjacent.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__idb82af341-4f04-4cbe-bf4b-c7f228995e84">convex_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that uses
the distance from a convex corner specified by <span class="keyword ParameterName OptionalReplaceable">val</span> to
tag fragments as convex adjacent. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">An optional command that defines
a new target layer (which should be a defined as a hidden layer
with the <a class="xref fm:HeadingOnly" href="Command_Layer_id4f8515f2.html#id4f8515f2-d346-4fa0-81b8-197f3e05860a__Command_Layer_id4f8515f2.xml#id4f8515f2-d346-4fa0-81b8-197f3e05860a" title="Defines layer characteristics such as name, type, transmission, and mask.">layer</a> command), but leaves the fragmentation
on the opc layers. This allows a simple implementation of a pre-bias
correction flow.</p>
<p class="p">Retarget layers are used to separate
the target from the layer being corrected and help when the target
is unsuitable for correction. For example, layers with many jogs
from biasing can prevent good fragmentation from occurring.</p>
<p class="p">When attempting to create a retarget
layer, note that:</p>
<ul class="ul"><li class="li" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__idab9e159e-1095-4403-832f-424616a4af75"><p class="p">The original layer is the
opc layer</p>
</li>
<li class="li" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__ide2763c36-7bf1-4e5e-8176-11b586502c94"><p class="p">The correction target is
the retarget layer</p>
</li>
<li class="li" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__id5ee7bc11-f0cb-4e69-8c9d-796ac7ea58dc"><p class="p">EPE is measured from the
image to the retarget layer</p>
</li>
<li class="li" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__id5d9ebfdb-44df-4dad-a130-64e719043d8d"><p class="p">Fragments on the opc layer
are then moved based on the EPE measured from the retarget layer</p>
</li>
</ul>
<p class="p">Typically, if retarget_layer
is not used, different metrics are used for different fragments. For
example, on line ends, EPE is determined using the numerical max,
typically the center point.</p>
<p class="p">When retarget_layer is used,
the contour of the spline is determined by averaging all EPEs on
a fragment, except for the following exceptions:</p>
<ul class="ul"><li class="li" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__idf98a0e87-0984-4476-8103-f5038978520f"><p class="p">For fragments near convex
corners that are NOT near concave corners, the numerical max is
used (instead of averaging EPEs) to converge the image to an imaginary
line tangent to the spline and parallel to the fragment.</p>
</li>
<li class="li" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__idc007ab4c-88b2-42c3-b860-a2211793f057"><p class="p">For fragments near concave
corners that are NOT near convex corners as well, the numerical
min is used to converge image to an imaginary line tangent to the spline
and parallel to the fragment.</p>
</li>
</ul>
<p class="p"><a class="xref fm:Figure" href="#id6ff75a00-52d3-4862-a41e-88fae43f395f__id7f9e9aa2-01d6-484c-9bb5-a1a7e23965df">Figure 2</a> and <a class="xref fm:Figure" href="#id6ff75a00-52d3-4862-a41e-88fae43f395f__idae48b4af-babc-4a90-8669-1fb2a065b927">Figure 3</a> illustrate how EPE is measured to determine
how a fragment will be moved.</p>
<div class="fig fignone" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__id7f9e9aa2-01d6-484c-9bb5-a1a7e23965df"><span class="figcap"><span class="fig--title-label">Figure 2. </span>EPE Measurements
at Corners (Example 1)</span><br /><div class="imagecenter"><img class="image imagecenter" height="228" src="../graphics/epe_meas_corn_fig.jpg" width="466" /></div><br /></div>
<div class="fig fignone" id="id6ff75a00-52d3-4862-a41e-88fae43f395f__idae48b4af-babc-4a90-8669-1fb2a065b927"><span class="figcap"><span class="fig--title-label">Figure 3. </span>EPE Measurements
at Corners (Example 2)</span><br /><div class="imagecenter"><img class="image imagecenter" height="205" src="../graphics/epe_meas_corn_fig_2.jpg" width="424" /></div><br /></div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">In this example, the original drawn
layer is the layer whose fragments move during correction.</p>
<pre class="pre codeblock leveled"><code>layer POLY        visible ...  # original poly target 
layer PREBIASED   hidden  ...  # red layer above 
retarget_layer  PREBIASED 
 </code></pre><p class="p">In this example, fragments at specified
distances from corners are tagged as convex adjacent and convex
adjacent.</p>
<pre class="pre codeblock leveled"><code>retarget_layer L1 spline concave_adjacent 0.05 convex_adjacent 0.08</code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MpcCorrectionCommands_idd4dfbecb.html" title="The following table lists all the commands used for MPC Correction.">MPC Correction Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmmpc_useref"
                DocTitle = "Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual"
                PageTitle = "retarget_layer"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_RetargetLayer_id6ff75a00.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmMPC™ and Calibre® nmCLMPC User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>