<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="sraf_print_avoidance" />
<meta name="abstract" content="Prevents selected Sub-Resolution Assist Feature (SRAF) from printing." />
<meta name="description" content="Prevents selected Sub-Resolution Assist Feature (SRAF) from printing." />
<meta name="DC.subject" content="sraf_print_avoidance, syntax" />
<meta name="keywords" content="sraf_print_avoidance, syntax" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7078ca75-2c2e-4ac0-be05-e80d12b167d7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>sraf_print_avoidance</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="sraf_print_avoidance" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">sraf_print_avoidance</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html#id5a1a85dc-e552-4302-871e-4aa04b8ee303__Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.xml#id5a1a85dc-e552-4302-871e-4aa04b8ee303" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a> </p>
<p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Concept_UnitConversionsMiscellaneous_id7c7f8a2d.html#id7c7f8a2d-a2da-461b-b257-4d5c25cb0eb8__Concept_UnitConversionsMiscellaneous_id7c7f8a2d.xml#id7c7f8a2d-a2da-461b-b257-4d5c25cb0eb8" title="Output data from Calibre nmOPC script commands contain coordinates and distances, measured in either microns or in database units.">Unit Conversions and Miscellaneous</a> </p>
<p class="shortdesc">Prevents selected Sub-Resolution
Assist Feature (SRAF) from printing.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">sraf_print_avoidance</span> [‑pattern <span class="keyword ParameterName OptionalReplaceable">n</span>] [‑layer <span class="keyword ParameterName OptionalReplaceable">layer</span>] [‑asraf_layer <span class="keyword ParameterName OptionalReplaceable">layer</span>] [‑frags <span class="keyword ParameterName OptionalReplaceable">tag</span>] [‑step <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
[‑check_only] [‑pw <span class="keyword ParameterName OptionalReplaceable">name</span> [<span class="keyword ParameterName OptionalReplaceable">threshold</span>] [<span class="keyword ParameterName OptionalReplaceable">neg_sraf_threshold</span>]]... <br />
[‑max_pair_dist <span class="keyword ParameterName OptionalReplaceable">dist</span>] [‑allow_cut] [‑disallow_cut] [<span class="keyword ParameterName OptionalDefault">‑nonrectangle</span> | ‑rectangle] [‑irregular] <br />
[‑minimize_jogs] [‑out_printing <span class="keyword ParameterName OptionalReplaceable">name</span>] [‑out_requires_cut <span class="keyword ParameterName OptionalReplaceable">name</span>] [‑out_unsolved <span class="keyword ParameterName OptionalReplaceable">name</span>] <br />
[‑min_area <span class="keyword ParameterName OptionalReplaceable">value</span>] [‑min_square_area <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
[‑asraf_min_area <span class="keyword ParameterName OptionalReplaceable">value</span>]  [‑asraf_min_square_area <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
[‑separate_mrc] [‑adjust_frags] [‑freeze_unaligned] <br />
[‑xmeef] [‑xmeef_distance <span class="keyword ParameterName OptionalReplaceable">value</span>] [‑xmeef_threshold <span class="keyword ParameterName OptionalReplaceable">threshold</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idca2a0a6f-0e75-4f7f-aa04-9f0a92c82c13">‑pattern <span class="keyword ParameterName OptionalReplaceable">n</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
which pattern to process to support multi-patterning. If not specified,
all patterns that have sraf or asraf layers will be processed. If
a layer is specified with ‑layer or ‑asraf_layer, only the corresponding
pattern is processed.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id31509b3a-3492-4456-a7de-e1d06425d318">‑layer <span class="keyword ParameterName OptionalReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the layer containing SRAFs that are not to be printed. This must
be of layer type sraf. Fragment pairs will only be created on this
layer. If ‑layer is omitted, Calibre nmOPC will default to the first
layer found that is of type “sraf.”</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Starting
from the 2014.2 release, ‑layer is only used for backwards compatibility.
By default, sraf_print_avoidance processes one layer of sraf or
asraf type simultaneously. To turn off sraf layer processing, use
‑layer OMIT.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id21673873-5327-4a39-9723-669a7721605f">‑asraf_layer <span class="keyword ParameterName OptionalReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument to use when specifying
different process window conditions for anti-SRAF and SRAF layers,
or otherwise using non-default layer processing. Fragment pairs will
only be created on this layer. By default, the first layer of type
asraf found is simulated to check for potential hole creation. </p>
<ul class="ul"><li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id69ffd82d-11aa-4099-b687-475074921298"><p class="p">To associate
an anti-SRAF layer with a process window condition, specify the
layer name. Layers must be of type asraf or opc.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idc1edbcb2-4a4c-4000-9111-02f50f643712"><p class="p">To turn off
anti-SRAF layer processing, use ‑asraf_layer OMIT.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id74cf882f-3134-41b1-b09a-5176a9a9ae3f">‑frags <span class="keyword ParameterName OptionalReplaceable">tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
that only fragments belonging to this tag will be moved. This may
contain fragments on the opc layer (negative SRAFs).</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The tag
set specified for this argument and the layer must match. </p>
<p class="p">The tag
should be valid when passed to sraf_print_avoidance. Some commands
such as sraffragalign may manipulate fragments belonging to the
tag and without invalidating the tag. In such cases, regenerate
the tags if necessary.</p>
</div>
<p class="p">The negative SRAFs are sub-resolution
holes in the OPC features. In order to specify negative SRAFs, you
can find the fragments comprising the holes and label them using
this tag.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id1559f07e-add7-4731-8aae-27ca1af57599">‑step <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the step value to size down (per fragment) for printing fragments.
The default is 1 dbu.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__ida1752efc-0904-480c-8ff8-5534ce198b9d">‑check_only</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
that Calibre nmOPC not resize or move any SRAF fragments. Instead,
Calibre nmOPC will detect fragments that are printing and output
them if ‑out_printing is specified. It also detects and outputs
(if ‑out_requires_cut is specified) those fragments that cannot
be sized down by the step value because of MRC constraints (thus
requiring a cut). It also detects and outputs (if ‑out_unsolved
is specified) those fragments that are unsolved.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id0da97d6d-ca11-489b-a7b4-789088fecd22">‑pw <span class="keyword ParameterName OptionalReplaceable">name</span> [<span class="keyword ParameterName OptionalReplaceable">threshold</span>] [<span class="keyword ParameterName OptionalReplaceable">neg_sraf_threshold</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the process window condition to consider when evaluating printing
status and the threshold to use for it. The <span class="keyword ParameterName OptionalReplaceable">threshold</span> and <span class="keyword ParameterName OptionalReplaceable">neg_sraf_threshold</span> values
are read from the model if none is specified.</p>
<ul class="ul"><li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id5e2cece6-329a-48c8-8e4a-fc30b7fa332a"><p class="p">For positive SRAFs, if any
intensity sampling point from any site on a fragment has an intensity
higher than this <span class="keyword ParameterName OptionalReplaceable">threshold</span>,
the fragment is considered as printing (and will be moved in to
make the SRAF smaller).</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id4c53c005-022f-482d-b84e-40cd85b29853"><p class="p">For negative SRAFs, if any
intensity sampling point from any site on a fragment has an intensity
lower than <span class="keyword ParameterName OptionalReplaceable">neg_sraf_threshold</span> (which
defaults to <span class="keyword ParameterName OptionalReplaceable">threshold</span>,
if not specified in the argument or model), the fragment is considered
as printing (and will be moved out to make the negative SRAF smaller).</p>
</li>
</ul>
<p class="p">This argument can be specified
multiple times.</p>
<p class="p">If not specified, Calibre nmOPC
defaults to the <a class="xref fm:HeadingOnly" href="Command_PwCondition_id4a42cbf2.html#id4a42cbf2-c82a-4e7b-b173-508378c2bccd__Command_PwCondition_id4a42cbf2.xml#id4a42cbf2-c82a-4e7b-b173-508378c2bccd" title="Creates alternate image conditions for dose, focus, resist, and aerial threshold, as opposed to a nominal image.">pw_condition</a> (or conditions) marked with the
“spa” keyword. If a “spa” pw_condition is specified in a ‑pw command,
it is not handled by default (explicit specification takes precedence
over implicit). A list of conditions may be specified using the
“‑pw” keyword, and any “spa” conditions not in the list will be
added by default. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id67de1fcb-8a6c-4699-88ef-24f64be8bba3">‑max_pair_dist <span class="keyword ParameterName OptionalReplaceable">dist</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
that SRAF or anti-SRAF fragments that are more than <span class="keyword ParameterName OptionalReplaceable">dist</span> apart
are not paired. Unpaired fragments can not form a “cut”, and SRAFs
containing unpaired fragments cannot be deleted. The default value
is 2.5*Nyquist. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idf80c88fd-b07d-40b2-afb9-1da2f843f801">‑allow_cut</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
that cuts are allowed. This is the default behavior; disable with
‑disallow_cut.</p>
<p class="p">When cuts are allowed, minimum-width
SRAFs that print only in a small section of their length or anti-SRAFs
that create holes have the problematic section removed. Cutting
only happens if the fragmentation is aligned prior to calling this
function, which requires opposing pairs of fragments to be within
‑max_pair_dist distance of each other. </p>
<p class="p">Cutting involves moving the
two opposing fragments to the middle of the line (thus forming a
singularity and, in effect, making a piece of the SRAF disappear)
and freezing them. </p>
<p class="p">Note that cuts must not be manually
unfrozen, otherwise OPC will move the opposing fragments to their
minimum internal distance in order to avoid MRC violations.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id3943cfb1-d498-4a55-92e4-ae46236423f6">‑disallow_cut</dt>
<dd class="dd ArgumentDescription"><p class="p">By default, an SRAF or anti-SRAF
is automatically cut if it shrinks below MRC limits. Setting ‑disallow_cut
instructs Calibre nmOPC to stop shrinking an SRAF if it reaches
the MRC limit.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idcf01df96-026e-49e0-b35c-5f26f9779d85"><span class="keyword ParameterName OptionalDefault">‑nonrectangle</span> | ‑rectangle</dt>
<dd class="dd ArgumentDescription"><p class="p">By default, sraf_print_avoidance
works upon rectangles aligned along the axes or at multiples of
45 degrees. This is also the behavior when ‑nonrectangle is specified.
When ‑rectangle is specified, only Manhattan rectangles are considered. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The ‑rectangle option may give inconsistent results in
hierarchical runs when the SRAF crosses a hierarchical boundary.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idf6675e15-f5fc-4b66-bdbc-e487480ed650">‑irregular</dt>
<dd class="dd ArgumentDescription"><p class="p">By default, an irregular region
on an SRAF is not corrected. An irregular region is a region that
has a concave corner or is across from a concave corner. Other regions
of the SRAF are still corrected; only fragments near the concave
corner do not receive corrections. To correct these regions as well,
specify the ‑irregular option to enable all regions of an SRAF to
be corrected.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idf54c2cf7-f88f-4c60-8929-50e5cfe66b41">‑minimize_jogs</dt>
<dd class="dd ArgumentDescription"><p class="p">If this option is present, fragments
that do not cause SRAF printing or anti-SRAF holes may be moved
along with their neighbors that do to prevent jog formation. The
default value is the option is not specified.</p>
<p class="p">Note that in general, minimizing
jogs does not ensure that an SRAF that crosses tile or cell boundaries
will have no jogs.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idaa969843-bded-43b8-875a-89b3e771caa6">‑out_printing <span class="keyword ParameterName OptionalReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optionally specifies an output
tag set. This contains all fragments that this command detects as
“printing.”</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id29d9504d-337b-4473-a7ed-2148605b5b5b">‑out_requires_cut <span class="keyword ParameterName OptionalReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
an output tag set. The tag set contains all printing fragments that
cannot move the desired step amount because of an MRC constraint,
thus needing to be cut.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id6aba5399-2afc-47ff-9a5b-dd15d1017d59">‑out_unsolved <span class="keyword ParameterName OptionalReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optionally specifies an output
tag set. This contains all fragments that cannot be “solved.” For
example, fragments can be left “unsolved” because:</p>
<ul class="ul"><li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id9b1588fe-4715-4c16-8dc7-ef478c78ab35"><p class="p">It must be cut, but the cut
is disallowed</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__ided038b4a-5144-4234-960f-20c6cf7351ef"><p class="p">It must be cut, but it has
no pair</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id6c0cf081-39f5-4452-855b-934d46b0784e"><p class="p">It must be moved inside, but
it is frozen by user</p>
</li>
</ul>
<p class="p">Note that if a fragment is not
marked as unsolved, that does not mean it is “fixed” (for example,
not printing).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idf951478c-0e0a-43b6-b273-94fa95742f7f">‑min_area <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If this option is specified,
rectangular features having area less than the specified value are deleted
by sraf_print_avoidance. If a long rectangular feature gets split
into multiple parts during the print avoidance check, the limit
is applied to each part separately. If there is a conflict between
printability and the min area constraint, the latter is given priority.
The ‑max_pair_dist option must be specified when using this option
and should be set to a reasonable value such as the maximum possible
width of the assist features.</p>
<p class="p">Note that if a fragment is not
marked as unsolved, that does not mean it is “fixed” (for example,
not printing).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idf83c811c-afd4-43d8-9738-36c6ad171d17">‑min_square_area <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">This option acts similarly to
‑min_area, but its limit is applicable only to the shapes that were
square at the start of the print avoidance check. If the shape changes
from a square to a rectangle during print avoidance, this limit
will still apply. This limit is applied to square-shaped features
in addition to ‑min_area limit (if present). There should not be
any fragmentation of square shapes in order for ‑min_square_area
to function properly. The ‑max_pair_dist option must be specified
when using this option.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idac12b23e-db89-4c64-90c3-7035ce9facdf">‑asraf_min_area <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that is
identical to the ‑min_area keyword, but only applies to an asraf layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id784096be-9759-4a97-a8ec-b0186a152e94">‑asraf_min_square_area <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that is
identical to ‑min_square_area, but only applies to an asraf layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id1c50836a-5052-4fbe-9ee8-18547b1215ce">‑separate_mrc</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
that ‑min_area is applied only to SRAFs that are not square, while
‑min_square_area is applied to the square SRAFs. By default, the
minimum area specifications are considered simultaneously for a
square; a square SRAF must be larger than both the ‑min_area and
‑min_square_area values or it will be cut. If ‑min_square_area is
less than ‑min_area, it will have no effect. In this case, it is
helpful to have the two values considered separately.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">For ‑separate_mrc,
a square SRAF is not removed if it is larger than the ‑max_pair_distance
value. If you have an issue with square SRAFs that are not being removed
(even though their area is less than the ‑min_square_area value),
the ‑max_pair_dist value should be checked. </p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idd7bde921-58d6-41d1-ba0c-ff0c207235f8">‑adjust_frags</dt>
<dd class="dd ArgumentDescription"><p class="p">Fragmentation boundaries may be adjusted
to fit printing or non-printing regions. Selecting this option allows
the fragments to be fit around a printing or non-printing region
in order to minimize the effects of sraf_print_avoidance.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id0e117a4f-8239-4306-bfbf-178f519af7b5">‑freeze_unaligned</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that allows movement
of aligned fragments only (to shrink or grow). Unaligned fragments
are not moved.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idba54324f-3f0d-4d7d-9e70-b5f6f35e9dc3">‑xmeef </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that enables cross-intensity
calculations. Cross-intensity calculations allow more than one fragment
to be moved to prevent printing. </p>
<p class="p">When ‑xmeef is specified, fragments in a regions ± 12*Nyquist
around a printing location are measured to determine their influence
on the printing location. SRAFs are considered for trimming in outside-to-inside
order. Once enough fragments are identified to eliminate the printing,
no further adjustments are considered. This allows an outer SRAF
to be shortened or cut in order to prevent printing at an inner
SRAF location.</p>
<p class="p">Any of the three arguments ‑xmeef, ‑xmeef_distance, and ‑xmeef_threshold
can be used to start cross-intensity calculations. They may be specified
together or independently.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__iddf3718be-48cb-4be7-827e-b94794dba34e">‑xmeef_distance <span class="keyword ParameterName OptionalReplaceable">value</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that enables cross-intensity
calculations, like ‑xmeef, except overriding the default distance
of 12*Nyquist with <span class="keyword ParameterName OptionalReplaceable">value</span> specified
in user units.</p>
<p class="p">The cross-intensity distance defines a square around a printing
location in which fragments are considered. The value should be
large enough to include the inside of the innermost SRAF to the
outside of the outermost SRAF. (This allows a printing inner SRAF
to shrink an outer SRAF if necessary.)</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id8dd65f93-5924-421a-bd2c-7594a63c6214">‑xmeef_threshold <span class="keyword ParameterName OptionalReplaceable">threshold</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that enables cross-intensity
calculations, like ‑xmeef, except overriding the default threshold
of 0.00001 with <span class="keyword ParameterName OptionalReplaceable">threshold</span>.</p>
<p class="p">The threshold is the minimum intensity reduction to be achieved
by moving or shrinking a fragment by one dbu. This controls whether
a fragment gets adjusted. Lower values mean more fragments can be
adjusted. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command is designed to detect
and correct for any printing occurring around sub-resolution assist
features (SRAFs) or holes around anti-SRAFs. (For the rest of the
discussion, all references to SRAFs printing also refer to anti-SRAFs
creating holes, except where explicitly noted.) </p>
<p class="p">This command is executed iteratively
using the <a class="xref fm:HeadingOnly" href="Command_OpcIteration_id4aea4e80.html#id4aea4e80-a2f1-4982-9b6d-212cdb54503a__Command_OpcIteration_id4aea4e80.xml#id4aea4e80-a2f1-4982-9b6d-212cdb54503a" title="Instructs Calibre nmOPC to perform one or more OPC iterations.">OPC_ITERATION</a> command. For each iteration, <a class="xref fm:HeadingOnly" href="#id7078ca75-2c2e-4ac0-be05-e80d12b167d7" title="Prevents selected Sub-Resolution Assist Feature (SRAF) from printing.">sraf_print_avoidance</a> checks sites, compares to the specified threshold, and moves
the SRAF fragments to prevent SRAF printing. This does not guarantee
that incoming SRAFs that print will not print upon completion, but
it will reduce the probability of any printing upon completion and
will not result in MRC violations.</p>
<p class="p">The sraf_print_avoidance command
is fragment-based and requires some definitions before it can be
executed. These include:</p>
<ul class="ul"><li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id0bb7b653-798a-42ae-88d6-daf91f370753"><p class="p">The SRAF layer has to be
defined as an sraf type layer in the <a class="xref fm:HeadingOnly" href="Command_DenseopcOptions_idf0175b83.html#idf0175b83-25e5-48f0-b819-b23f6553d2bd__Command_DenseopcOptions_idf0175b83.xml#idf0175b83-25e5-48f0-b819-b23f6553d2bd" title="Creates a uniquely named sub-command block that contains OPC instructions.">denseopc_options</a> section. This type marks layer
as correctable but removes unnecessary EPE calculations. </p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idd62621e0-a476-4fdf-904e-b4f100a46e8f"><p class="p">The anti-SRAF
layer has to be defined as an asraf or opc type layer in the denseopc_options
section.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idd0c877a5-14d0-4fd3-9a7d-709eb39de63c"><p class="p">The SRAFs must be defined
using <a class="xref fm:HeadingOnly" href="Command_FragmentLayer_id2b3da568.html#id2b3da568-951e-4764-ba6a-edb3c4300d85__Command_FragmentLayer_id2b3da568.xml#id2b3da568-951e-4764-ba6a-edb3c4300d85" title="Fragmentation control sub-command block: Used to reset global fragmentation settings for special-case fragmentation.">fragment_layer</a> statements. If no fragmentation
was defined, each SRAF edge will be treated as a fragment.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id9eed18c7-48f6-4852-ba27-4da4699356a7"><p class="p">Evaluation sites must be
placed on each fragment in order to define locations where SRAF
intensity will be measured and compared against a user-defined threshold.
This is done using the <a class="xref fm:HeadingOnly" href="Command_SrafSitesCreate_id4c6218e7.html#id4c6218e7-67b9-43c3-8453-241e2b2a413f__Command_SrafSitesCreate_id4c6218e7.xml#id4c6218e7-67b9-43c3-8453-241e2b2a413f" title="Creates sites on an SRAF layer.">sraf_sites_create</a> custom scripting command.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id1132cedd-0a84-4f1a-9156-d3eaca043ee4"><p class="p">Define SRAF-specific area
rule checks for the SRAF layer using the “<a class="xref fm:HeadingOnly" href="Command_MrcruleArea_idc3a0cfc0.html#idc3a0cfc0-d767-4658-a8d1-dc8a7fd3a9a6__Command_MrcruleArea_idc3a0cfc0.xml#idc3a0cfc0-d767-4658-a8d1-dc8a7fd3a9a6" title="Used to check SRAF layer spacing constraints for sraf_print_avoidance.">mrc_rule area</a>” command.</p>
</li>
</ul>
<p class="p"><a class="xref fm:FigureAndPage" href="Concept_SrafOperationsInCalibreNmopc_id0ebe23ce.html#id0ebe23ce-f921-4cca-9db6-7e49abd88557__id2f1d6ed7-cefb-4f11-a71d-ee554e3997c7">Figure 2</a> illustrates an example setup
file using sraf_print_avoidance.</p>
<p class="p">MRC rules will be obeyed by sraf_print_avoidance
if specified for the sraf or asraf layer. If the corrected shape
is in violation with an internal MRC rule, violating portions will
be cut or the entire shape will be deleted if necessary.</p>
<p class="p">To summarize how this command works,
the sraf_print_avoidance command, when executed:</p>
<ol class="ol"><li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id385ac5fb-93e9-4663-88af-1c9339ec872a"><p class="p">Finds all rectangle SRAFs on the
input layer (and non-rectangle SRAFs, if allowed).</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idba239d97-2fe5-4962-86ec-3235ac00f37c"><p class="p">Looks at sites which are already
present and have simulations on input. If no sites are present,
then no action is taken.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id8eb22692-04eb-4c7c-8874-f15329cdbe80"><p class="p">If any site has intensity that
exceeds the specified threshold, the fragment attached to the site
is marked for movement.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id636f6481-c710-4d5d-98ac-36b56f996acc"><p class="p">If cutting is permitted (the default),
sraf_print_avoidance determines if a cut is needed for all marked
fragments (for example, if MRC limit already reached).</p>
<p class="p">If cutting is not permitted (‑disallow_cut),
then sraf_print_avoidance marks the entire edge on which the fragment
resides, and marks its paired fragments.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id9d0cd6dd-8f98-4583-af03-b1f62fa7bfdc"><p class="p">For anything else that is not
already at the MRC limit, the command moves edge pairs by step movement
amount, obeying MRC.</p>
</li>
</ol>
<p class="p">In practice, sraf_print_avoidance
will try to make the fewest changes possible. It may do one of the
following:</p>
<ul class="ul"><li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__idf1749171-515d-40fa-9e1c-e539a69ec3e1"><p class="p">Reduce the width of a rectangular
SRAF by changing displacement of either edge in the long dimension,
while obeying MRC.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id3ba51a32-8cf8-4af6-8c7d-1018e52d0250"><p class="p">Eliminate a rectangular SRAF
by forcing the displacement of a singularity.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id15043ceb-c7e9-4413-b2a4-1911bb8f88b2"><p class="p">Adjust non-square SRAFs by
reducing displacement of fragments near the printing area.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id9e524f4d-1e6c-4ce4-a1a5-c51050b0e69b"><p class="p">Cut non-square SRAFs (if
fragmentation is aligned) by forcing displacement of a singularity
of a pair of fragments in specific regions.</p>
</li>
<li class="li" id="id7078ca75-2c2e-4ac0-be05-e80d12b167d7__id8bf2c31d-66b2-48d1-8a2b-a39ae238c77d"><p class="p">If -minimize_jogs is not
present, aligned or non-aligned fragment pairs may move in order
to thin out an SRAF in some spots but not in others.</p>
</li>
</ul>
<p class="p">There are a number of best practices
and recommendations available for sraf_print_avoidance. Refer to “<a class="xref fm:HeadingAndPage" href="Contain_SrafPrintAvoidanceBestPractices_id19e44f16.html#id19e44f16-5ad7-40cd-9c94-e7b01766f456__Contain_SrafPrintAvoidanceBestPractices_id19e44f16.xml#id19e44f16-5ad7-40cd-9c94-e7b01766f456" title="The sraf_print_avoidance command is designed to detect and correct for any printing occurring around sub-resolution assist features (SRAFs).">SRAF Print Avoidance Best Practices</a>” for information.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock leveled"><code>sraf_print_avoidance -layer assist \ 
			-pw pw_0 0.102 \ 
			-pw pw_1 0.102 \ 
			-pw pw_2 0.102 \ 
			-pw pw_3 0.102 \ 
			-step 0.002 \ 
			-out_printing prints \ 
			-out_unsolved unsolved \ 
			-irregular  </code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "sraf_print_avoidance"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_SrafPrintAvoidance_id7078ca75.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>