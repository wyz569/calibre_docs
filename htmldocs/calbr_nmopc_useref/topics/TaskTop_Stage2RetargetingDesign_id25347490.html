<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Stage 2 - Retargeting the Design" />
<meta name="abstract" content="After separating the etch and resist models, use the etch model to retarget your design file. In this case, the Calibre nmOPC veb_retarget operation is used to set the guidelines for fragment movement." />
<meta name="description" content="After separating the etch and resist models, use the etch model to retarget your design file. In this case, the Calibre nmOPC veb_retarget operation is used to set the guidelines for fragment movement." />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id25347490-4e5b-436c-b7d6-2c7ce77e06ae" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Stage 2 - Retargeting the Design</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Stage 2 - Retargeting the Design" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Stage 2 - Retargeting the Design</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">After separating
the etch and resist models, use the etch model to retarget your
design file. In this case, the Calibre nmOPC veb_retarget operation
is used to set the guidelines for fragment movement. </span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__iddd04f1c7-b1b6-4565-8dfb-61a21d490053"><p class="p">Your
design file containing the layout to be retargeted</p>
</li>
<li class="li" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__ide8251481-4514-4b8a-9ca4-929cbbed0b90"><p class="p">The
etch (VEB) model you created in “<a class="xref fm:HeadingOnly" href="TaskTop_Stage1CalibratingOpticalCm1ResistVebModels_ide9f43a6b.html#ide9f43a6b-05e7-4fe0-9afe-40ef6f237e91__TaskTop_Stage1CalibratingOpticalCm1ResistVebModels_ide9f43a6b.xml#ide9f43a6b-05e7-4fe0-9afe-40ef6f237e91" title="In the initial stage, calibrate your models using a test pattern instead of the layout design.">Stage 1 - Calibrating the Optical, CM1 Resist, and VEB Models</a>”</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id2895a13d-3675-4db1-aa4a-edc55643d809"><span class="ph cmd">Using a text editor, open
a Calibre nmOPC setup file with the following items:</span><div class="itemgroup info StepInfo">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id8d454650-95e6-4e0f-9a52-7fb162b6a1be" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Calibre nmOPC and OPCverify Keyword Requirements
for VEB Retargeting</span></caption><colgroup><col style="width:1.364in" /><col style="width:2.528in" /><col style="width:2.609in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55435e171"><p class="p"><span class="keyword ParameterName Required">Keyword</span></p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55435e175"><p class="p"><span class="keyword ParameterName Required">Arguments</span></p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55435e179"><p class="p"><span class="keyword ParameterName Required">Reason</span></p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e171 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_Modelpath_id1f2e5733.html#id1f2e5733-27df-4871-836c-903ad5cccc01__Command_Modelpath_id1f2e5733.xml#id1f2e5733-27df-4871-836c-903ad5cccc01" title="Specifies the default search location for model files.">modelpath</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e175 "><p class="p"><span class="keyword ParameterName OptionalReplaceable">path_to_your_model_files</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e179 "><p class="p">Calibre nmOPC uses this
keyword to locate your model files.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e171 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_EtchModelLoad_idf0313a10.html#idf0313a10-f0e3-4046-8e32-20b662372214__Command_EtchModelLoad_idf0313a10.xml#idf0313a10-f0e3-4046-8e32-20b662372214" title="Loads a specified etch model.">etch_model_load</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e175 "><p class="p"><span class="keyword ParameterName OptionalReplaceable">label </span>[<span class="keyword ParameterName OptionalReplaceable">path/</span>]<span class="keyword ParameterName OptionalReplaceable">VEB_model_filename</span></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e179 "><p class="p">Loads the etch model
file into Calibre nmOPC and assigns it the given label for later
reference.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e171 "><p class="p"><a class="xref Link" href="../../calbr_opcv_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'background', 'calbr_opcv_useref'); return false;">background</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e175 "><p class="p">[clear | dark | atten <span class="keyword ParameterName OptionalReplaceable">value</span>]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e179 "><p class="p">Sets the background properties
of the design.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e171 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_Layer_id4c4034c7.html#id4c4034c7-7b85-40f6-987c-1374cdaa8ca4__Command_Layer_id4c4034c7.xml#id4c4034c7-7b85-40f6-987c-1374cdaa8ca4" title="Defines layer characteristics such as name, type, transmission, and mask.">layer</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e175 "><p class="p">[visible | hidden | etch_underlying]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55435e179 "><p class="p">Sets the layer properties
of the drawn layer in the design to be retargeted. Only one layer
can be retargeted.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">This is not a restrictive list; other commands may also be present.</p>
</div></li>
<li class="li step stepexpand" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id7a5d3248-0b1a-4852-8398-3af2a705ebab"><span class="ph cmd">Add the retargeting command, <a class="xref fm:HeadingOnly" href="Command_SetlayerVebRetarget_idaca9b5ae.html#idaca9b5ae-de3d-4b68-8053-a27fbb9bdb2e__Command_SetlayerVebRetarget_idaca9b5ae.xml#idaca9b5ae-de3d-4b68-8053-a27fbb9bdb2e" title="Creates and derives layers for VEB retargeting.">setlayer veb_retarget</a>.</span></li>
<li class="li step stepexpand" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id3afd0a12-27a0-495a-884f-5c14c2153616"><span class="ph cmd">Save the Calibre nmOPC setup
file. </span></li>
<li class="li step stepexpand" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__idf4f05d47-0235-40a7-9cca-5f9b74ad91bc"><span class="ph cmd">Using a text editor and a
standard SVRF rule file template, add a call to Calibre nmOPC (a
LITHO DENSEOPC command) specifying the revised setup file. The LITHO DENSEOPC
command returns the retargeting layer. </span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code><span class="keyword ParameterName OptionalReplaceable">derived_resist_target</span> = LITHO DENSEOPC FILE "<span class="keyword ParameterName OptionalReplaceable">setup_file_name.in</span>" <span class="keyword ParameterName OptionalReplaceable">original_etch_target</span> MAP <span class="keyword ParameterName OptionalReplaceable">ret_output</span></code></pre></div></li>
<li class="li step stepexpand" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__iddf17a713-1846-4fcf-ac43-31dc673249a6"><span class="ph cmd">Place the new layer in the
layout using the DRC CHECK MAP command:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code><span class="keyword ParameterName OptionalReplaceable">derived_resist_target</span> {COPY <span class="keyword ParameterName OptionalReplaceable">derived_resist_target</span>} 
DRC CHECK MAP <span class="keyword ParameterName OptionalReplaceable">derived_resist_target</span> <span class="keyword ParameterName OptionalReplaceable">layer_number</span></code></pre><div class="note tip"><span class="tiptitle">Tip</span> <p class="p">The SVRF
rule file should write its output to a different file than the input
file, as you may need to re-run your retargeting command if you
are not satisfied with the results.</p>
</div>
</div></li>
<li class="li step stepexpand" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id15370c04-9f61-4342-8139-9e5d40fbb7d0"><span class="ph cmd">Save the file and run the
SVRF rule file in a shell window:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>calibre -drc -hier <span class="keyword ParameterName OptionalReplaceable">rule_file</span></code></pre><p class="p">Calibre runs and places the
retargeted results on a new layer in the output file. </p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">Two files are created for use with
the Calibre nmOPC tool:</p>
<ul class="ul"><li class="li" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id0947d0e3-024f-41f5-bc67-789284b35378"><p class="p">A Calibre nmOPC setup file</p>
</li>
<li class="li" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id9b65b05e-aa28-4f1d-88d6-8d5a5ab4d036"><p class="p">An SVRF rule file containing
information about your design file</p>
</li>
</ul>
<p class="p">Proceed to “<a class="xref fm:HeadingAndPage" href="TaskTop_Stage3UsingRetargetedDesign_id732c49d9.html#id732c49d9-3e9b-45c0-a044-472fe766cb8d__TaskTop_Stage3UsingRetargetedDesign_id732c49d9.xml#id732c49d9-3e9b-45c0-a044-472fe766cb8d" title="Now that you have a modified design that has been retargeted to account for etch effects, proceed with Calibre nmOPC using only the optical and resist model, since the etch effects have already been corrected.">Stage 3 - Using the Retargeted Design</a>”.</p>
</div>
<div class="section Examples" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id73a7d32f-70f1-4beb-8d71-0c38ed1d5d71"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">This example VEB setup file is called <span class="keyword ParameterName OptionalReplaceable">cmdfile.in</span>.
This is separate from a Calibre nmOPC setup file used for optical
and resist process correction.</p>
<pre class="pre codeblock leveled"><code>modelpath ~/calibre/models
# note that the optical and resist models are not loaded 
# because they are not required for retargeting
etch_model_load veb1 etch_veb1.mod
background atten 0.064
layer RETARGET_ME visible clear

denseopc_options OPTS {
		version 1
		etch_model veb1
		background atten 0.064
		layer RETARGET_ME opc clear
	max_iterations 3
	feedback -1 -1 -1
	veb_pseudo_nyquist 0.06
}

setlayer ret_output = veb_retarget RETARGET_ME  MAP RETARGET_ME \
																OPTIONS OPTS</code></pre><div class="section Subsection" id="id25347490-4e5b-436c-b7d6-2c7ce77e06ae__id4132c68d-2754-4a96-a1ef-045b993e4853"><h2 class="title Subheading sectiontitle">Example Calibre SVRF
Rule File</h2><p class="p">This example assumes that the
SVRF rule file contains definitions for the layers in the design, and
includes the following lines: </p>
<pre class="pre codeblock leveled"><code>retargeting = LITHO DENSEOPC FILE “cmdfile.in” RETARGET_ME MAP ret_output
retargeting {COPY retargeting} DRC CHECK MAP retargeting 49</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCAppe_CalibreVebModelBasedRetargetingFlowInCalibreNmopc_idac4ef859.html" title="Variable Etch Bias (VEB) is a process that allows you to separately account for etch effects. This methodology differs from previous OPC practices, where modeling effects including optical, resist, and etch are calculated at the end, using only the post-etch target data.">The Calibre VEB Model-Based Retargeting Flow in Calibre nmOPC</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "Stage 2 - Retargeting the Design"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_Stage2RetargetingDesign_id25347490.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>