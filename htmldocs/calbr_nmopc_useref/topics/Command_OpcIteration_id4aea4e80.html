<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="OPC_ITERATION" />
<meta name="abstract" content="Instructs Calibre nmOPC to perform one or more OPC iterations." />
<meta name="description" content="Instructs Calibre nmOPC to perform one or more OPC iterations." />
<meta name="DC.subject" content="OPC_ITERATION, Iterations" />
<meta name="keywords" content="OPC_ITERATION, Iterations" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id4aea4e80-a2f1-4982-9b6d-212cdb54503a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>OPC_ITERATION</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="OPC_ITERATION" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">OPC_ITERATION</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html#id5a1a85dc-e552-4302-871e-4aa04b8ee303__Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.xml#id5a1a85dc-e552-4302-871e-4aa04b8ee303" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></p>
<p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Concept_OpcControls_ida9be3a5f.html#ida9be3a5f-c6df-434e-a36c-0a262f3c3c96__Concept_OpcControls_ida9be3a5f.xml#ida9be3a5f-c6df-434e-a36c-0a262f3c3c96" title="Several commands are also available to optimize your OPC performance.">OPC Controls</a></p>
<p class="shortdesc">Instructs Calibre nmOPC to perform
one or more OPC iterations.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine">Syntax 1:</p>
<p class="lines UsageLine"><span class="keyword ParameterName Required">OPC_ITERATION</span> [<span class="keyword ParameterName OptionalReplaceable">count</span>] <span class="keyword ParameterName Optional">[-registers </span><span class="keyword ParameterName OptionalReplaceable">register_list</span>] [<span class="keyword ParameterName OptionalReplaceable">pvband_pwopc_options</span>] [<span class="keyword ParameterName OptionalReplaceable">matrix_retargeting_options</span>] [<span class="keyword ParameterName OptionalReplaceable">gradient_optimizer_options</span>] [<span class="keyword ParameterName Optional">‑coarse</span> <span class="keyword ParameterName OptionalReplaceable">num_of_simulations</span>] <br />
[<span class="keyword ParameterName Optional">-simulate_sites</span> | <span class="keyword ParameterName Optional">-simulate_sites_epe</span>] [<span class="keyword ParameterName Optional">-simulate_no_opc_pw</span>]</p>
<p class="lines UsageLine">Syntax 2:</p>
<p class="lines UsageLine"><span class="keyword ParameterName Required">OPC_ITERATION</span> <span class="keyword ParameterName Required">-set_epe</span> [<span class="keyword ParameterName OptionalReplaceable">pvband_pwopc_options</span>] [<span class="keyword ParameterName OptionalReplaceable">matrix_retargeting_options</span>] [<span class="keyword ParameterName OptionalReplaceable">gradient_optimizer_options</span>]  [<span class="keyword ParameterName Optional">‑coarse</span> <span class="keyword ParameterName OptionalReplaceable">num_of_simulations</span>] <br />
[<span class="keyword ParameterName Optional">-simulate_sites </span>| <span class="keyword ParameterName Optional">-simulate_sites_epe</span>] [<span class="keyword ParameterName Optional">-simulate_no_opc_pw</span>]</p>
<p class="lines UsageLine">Syntax 3:</p>
<p class="lines UsageLine"><span class="keyword ParameterName Required">OPC_ITERATION</span> <span class="keyword ParameterName Required">-apply_feedback</span></p>
<p class="lines UsageLine">where <span class="keyword ParameterName OptionalReplaceable">pvband_pwopc_options</span> (also known as pvband_pwopc mode) are:</p>
<p class="lines UsageLine"><span class="keyword ParameterName Required">-PW</span> [exclude <span class="keyword ParameterName OptionalReplaceable">exclude_tag</span>] <br />
<span class="keyword ParameterName Optional">[nominal_epe_limit </span><span class="keyword ParameterName OptionalReplaceable">nominal_epe_limit_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">tol_inner</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">tol_outer</span><span class="keyword ParameterName Optional">]...<br />
[pvband_tolerance </span><span class="keyword ParameterName OptionalReplaceable">pvband_tolerance_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">tol_inner</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">tol_outer</span><span class="keyword ParameterName Optional">]...<br />
[corner_ignore </span><span class="keyword ParameterName OptionalReplaceable">corner_ignore_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">value</span><span class="keyword ParameterName Optional">]...<br />
[min_width </span><span class="keyword ParameterName OptionalReplaceable">min_width_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">width</span><span class="keyword ParameterName Optional">]...<br />
[min_space </span><span class="keyword ParameterName OptionalReplaceable">min_space_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">space</span><span class="keyword ParameterName Optional">]...<br />
[min_space_interpattern </span><span class="keyword ParameterName OptionalReplaceable">min_space_interpattern_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">space</span><span class="keyword ParameterName Optional">]...<br />
[min_overlay </span><span class="keyword ParameterName OptionalReplaceable">min_overlay_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">overlay</span><span class="keyword ParameterName Optional">]...<br />
[min_width_3D </span><span class="keyword ParameterName OptionalReplaceable">min_width_3D_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">width_3D</span><span class="keyword ParameterName Optional">]...<br />
[min_space_3D </span><span class="keyword ParameterName OptionalReplaceable">min_space_3D_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">space_3D</span><span class="keyword ParameterName Optional">]...<br />
</span>[min_width_pw <span class="keyword ParameterName OptionalReplaceable">pw_name</span> <span class="keyword ParameterName OptionalReplaceable">min_width_pw_tag</span> <span class="keyword ParameterName OptionalReplaceable">width</span>]...<br />
[min_space_pw <span class="keyword ParameterName OptionalReplaceable">pw_name</span> <span class="keyword ParameterName OptionalReplaceable">min_space_pw_tag</span> <span class="keyword ParameterName OptionalReplaceable">space</span>]...<br />
[exclude_pw <span class="keyword ParameterName OptionalReplaceable">excluded_pw_name</span>]...</p>
<p class="lines UsageLine"><span class="keyword ParameterName OptionalReplaceable">matrix_retargeting_options</span> are:<br />
[-schedule {retarget <span class="keyword ParameterName OptionalReplaceable">riter_1 riter_2</span> ... [pw <span class="keyword ParameterName OptionalReplaceable">iter_1 iter_2 </span>...]}]<br />
[-rt_tag <span class="keyword ParameterName OptionalReplaceable">tagname</span>]...<br />
[-target_bias_limit <span class="keyword ParameterName OptionalReplaceable">tagname</span> <span class="keyword ParameterName OptionalReplaceable">lower_limit</span> <span class="keyword ParameterName OptionalReplaceable">upper_limit</span>]...<br />
[-output_overconstrained <span class="keyword ParameterName OptionalReplaceable">iter iter_num output_layer_name</span>]...<br />
[-output_violated iter <span class="keyword ParameterName OptionalReplaceable">iter_num output_layer_name</span>]...</p>
<p class="lines UsageLine"><span class="keyword ParameterName OptionalReplaceable">gradient_optimizer_options</span> are:<br />
<span class="keyword ParameterName Optional">[opt_slope </span><span class="keyword ParameterName OptionalReplaceable">opt_slope_tag</span><span class="keyword ParameterName Optional"> </span><span class="keyword ParameterName OptionalReplaceable">min_slope</span><span class="keyword ParameterName Optional">]...</span></p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id9948f32f-06ea-441c-83e3-ee51b9505640"><span class="keyword ParameterName Required">-set_epe</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Syntax 2 only. Triggers the
refragmentation and EPE measurement steps. After this command has
been executed, it is then possible to create tags, and perform tag-based operations.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id58c9e9b2-e525-49d5-998a-bac54742abf9"><span class="keyword ParameterName Required">-apply_feedback</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Syntax
3 only. Sets set the specified fragment displacements. The fragments
will not be moved, however. The setup file must explicitly call <a class="xref fm:HeadingOnly" href="Command_FragmentMove_id0a7c2e0e.html#id0a7c2e0e-57e4-4c54-acd6-e7415aff3062__Command_FragmentMove_id0a7c2e0e.xml#id0a7c2e0e-57e4-4c54-acd6-e7415aff3062" title="Moves fragments.">FRAGMENT_MOVE</a> in order to move the fragments
to their final location.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__ida40d472c-7bb4-48b3-b560-43a208b5b850"><span class="keyword ParameterName OptionalReplaceable">count</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Enables the “iteration count”
mode of this command, specifying a number of iterations to be performed.
If <span class="keyword ParameterName OptionalReplaceable">count</span> is
unspecified, OPC_ITERATION will default to <span class="keyword ParameterName OptionalReplaceable">count</span> =
0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id1a37bfca-d2a7-490d-9791-17d389670551">-registers <span class="keyword ParameterName OptionalReplaceable">register_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that saves
the computed images into the registers specified by <span class="keyword ParameterName OptionalReplaceable">register_list</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id2f844f69-bf07-4371-bd46-c65624c536ec">‑coarse <span class="keyword ParameterName OptionalReplaceable">num_of_simulations</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
first <span class="keyword ParameterName OptionalReplaceable">num_of_simulations</span> simulations
use both a coarse grid specified by “<a class="xref Link" href="../../calbr_opcv_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'imagegrid', 'calbr_opcv_useref'); return false;">imagegrid</a> … coarse”
for the resist and a coarse grid specified by <a class="xref Link" href="../../calbr_opcv_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'rasterizer_upsample_factor', 'calbr_opcv_useref'); return false;">rasterizer_upsample_factor</a> for
the mask. (See the <cite class="cite">Calibre OPCverify User’s and Reference Manual</cite> for
rasterizer_upsample_factor and imagegrid details.) </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id1cdfa041-2c82-4991-9e2b-0a7cb9eeb2ad">-simulate_sites</dt>
<dd class="dd ArgumentDescription"><p class="p">If this is specified, sites
created with <a class="xref fm:HeadingOnly" href="Command_SitesCreate_id25d490d3.html#id25d490d3-ea04-4097-9e08-15c0baa14c3c__Command_SitesCreate_id25d490d3.xml#id25d490d3-ea04-4097-9e08-15c0baa14c3c" title="Create sites centered on the target layer.">SITES_CREATE</a> are simulated. This is not allowed
in “iteration count” mode, unless <span class="keyword ParameterName OptionalReplaceable">pvband_pwopc_options</span> are
used.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id2e41b685-6f5d-4ec1-ad43-274f82003549">-simulate_sites_epe</dt>
<dd class="dd ArgumentDescription"><p class="p">If this is specified, sites
created with <a class="xref fm:HeadingOnly" href="Command_SitesCreate_id25d490d3.html#id25d490d3-ea04-4097-9e08-15c0baa14c3c__Command_SitesCreate_id25d490d3.xml#id25d490d3-ea04-4097-9e08-15c0baa14c3c" title="Create sites centered on the target layer.">SITES_CREATE</a> are simulated, but only their
EPE or printing status (or both) is available. If enabled, this
will prevent some scripting commands such as <a class="xref fm:HeadingOnly" href="Command_NewtagSites_id6b3a789f.html#id6b3a789f-cbe4-43d2-9fc0-7ff984a96fa5__Command_NewtagSites_id6b3a789f.xml#id6b3a789f-cbe4-43d2-9fc0-7ff984a96fa5" title="Outputs fragments that follow the specified constraint.">NEWTAG sites</a> -imin from working. This is not
allowed in “iteration count” mode, unless <span class="keyword ParameterName OptionalReplaceable">pvband_pwopc_options</span> are
used.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id73771109-d98b-4a37-b9b0-3bb61cbfefad">-<span class="keyword ParameterName Optional">simulate_no_opc_pw</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If this is specified, process
window conditions that are marked as “no_opc” in the <a class="xref fm:HeadingOnly" href="Command_PwCondition_id4a42cbf2.html#id4a42cbf2-c82a-4e7b-b173-508378c2bccd__Command_PwCondition_id4a42cbf2.xml#id4a42cbf2-c82a-4e7b-b173-508378c2bccd" title="Creates alternate image conditions for dose, focus, resist, and aerial threshold, as opposed to a nominal image.">pw_condition</a> definition are also simulated
(but not used for OPC). This is used with producing intensities
with the “no_opc” pw_condition that are used by <a class="xref fm:HeadingOnly" href="Command_SrafPrintAvoidance_id7078ca75.html#id7078ca75-2c2e-4ac0-be05-e80d12b167d7__Command_SrafPrintAvoidance_id7078ca75.xml#id7078ca75-2c2e-4ac0-be05-e80d12b167d7" title="Prevents selected Sub-Resolution Assist Feature (SRAF) from printing.">sraf_print_avoidance</a> after the call to OPC_ITERATION.</p>
</dd>
</dl>
<p class="p"><span class="ph FontProperty HeadingLabel">Pvband_pwopc Options</span></p>
<p class="p">For all numeric values for pvband_pwopc options,
the values can be expressed either as a number or read from an annotated
tag set using the following syntax:</p>
<pre class="pre codeblock"><code>property(<span class="keyword ParameterName OptionalReplaceable">annotated_tag_set</span>):default(<span class="keyword ParameterName OptionalReplaceable">value</span>)</code></pre><p class="p">For example, both of these are acceptable:</p>
<pre class="pre codeblock"><code>nominal_epe_limit all_frags \
	property(tol_inner):default(-0.003)\
	property(tol_outer):default(0.003)</code></pre><pre class="pre codeblock"><code>nominal_epe_limit all_frags -0.003 0.003</code></pre><p class="p">The default value is used when a fragment is not
in the annotated tag set. Setting a default is optional, but strongly
recommended.</p>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id329e43ab-1466-4346-9f96-4e2f478d8bd3">exclude <span class="keyword ParameterName OptionalReplaceable">exclude_tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that PV band for fragments
belonging to this tag will be ignored, and only nominal EPE will
be used.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idd1948380-a8f3-4727-974e-78f4b15d9c1f"><span class="keyword ParameterName Optional">nominal_epe_limit</span> <span class="keyword ParameterName OptionalReplaceable">nominal_epe_limit_tag</span> <span class="keyword ParameterName OptionalReplaceable">tol_inner</span> <span class="keyword ParameterName OptionalReplaceable">tol_outer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that PV band for fragments
belonging to this tag will be considered, but Calibre nmOPC attempts
to prevent the nominal EPE from exceeding the <span class="keyword ParameterName OptionalReplaceable">tol_inner</span> <span class="keyword ParameterName OptionalReplaceable">tol_outer</span> tolerance
values.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id36dd3dc8-3e43-4baa-b6b0-fae730be5a8e"><span class="keyword ParameterName Optional">pvband_tolerance</span> <span class="keyword ParameterName OptionalReplaceable">pvband_tolerance_tag</span> <span class="keyword ParameterName OptionalReplaceable">tol_inner</span> <span class="keyword ParameterName OptionalReplaceable">tol_outer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies
that the PV band for fragments belonging to this tag will be considered
only if it is outside the tolerance specified using the <span class="keyword ParameterName OptionalReplaceable">tol_inner</span> <span class="keyword ParameterName OptionalReplaceable">tol_outer</span> values.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id3d4fd4b0-45dd-4f0d-9ddc-4cecf956a5a3"><span class="keyword ParameterName Optional">corner_ignore </span><span class="keyword ParameterName OptionalReplaceable">corner_ignore_tag</span> <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that PV band measurements
closer than <span class="keyword ParameterName OptionalReplaceable">value</span> to
a corner will be ignored.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id0bd64ef1-289d-41e9-9048-c2791a20c196"><span class="keyword ParameterName Optional">min_width </span><span class="keyword ParameterName OptionalReplaceable">min_width_tag</span> <span class="keyword ParameterName OptionalReplaceable">width</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that OPC will try
to ensure that the contour width across process window conditions
for this tag will be at least be <span class="keyword ParameterName OptionalReplaceable">width </span>value.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__ide9798c4a-b861-4f9e-96bc-c54a41c1c601"><span class="keyword ParameterName Optional">min_space </span><span class="keyword ParameterName OptionalReplaceable">min_space_tag</span> <span class="keyword ParameterName OptionalReplaceable">space</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that OPC will try
to ensure that the contour spacing across process window conditions
for this tag will be at least <span class="keyword ParameterName OptionalReplaceable">space</span> value.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id7b8a918d-6417-40db-ba74-e3d6bdd883b9"><span class="keyword ParameterName Optional">min_width_3D </span><span class="keyword ParameterName OptionalReplaceable">min_width_3D_tag</span> <span class="keyword ParameterName OptionalReplaceable">width_3D</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies a minimum width for
a 3D process window (top loss process window). See “<a class="xref fm:HeadingAndPage" href="Concept_ResistTopLossCorrection_id9bb3ab61.html#id9bb3ab61-88e0-4d0e-9546-48a79cf2962e__Concept_ResistTopLossCorrection_id9bb3ab61.xml#id9bb3ab61-88e0-4d0e-9546-48a79cf2962e" title="Resist top loss is a source of wafer failure in advanced technology nodes.">Resist Top Loss Correction</a>” for further information.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id304a2d6f-fea0-4426-9e37-1b8bcaed3f7f"><span class="keyword ParameterName Optional">min_space_3D </span><span class="keyword ParameterName OptionalReplaceable">min_space_3D_tag</span> <span class="keyword ParameterName OptionalReplaceable">space_3D</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies a minimum space for
a 3D process window (top loss process window). See “<a class="xref fm:HeadingAndPage" href="Concept_ResistTopLossCorrection_id9bb3ab61.html#id9bb3ab61-88e0-4d0e-9546-48a79cf2962e__Concept_ResistTopLossCorrection_id9bb3ab61.xml#id9bb3ab61-88e0-4d0e-9546-48a79cf2962e" title="Resist top loss is a source of wafer failure in advanced technology nodes.">Resist Top Loss Correction</a>” for further information.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idcc29d68d-25ba-40e9-80c0-c0d9d01becaa">min_width_pw <span class="keyword ParameterName OptionalReplaceable">pw_name</span> <span class="keyword ParameterName OptionalReplaceable">min_width_pw_tag</span> <span class="keyword ParameterName OptionalReplaceable">width</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Establishes the minimum contour
width for the named tag and process window condition The <span class="keyword ParameterName OptionalReplaceable">pw_name</span> should
not refer to a “spa” or “no_opc” condition. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id1b49833f-eec4-4ce1-aac5-9dec5c555e6a">min_space_pw <span class="keyword ParameterName OptionalReplaceable">pw_name</span> <span class="keyword ParameterName OptionalReplaceable">min_space_pw_tag</span> <span class="keyword ParameterName OptionalReplaceable">space</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that Calibre nmOPC
attempt to ensure that the contour spacing (for the process window
condition specified by <span class="keyword ParameterName OptionalReplaceable">pw_name</span>)
for this tag will be at least <span class="keyword ParameterName OptionalReplaceable">space</span>.
The <span class="keyword ParameterName OptionalReplaceable">pw_name</span> should
not refer to a “spa” or “no_opc” condition.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id08bdba20-540a-476a-ad25-1ae8024cd547"><span class="keyword ParameterName Optional">min_space_interpattern </span><span class="keyword ParameterName OptionalReplaceable">min_space_interpattern_tag</span> <span class="keyword ParameterName OptionalReplaceable">space</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that Calibre nmOPC attempt
to ensure that the contour spacing across process window conditions
for this tag will be at least <span class="keyword ParameterName OptionalReplaceable">space</span> size
for inter-pattern spacing checks. The min_space requirement is ignored
if min_space_interpattern is specified. The min_space_interpattern
constraints override the min_space_pw constraints for inter-pattern spacing.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idb793a058-9e7d-445c-9ca2-73ea1cd45933"><span class="keyword ParameterName Optional">min_overlay </span><span class="keyword ParameterName OptionalReplaceable">min_overlay_tag</span> <span class="keyword ParameterName OptionalReplaceable">overlay</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that OPC will try
to ensure that the contour overlay across process window conditions
for this tag will be at least be of <span class="keyword ParameterName OptionalReplaceable">overlay</span> value.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id60912418-1bc7-4c2a-ad14-6faded9bfdb7">exclude_pw <span class="keyword ParameterName OptionalReplaceable">excluded_pw_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that Calibre nmOPC
will not simulate the specified process window and use it for corrections.</p>
</dd>
</dl>
<p class="p"><span class="ph FontProperty HeadingLabel">Matrix Retargeting Options</span></p>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id3c3c9f36-2a15-43dd-b512-fb92f8e112ed">-schedule {retarget <span class="keyword ParameterName OptionalReplaceable">riter_1 riter_2</span>... [pw <span class="keyword ParameterName OptionalReplaceable">iter_1 iter_2</span>...]}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that enables matrix
retargeting and specifies the how iterations are treated.</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idf0cdbf50-cd7d-4466-92de-1090b2b2e10e"><p class="p">The retarget
keyword specifies during which OPC iterations matrix retargeting
will be performed.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idca8a4cb5-7ee5-46a7-a2e9-919cfc1cdf5f"><p class="p">If the pw keyword
is specified, the iterations specified (<span class="keyword ParameterName OptionalReplaceable">iter_1 iter_2</span>...)
are PWOPC iterations and the rest are treated as nominal iterations
that override the -PW keyword. If the pw is not specified, all OPC
iterations in the OPC_ITERATION command are treated as PWOPC iterations.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id2426d433-9bc8-43f5-bc96-265e64aa4557">-rt_tag <span class="keyword ParameterName OptionalReplaceable">tagname</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies which
tag set (and related neighboring fragments) should be considered
for matrix retargeting. If not present, all fragments are considered
for matrix retargeting.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idc8091cff-0c1b-48c0-8efd-636637af2d5e">-target_bias_limit <span class="keyword ParameterName OptionalReplaceable">tagname</span> <span class="keyword ParameterName OptionalReplaceable">lower_limit</span> <span class="keyword ParameterName OptionalReplaceable">upper_limit</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies lower
and upper bias limits for a specific tag set in user units. The
specified range applies to the specific tag set and overrides the
global limit that can be specified with the max_target_bias keyword
in the retargeting_options block. The range is not allowed to exceed
the global range specified with max_target_bias keyword.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id7f15b715-d6d7-42d4-8257-805a74dc8cc1">-output_overconstrained iter <span class="keyword ParameterName OptionalReplaceable">iter_num</span> <span class="keyword ParameterName OptionalReplaceable">output_layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that, if specified for
an iteration (<span class="keyword ParameterName OptionalReplaceable">iter_num</span>),
outputs markers for fragments with unresolved constraints to specified
layer (<span class="keyword ParameterName OptionalReplaceable">output_layer_name</span>).</p>
<p class="p">For pair constraints, markers are placed in-between the fragment
pairs, with a width that gives a hint about how much violation is
seen. For enclosure constraints, markers are centered at the fragments,
with a width that gives a hint similar to pair constraints.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id7f02ae5c-a62c-4c74-89d9-5edb1c88e83a">-output_violated iter <span class="keyword ParameterName OptionalReplaceable">iter_num</span> <span class="keyword ParameterName OptionalReplaceable">output_layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that, if specified for
an iteration (<span class="keyword ParameterName OptionalReplaceable">iter_num</span>),
fragments that fail to satisfy PV band-PWOPC constraints and are
inputs to matrix retargeting are output to the specified layer (<span class="keyword ParameterName OptionalReplaceable">output_layer_name</span>).</p>
</dd>
</dl>
<p class="p"><span class="ph FontProperty HeadingLabel">Gradient Optimizer Options</span></p>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idba6a8a0b-8ab4-484e-9fe7-fe476c8b4320"><span class="keyword ParameterName Optional">opt_slope </span><span class="keyword ParameterName OptionalReplaceable">opt_slope_tag</span> <span class="keyword ParameterName OptionalReplaceable">min_slope</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that fragments belonging
to this tag will be optimized for slope, if the slope is below the
given <span class="keyword ParameterName OptionalReplaceable">min_slope</span> (in
units/microns). In this case, min_slope is defined in units of 1.0
/ uu (user units). As this is a gradient optimizer, the gradient
must be calculated. This is a very computation-heavy operation,
which may lead the OPC_ITERATION runtime to increase by up to 100%.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command performs a “standard”
OPC iteration as defined by all setup file user settings. All options
in the setup file which apply to iterations will be obeyed:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id09972347-9455-45a9-bcf0-49e5ec1dd936"><p class="p">pw_condition</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id357974ea-cc21-46fd-aa89-e49a83ec97ca"><p class="p">active_layer</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id5c1e3fc8-e378-4aa1-9b82-9fdd5c8c92a8"><p class="p">retarget_layer</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id6fd64d6e-e77d-480f-b2d3-fce2b9e84c83"><p class="p">contact layer type (in the
layer command)</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id3831918e-f13a-45a3-b975-822cf4aaf8e5"><p class="p">check_movement</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id442a951e-bf24-4e12-9446-c5885e420bb9"><p class="p">feedback</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idacc28c07-0d5b-4fda-be9d-bc4f69d700f4"><p class="p">epe_spacing</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id81e4f99c-9de6-4ff9-a511-c764b80bad78"><p class="p">mrc_rule</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idb0c35af8-6189-432a-9f73-56471d7498ce"><p class="p">max_iter_movement </p>
</li>
</ul>
<p class="p">The following modes are available
for this command:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id05a3053d-d96c-459f-a42e-6625273115c7"><p class="p">No arguments mode. </p>
<p class="p">Upon output, the desired displacements
of the fragments will be set to the values computed during the iteration.
However, the fragments will not be moved until the next call to
FRAGMENT_MOVE.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id64788ae8-6bcc-4c07-aa72-1f83a2b78cad"><p class="p">Iterations count mode (specified
with the <span class="keyword ParameterName OptionalReplaceable">count</span> option).</p>
<p class="p">In this mode, there is no need
to call FRAGMENT_MOVE. The requested number of iterations is performed.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id3a1be85b-543e-4af6-a8af-9607affc2c8c"><p class="p">PV band mode (see the section “<a class="xref fm:HeadingAndPage" href="#id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id07967807-0fdf-45b1-aaae-5625a47f9655">PV Band Mode</a>” for a description).</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id24f4bedd-2591-4089-ad2e-113fbf87856d"><p class="p">set_epe mode.</p>
<p class="p">Only simulation, re-fragmentation
(if enabled) and EPE calculation is done in this mode.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id71283599-3ef8-41da-8ab8-0d31710b5feb"><p class="p">apply_feedback mode.</p>
<p class="p">Feedbacks are applied and desired
displacements are set in this mode.</p>
</li>
</ul>
<p class="p">The last two modes offer finer
control over iterations, enabling, for example, creation of tag
sets and setting feedback values after simulation and after EPEs
are calculated, but before the feedback is applied.</p>
<p class="p">Site simulation is done by default
if <a class="xref fm:HeadingOnly" href="Command_Algorithm_idc44fdd05.html#idc44fdd05-d6fe-4273-a27e-cca19a9307b2__Command_Algorithm_idc44fdd05.xml#idc44fdd05-d6fe-4273-a27e-cca19a9307b2" title="Bypasses contour creation to improve output consistency.">algorithm</a> 2 is set.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The PV band mode uses sites to determine EPEs
and is enabled automatically if at least one of the following is
true:</p>
<ul class="ul NoteList"><li class="li NoteListItem">All PW conditions are declared with the
pvband keyword (in <a class="xref fm:HeadingOnly" href="Command_PwCondition_id4a42cbf2.html#id4a42cbf2-c82a-4e7b-b173-508378c2bccd__Command_PwCondition_id4a42cbf2.xml#id4a42cbf2-c82a-4e7b-b173-508378c2bccd" title="Creates alternate image conditions for dose, focus, resist, and aerial threshold, as opposed to a nominal image.">pw_condition</a>), otherwise an error message is
issued.</li>
<li class="li NoteListItem">An OPC_ITERATION command in the tagging script has
the -PW parameter.</li>
<li class="li NoteListItem">An opt_slope keyword is present.</li>
</ul>
</div>
<p class="p">Note
that if you specify both <a class="xref fm:HeadingOnly" href="Command_MaxIterations_idf5cf2275.html#idf5cf2275-34e5-4f9a-b1a3-8ffed2f5cf4b__Command_MaxIterations_idf5cf2275.xml#idf5cf2275-34e5-4f9a-b1a3-8ffed2f5cf4b" title="Limits number of OPC iterations.">max_iterations</a> and OPC_ITERATION in the setup
file, the number of iterations specified in OPC_ITERATION will take
precedence. For example:</p>
<pre class="pre codeblock leveled"><code>max_iterations 8 nopw 3 
OPC_ITERATION 7 </code></pre><p class="p">In this example, Calibre nmOPC
will perform three non-process window iterations, followed by four
more process window iterations, for a total of seven iterations.</p>
<p class="p">An alternative command, <a class="xref fm:HeadingOnly" href="Command_OpcXmeefIteration_id4076267a.html#id4076267a-6996-4c25-96e1-a19bd39342fd__Command_OpcXmeefIteration_id4076267a.xml#id4076267a-6996-4c25-96e1-a19bd39342fd" title="Instructs Calibre nmOPC to perform one or more Matrix OPC iterations, using an alternative method for faster calculations of XMEEFs.">OPC_XMEEF_ITERATION</a>, is available if any of the following circumstances
occur:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idfa6fc185-b9b1-4fab-b9f7-711571ffa7b3"><p class="p">Ripples occur on metal lines</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__ida9d8bb68-c3da-4934-8ba2-8fd1117932cb"><p class="p">Out-of-specification post-OPC
EPE occur for contact and poly layers</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id5a9715da-fdc2-4920-9280-6c87a54de62e"><p class="p">If you are having difficulties
tuning feedback for certain tag sets. High MEEF on a fragment usually
results in difficulties tuning feedback and bad convergence. </p>
</li>
</ul>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id29e89332-5d3b-4c88-a676-02e0f9283f9f"><h2 class="title Subheading sectiontitle">Constraints for
WIDTH/SPACE</h2><p class="p">Contour width and spacing are calculated
by pairing sites across a feature. Pairing is done only for sites
that are properly oriented (the angle between them is smaller than
some internal constant).</p>
<p class="p">Pairing is done only for sites
that are not too far apart (their midpoints should be closer than
the specified width + Nyquist for CD pairs, and closer than the
specified space + Nyquist for space pairs).</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id6850f05e-a07f-4ab5-8c8f-ae22183dc409"><p class="p">Width pairing will be done
to EPE sites belonging to fragments on the same patterning layer</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idd17b04a7-78bf-450b-84d8-c2756cd8bc3d"><p class="p">Space pairing will be done
to EPE sites belonging to fragments on the same, or different patterning
layers</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id377e442a-5bdf-4ada-95de-2a380a0c58cf"><p class="p">Site pairs can be output
using <a class="xref fm:HeadingOnly" href="Command_SitesDump_id9397f4fa.html#id9397f4fa-29c7-48f5-9a50-d0cc8e59c8e3__Command_SitesDump_id9397f4fa.xml#id9397f4fa-29c7-48f5-9a50-d0cc8e59c8e3" title="Outputs all sites associated to fragments on the input tag set.">SITES_DUMP</a> -type PAIR</p>
</li>
</ul>
<p class="p">For every fragment that belongs
to a min_width_tag, min_space_tag, or min_overlay_tag, the process
window EPEs are ignored, and the nominal EPE is considered only
if the contour CD⁄space is within the given tolerance (the width/space
has a higher priority than the process window tolerance).</p>
<p class="p">The maximum site pairing distances
for min_width and min_space are as follows:</p>
<p class="p"><span class="keyword ParameterName OptionalReplaceable">maximum_width_pair_dist</span> = <span class="keyword ParameterName OptionalReplaceable">min_width_tol</span> +
min(3 * Nyquist, max(2 * Nyquist, ‑<span class="keyword ParameterName OptionalReplaceable">nominal_tol_inner</span>))</p>
<p class="p"><span class="keyword ParameterName OptionalReplaceable">maximum_space_pair_dist</span> = <span class="keyword ParameterName OptionalReplaceable">min_spacing_tol</span> +
min(3 * Nyquist, max(2 * Nyquist, +<span class="keyword ParameterName OptionalReplaceable">nominal_tol_outer</span>))</p>
<p class="p">where:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id4eb016d9-7946-4516-90dc-7c3c593f8076"><p class="p"><span class="keyword ParameterName OptionalReplaceable">min_width_tol</span> is
specified by min_width <span class="keyword ParameterName OptionalReplaceable">min_width_tag</span><span class="keyword ParameterName Optional"></span><span class="keyword ParameterName OptionalReplaceable">width</span></p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id889a0fcd-4a83-416c-a43f-857616e88949"><p class="p"><span class="keyword ParameterName OptionalReplaceable">min_space_tol</span> is
specified by min_space <span class="keyword ParameterName OptionalReplaceable">min_space_tag</span><span class="keyword ParameterName Optional"></span><span class="keyword ParameterName OptionalReplaceable">space</span></p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id4918195c-8673-4fc6-8aa5-e276249cf7ce"><p class="p"><span class="keyword ParameterName OptionalReplaceable">nominal_tol_inner</span> and <span class="keyword ParameterName OptionalReplaceable">nominal_tol_outer</span> are
the nominal EPE tolerances specified by the respective OPC_ITERATION
-PW options: </p>
<pre class="pre codeblock leveled"><code>OPC_ITERATION -PW ... [nominal_epe_limit <span class="keyword ParameterName OptionalReplaceable">nominal_epe_limit_tag</span> <span class="keyword ParameterName OptionalReplaceable">tol_inner</span> <span class="keyword ParameterName OptionalReplaceable">tol_outer</span>]</code></pre></li>
</ul>
</div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id07967807-0fdf-45b1-aaae-5625a47f9655"><h2 class="title Subheading sectiontitle">PV Band Mode</h2><p class="p">This
mode is both for PV Band PWOPC and cases using <a class="xref fm:HeadingOnly" href="Command_Algorithm_idc44fdd05.html#idc44fdd05-d6fe-4273-a27e-cca19a9307b2__Command_Algorithm_idc44fdd05.xml#idc44fdd05-d6fe-4273-a27e-cca19a9307b2" title="Bypasses contour creation to improve output consistency.">algorithm</a> 2. This mode uses sites to determine
EPEs and is enabled automatically if at least one of the following
is true:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idbab71fb8-4346-4322-9e08-d31ac8168d86"><p class="p">A <a class="xref fm:HeadingOnly" href="Command_PwCondition_id4a42cbf2.html#id4a42cbf2-c82a-4e7b-b173-508378c2bccd__Command_PwCondition_id4a42cbf2.xml#id4a42cbf2-c82a-4e7b-b173-508378c2bccd" title="Creates alternate image conditions for dose, focus, resist, and aerial threshold, as opposed to a nominal image.">pw_condition</a> is declared with the “pvband”
keyword</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id4ad445d7-d16f-4f0a-97f0-1ce5d7bd4f5c"><p class="p">An <a class="xref fm:HeadingOnly" href="#id4aea4e80-a2f1-4982-9b6d-212cdb54503a" title="Instructs Calibre nmOPC to perform one or more OPC iterations.">OPC_ITERATION</a> in the tagscript has the -PW parameter</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__ide4328bf5-8456-4bdc-99b9-8fa09e21f805"><p class="p">An opt_slope is present</p>
</li>
</ul>
<p class="p">If this mode is enabled, default
sites are created. To alter the automatically-created sites, delete the
automatically created ones first using <a class="xref fm:HeadingOnly" href="Command_SitesDelete_id6504eecf.html#id6504eecf-4c47-483c-b39c-4be2fa1c0336__Command_SitesDelete_id6504eecf.xml#id6504eecf-4c47-483c-b39c-4be2fa1c0336" title="Deletes all sites associated to fragments on the input tag set.">SITES_DELETE</a>. The constraint parameters for
this mode behaves as follows: </p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idc64cf84a-cb97-46a6-94ec-e56b03692af3"><p class="p">If this mode is enabled and <a class="xref fm:HeadingOnly" href="Command_Algorithm_idc44fdd05.html#idc44fdd05-d6fe-4273-a27e-cca19a9307b2__Command_Algorithm_idc44fdd05.xml#idc44fdd05-d6fe-4273-a27e-cca19a9307b2" title="Bypasses contour creation to improve output consistency.">algorithm</a> is explicitly specified in the
transcript, the algorithm setting will be ignored, and a warning
will be output in the transcript. </p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id0e2ac840-5e78-480d-ad51-7600901e39c7"><p class="p">The first priority is to
bound to nominal EPE, if nominal EPE limits exist (set by nominal_epe_limit).
By default, nominal EPE limits are set to very loose values.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idd7f08788-24d7-4190-a365-f4ff72f9e8e7"><p class="p">The second priority is to
make sure that the minimum CD/space across process window conditions
is obeyed (or for individual process window conditions, if min_width_pw
or min_space_pw are used). By default, there is no limit on the
CD/space. The second priority is also to obey the <a class="xref fm:HeadingOnly" href="Command_WaferEnclose_ide8fd7fd6.html#ide8fd7fd6-053c-4121-b0e8-bf37e7570640__Command_WaferEnclose_ide8fd7fd6.xml#ide8fd7fd6-053c-4121-b0e8-bf37e7570640" title="Creates a layer-based cost function to check if a shape is enclosed within an image contour.">wafer_enclose</a> or <a class="xref fm:HeadingOnly" href="Command_WaferEnclosedby_id1c3da18a.html#id1c3da18a-a383-47eb-a2e3-476b54cb656f__Command_WaferEnclosedby_id1c3da18a.xml#id1c3da18a-a383-47eb-a2e3-476b54cb656f" title="Creates a layer-based cost function to check if a shape is enclosed within a polygon on another layer.">wafer_enclosedby</a> constraints, across all process
window conditions.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id625d9d17-f06a-4782-8af3-fdb5d94ee6e8"><p class="p">Third priority is to drive
the PV band to be within the given tolerance (set by pvband_tolerance).
By default, the tolerance is zero, so the middle of the PV band
will be driven to be on the OPC target.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id95644574-b8ed-4a91-8837-570bb2cb739a"><p class="p">Fourth priority is to improve
the slope (set by min_slope) or PV band width (if specified, and
out of the specified tolerance).</p>
</li>
</ul>
<p class="p">If some constraints cannot be obeyed,
then all constraints will be violated by the same amount.</p>
<p class="p">For example, if there are two PW
conditions + nominal, and the PV band tolerance is set to 0, then
pw1_epe will be exactly equal to -pw2_epe. </p>
<p class="p">This assumes that:</p>
<p class="p">abs(nominal_epe) &lt;= max(abs(pw1_epe),
abs(pw2_epe)) </p>
<p class="p">if OPC converges properly. The
pseudo-EPE function is designed to obey the constraints as previously
stated, and optimize nominal EPE (always), image slope (if specified)
and PV band width (if specified).</p>
<p class="p">If opt_slope is specified, the
nominal EPE is only optimized if the slope exceeds the specified min_slope
and the pvband width is smaller than the specified max_pvband_width.</p>
<p class="p">Application points:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idd9552e66-ea7c-4727-bf06-bad710075032"><p class="p">By default, pvband_tolerances
are set such that the PV band is optimized to be centered around
the target. If this is not the case, the pvband_tolerance constraint
should be specified accordingly, or relaxed so it does not negatively
affect other constraints.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idccefed72-ec86-4724-8a5d-29cf2bb160e6"><p class="p">For a specific keyword in <span class="keyword ParameterName OptionalReplaceable">pvband_pwopc_options</span>,
if a fragment is specified multiple times with the same keyword
(commonly when tag sets overlap), then the last specification is
used. For example, if fragment A appears in both tag1 and tag2,
in the following command:</p>
<pre class="pre codeblock leveled"><code>OPC_ITERATION 5 -PW min_space tag1 0.030 min_space tag2 0.028 ...</code></pre><p class="p">the final min_space spec for
fragment A is 0.028.</p>
</li>
</ul>
</div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id3e97df76-f761-4377-ba6b-59884b4bfd5d"><h2 class="title Subheading sectiontitle">Retargeting
in PWOPC</h2><p class="p">Process Window OPC works using the
concept of effective EPE. This means that:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idcecd8bcc-06e0-48d7-a19a-d3249ccd608a"><p class="p">EPE is
calculated using a nominal process model (the nominal EPE).</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id12c22ca8-c47b-47df-8cb7-ec4a1df8da6e"><p class="p">Off-target
models provide additional information about process window variations.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idb10cf8a9-3452-41fa-bc8c-e355f37f966b"><p class="p">The additional
information is used to modify the nominal EPE. </p>
</li>
</ul>
<p class="p">With this in mind, there are different methods used by Calibre
nmOPC to improve accuracy and run time in determining optimal EPE
for edge movement and correction.</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idedc7fb57-2808-4c99-9fa9-e43500183a79"><p class="p"><span class="keyword ParameterName Required">Process Window Retargeting</span> —
With the PW_RETARGET function, you can translate the effective EPE
into target adjustments necessary to resolve process window violations.
PW_RETARGET was designed to provide a new adjusted target that allows you
to switch results from process window iterations and nominal iterations
(selecting the more accurate EPE result) on the new target</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id5dd58962-e47f-4589-9696-1e561fabd6ea"><p class="p"><span class="keyword ParameterName Required">Matrix Retargeting</span> —
Matrix retargeting is an evolution of process window retargeting,
using a matrix solver instead (rather than manually choosing from
PW conditions) to resolve multiple conflicting wafer constraints
for improved accuracy, visualization, and run time. In Matrix retargeting:</p>
<ul class="ul"><li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__ideaa19a86-8469-4693-92f6-1017fa658fe1"><p class="p">If matrix
retargeting is requested (for instance, -schedule), matrix retargeting
is performed and OPC_ITERATION must be in count mode. Retargeting
iteration numbering starts from, and cannot exceed the total number
of iterations in this OPC_ITERATION command. Global retargeting
control parameters are specified with the <a class="xref fm:HeadingOnly" href="Command_RetargetingOptions_id2c5e6763.html#id2c5e6763-7021-4189-a9f4-0ac2714c58f8__Command_RetargetingOptions_id2c5e6763.xml#id2c5e6763-7021-4189-a9f4-0ac2714c58f8" title="Specifies values for matrix retargeting parameters.">retargeting_options</a> command.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idbff6012e-872b-4433-9e85-38cfe1fc2e49"><p class="p">Use the following
keywords to generate marker and fragment layers: output_overconstrained
and output_violated.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id44680acb-2b1c-4ce0-9eac-6255db713e62"><p class="p">Each matrix
retargeting iteration may consume up to half of a nominal simulation.
It is recommended that you engage matrix retargeting when significant
retargeting is needed. You can use a few matrix retargeting iterations
at a later stage, to allow a few more OPC iterations to converge
to new retargeted positions.</p>
</li>
<li class="li" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id06fff424-8c5e-4931-9d1f-aea434c71f04"><p class="p">Generate incremental
retargeting shapes using <a class="xref fm:HeadingOnly" href="Command_OutputTargetControl_id4226b480.html#id4226b480-aef7-4d23-8c90-13867cb75e1b__Command_OutputTargetControl_id4226b480.xml#id4226b480-aef7-4d23-8c90-13867cb75e1b" title="Outputs shapes from a target for fragments placed under TARGET_CONTROL.">OUTPUT_TARGET_CONTROL</a> </p>
</li>
</ul>
</li>
</ul>
</div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id766dfd64-4a55-46f6-9e9a-511e595d6448"><h2 class="title Subheading sectiontitle">Tcl Results</h2><p class="p">None</p>
</div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id78d5ad9e-627a-4cd6-94b7-26b1fa30d792"><h2 class="title Subheading sectiontitle">Performance</h2><p class="p">This command invokes one or more
full tile simulations. It is best to call this function very rarely.</p>
<p class="p">Rating = very slow</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idd790f182-99d8-43fe-be2e-5f7d39aea844"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">The following example shows four
iterations:</p>
<pre class="pre codeblock leveled"><code>for {set i 0} {$i &lt; 4} {incr i} { 
	OPC_ITERATION 
    FRAGMENT_MOVE 
}  </code></pre></div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id5f1079b8-91ff-415c-88e2-9bc7c0a2ee8d"><h2 class="title Subheading sectiontitle">Example 2 </h2><p class="p">The following example is a simpler
method of iterating four times:</p>
<pre class="pre codeblock leveled"><code>OPC_ITERATION 4 </code></pre></div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id8a2a2bde-4414-4ecf-83fd-71a3faf529a5"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">The following is an example of fine-grained
control:</p>
<pre class="pre codeblock leveled"><code>OPC_ITERATION -set_epe 
NEWTAG .. .. 
FEEDBACK .. .. 
OPC_ITERATION -apply_feedback 
FRAGMENT_MOVE </code></pre></div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id2caf0057-b886-49e3-b57b-7700fbbc8489"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">The following example shows three
“nominal” iterations and four PV band iterations excluding gates:</p>
<pre class="pre codeblock leveled"><code>OPC_ITERATION 3    # only does nominal simulations in pvband_pwopc mode 
OPC_ITERATION 4 -PW exclude gates nominal_epe_limit -0.02 0.02 </code></pre></div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idafced3e7-4357-4144-8e93-a1c75f0b1ea9"><h2 class="title Subheading sectiontitle">Example 5</h2><p class="p">The following is a setup file that
uses OPC_ITERATION along with <a class="xref fm:HeadingOnly" href="Command_SrafPrintAvoidance_id7078ca75.html#id7078ca75-2c2e-4ac0-be05-e80d12b167d7__Command_SrafPrintAvoidance_id7078ca75.xml#id7078ca75-2c2e-4ac0-be05-e80d12b167d7" title="Prevents selected Sub-Resolution Assist Feature (SRAF) from printing.">sraf_print_avoidance</a> and <a class="xref fm:HeadingOnly" href="Command_PwCondition_id4a42cbf2.html#id4a42cbf2-c82a-4e7b-b173-508378c2bccd__Command_PwCondition_id4a42cbf2.xml#id4a42cbf2-c82a-4e7b-b173-508378c2bccd" title="Creates alternate image conditions for dose, focus, resist, and aerial threshold, as opposed to a nominal image.">pw_condition</a>s:</p>
<pre class="pre codeblock leveled"><code>denseopc_options DOPC { 
	... 
	background clear 
	layer TARGET      opc      atten 0.06     
	layer MBSRAF      sraf     atten 0.06     
	... </code></pre><pre class="pre codeblock leveled"><code>	pw_condition spa optical OPT dose 1.15 resist RESIST pvband spa 
	... </code></pre><pre class="pre codeblock leveled"><code>fragment_layer CONTACT_VSB_PRE { 
fragment_min 0.03 
fragment_max 0.12 
} 
	... </code></pre><pre class="pre codeblock leveled"><code>mrc_rule area sraf_layer { 
use area1 
square use area2 
} 
	... </code></pre><pre class="pre codeblock leveled"><code>sraf_sites_create 
 
#OPC iteration 
	OPC_ITERATION 5 
 
#OPC and SRAF print avoidance 
	For {set i 0} {$i &lt; 5} {incr i} { 
		OPC_ITERATION 1 
		sraf_print_avoidance -step 0.001 
	} 
 
		OPC_ITERATION 3 
} </code></pre></div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__idebd9a6f4-cf00-4160-9b73-7f058cd34697"><h2 class="title Subheading sectiontitle">Example 6</h2><p class="p">The following is an example of Matrix Retargeting (the iteration
numbering starts from 1): </p>
<pre class="pre codeblock"><code>OPC_ITERATION 6 -PW nominal_epe_limit all_frags -0.005 0.005 \ 	
	min_width all_frags 0.030 \
	min_space all_frags 0.030 \
	pvband_tolerance all_frags -0.100 0.100 \
	-schedule { pw 1 3 5 retarget 1 3 5 } \
	-output_overconstrained iter 1 overconstrained_1 \
	-output_overconstrained iter 3 overconstrained_3</code></pre></div>
<div class="section Subsection" id="id4aea4e80-a2f1-4982-9b6d-212cdb54503a__id03d486f4-283d-4088-9b0e-ffb39a4bb311"><h2 class="title Subheading sectiontitle">Example 7</h2><p class="p">The following example shows using annotated
tag sets for arguments. The annotated tag sets are constructed with <a class="xref fm:HeadingOnly" href="Command_NewtagExpression_iddb7794cd.html#iddb7794cd-4c62-4526-ace1-c9492da4a086__Command_NewtagExpression_iddb7794cd.xml#iddb7794cd-4c62-4526-ace1-c9492da4a086" title="Works with numerical properties on fragments. Can be used to annotate fragments or create new tag sets based on existing annotations.">NEWTAG expression</a>.</p>
<pre class="pre codeblock"><code>NEWTAG expression all_frags { has_tag(tag1) ? -0.010 \
	: (has_tag(tag2) ? -0.010 : -0.005) } \
	-aout nominal_epe_limit_inner_tag
NEWTAG expression all_frags { has_tag(tag1) ? 0.010 \
	: (has_tag(tag2) ? 0.010 : 0.005) } \
	-aout nominal_epe_limit_outer_tag</code></pre><pre class="pre codeblock"><code>NEWTAG expression tag1 { -0.030 } -aout pvband_tolerance_limit_inner_tag
NEWTAG expression tag1 { 0.030 } -aout pvband_tolerance_limit_outer_tag </code></pre><pre class="pre codeblock"><code>OPC_ITERATION   4 -PW  \
        nominal_epe_limit \					             property(nominal_epe_limit_inner_tag)\
             property(nominal_epe_limit_outer_tag) \
         pvband_tolerance \
             property(pvband_tolerance_limit_inner_tag):default(-0.020) \
             property(pvband_tolerance_limit_outer_tag):default(0.020) \
         min_width all_frags  0.034   \
         min_space all_frags  0.037   \
         min_space tag4 0.034 \
         min_width tag4 0.035</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "OPC_ITERATION"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_OpcIteration_id4aea4e80.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>