<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DISPLACEMENT" />
<meta name="abstract" content="Sets FROZEN/FIXED status, displacement, desired displacement, and displacement limits for all fragments in the given tag set." />
<meta name="description" content="Sets FROZEN/FIXED status, displacement, desired displacement, and displacement limits for all fragments in the given tag set." />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0ccb5e74-a087-44f4-8aed-b6efe968454e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DISPLACEMENT</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DISPLACEMENT" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DISPLACEMENT</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html#id5a1a85dc-e552-4302-871e-4aa04b8ee303__Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.xml#id5a1a85dc-e552-4302-871e-4aa04b8ee303" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></p>
<p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Concept_TaggingControls_id65a1b3bd.html#id65a1b3bd-0f9e-4004-a475-a68582f6d4f4__Concept_TaggingControls_id65a1b3bd.xml#id65a1b3bd-0f9e-4004-a475-a68582f6d4f4" title="There are a number of tagging-related commands legal for Calibre nmOPC Tcl-based custom scripting.">Tagging Controls</a></p>
<p class="shortdesc">Sets FROZEN/FIXED status, displacement,
desired displacement, and displacement limits for all fragments
in the given tag set.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"> <span class="keyword ParameterName Required">DISPLACEMENT</span> <span class="keyword ParameterName RequiredReplaceable">tag</span> [<span class="keyword ParameterName Optional">‑applyLimitIn</span> | <span class="keyword ParameterName Optional">‑applyLimitOut</span> | <span class="keyword ParameterName Optional">‑applyProperty</span>] <br />
[{<span class="keyword ParameterName Optional">‑fixedOffset</span> | <span class="keyword ParameterName Optional">‑fixedOffsetIncr</span> | <span class="keyword ParameterName Optional">‑hintOffset</span> | <span class="keyword ParameterName Optional">‑hintOffsetIncr</span>} <span class="keyword ParameterName OptionalReplaceable">val</span>]  <br />
[<span class="keyword ParameterName Optional">‑freeze</span> | <span class="keyword ParameterName Optional">‑unfreeze</span>]  [<span class="keyword ParameterName Optional">‑limit</span> {<span class="keyword ParameterName OptionalReplaceable">inner</span> <span class="keyword ParameterName OptionalReplaceable">outer</span>} | <span class="keyword ParameterName Optional">clear</span>] <br />
[<span class="keyword ParameterName Optional">‑moveLimitsFromTarget</span>]  [<span class="keyword ParameterName Optional">‑unlock</span>] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id30ed1883-1e6f-4202-addf-a332bd7040d6"><span class="keyword ParameterName RequiredReplaceable">tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
the tag set to operate upon.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__ide25030ed-f783-477d-9127-b0171026fd29"><span class="keyword ParameterName Optional">‑applyLimitIn</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the inner
displacement limit to the value annotated on <span class="keyword ParameterName RequiredReplaceable">tag</span>. The
annotation value must be &lt;=0. Positive values generate a warning,
and the inner limit is set to 0.</p>
<p class="p">This option cannot be combined with ‑applyProperty or ‑applyLimitOut.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id77a63703-f5c9-4578-ab4a-fd1b1df0362f"><span class="keyword ParameterName Optional">‑applyLimitOut</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the outer
displacement limit to the value annotated on <span class="keyword ParameterName RequiredReplaceable">tag</span>. The
annotation value must be &gt;=0. Negative values generate a warning,
and the outer limit is set to 0.</p>
<p class="p">This option cannot be combined with ‑applyProperty or ‑applyLimitIn.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id1b8cc41e-6d3b-4144-91a7-764d2f472d2d"><span class="keyword ParameterName Optional">‑applyProperty</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the desired
displacement from property annotations on the fragments in <span class="keyword ParameterName RequiredReplaceable">tag</span>.
The properties are treated as absolute bias values. </p>
<p class="p">This option cannot be combined with ‑applyLimitIn or ‑applyLimitOut.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id79795ac9-8062-4dba-87ef-c8c7f60e868a">-fixedOffset <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
the displacement to <span class="keyword ParameterName OptionalReplaceable">val</span>,
even if it violates mask constraints. The fragment is moved and
its desired displacement is set to the current (after move) displacement.</p>
<p class="p">The value of <span class="keyword ParameterName OptionalReplaceable">val</span> can
be either a floating point number or read from an annotated tag
set <span class="keyword ParameterName OptionalReplaceable">tag_fO</span> using
“property(<span class="keyword ParameterName OptionalReplaceable">tag_fO</span>)[:default(<span class="keyword ParameterName OptionalReplaceable">value</span>)]”,
for example, property(tfixedOffset) or property(tfixedOffset):default(0.0).
If using the property syntax and a fragment is not annotated, the
default value is assigned. If there is no default value, the fixed
offset is 0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id026388e5-12ab-4a4d-bd77-c7dac7785ffd">-fixedOffsetIncr <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that sets the displacement to <span class="keyword ParameterName OptionalReplaceable">current_disp</span> + <span class="keyword ParameterName OptionalReplaceable">val</span>,
even if it violates mask constraints. The fragment is moved and
its desired displacement is set to the current (after move) displacement.
As with ‑fixedOffset, <span class="keyword ParameterName OptionalReplaceable">val</span> can
be set either as a floating point number or read from an annotated
tag set using “property(<span class="keyword ParameterName OptionalReplaceable">tag_fOI</span>)[:default(<span class="keyword ParameterName OptionalReplaceable">value</span>)].”
The default is 0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id24280028-5c0f-4946-a58d-c24051b52d9e">-freeze | -unfreeze</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional arguments that allow
or disallow the fragments to be moved by FRAGMENT_MOVE or OPC_ITERATION.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Do not manually unfreeze fragments that were frozen by
commands such as sraf_print_avoidance. Some commands algorithmically
freeze sensitive fragments to preserve litho quality.</p>
</div>
<p class="p">When using ‑freeze, be sure the coordinates are in multiples
of database units. After OPC, fragments are snapped to the layout
grid and the final position may be different. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id78a24de9-75b9-4398-a39a-ae434ecd47d2">-hintOffset <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
the desired displacement to <span class="keyword ParameterName OptionalReplaceable">val. </span>The
fragment is not moved until the next call to FRAGMENT_MOVE.</p>
<p class="p">The value of <span class="keyword ParameterName OptionalReplaceable">val</span> can
be either a floating point number or read from an annotated tag
set <span class="keyword ParameterName OptionalReplaceable">tag_hO</span> using
“property(<span class="keyword ParameterName OptionalReplaceable">tag_hO</span>)[:default(<span class="keyword ParameterName OptionalReplaceable">value</span>)]”,
for example, property(thintOffset) or property(thintOffset):default(0.0).
If using the property syntax and a fragment is not annotated, the
default value is assigned. If there is no default value, the desired
displacement is set to 0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__iddb7e7e2b-d9ff-4d99-a04d-827add0b4169">-hintOffsetIncr <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that sets the desired displacement to <span class="keyword ParameterName OptionalReplaceable">current_disp</span> + <span class="keyword ParameterName OptionalReplaceable">val. </span>The
fragment is not moved until the next call to FRAGMENT_MOVE. As with
‑hintOffset, the value of <span class="keyword ParameterName OptionalReplaceable">val</span> can
be either a floating point number or read from an annotated tag
set using “property(<span class="keyword ParameterName OptionalReplaceable">tag</span>)[:default(<span class="keyword ParameterName OptionalReplaceable">value</span>)]”.
The default with the optional :default(<span class="keyword ParameterName OptionalReplaceable">value</span>)
is 0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id8504fbc1-b31b-41eb-8663-59468cf935f3">-limit <span class="keyword ParameterName OptionalReplaceable">inner</span> <span class="keyword ParameterName OptionalReplaceable">outer</span>  ‑limit clear</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that sets
limits in user units for the inner or outer displacements for all fragments
in the tag set. The inner value must be &lt;=0, and the outer value
must be &gt;=0.</p>
<p class="p">The values for <span class="keyword ParameterName OptionalReplaceable">inner</span> and <span class="keyword ParameterName OptionalReplaceable">outer</span> can
be either floating point numbers or read from an annotated tag set
using “property(<span class="keyword ParameterName OptionalReplaceable">tag</span>)[:default(<span class="keyword ParameterName OptionalReplaceable">value</span>)]”;
for example,</p>
<pre class="pre codeblock"><code>-limit property(tLimitInner):default(0) property(tLimitOuter)</code></pre><p class="p">If an input fragment is not found in the annotated
tag set, the limit is set to INT_MAX (effectively no limit) unless
a default value is provided. (In the example, tLimitInner has the custom
default 0, but any fragments not in tLimitOuter have a limit of
INT_MAX.)</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id17688c0c-7041-4d24-a48e-04c9082beee2">-moveLimitsFromTarget</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets values for
the correction layer based upon the opc layer. When ‑moveLimitsFromTarget
is specified, all other parameters except for <span class="keyword ParameterName RequiredReplaceable">tag</span> are
ignored. This keyword is relevant only to correction layers.</p>
<p class="p">For correction fragments in <span class="keyword ParameterName RequiredReplaceable">tag</span>,
displacement limits are set using displacement limits of mapped
opc fragment. If no limits are set on the opc fragment, no limits
are set on correction fragment. If the correction layer fragment
is already outside the displacement limits of the opc fragment,
no restrictions are placed on the displacements of correction fragment.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__idc94f818e-e01a-4acb-83f0-247fd29e1d46">‑unlock</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword for use in Calibre<sup>®</sup> nmBIAS™ setup
files. It unlocks fragments locked by BIASRULE … ‑lockAll.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command sets FROZEN/FIXED
status, displacement, desired displacement, and displacement limits
for all fragments in the given tag set.</p>
<p class="p">After moving, the actual displacement might differ from the desired
displacement because of various setup file commands, such as MRC
constraints (mrc_rule), max_opc_move, and so on. </p>
<p class="p">DISPLACEMENT does not conform to max_iter_movement. The max_iter_movement command
only applies to an OPC iteration-directed edge movement.</p>
<div class="section Subsection" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id3368ef6e-b42d-4dbf-8b28-10d6d6f23ba9"><h2 class="title Subheading sectiontitle">Precedence</h2><p class="p">These are the rules by which conflicting arguments are resolved:</p>
<ol class="ol"><li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id76175da0-25e3-42c7-9d09-7a10c988d439"><p class="p">‑applyProperty
and ‑moveLimitsFromTarget both cause all other optional arguments
to be ignored.</p>
</li>
<li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__idf9dbaf6f-affe-48fa-9bf0-e5c34257bf0d"><p class="p">‑limit, ‑applyLimitIn,
and ‑applyLimitOut take precedence over offsets. They are mutually
exclusive.</p>
</li>
<li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__idcebc0940-3159-4642-be0d-95ddd6be53ac"><p class="p">‑fixedOffset,
‑fixedOffsetIncr, ‑hintOffset, and ‑hintOffsetIncr are mutually
exclusive, and take precedence over -unlock, ‑freeze, and ‑unfreeze.</p>
</li>
</ol>
</div>
<p class="p">For example: </p>
<pre class="pre codeblock leveled"><code>DISPLACEMENT tag1 -freeze -fixedOffset 0.20 -limit -0.01 0.01 </code></pre><p class="p">sets the displacement to 0.01,
moves the fragment, and then freezes it. (Fragments in tag1 that are
already frozen only have their displacement set.)</p>
<p class="p">If multiple DISPLACEMENT statements attempt to set limits on
a fragment, the effect depends on <a class="xref fm:HeadingOnly" href="Command_DisplacementLimitMode_ide8784cd7.html#ide8784cd7-b738-4564-b472-59b62a186c68__Command_DisplacementLimitMode_ide8784cd7.xml#ide8784cd7-b738-4564-b472-59b62a186c68" title="Specifies whether to use the most recent or the most restrictive DISPLACEMENT setting.">displacement_limit_mode</a>. When
not set or set to LAST, the instance before the movement command
applies. When set to STRICT, the limit closest to 0 is used.</p>
<p class="p">You can get different behavior
depending on whether hintOffset or fixedOffset is called first, and
whether FRAGMENT_MOVE is called or not. The behavior of hintOffset
and fixedOffset can be described as follows:</p>
<ul class="ul"><li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id6a438b2b-c593-4e88-acae-4b0f8d7170f3"><p class="p">hintOffset just sets the
desired displacement, which only affects the next FRAGMENT_MOVE.</p>
</li>
<li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__idd1099de0-c205-47b0-a495-fc04023ac5f0"><p class="p">fixedOffset sets the desired
displacement <span class="ph FontProperty emphasis">and</span> moves
the fragment to its new location.</p>
</li>
</ul>
<p class="p">Then:</p>
<ul class="ul"><li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id0759086c-f127-452a-9217-b8957a80ae6d"><p class="p">If you specify hintOffset
followed by fixedOffset, OPC behaves as if hintOffset was not specified.</p>
</li>
<li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id24dd7822-4f99-4d73-bcf7-a9d21a6b3e57"><p class="p">If you specify fixedOffset
followed by hintOffset, OPC behaves as if hintOffset was not specified
(because hintOffset without FRAGMENT_MOVE doesn't affect the locations of
the fragments).</p>
</li>
<li class="li" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id4f756593-5e9f-4a77-aa44-aa1e991d8e89"><p class="p">If you specify fixedOffset
followed by hintOffset, then FRAGMENT_MOVE behaves as if fixedOffset
was not specified.</p>
</li>
</ul>
<div class="section Subsection" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id3e6857b6-5e6b-4651-80e0-908ff8114151"><h2 class="title Subheading sectiontitle">Property
Annotations</h2><p class="p">For ‑applyProperty, ‑applyLimitIn, and ‑applyLimitOut, it is
your responsibility to ensure the value in the property annotation
is appropriate. Because the values are computed at runtime, it is not
possible to check them when the setup file is parsed.</p>
<p class="p">Numeric annotations can be computed with NMBIAS_MEASURE_TAG and
NEWTAG expression.</p>
</div>
<div class="section Subsection" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id39af8845-1492-4055-b9f4-5cdf2175f531"><h2 class="title Subheading sectiontitle">Tcl Results</h2><p class="p">None</p>
</div>
<div class="section Subsection" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__idfb936662-03a5-49a9-85e3-1a89b2e2b75b"><h2 class="title Subheading sectiontitle">Performance</h2><p class="p">O(<span class="ph FontProperty equationvariable">N</span>),
where <span class="ph FontProperty equationvariable">N</span> is
the number of fragments in the input.</p>
<p class="p">Rating = fast</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__id38ff53d5-8d82-4368-bbb9-df625f53450a"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">The following lines freeze the tag set line_ends and perform
one iteration of OPC on all other fragments. The fragments of the
line_ends tag set are then unfrozen and have their desired displacement
increased by 0.02. </p>
<pre class="pre codeblock leveled"><code>  DISPLACEMENT line_ends -freeze 
  OPC_ITERATION 1 
  DISPLACEMENT line_ends -unfreeze -hintOffsetIncr 0.02 </code></pre></div>
<div class="section Subsection" id="id0ccb5e74-a087-44f4-8aed-b6efe968454e__iddc7227a3-d26c-471d-8e71-79974edbfb4c"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example calculates context-specific values for fragments
in the tag_short group and saves the values by creating annotated
tag sets. DISPLACEMENT reads the values in the annotated tag sets
to create variable limits for the fragments.</p>
<pre class="pre codeblock"><code>NMBIAS_MEASURE_TAG m1 -tag tag_short -overlapLayer ovl 
	 -measurement_type enclosing -dist 0.2 -aout tag_short_encl </code></pre><pre class="pre codeblock"><code>NEWTAG expression tag_short { 
    subexpression nbr_enc1 = neighbor(tag_short_encl, corner:convex, 
                                      resolution: max);
    expr(nbr_enc1) * 1.2} -aout tag_short_outer</code></pre><pre class="pre codeblock"><code>NEWTAG expression tag_short { 
    subexpression nbr_enc2 = neighbor(tag_short_encl, corner:convex, 
                                      resolution: min);
    expr(nbr_enc2) * -0.8} -aout tag_short_inner</code></pre><pre class="pre codeblock"><code>NEWTAG expression tag_short_encl { 
      property(tag_short_encl) * 0.1
    } -aout tag_short_disp</code></pre><pre class="pre codeblock"><code>DISPLACEMENT tag_short_outer -applyLimitOut
DISPLACEMENT tag_short_inner -applyLimitIn
DISPLACEMENT tag_short_disp -applyProperty
FRAGMENT_MOVE</code></pre><p class="p">Unlike the case of constant limits or offsets, each annotation-based
setting must be in a separate DISPLACEMENT call.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../calbr_rbopc_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'BIASRULE', 'calbr_rbopc_useref'); return false;">BIASRULE [Calibre Rule-Based OPC User's and Reference Manual]</a></div>
<div><a class="link" href="../topics/Command_FragmentMove_id0a7c2e0e.html" title="Moves fragments.">FRAGMENT_MOVE</a></div>
<div><a class="link" href="../topics/Command_NmbiasMeasureTag_id3bfb7273.html" title="Creates a tag set with numeric properties.">NMBIAS_MEASURE_TAG</a></div>
<div><a class="link" href="../topics/Command_NewtagExpression_iddb7794cd.html" title="Works with numerical properties on fragments. Can be used to annotate fragments or create new tag sets based on existing annotations.">NEWTAG expression</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "DISPLACEMENT"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Displacement_id0ccb5e74.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>