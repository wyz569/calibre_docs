<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="MRC_RULE (Custom Scripting Command)" />
<meta name="abstract" content="Creates external and internal spacing constraints based on tag sets." />
<meta name="description" content="Creates external and internal spacing constraints based on tag sets." />
<meta name="DC.subject" content="mrc_rule" />
<meta name="keywords" content="mrc_rule" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide7b60512-809c-4195-afa4-ded2420e894e" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>MRC_RULE (Custom Scripting Command)</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="MRC_RULE (Custom Scripting Command)" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="ide7b60512-809c-4195-afa4-ded2420e894e">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">MRC_RULE (Custom Scripting Command)</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Concept_TaggingControls_id65a1b3bd.html#id65a1b3bd-0f9e-4004-a475-a68582f6d4f4__Concept_TaggingControls_id65a1b3bd.xml#id65a1b3bd-0f9e-4004-a475-a68582f6d4f4" title="There are a number of tagging-related commands legal for Calibre nmOPC Tcl-based custom scripting.">Tagging Controls</a></p>
<p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Concept_OpcControls_ida9be3a5f.html#ida9be3a5f-c6df-434e-a36c-0a262f3c3c96__Concept_OpcControls_ida9be3a5f.xml#ida9be3a5f-c6df-434e-a36c-0a262f3c3c96" title="Several commands are also available to optimize your OPC performance.">OPC Controls</a></p>
<p class="shortdesc">Creates external and internal
spacing constraints based on tag sets.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">MRC_RULE</span> {<span class="keyword ParameterName Required">external</span> | <span class="keyword ParameterName Required">internal</span> | <span class="keyword ParameterName Required">enclosure</span>}<span class="keyword ParameterName Required"> </span><span class="keyword ParameterName RequiredReplaceable">tag1</span> [<span class="keyword ParameterName OptionalReplaceable">tag2</span>] [<span class="keyword ParameterName Optional">‑tagOnly</span>] ‘{’<br />
{<br />
[[projecting [<span class="keyword ParameterName OptionalReplaceable">dist</span>] | not_projecting [<span class="keyword ParameterName OptionalReplaceable">dist</span>]] <br />
   {<br />
   [length <span class="keyword ParameterName OptionalReplaceable">len</span>] <span class="keyword ParameterName Required">use</span> <span class="keyword ParameterName RequiredReplaceable">d1</span> <span class="keyword ParameterName RequiredReplaceable">metric</span> [<span class="keyword ParameterName Optional">source</span> <span class="keyword ParameterName OptionalReplaceable">number</span>]<br />
   }…<br />
}…</p>
<p class="lines UsageLine">‘}’</p>
<p class="lines UsageLine">The braces (<span class="keyword ParameterName Required">{}</span>) with quotation marks (<span class="keyword ParameterName Required">‘’</span>) around them are meant as literals (without the quotes).</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__id17d67ec7-a1d2-4d88-b518-15c8f9414817"><span class="keyword ParameterName Required">external</span> | <span class="keyword ParameterName Required">internal</span> | <span class="keyword ParameterName Required">enclosure</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword that specifies
the check type. These keywords allow specific mask constraint rules
to be applied to fragments specified in the tag sets. The check
types are the same used by the <a class="xref fm:HeadingOnly" href="Command_MrcRule_id31b0fb25.html#id31b0fb25-4185-4f85-8451-62d63191e795__Command_MrcRule_id31b0fb25.xml#id31b0fb25-4185-4f85-8451-62d63191e795" title="Used to create external and internal spacing constraints.">mrc_rule</a> setup file command.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__id2f1c16a9-2aa4-4caa-a646-d2bc1449ce97"><span class="keyword ParameterName RequiredReplaceable">tag1</span> [<span class="keyword ParameterName OptionalReplaceable">tag2</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
a tag set or tag sets to be used by the MRC rule. The second tag
set is optional.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__id32de9b2a-ff0d-4172-a589-1176dc028988">‑tagOnly</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that constrains the
MRC check to only those fragments that are members of the tag sets.
Jogs that grow into fragments are not checked for MRC violations.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__id0fb4be70-1ffd-44a9-a025-bd24a751b86b">projecting <span class="keyword ParameterName OptionalReplaceable">dist</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that instructs
Calibre to measure the separation between two edges only when one
edge projects onto the other edge. You can optionally specify a
projection distance limit (<span class="keyword ParameterName OptionalReplaceable">dist</span>).</p>
<p class="p">A single MRC_RULE may have multiple projecting clauses.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__id27a0db45-1027-48ff-93a7-7eb91bf6e977">not_projecting <span class="keyword ParameterName OptionalReplaceable">dist</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that instructs
Calibre to measure the separation between two edges only when neither
edge projects onto the other edge. You can optionally specify a
projection distance limit (<span class="keyword ParameterName OptionalReplaceable">dist</span>).</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Using metrics other than euclidean with not_projecting
can cause inconsistencies, as discussed in “<a class="xref fm:HeadingAndPage" href="Concept_OpcOutputConsistency_ida9f68cc7.html#ida9f68cc7-ad5b-4a4f-af5e-38f5dd1a476d__Concept_OpcOutputConsistency_ida9f68cc7.xml#ida9f68cc7-ad5b-4a4f-af5e-38f5dd1a476d" title="There can be occasions where inconsistencies in Calibre nmOPC output occur.">OPC Output Consistency</a>”. </p>
</div>
<p class="p">Only one not_projecting clause may be specified per MRC_RULE.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__idde1d0784-9fe3-48fd-bc8c-051e11c129c7"><span class="keyword ParameterName Required">use</span> <span class="keyword ParameterName RequiredReplaceable">d1</span> <span class="keyword ParameterName RequiredReplaceable">metric</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set that
specifies the minimum distance to allow for the rule. Valid distances
are &gt;= d1. The value for d1 is required and is the default value
used if none of the length-constraint rules apply (specified by
metric).</p>
<p class="p">The possible values for metric
are <span class="keyword ParameterName Required">euclidean</span>, <span class="keyword ParameterName Required">opposite</span>, <span class="keyword ParameterName Required">square</span>,
or specify an extended opposite value.</p>
<p class="p"><a class="xref fm:Figure" href="#ide7b60512-809c-4195-afa4-ded2420e894e__idb36666fa-b405-407f-9ff1-8034eaa0ebe1">Figure 1</a> shows the measurement
regions created for each of the different metrics, and the dimensions
used with each.</p>
<div class="fig fignone" id="ide7b60512-809c-4195-afa4-ded2420e894e__idb36666fa-b405-407f-9ff1-8034eaa0ebe1"><span class="figcap"><span class="fig--title-label">Figure 1. </span>The Four
Metrics for Tag-Based MRC</span><br /><div class="imagecenter"><img class="image imagecenter" height="225" src="../graphics/tcl_lapi24a.png" width="468" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__ide6ee9692-00d1-4e83-bd4a-47e03c96c8d8">length <span class="keyword ParameterName OptionalReplaceable">len</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
a length criteria, <span class="keyword ParameterName OptionalReplaceable">len</span>.
Typically, “length” keywords specified before “use” keywords indicate
that the subcheck is applied only when the length criteria is met
by the shortest of the two edges being compared.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide7b60512-809c-4195-afa4-ded2420e894e__id0f0cfe17-16c8-434c-a8c5-df6b73253323"><span class="keyword ParameterName Optional">source</span> <span class="keyword ParameterName OptionalReplaceable">number</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that marks fragments
blocked from moving by the “use” criteria. The source number is
used by TAG_MRC_SRC when creating tag sets. Set <span class="keyword ParameterName OptionalReplaceable">number</span> to
an integer from 2 to 1024, inclusive.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The MRC_RULE Tcl scripting command
block allows you to add new MRC rules to the existing layer-based
set of MRC rules (specified by the setup file command mrc_rule)
using tag sets.</p>
<p class="p">The maximum rule count for MRC_RULE
is 64.</p>
<div class="section Subsection" id="ide7b60512-809c-4195-afa4-ded2420e894e__id402dc063-bbd8-41b9-ad02-7594c28892c1"><h2 class="title Subheading sectiontitle">Tcl Results</h2><p class="p">None</p>
</div>
<div class="section Subsection" id="ide7b60512-809c-4195-afa4-ded2420e894e__id8d33730a-beb2-47dd-bf23-1eee6d0d0491"><h2 class="title Subheading sectiontitle">Performance</h2><p class="p">Very fast, but will slow down <a class="xref fm:HeadingOnly" href="Command_FragmentMove_id0a7c2e0e.html#id0a7c2e0e-57e4-4c54-acd6-e7415aff3062__Command_FragmentMove_id0a7c2e0e.xml#id0a7c2e0e-57e4-4c54-acd6-e7415aff3062" title="Moves fragments.">FRAGMENT_MOVE</a> and <a class="xref fm:HeadingOnly" href="Command_OpcIteration_id4aea4e80.html#id4aea4e80-a2f1-4982-9b6d-212cdb54503a__Command_OpcIteration_id4aea4e80.xml#id4aea4e80-a2f1-4982-9b6d-212cdb54503a" title="Instructs Calibre nmOPC to perform one or more OPC iterations.">OPC_ITERATION</a>.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="ide7b60512-809c-4195-afa4-ded2420e894e__ida9a1c501-bcad-4928-b838-e85e6af8c77d"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">This MRC_RULE checks external constraints between fragments tagged
with line_end and short_side.</p>
<pre class="pre codeblock"><code>MRC_RULE external line_end short_side {
	use 0.016 SQUARE
	projecting 0.01 use 0.018 EUCLIDEAN
	projecting 0.03 use 0.020 EUCLIDEAN
} </code></pre></div>
<div class="section Subsection" id="ide7b60512-809c-4195-afa4-ded2420e894e__id7314a71f-0cd7-40f9-bb50-26a627e8da78"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example shows using MRC_RULE …source with TAG_MRC_SRC to
identify which rule is blocking a fragment.</p>
<pre class="pre codeblock"><code>MRC_RULE internal tAll tAll {
    projecting 0.014 use 0.043 opposite source 2
    not_projecting   use 0.041 euclidean source 3
}</code></pre><pre class="pre codeblock"><code>MRC_RULE external tAll tAll {
    projection 0.014 use 0.042 opposite source 4
    not_projecting   use 0.041 euclidean source 5
}</code></pre><pre class="pre codeblock"><code>TAG_MRC_SRC tAll 1 -aout mrc_rule_src</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_MrcRule_id31b0fb25.html" title="Used to create external and internal spacing constraints.">mrc_rule</a></div>
<div><a class="link" href="../topics/Command_TAGMRCSRC_idbb63f73a.html" title="Identifies which MRC rule blocked a fragment when used in conjunction with MRC_RULE … source.">TAG_MRC_SRC</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "MRC_RULE (Custom Scripting Command)"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MrcRuleCustomScriptingCommand_ide7b60512.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>