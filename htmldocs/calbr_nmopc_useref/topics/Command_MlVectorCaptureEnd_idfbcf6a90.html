<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="ML_VECTOR_CAPTURE_END" />
<meta name="abstract" content="Marks the end of the data capture segment of the setup file used for machine learning." />
<meta name="description" content="Marks the end of the data capture segment of the setup file used for machine learning." />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>ML_VECTOR_CAPTURE_END</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="ML_VECTOR_CAPTURE_END" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">ML_VECTOR_CAPTURE_END</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html#id5a1a85dc-e552-4302-871e-4aa04b8ee303__Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.xml#id5a1a85dc-e552-4302-871e-4aa04b8ee303" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></p>
<p class="p ContextMGC">ML OPC only</p>
<p class="shortdesc">Marks the end of the data capture segment of the setup
file used for machine learning.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><h2 class="title Subheading sectiontitle">Syntax 1:</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">ML_VECTOR_CAPTURE_END</span> <span class="keyword ParameterName RequiredReplaceable">tag</span> [<span class="keyword ParameterName OptionalReplaceable">calibration_filename</span>]</p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">Syntax 2:</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">ML_VECTOR_CAPTURE_END</span> <span class="keyword ParameterName Required">‑tag</span> <span class="keyword ParameterName RequiredReplaceable">tag</span> [<span class="keyword ParameterName Optional">‑cal</span> <span class="keyword ParameterName OptionalReplaceable">calibration_filename</span>] <br />
[<span class="keyword ParameterName Optional">‑gauges</span> <span class="keyword ParameterName OptionalReplaceable">gauge_filename</span>] [<span class="keyword ParameterName Optional">‑layer</span> <span class="keyword ParameterName OptionalReplaceable">name</span>] [<span class="keyword ParameterName Optional">‑model</span> <span class="keyword ParameterName OptionalReplaceable">ml_model</span>] <br />
[<span class="keyword ParameterName Optional">‑old</span> <span class="keyword ParameterName OptionalReplaceable">calibration_filename</span> <span class="keyword ParameterName Optional">‑oldmodel</span> <span class="keyword ParameterName OptionalReplaceable">ml_model</span>] {[<span class="keyword ParameterName Optional">‑record</span>  <span class="keyword ParameterName OptionalReplaceable">values</span>]…} [<span class="keyword ParameterName Optional">‑weightTag</span> <span class="keyword ParameterName OptionalReplaceable">tag</span>] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__id4a11a408-db12-4213-81fb-ed5c61133f23"><span class="keyword ParameterName RequiredReplaceable">tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p"><span class="keyword ParameterName Required">‑tag</span> <span class="keyword ParameterName RequiredReplaceable">tag</span></p>
<p class="p">A required argument specifying the name of a tag set that identifies
the fragments to consider for calibration vectors. This should be
the same tag set supplied to ML_VECTOR_CAPTURE_INIT.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__ida8489520-25b6-490e-b341-d766a93d2a34"><span class="keyword ParameterName OptionalReplaceable">calibration_filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p"><span class="keyword ParameterName Optional">‑cal</span> <span class="keyword ParameterName OptionalReplaceable">calibration_filename</span></p>
<p class="p">An optional argument specifying a name for the calibration file.
The calibration file, also called the normalized file, is used when
training the neural network. The default name is <span class="ph filepath">calibration_vectors.csv</span>.</p>
<p class="p">If ‑old is specified, the calibration file contains the results
of both this run and the one supplied by ‑old. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__id510ba5e7-ad02-4863-bbe0-43f3ee223d6c"><span class="keyword ParameterName Optional">‑gauges</span> <span class="keyword ParameterName OptionalReplaceable">gauge_filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
that reads a gauge file and causes the run to only record values
for fragments that cross the gauges. </p>
<p class="p">This argument cannot be combined with ‑old. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__id531ef227-651f-4983-bbff-5baa668f2239">‑layer <span class="keyword ParameterName OptionalReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
name of a layer that contains the source geometry. The same layer
should be used in ML_VECTOR_CAPTURE_INIT; if not, the run exits with
an error that ML_VECTOR_CAPTURE_INIT must be specified before ML_VECTOR_CAPTURE_END. </p>
<p class="p">If ‑layer is not specified, the opc layer is used.</p>
<p class="p">When using ‑layer, the command must also supply a calibration
file name with ‑cal and an output model name with ‑model.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__id4884e06a-04a5-49d7-98f7-dc5484f65cd1"><span class="keyword ParameterName Optional">‑model</span> <span class="keyword ParameterName OptionalReplaceable">ml_model</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies a name
for the model that will be created. The default name is <span class="ph filepath">phv0.mod</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__ided56f8bd-f7b3-42d4-8b35-4cae4cddbd2c"><span class="keyword ParameterName Optional">‑old</span> <span class="keyword ParameterName OptionalReplaceable">calibration_filename</span> <span class="keyword ParameterName Optional">‑oldmodel</span> <span class="keyword ParameterName OptionalReplaceable">ml_model</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional set of arguments that includes
the results of a previous run with the current data collection.
The calibration file and model must have been created from an earlier
run of the same SVRF and OPC rules as the current run. (The runs
can use different layouts.)</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__id3a71210f-0472-48a6-a92f-48dbc0d6b96e"><span class="keyword ParameterName Optional">‑record</span> <span class="keyword ParameterName OptionalReplaceable">values</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that adds one or more
columns to the calibration file. It can be specified multiple times.</p>
<p class="p">When used with ‑old, the old calibration file must have been
created with identical ‑record settings, including <span class="keyword ParameterName OptionalReplaceable">column_name</span>.</p>
<p class="p">There are two different syntaxes for <span class="keyword ParameterName OptionalReplaceable">values</span>:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__idad3fa35c-3f6a-4410-8242-ac05e2807de6"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">column_name</span> <span class="keyword ParameterName OptionalReplaceable">tag</span> —
The keyword ‑record followed by the name for a column and the name
of the tag set from which to populate it. Only a single column name-tag
pair can be specified per ‑record keyword.</p>
</li>
<li class="li ArgOption" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__id7785b9b2-5c20-42d2-87cb-cd79df7bf4d5"><p class="p Opt">(<span class="keyword ParameterName OptionalReplaceable">column_name</span> <span class="keyword ParameterName OptionalReplaceable">tag</span> <span class="keyword ParameterName OptionalReplaceable">column_name</span> <span class="keyword ParameterName OptionalReplaceable">tag</span> ...)
— The keyword ‑record followed by parentheses enclosing a list of
column name-tag pairs. There can be any number of pairs.</p>
</li>
</ul>
<p class="p">These syntaxes can be combined. For example, any of these could
be used:</p>
<pre class="pre codeblock"><code>-record angle aTag -record angle_prev a1Tag -record angle_next a2Tag</code></pre><pre class="pre codeblock"><code>-record angle aTag -record (angle_prev a1Tag angle_next a2Tag)</code></pre><pre class="pre codeblock"><code>-record (angle aTag angle_prev a1Tag angle_next a2Tag)</code></pre><p class="p">The columns contain property values from the specified tag set.
If a fragment is not in <span class="keyword ParameterName OptionalReplaceable">tag</span>,
it receives a value of 0 in the column.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__ide814e681-c3e5-48f0-929f-be5b420002f6"><span class="keyword ParameterName Optional">‑weightTag</span> <span class="keyword ParameterName OptionalReplaceable">tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
name of a tag set that has been annotated with numeric properties
representing weights. Fragments that do not have an annotation receive
a weight of 1.0. Use <a class="xref fm:HeadingOnly" href="Command_NewtagExpression_iddb7794cd.html#iddb7794cd-4c62-4526-ace1-c9492da4a086__Command_NewtagExpression_iddb7794cd.xml#iddb7794cd-4c62-4526-ace1-c9492da4a086" title="Works with numerical properties on fragments. Can be used to annotate fragments or create new tag sets based on existing annotations.">NEWTAG expression</a> to annotate
the fragments, for example:</p>
<pre class="pre codeblock"><code>NEWTAG expression T1 {0.5} -aout weights</code></pre><p class="p">Access these values using “‑weightTag weights.”</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The <a class="xref fm:HeadingOnly" href="Command_MlVectorCaptureInit_idad1dd348.html#idad1dd348-f8d4-42e5-9927-4d88b9c5b0b1__Command_MlVectorCaptureInit_idad1dd348.xml#idad1dd348-f8d4-42e5-9927-4d88b9c5b0b1" title="Marks the beginning of the data capture segment of the setup file used for machine learning.">ML_VECTOR_CAPTURE_INIT</a> and ML_VECTOR_CAPTURE_END
commands mark the data capture region within a litho setup file
and generate a calibration file. The calibration file is used in
model training after Calibre exits.</p>
<p class="p">Syntax 1 requires that all arguments be specified in the order
given. For Syntax 2, keyword-value pairs can be specified in any
order.</p>
<p class="p">The ML_VECTOR_CAPTURE_INIT and ML_VECTOR_CAPTURE_END commands
can be specified at most once per layer. If the layer is captured
more than once, the run exits with a runtime error of “lapi_user_error:
Two objects with same key.”</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__idd878cd48-b065-492d-9066-0914ddd179d7"><h2 class="title Subheading sectiontitle">Example
1: Basic Syntax</h2><p class="p">This example shows the command to end a data capture region that
considered all fragments. The results are written to the normalized
file, <span class="ph filepath">calibration_vectors.csv</span> (not shown).</p>
<pre class="pre codeblock"><code>ML_VECTOR_CAPTURE_END allFrags</code></pre></div>
<div class="section Subsection" id="idfbcf6a90-7ad8-4c18-852f-2a663ade45c5__iddbd0ea1b-4a34-425d-a15b-b07bb122d0f5"><h2 class="title Subheading sectiontitle">Example
2: Adding Vectors to a Training Set</h2><p class="p">When you want to add features to an existing normalized file,
use the ‑old and ‑oldmodel arguments. The SVRF rule file must be
identical to the one used for creating the existing normalized file
except for the layout specification and the addition of these arguments
to the ML_VECTOR_CAPTURE_END command.</p>
<p class="p">In the following example, the existing files have been renamed <span class="ph filepath">run1_cal_vectors.csv</span> and <span class="ph filepath">run1_phv0.mod</span> as
the original ML_VECTOR_CAPTURE_END command relied on default names.
The file loaded by ml_featurevector_load remains the same.</p>
<pre class="pre codeblock"><code>modelpath models:/models/ml
ml_featurevector_load nmod nmod/phv_final.mod
...</code></pre><pre class="pre codeblock"><code>denseopc_options mx_options {
	...</code></pre><pre class="pre codeblock"><code>	ML_VECTOR_CAPTURE_INIT allFrags nmod 
	...</code></pre><pre class="pre codeblock"><code>	ML_VECTOR_CAPTURE_END -tag allFrags <span class="ph CodeHighlight Bold">-old run1_cal_vectors.csv</span> \
													<span class="ph CodeHighlight Bold">-oldmodel run1_phv0.mod</span>
	...</code></pre></div>
<p class="p">After the modified file is run, the new calibration file and
machine learning model contain the data from both the old data and
the current run. Because the output files are not specified in the ML_VECTOR_CAPTURE_END
command, they are named <span class="ph filepath">calibration_vectors.csv</span> and <span class="ph filepath">phv0.mod</span>.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../calbr_wbench_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Output Options from Gauge Objects', 'calbr_wbench_useref'); return false;">Output Options from Gauge Objects [Calibre WORKbench User's and Reference Manual]</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "ML_VECTOR_CAPTURE_END"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MlVectorCaptureEnd_idfbcf6a90.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>