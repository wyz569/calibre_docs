<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="retarget_layer" />
<meta name="abstract" content="Defines a new target layer, leaving the fragmentation on the opc layers." />
<meta name="description" content="Defines a new target layer, leaving the fragmentation on the opc layers." />
<meta name="DC.subject" content="retarget_layer, Pre-bias" />
<meta name="keywords" content="retarget_layer, Pre-bias" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="iddb554597-892f-41e4-8ee1-49b2fe48e8f7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>retarget_layer</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="retarget_layer" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">retarget_layer</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_DenseopcOptionsKeywords_idaaebd216.html#idaaebd216-5b7c-4a6b-9534-c1aa5e22e041__Contain_DenseopcOptionsKeywords_idaaebd216.xml#idaaebd216-5b7c-4a6b-9534-c1aa5e22e041" title="The OPTION opt_name argument in the setlayer denseopc command specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase-only command initialization block consisting of the following keywords, specified one per line.">denseopc_options Keywords</a></p>
<p class="shortdesc">Defines a new target layer,
leaving the fragmentation on the opc layers.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">retarget_layer </span>{[pattern <span class="keyword ParameterName OptionalReplaceable">num</span>] <span class="keyword ParameterName RequiredReplaceable">layer</span>}… [{emulate | spline} [concave_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span>] [convex_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span>]]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__idfb8977de-8461-484e-9ea9-6c46152048b8">pattern <span class="keyword ParameterName OptionalReplaceable">num</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument for multi-patterning.
Set <span class="keyword ParameterName OptionalReplaceable">num</span> to
indicate the pattern to which the following layer belongs. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id336e8678-839a-44c7-a55a-ac39af61ba2d"><span class="keyword ParameterName RequiredReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
a new target layer or layers. The default is no retarget layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id5f07fedc-bbe1-4bec-a866-a6c58ea242e2">emulate</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional flag that is used
for target smoothing in which the input retarget layer is a smooth
contour. Smooth contours can be generated by the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurve_idf3988c32.html#idf3988c32-ed69-4aab-96f6-24cb10bc61cb__Command_SetlayerCurve_idf3988c32.xml#idf3988c32-ed69-4aab-96f6-24cb10bc61cb" title="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”).">setlayer curve</a>, <a class="xref fm:HeadingOnly" href="Command_SetlayerCurveTarget_idee337e68.html#idee337e68-e674-41da-b7b6-5a46edfe3734__Command_SetlayerCurveTarget_idee337e68.xml#idee337e68-e674-41da-b7b6-5a46edfe3734" title="Creates a target that mimics the final image.">setlayer curve_target</a>, or <a class="xref fm:HeadingOnly" href="Command_TargetCurve_id631e1ae5.html#id631e1ae5-20c4-4820-b825-a63b3fbeefa8__Command_TargetCurve_id631e1ae5.xml#id631e1ae5-20c4-4820-b825-a63b3fbeefa8" title="Creates a curve from the target based on the settings and moves sites to the new curve.">target_curve</a> command. </p>
<p class="p">Emulate is similar to the spline
option, except that it allows retarget edges to differ from the original
OPC. This helps reduce ripples near corners especially at concave
corners. The setlayer curve command produces a more realistic target,
which often results in less aggressive corner correction. However,
you must still carefully tune your fragmentation and OPC recipes.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The emulate
option is particularly useful in scenarios where the spline option
incorrectly handles the retarget edges and OPC might not even converge.</p>
</div>
<p class="p">In general, retargeting should
not modify the opc layer by more than the minimum feature width
of OPC. Also, OPC will attempt to correct a retarget layer (you
will need to ensure that PV bands do not worsen because of it).
The emulate option uses a continuous angle-weighted distance function,
which means there is no limitation to degree changes.</p>
<p class="p">Because spline searches for
the nearest curve target segment the emulate option is best used where
the curve target lies significantly outside the opc target. For
example, when the curve is outside a line end, the nearest curve
target segment for spline is a segment at the corner, rather than
at the line end tip. This results in a sub-optimal site placement
slanted to the line end fragment but perpendicular to the curve
target. In this same situation, emulate considers the intersection
angle and picks the optimal segment at the line end tip for site
placement, perpendicular to the line end.</p>
<p class="p"><a class="xref fm:Figure" href="#iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id99bca7ce-2e86-412f-aa1e-9c4370098ea0">Figure 1</a> shows the effects of using retarget_layer
emulate.</p>
<div class="fig fignone" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id99bca7ce-2e86-412f-aa1e-9c4370098ea0"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Effects of retarget_layer
emulate</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/effects_retarg_fig.png" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__ided2b5edc-0d6c-49ae-8eba-997fec6afe30">spline</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional flag that is used
for target smoothing in which the input retarget layer is a smooth
contour. Smooth contours can be generated by the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurve_idf3988c32.html#idf3988c32-ed69-4aab-96f6-24cb10bc61cb__Command_SetlayerCurve_idf3988c32.xml#idf3988c32-ed69-4aab-96f6-24cb10bc61cb" title="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”).">setlayer curve</a>, <a class="xref fm:HeadingOnly" href="Command_SetlayerCurveTarget_idee337e68.html#idee337e68-e674-41da-b7b6-5a46edfe3734__Command_SetlayerCurveTarget_idee337e68.xml#idee337e68-e674-41da-b7b6-5a46edfe3734" title="Creates a target that mimics the final image.">setlayer curve_target</a>, or <a class="xref fm:HeadingOnly" href="Command_TargetCurve_id631e1ae5.html#id631e1ae5-20c4-4820-b825-a63b3fbeefa8__Command_TargetCurve_id631e1ae5.xml#id631e1ae5-20c4-4820-b825-a63b3fbeefa8" title="Creates a curve from the target based on the settings and moves sites to the new curve.">target_curve</a> command.
Spline differs from the emulate option in that it restricts retarget
edges to stay close to the original OPC edges. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id06d97e03-b6f3-4deb-baf2-4350a1574496">concave_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that uses
the distance from a concave corner specified by <span class="keyword ParameterName OptionalReplaceable">val</span> to
tag fragments as concave adjacent. The default value is 5 * frgu.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id18f61fb2-38c3-4b6a-880d-36897dcb5fd2">convex_adjacent <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that uses
the distance from a convex corner specified by <span class="keyword ParameterName OptionalReplaceable">val</span> to
tag fragments as convex adjacent. The default value is 5 * frgu.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">An optional command that defines
a new target layer (which should be a defined as a hidden layer
with the <a class="xref fm:HeadingOnly" href="Command_Layer_id4c4034c7.html#id4c4034c7-7b85-40f6-987c-1374cdaa8ca4__Command_Layer_id4c4034c7.xml#id4c4034c7-7b85-40f6-987c-1374cdaa8ca4" title="Defines layer characteristics such as name, type, transmission, and mask.">layer</a> command), but leaves the fragmentation
on the opc layers. This allows a simple implementation of a pre-bias
OPC flow.</p>
<p class="p">Retarget layers are used to separate
the target from the layer being corrected and help when the target
is unsuitable for OPC. For example, layers with many jogs from biasing
can prevent good fragmentation from occurring.</p>
<p class="p">When attempting to create a retarget
layer, note that:</p>
<ul class="ul"><li class="li" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id0b5c21e3-7f5b-470d-94cd-bd9037a718ab"><p class="p">The original layer is the
opc layer.</p>
</li>
<li class="li" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id82a20acd-8709-43a6-b203-d50b83e7e02b"><p class="p">The correction target is
the retarget layer.</p>
</li>
<li class="li" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id5c901a44-0241-4cab-aec4-5ad1c237711c"><p class="p">EPE is measured from the
image to the retarget layer.</p>
</li>
<li class="li" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id822ad6e6-8769-46ef-b091-99d55c89ce28"><p class="p">Fragments on the opc layer
are then moved based on the EPE measured from the retarget layer.</p>
</li>
</ul>
<p class="p">Typically, if retarget_layer
is not used, different metrics are used for different fragments.
For example, on line ends, EPE is determined using the numerical
max, typically the center point.</p>
<p class="p">When retarget_layer is used,
the contour of the spline is determined by averaging all EPEs on
a fragment, except for the following exceptions:</p>
<ul class="ul"><li class="li" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__idbeff08c6-3049-443d-ac22-7eebc639f971"><p class="p">For fragments near convex
corners (completely within 5*Nyquist of the corner), that are NOT
near concave corners, the numerical max is used (instead of averaging
EPEs) to converge the image to an imaginary line tangent to the
spline and parallel to the fragment.</p>
</li>
<li class="li" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__id640275c7-5f42-4d15-b149-445dd661a42d"><p class="p">For fragments near concave
corners (completely within 5*Nyquist of the corner), that are NOT
near convex corners as well, the numerical min is used to converge
image to an imaginary line tangent to the spline and parallel to
the fragment.</p>
</li>
</ul>
<p class="p"><a class="xref fm:Figure" href="#iddb554597-892f-41e4-8ee1-49b2fe48e8f7__idb0f63be3-3442-4f50-9c87-a8dbbef12cfb">Figure 2</a> and <a class="xref fm:Figure" href="#iddb554597-892f-41e4-8ee1-49b2fe48e8f7__ideaa0a33c-e6eb-48a7-b5ac-a63921b44cac">Figure 3</a> illustrate how EPE is measured to determine
how a fragment will be moved.</p>
<div class="fig fignone" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__idb0f63be3-3442-4f50-9c87-a8dbbef12cfb"><span class="figcap"><span class="fig--title-label">Figure 2. </span>EPE Measurements
at Corners (Example 1)</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/epe_meas_corn_fig1.png" /></div><br /></div>
<div class="fig fignone" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__ideaa0a33c-e6eb-48a7-b5ac-a63921b44cac"><span class="figcap"><span class="fig--title-label">Figure 3. </span>EPE Measurements
at Corners (Example 2)</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/epe_meas_corn_fig_2.png" /></div><br /></div>
<p class="p">This command cannot be used with target_curve.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__ide5342420-a35e-4a97-b06f-e2640fe31eb0"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">In this example, the original drawn
layer is the layer whose fragments move during OPC.</p>
<pre class="pre codeblock leveled"><code>layer POLY        visible ...  # original poly target
layer PREBIASED   hidden  ...  # red layer above
retarget_layer  PREBIASED</code></pre></div>
<div class="section Subsection" id="iddb554597-892f-41e4-8ee1-49b2fe48e8f7__idfa4aa65e-10df-4975-902e-01e2fce91d21"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">In this example, fragments at specified
distances from corners are tagged as concave adjacent and convex
adjacent.</p>
<pre class="pre codeblock leveled"><code>retarget_layer L1 spline concave_adjacent 0.05 convex_adjacent 0.08</code></pre><p class="p">Setting concave_adjacent and convex_adjacent is recommended so
that you control how many fragments next to the corner are adjusted
using the minimum or maximum EPE. If you do not specify these settings,
the transcript includes the warning “retarget_layer command is used without
convex/concave_adjacent options. Potentially more than one fragment
starting from a corner will use max/min as an EPE measurement metric.”</p>
<p class="p">For example, if the frgu is 0.02 um, the default values for concave_adjacent
and convex_adjacent are 0.1 um (100 nm). If corner fragmentation
is set to 0.09, 0.10, and 0.11, the first two fragments are considered
adjacent and adjusted using max EPE.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DenseopcOptionsKeywords_idaaebd216.html" title="The OPTION opt_name argument in the setlayer denseopc command specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase-only command initialization block consisting of the following keywords, specified one per line.">denseopc_options Keywords</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_TargetCurve_id631e1ae5.html" title="Creates a curve from the target based on the settings and moves sites to the new curve.">target_curve</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "retarget_layer"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_RetargetLayer_iddb554597.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>