<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="setlayer curve" />
<meta name="abstract" content="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”)." />
<meta name="description" content="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”)." />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idf3988c32-ed69-4aab-96f6-24cb10bc61cb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>setlayer curve</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="setlayer curve" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">setlayer curve</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_LithoDenseopcSetupFileCommands_id96139c4d.html#id96139c4d-c22c-4146-98fb-2fa1a83a7b10__Contain_LithoDenseopcSetupFileCommands_id96139c4d.xml#id96139c4d-c22c-4146-98fb-2fa1a83a7b10" title="The inline_file argument to LITHO DENSEOPC specifies an inline LITHO FILE parameter block containing a lowercase only command initialization block consisting of the following keywords, specified one per line.">LITHO DENSEOPC Setup File Commands</a> </p>
<p class="p ContextMGC">Subset of the setlayer command </p>
<p class="shortdesc">Generates a new layer with excess
jogs and other small 2D effects removed from the output (a “smoothing
effect”).</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">setlayer</span> <span class="keyword ParameterName RequiredReplaceable">output_layer_name</span> <span class="keyword ParameterName Required">=</span> <span class="keyword ParameterName Required">curve</span> <span class="keyword ParameterName RequiredReplaceable">input_layer_name</span> <br />
[order {linear | <span class="keyword ParameterName OptionalDefault">quadratic</span> | cubic | <span class="keyword ParameterName OptionalReplaceable">num</span>}] [cpdist <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span>] [pts_per_cp <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
[maxdist <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span>] [midpt <span class="keyword ParameterName OptionalReplaceable">midpt_value</span>] [scale1 <span class="keyword ParameterName OptionalReplaceable">value</span>] [scale2 <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[midpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>] [endpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>] [active_layer <span class="keyword ParameterName OptionalReplaceable">active_layer</span>] <br />
[jog_tol <span class="keyword ParameterName OptionalReplaceable">tol_val</span> jog_adj <span class="keyword ParameterName OptionalReplaceable">adj_val</span>] [jog_cleanup_dist <span class="keyword ParameterName OptionalReplaceable">value</span>] [jog_extra <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[output_cpts <span class="keyword ParameterName OptionalReplaceable">val</span>] [output_clean_target] <br />
[concave [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>]]  [convex [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>]] <br />
[line_end [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>] length <span class="keyword ParameterName OptionalReplaceable">value</span> ] <br />
[space_end [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>] length <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[jog [<span class="keyword ParameterName OptionalReplaceable">set_of_options</span>] length <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[new_cp <span class="keyword ParameterName OptionalReplaceable">corner1</span> <span class="keyword ParameterName OptionalReplaceable">corner2</span> length <span class="keyword ParameterName OptionalReplaceable">constraint</span> [length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span>]<br />
   offset <span class="keyword ParameterName OptionalReplaceable">value</span> [perp <span class="keyword ParameterName OptionalReplaceable">value</span>] [delete_corner] [delete_midpt]]</p>
<p class="lines UsageLine">where <span class="keyword ParameterName OptionalReplaceable">set_of_options</span> is the following set of optional arguments:<br />
[cpdist <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span>] [maxdist <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span>] [midpt <span class="keyword ParameterName OptionalReplaceable">midpt_value</span>][midpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>] [endpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idefb0f34f-f069-4aa1-a0c0-dae5f1ebe3d8"><span class="keyword ParameterName RequiredReplaceable">output_layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword specifying
the name of the new output target layer. The new layer is created
and the results of the operation are written to the layer. This
layer must be a valid Calibre layer containing polygon data.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id1981f72c-4757-45c7-8abb-7586d9f1d5f1"><span class="keyword ParameterName RequiredReplaceable">input_layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword specifying
the name of the input layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id197fb07a-6a4b-4f05-8885-562346ce2ef4">order {linear | <span class="keyword ParameterName OptionalDefault">quadratic</span> | cubic | <span class="keyword ParameterName OptionalReplaceable">num</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that specifies
the B-spline order number. You can either specify a value <span class="keyword ParameterName OptionalReplaceable">num</span> between
2 and 6, or specify linear (equivalent to a <span class="keyword ParameterName OptionalReplaceable">num</span> of
2), quadratic (3), or cubic (4). The default value is quadratic.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idf1fd4275-06cc-419d-9b0c-0c4cf09952a8">cpdist <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the distance between
additional control points inserted to the left and right of an original
polygon point. Longer distances increase rounding. The default value
is 50 nm.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id18c44481-65d8-4883-9323-b03426e4d90f">pts_per_cp <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the number of vertices
for each control point in the output. The default is 10 vertices.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idbc301d01-1528-47fb-b737-8ac4c6b029fd">maxdist <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies that the last control
point should be at exactly <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span> away
from the original polygon vertex. Though the spline curve will not
trace out the same shape as the polygon, at <span class="keyword ParameterName OptionalReplaceable">maxdist_value</span>,
the curve will touch the polygon.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id937b4bff-7c3e-4aa1-a20e-81abb5e24a41">active_layer <span class="keyword ParameterName OptionalReplaceable">active_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If the active_layer argument
is specified, the output produces control points that overlap between
the specified input layer and <span class="keyword ParameterName OptionalReplaceable">active_layer</span>.
This is implemented by making sure that no additional control points
are placed within the <span class="keyword ParameterName OptionalReplaceable">active_layer</span>. </p>
<p class="p">The effect of this option is
to force the output edge to conform to the drawn gate edge while still
over the active layer before flaring out at the 90 degree polygon
bend. This squares out any 90 degree turns in poly or metal layers
that lie near an active region, minimizing any gate flare effect.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idba76b6d7-8025-42a0-998b-2376cbf9f407">midpt <span class="keyword ParameterName OptionalReplaceable">midpt_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies how many additional
control points to add in the middle of a notch or nub that would
have had no additional control points otherwise.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idb413bc92-773f-4974-931b-d9f0c3d850b4">scale1 <span class="keyword ParameterName OptionalReplaceable">value</span>  scale2 <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If an adjacent edge is a notch
or nub and is smaller than <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span> *
scale1, control points on adjacent edges are put at a <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span> *
scale2 distance instead of the <span class="keyword ParameterName OptionalReplaceable">cpdist_value</span>. This
is done for better curvature control for various line widths. Both
scale1 and scale2 default to 1 if undeclared.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id8baba75a-e1d1-47fa-a2d9-32c9b46ee3cc">midpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">All control points created by
the midpt parameter (in the middle of line ends and space ends) are
moved to increase the curvature. Line-end control points move towards
the outside of the polygon. Space-end control points move towards
the inside of the polygon. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id84939b2b-ab88-403f-8392-594c36c4cc53">endpt_offset <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">All control points situated
at the polygon’s corners are moved to increase the curvature (towards
the outside of the polygon for convex corners and towards the inside
of the polygon for concave corners).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idcb31bd9e-6f3d-48fe-865b-1f80231631d0">jog_tol <span class="keyword ParameterName OptionalReplaceable">tol_val</span> jog_adj <span class="keyword ParameterName OptionalReplaceable">adj_val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">When specified, this option
will ignore all jogs less than or equal to <span class="keyword ParameterName OptionalReplaceable">tol_val</span> that
have neighbor edges smaller or equal to <span class="keyword ParameterName OptionalReplaceable">adj_val</span>.
This is to prevent small jogs from affecting the results of target
smoothing prior to OPC.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id889c760a-4dcf-4b2f-a519-22a7ce6d1119">jog_cleanup_dist <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">In the first stage of generating
a spline, target jogs are removed according to the jog removal parameters
jog_tol and jog_adj. </p>
<p class="p">If a value for jog_cleanup_dist
is set:</p>
<ul class="ul"><li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idde656779-d3df-43f5-862f-29f858e0f953"><p class="p">Edges with their length &lt;=
jog_tol and with at least one neighbor with length &lt;= jog_adj
(if jog_adj is present), and with both neighbors’ lengths &gt; jog_tol,
and parallel to each other, are classified as jogs.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__ideec1bd37-2aae-4645-8631-3ccb2b661b3e"><p class="p">Edges classified as jogs are
removed.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id35624bd2-385c-4755-a91b-367e1e37bf5d"><p class="p">Unconnected edges (which are
parallel by definition) are shortened by up to jog_cleanup_dist
then connected by a line.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">This algorithm
has a finite interaction distance, thus will cause no hierarchical differences.</p>
</div>
</li>
</ul>
<p class="p">If jog_cleanup_dist is not specified,
setlayer curve defaults to 0.5 microns (the maximum value possible).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id4ad26565-a905-4604-a5fe-d71d20a508ab">jog_extra <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies to generate
additional control points when edges are longer than jog_adj <span class="keyword ParameterName OptionalReplaceable">adj_val</span>.
The control point is inserted <span class="keyword ParameterName OptionalReplaceable">value</span> from
the jog along the edge.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idf511bf4d-8bc2-4a08-8345-fbeb967935d9">output_cpts <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
squares with a half-width equal to the <span class="keyword ParameterName OptionalReplaceable">val</span> are
output instead of the actual curve. The squares represent the curve's
control points. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__ide081406d-3894-40db-a18e-c2d25ada3724">output_clean_target</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the “clean” (after jog removal) target is output instead of the spline.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id155d60d2-213e-482f-bfa3-96334155169f">concave</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the global values set by the previous arguments are overridden in
the case of concave corners.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id25c3fb17-5f53-43e4-adf4-929328c40ddc">convex</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are set for convex corners.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idf4642aec-c053-4c5d-a7c0-a878ea316ac9">line_end</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are set to line ends.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id026b0bae-dd93-4611-b6e1-091c0161100a">space_end</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are arranged for space ends.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id6a7be08e-6db9-433f-b533-1fc53c732956">jog</dt>
<dd class="dd ArgumentDescription"><p class="p">If this parameter is present,
the control points are set for jogs.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id7425d244-dfa4-4906-97cc-d36fa4dfe9b0">length <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument (required
if line_end, space_end, or jog are used) that specifies the fragment
length of the feature.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If concave,
convex, line_end, space_end, and jog are not used, or if they are
not fully defined, then the values used will be the values set by
the original keywords. If those values are not set, then the default
values are used. </p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id3351aa95-21ec-43fe-9f8b-8eff8c20d407">new_cp <span class="keyword ParameterName OptionalReplaceable">corner1</span> <span class="keyword ParameterName OptionalReplaceable">corner2</span> length <span class="keyword ParameterName OptionalReplaceable">constraint</span> [length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] offset <span class="keyword ParameterName OptionalReplaceable">value</span> [perp <span class="keyword ParameterName OptionalReplaceable">value</span>] [delete_corner] [delete_midpt]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
when to manually add new control points. When a point could be added
by either new_cp or jog_extra, the one from new_cp is inserted.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idd0e0e044-3af1-418a-ac90-642734ce6e81"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">corner1</span> <span class="keyword ParameterName OptionalReplaceable">corner2</span> length <span class="keyword ParameterName OptionalReplaceable">constraint</span> —
Specifies the edge to receive the control point. The corners may
be “convex,” “concave,” “noncorner,” or “any.” Noncorner refers
to the shallow corners inserted near jogs when jog_tol is specified.
If jog_tol is not set, no corners match noncorner.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idb5b3e702-4f0e-442b-9d3b-9f84791d64e1"><p class="p Opt">length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span> —
An optional constraint that applies to the preceding edge.</p>
</li>
<li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id84b5cb37-7ef2-4b04-aa81-acffb2ae7d7c"><p class="p Opt">length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span> —
an optional constraint that applies to the edge after <span class="keyword ParameterName OptionalReplaceable">corner2</span>.</p>
</li>
</ul>
<p class="p">The length constraints are in microns.</p>
<p class="p">If the edge specification is symmetric (for example, new_cp convex
convex length…) two control points are inserted, because it matches
both corners.</p>
</li>
<li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id19016a40-e190-4b66-9457-fb0078e4f025"><p class="p Opt">offset <span class="keyword ParameterName OptionalReplaceable">value</span> [perp <span class="keyword ParameterName OptionalReplaceable">value</span>]
— Specifies where to place the new control point. The offset value
must be between ‑1.0 and 1.0, inclusive, measured inward along the
edge from <span class="keyword ParameterName OptionalReplaceable">corner1</span>.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id68aec2f6-a7aa-435a-a62e-69dbca8d0ca5"><p class="p Opt">perp <span class="keyword ParameterName OptionalReplaceable">value</span> —
An optional perpendicular offset. Positive values move the control point
outward from the polygon. Specifying “offset 0.05 perp -0.05” will
offset the control point 50 nm away from the first corner and 50
nm into the polygon’s region.</p>
</li>
</ul>
</li>
<li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id23c2b5dc-9f62-4fd3-9184-30763b77aca0"><p class="p Opt">delete_corner
— An optional argument to new_cp that removes an old corner control point
to prevent interference with the new control point.</p>
</li>
<li class="li ArgOption" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idba78d877-6101-46b4-bce7-562637ef0b35"><p class="p Opt">delete_midpt
— An optional argument to new_cp that removes an old midpoint control point
to prevent interference with the new control point.</p>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The setlayer curve command allows
you to create a “smoothed” target based on the original target.
The smoothed target allows you to prevent overcorrection on 2D effects
and jogs.</p>
<p class="p">The setlayer curve command implements
the curve using a series of B-splines. B-splines are also known
as basis splines, a spline function with minimal support with respect
to a given degree, smoothness, and domain partition. Spline functions
of a given degree, smoothness, and domain partition can be represented
as a linear combination of B-splines of that same degree and smoothness
over that same partition.</p>
<p class="p">This command generates a spline
or spline-derived output in the following sequence:</p>
<ol class="ol"><li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idcc1cfff8-b867-4020-a344-2ab6b4ed6526"><p class="p">Target jogs are removed according
to the jog removal parameters jog_tol and jog_adj. The results are
affected by whether or not you set a value for jog_cleanup_dist.
If jog_tol and jog_adj are not set, all line segments are considered
edges.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id3ba3b5bc-7824-4bc8-abba-ca6cff39222b"><p class="p">Spline control points are generated
according to the following parameters: order, cpdist, pts_per_cp,
maxdist, midpt, scale1, scale2, midpt_offset, endpt_offset, active_layer, jog_extra,
and new_cp. Control points are derived from existing polygon vertices; additional
points are added before and after corners. At least one point is
added in the center of short segments.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id606dadfb-576b-4551-9795-8349d3353a4f"><p class="p">The output is generated according
to the control points and the following parameters: pts_per_cp,
output_clean_target, output_cpts.</p>
</li>
</ol>
<p class="p">The general process of target smoothing
involves the following steps:</p>
<ol class="ol"><li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idaa4be1b6-2815-42d5-b684-2e09ed9b1ec7"><p class="p">Create a smoothed target using
the setlayer curve command.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id8ec7ea5d-830b-4536-8bb5-90e1119a7c80"><p class="p">Run OPC, passing the smoothed
target as a re-target layer.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idaaef8c95-9fd4-4ac8-84be-107487faa43a"><p class="p">Use the retarget_layer emulate
option.</p>
</li>
</ol>
<p class="p">More specifically, you can do the
following:</p>
<ol class="ol"><li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idb162c552-e473-45a9-8b26-776574646cf8"><p class="p">Try to obtain the OPC results
without using the smoothed target.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id34b6d3e9-4e01-4b34-9f9e-7b3cfe761586"><p class="p">Use post-OPC simulation contour
to estimate the amount of residual corner rounding.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id91712ed6-0b09-4057-bda3-17e1e476fb58"><p class="p">Adjust curve parameters to match
the existing contour.</p>
</li>
<li class="li" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id43814982-ad78-4543-bbab-74d8857e8dab"><p class="p">When done, compare OPC results
with and without smoothed input. The results should show improved
OPC, though some fragment length adjustment may help.</p>
</li>
</ol>
<p class="p">Recommended settings for the setlayer
curve command can be found in the “<a class="xref fm:HeadingOnly" href="MGCChap_CalibreNmopcBestPractices_id7a4ea55b.html#id7a4ea55b-5155-43bc-8d9a-c182df586f16__MGCChap_CalibreNmopcBestPractices_id7a4ea55b.xml#id7a4ea55b-5155-43bc-8d9a-c182df586f16" title="There are a number best practices available when using Calibre nmOPC to correct distortions on a mask input layer introduced by optical and resist processes.">Calibre nmOPC Best Practices</a>” chapter.</p>
<div class="section Subsection" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id1c5f8273-dc79-4e70-8dae-e233ea9c0b7b"><h2 class="title Subheading sectiontitle">Warnings</h2><p class="p">If pts_per_cp is set to a value
higher than 5, the following warning appears in the transcript:</p>
<pre class="pre codeblock leveled"><code>"setlayer curve": Using a pts_per_cp value larger than 5 can cause unnecessary slowdown in curve and subsequent ops</code></pre></div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idb1c229db-c037-4bb9-b9a8-d7e86e59e323"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">The following example creates a smoothed
target layer:</p>
<pre class="pre codeblock leveled"><code>setlayer CURVE1 = curve pc_layer order 5 cpdist 0.07 maxdist 0.12 </code></pre></div>
<div class="section Subsection" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__idb792ff70-0471-4dac-ae23-7c54456c2b5e"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">The following example filters out
any jogs less than 2 nm with neighboring fragments less than 50
nm:</p>
<pre class="pre codeblock leveled"><code>setlayer smooth = curve target order 6 cpdist 0.070 pts_per_cp 4\
maxdist 0.050 midpt 3 scale1 1.25 scale2 0.7 endpt_offset -0.00\ 
jog_tol 0.002 jog_adj 0.050</code></pre></div>
<div class="section Subsection" id="idf3988c32-ed69-4aab-96f6-24cb10bc61cb__id5034e049-fb42-4db6-ba99-c359aa5641d1"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">This new_cp argument inserts a control point along an edge that
is longer than 250 nm with a convex corner on one side formed with
an edge less than 15 nm (length1), and a concave corner on the other
side formed with an edge also less than 15 nm (length2). The new
control point is placed 10 nm from the convex corner.</p>
<pre class="pre codeblock"><code>new_cp convex concave length &gt; 0.250 length1 &lt; 0.015 length2 &lt; 0.015 \
		 offset 0.010</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_LithoDenseopcSetupFileCommands_id96139c4d.html" title="The inline_file argument to LITHO DENSEOPC specifies an inline LITHO FILE parameter block containing a lowercase only command initialization block consisting of the following keywords, specified one per line.">LITHO DENSEOPC Setup File Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Contain_OptimizeResultsFromSetlayerCurve_id9401f1fc.html" title="The setlayer curve command allows you to create a “smoothed” target based on the original target. The smoothed target allows you to prevent overcorrection on 2D and jogs. The setlayer curve command implements a B-spline, and control points are derived from existing polygon vertices.">Optimize Results From setlayer curve</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "setlayer curve"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_SetlayerCurve_idf3988c32.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>