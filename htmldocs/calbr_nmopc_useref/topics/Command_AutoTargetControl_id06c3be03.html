<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="auto_target_control" />
<meta name="abstract" content="Automatic target control used to adjust a small four-point polygon for convergence." />
<meta name="description" content="Automatic target control used to adjust a small four-point polygon for convergence." />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id06c3be03-c45a-45c3-995d-cb9f90c461b4" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>auto_target_control</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="auto_target_control" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">auto_target_control</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">
      <a class="xref fm:HeadingOnly" href="Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html#id5a1a85dc-e552-4302-871e-4aa04b8ee303__Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.xml#id5a1a85dc-e552-4302-871e-4aa04b8ee303" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a>
    </p>
<p class="p ContextMGC">
      <a class="xref fm:HeadingOnly" href="Concept_TargetModification_id20badec1.html#id20badec1-9539-4fe2-9dfe-2ca0be0a191d__Concept_TargetModification_id20badec1.xml#id20badec1-9539-4fe2-9dfe-2ca0be0a191d" title="Several target function commands are also available to assign fragments in tag sets to particular functions and bind them to function slots.">Target Modification</a>
    </p>
<p class="shortdesc">Automatic target control used
to adjust a small four-point polygon for convergence.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"> <span class="keyword ParameterName Required">auto_target_control</span> [tag_in <span class="keyword ParameterName OptionalReplaceable">tag</span>] [max_image_factor <span class="keyword ParameterName OptionalReplaceable">max_image_factor</span>] <br />
[min_image_factor <span class="keyword ParameterName OptionalReplaceable">min_image_factor</span>] [limit <span class="keyword ParameterName OptionalReplaceable">inward_limits outward_limits</span>] <br />
[limit_tag <span class="keyword ParameterName OptionalReplaceable">tag_name</span> <span class="keyword ParameterName OptionalReplaceable">inward_limits</span> <span class="keyword ParameterName OptionalReplaceable">outward_limits</span>]...<br />
[limit_delta_cd <span class="keyword ParameterName OptionalReplaceable">inward_limits</span> <span class="keyword ParameterName OptionalReplaceable">outward_limits</span>]... [exclude <span class="keyword ParameterName OptionalReplaceable">tag_name</span>] <br />
[min_space <span class="keyword ParameterName OptionalReplaceable">bridging_distance</span>] [enclosing_layer <span class="keyword ParameterName OptionalReplaceable">layer_name</span> [enclosed_by <span class="keyword ParameterName OptionalReplaceable">distance</span>]] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__idc7462844-0cd2-42de-81d1-8f7347fae2d0">tag_in <span class="keyword ParameterName OptionalReplaceable">tag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword to take
an input tag set. If specified, the auto target control process will
be applied only to polygons with fragments that are members of this
tag set. Otherwise, all four-point simple polygons are considered.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__idf4ac36af-71f3-43c4-a04d-6e019168438c">max_image_factor <span class="keyword ParameterName OptionalReplaceable">max_image_factor</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that defines
a floating number. If the difference between the aspect ratio of
the target and the aspect ratio of the image is greater than <span class="keyword ParameterName OptionalReplaceable">max_image_factor</span>,
no auto_target_control is applied to the polygon. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id0d710911-f125-4103-9388-6000dffa8a4d">min_image_factor <span class="keyword ParameterName OptionalReplaceable">min_image_factor</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that defines
a floating number. If the difference between the aspect ratio of
the target and the aspect ratio of image is smaller than <span class="keyword ParameterName OptionalReplaceable">max_image_factor</span>,
no auto_target_control is applied to the polygon. One recommendation
is if the aspect ratio and current image ratio are close enough
(smaller than specified <span class="keyword ParameterName OptionalReplaceable">min_image_factor</span>),
you do not need to perform retargeting.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id7eacc336-2f23-4e15-a189-1659d23a1759">limit <span class="keyword ParameterName OptionalReplaceable">inward_limits</span> <span class="keyword ParameterName OptionalReplaceable">outward_limits</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword that specifies
the default retarget limits (in microns). Both <span class="keyword ParameterName OptionalReplaceable">inward_limits</span> and <span class="keyword ParameterName OptionalReplaceable">outward_limits</span> should
be positive or zero. The <span class="keyword ParameterName OptionalReplaceable">inward_limits</span> parameter
specifies the maximum distance a fragment can shrink and <span class="keyword ParameterName OptionalReplaceable">outward_limits</span> specifies
the maximum distance a fragment can be extended.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id06b081e4-9b22-4c4b-89b0-2ef53f18fba7">limit_tag <span class="keyword ParameterName OptionalReplaceable">tag_name inward_limits outward_limits</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that takes
a tag set and retargets limits (in microns). It restricts the movement
and re-targeting of fragments in the specified tags set to the specified
limits. The maximum number of limit_tags you can specify is 16.
If a fragment is a member of multiple tag sets, the most restricted
one is used. For example, if you have the following:</p>
<pre class="pre codeblock leveled"><code>limit_tag tag1 0.002 0.003 
limit_tag tag2 0.001 0.005 
 </code></pre><p class="p">if fragment 1 is a member of
both tag1 and tag2, the actual move limit for the fragment is 0.001
(in) and 0.003 (out).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id60b0fb62-f574-4240-9080-23c7fdb0a376">limit_delta_cd <span class="keyword ParameterName OptionalReplaceable">inward_limits</span> <span class="keyword ParameterName OptionalReplaceable">outward_limits</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
CD limits (in microns) on inward and outward fragment movement.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__ide0b4a508-b43a-4381-b2f7-20d19211c40d">exclude <span class="keyword ParameterName OptionalReplaceable">tag_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
a tag set to be excluded from all modification on the target, including
the ratio-calculation and trimming for the purpose of bridge avoidance.
If the polygon contains any fragment that is member of the exclude-defined
tag set, the polygon is not processed. If a fragment is a member
of both the tag_in tag set and the exclude tag set, the exclude
tag set wins.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id0b35749f-3877-40f4-bdf9-a47df9a764dc">min_space <span class="keyword ParameterName OptionalReplaceable">bridging_distance</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that defines
a minimum space (in microns) for the purpose of bridge avoidance. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id6266489a-9d53-40a7-a9c9-b98adbfc7cfd">enclosing_layer <span class="keyword ParameterName OptionalReplaceable">layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that defines
a safety zone layer. An existing layer name should be provided as
the safety zone layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id06c3be03-c45a-45c3-995d-cb9f90c461b4__id061a7ebb-36e2-4c2d-977e-716c0592edb2">enclosed_by <span class="keyword ParameterName OptionalReplaceable">distance</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword, only valid
when enclosing_layer is declared, that specifies the “enclosed by”
spacing. Target control is offset inside from the safety zone layer
by this value (only positive or zero is allowed). If not specified,
zero is the default value.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This is an automatic target control
used to adjust a small four-point polygon with an image that may
be very difficult to converge. If there is no other tag set and
max_image_factor and min_image_factor are specified, only four-point
polygons with edges containing no more than two fragments in the
tag set are processed. </p>
<p class="p">Use the min_space keyword to avoid
bridging issues.</p>
<p class="p">The auto_target_control command
checks the retargeting for all applied polygons and trims the edges
if a bridge is found. The back edge is then adjusted to compensate
for the trimming if there is enough space. This command can be called
with max_image_factor (and min_image_factor) in a loop with <a class="xref fm:HeadingOnly" href="Command_OpcIteration_id4aea4e80.html#id4aea4e80-a2f1-4982-9b6d-212cdb54503a__Command_OpcIteration_id4aea4e80.xml#id4aea4e80-a2f1-4982-9b6d-212cdb54503a" title="Instructs Calibre nmOPC to perform one or more OPC iterations.">OPC_ITERATION</a> after auto_target_control.
This should be followed by a final call to auto_target_control without
max_image_factor declared to retarget all of the problematic polygons.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock leveled"><code> 
# OPC_ITERATION loop with auto target control  
for { set i 0 } { $i &lt; 5 } { incr i} { 
	OPC_ITERATION -simulate_sites -set_epe 
	OPC_ITERATION -apply_feedback 
	FRAGMENT_MOVE 
# retarget qualified polygons 
	auto_target_control max_image_factor 0.15 limit 0 0.000 \ 
		limit_tag tag_in0 0 0.000 \ 
		limit_tag tag_in1 0 0.002 \ 
	  	limit_tag tag_in2 0 0.003 \ 
		limit_tag tag_in3 0 0.003 \ 
	  	limit_tag tag_iso 0  0.004 \ 
	 	min_space 0.030 enclosing_layer SAFE_ZONE_LYR \ 
		enclosed_by 0.011  
         
        
# Delete all sites and create new sites 
		SITES_DELETE all 
		SITES_CREATE frag_1S -conservative -ignore_jogs 0.020 \ 
			-numx 9 -spacing 0.005 
		SITES_CREATE frag_mS -multi -numx 9 -spacing 0.005 
	 	SITES_CREATE CONTACT_NEAR_POLY -bylayer SAFE_ZONE_LYR \ 
		-type WAFER_ENCLOSEDBY -numx 9 -spacing 0.005 -offset -0.011 
} 
 
# Retarget all polygons that didn't get retargeted in last few iterations 
	auto_target_control limit 0 0.000 limit_tag tag_in_0 0 0.000  \ 
		limit_tag tag_in1 0 0.002 l\ 
		limit_tag tag_in2 0 0.003 \ 
		limit_tag tag_in3 0 0.003 \ 
		limit_tag tag_iso 0  0.004    \ 
		min_space 0.030 enclosing_layer SAFE_ZONE_LYR \ 
		enclosed_by 0.011	 
</code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "auto_target_control"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_AutoTargetControl_id06c3be03.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>