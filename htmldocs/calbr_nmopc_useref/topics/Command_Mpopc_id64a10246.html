<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="mpopc" />
<meta name="abstract" content="Adds special measurement sites to account for multi-patterning issues." />
<meta name="description" content="Adds special measurement sites to account for multi-patterning issues." />
<meta name="DC.subject" content="mpopc" />
<meta name="keywords" content="mpopc" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>mpopc</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="mpopc" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">mpopc</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_DenseopcOptionsKeywords_idaaebd216.html#idaaebd216-5b7c-4a6b-9534-c1aa5e22e041__Contain_DenseopcOptionsKeywords_idaaebd216.xml#idaaebd216-5b7c-4a6b-9534-c1aa5e22e041" title="The OPTION opt_name argument in the setlayer denseopc command specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase-only command initialization block consisting of the following keywords, specified one per line.">denseopc_options Keywords</a></p>
<p class="shortdesc">Adds special measurement sites
to account for multi-patterning issues.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">mpopc</span> [filter_layer <span class="keyword ParameterName OptionalReplaceable">layer_name</span> | filter_tag <span class="keyword ParameterName OptionalReplaceable">tag_name</span>] <span class="keyword ParameterName Required">criticalDistance</span> <span class="keyword ParameterName RequiredReplaceable">val</span> <br />
 [minOverlay <span class="keyword ParameterName OptionalReplaceable">val</span>] [maxLineEndWidth <span class="keyword ParameterName OptionalReplaceable">val</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__idb1631c8e-9300-4c1e-9625-5e50698582aa">filter_layer <span class="keyword ParameterName OptionalReplaceable">layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that specifies a layer
to be used as filter: only proper fragments touching this layer
will be used in processing. All fragments are used by default (no filtering).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__id6dfa8360-516b-443a-9c62-8dcb65973fc4">filter_tag <span class="keyword ParameterName OptionalReplaceable">tag_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that specifies a tag
to be used as a filter. Only fragments from this tag set are used
in processing. All fragments are used by default (no filtering).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__id278ed3cd-0f4a-4935-a790-d5720d0ede00"><span class="keyword ParameterName Required">criticalDistance</span> <span class="keyword ParameterName RequiredReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required parameter that defines
the size of the minimum feature to be resolved.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__id00f3fcb1-8483-42d6-b405-e74e56265e89">minOverlay <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that specifies
that the contour overlay across process window conditions should
be at least the specified value. This parameter should match the
value of min_overlay used in the <a class="xref fm:HeadingOnly" href="Command_OpcIteration_id4aea4e80.html#id4aea4e80-a2f1-4982-9b6d-212cdb54503a__Command_OpcIteration_id4aea4e80.xml#id4aea4e80-a2f1-4982-9b6d-212cdb54503a" title="Instructs Calibre nmOPC to perform one or more OPC iterations.">OPC_ITERATION</a> call. The default is 2*criticalDistance.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Overlay
gauges or any attempt to conform to min_overlay only applies to
rectangular overlaps or stitches. You should be careful when performing
pre-OPC biasing to avoid creating non-rectangular overlaps or stitches.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__idbbf3478f-187a-4b60-8e69-70b56f798dc2">maxLineEndWidth <span class="keyword ParameterName OptionalReplaceable">val</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter that directs
Calibre mpOPC to attempt to put special gauges on line ends that
are smaller than maxLineEndWidth. Line ends and edges that are larger
than maxLineEndWidth are ignored. The default is 2*criticalDistance.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The mpopc command adds special
measurement sites to account for mask-to-mask issues such as mask
bridging or insufficient overlapping for stitching.</p>
<div class="section Subsection" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__id14f9d207-739a-413c-8e9b-392af151a529"><h2 class="title Subheading sectiontitle">Layer Definitions</h2><p class="p">In a Calibre nmOPC setup file,
create Calibre nmOPC input layers. Calibre mpOPC inputs are the
decomposed mask layers defined using the <a class="xref fm:HeadingOnly" href="Command_Layer_id4c4034c7.html#id4c4034c7-7b85-40f6-987c-1374cdaa8ca4__Command_Layer_id4c4034c7.xml#id4c4034c7-7b85-40f6-987c-1374cdaa8ca4" title="Defines layer characteristics such as name, type, transmission, and mask.">layer</a> command with the “pattern” keyword.
The pattern keyword defines to which mask a certain layer belongs.
For example:</p>
<pre class="pre codeblock leveled"><code>layer mask0 opc 							clear pattern 0 
layer sraf0 visible 							clear pattern 0 
layer mask1 opc 							clear pattern 1 
layer sraf1 visible 							clear pattern 1 </code></pre><p class="p">Note that there are two defined
OPC layers.</p>
</div>
<div class="section Subsection" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__id53d103eb-166d-4224-a6ca-a04506fa7f98"><h2 class="title Subheading sectiontitle">Required Dense Options
Commands</h2><p class="p">Calibre mpOPC requires the use
of retarget layers and process window OPC (PWOPC). Retarget (curve)
layers for both masks can be defined as shown in the following example:</p>
<pre class="pre codeblock leveled"><code>retarget_layer pattern 0 curve_0 pattern 1 curve_1 spline </code></pre><p class="p">Curve layers can be generated
in the Calibre OPCverify section of the setup file using the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurveTarget_idee337e68.html#idee337e68-e674-41da-b7b6-5a46edfe3734__Command_SetlayerCurveTarget_idee337e68.xml#idee337e68-e674-41da-b7b6-5a46edfe3734" title="Creates a target that mimics the final image.">setlayer curve_target</a> command.</p>
<p class="p">You will also be required to
use <a class="xref fm:HeadingOnly" href="Command_OpcIteration_id4aea4e80.html#id4aea4e80-a2f1-4982-9b6d-212cdb54503a__Command_OpcIteration_id4aea4e80.xml#id4aea4e80-a2f1-4982-9b6d-212cdb54503a" title="Instructs Calibre nmOPC to perform one or more OPC iterations.">OPC_ITERATION</a> in PWOPC mode (-PW option). This
is required in order to use the min_overlay option:</p>
<pre class="pre codeblock"><code>OPC_ITERATION <span class="keyword ParameterName OptionalReplaceable">val</span> -PW min_overlay <span class="keyword ParameterName OptionalReplaceable">min_overlay_tag</span> <span class="keyword ParameterName OptionalReplaceable">overlay</span></code></pre><p class="p">For example:</p>
<pre class="pre codeblock leveled"><code>OPC_ITERATION 20 -PW min_overlay all 0.055  </code></pre><p class="p">Best practices for Calibre nmOPC
are available in “<a class="xref fm:HeadingAndPage" href="Concept_SimplifyingCalibreMpopcSetupFile_id34c58fe7.html#id34c58fe7-7878-45fd-8b6b-bac2538b4ced__Concept_SimplifyingCalibreMpopcSetupFile_id34c58fe7.xml#id34c58fe7-7878-45fd-8b6b-bac2538b4ced" title="Calibre mpOPC is used for double and multi-pattern mask correction. This is implemented in a standard Calibre nmOPC setup file using the mpopc command. Double- and triple-patterning significantly increases the complexity of the setup file because you are required to define fragmentation and MRC constraints for every pattern. Often, the fragmentation and constraints are the same for every pattern, but they are still explicitly defined for each combination of patterns.">Simplifying a Calibre mpOPC Setup File</a>”.</p>
</div>
<div class="section Subsection" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__id786e274b-446d-471f-9780-b292f1f88284"><h2 class="title Subheading sectiontitle">Verification</h2><p class="p">The different masks in multi-patterning
do not affect each other in the printing process. You can safely
print each mask separately and “OR” the resulting images together
using setlayer commands to get the final wafer image. For example:</p>
<pre class="pre codeblock leveled"><code>setlayer Img0 = image optical opt background dark \
		layer opc_0 clear resist_model res_model 
setlayer Img1 = image optical opt background dark \
		layer opc_1 clear resist_model res_model 
setlayer finalImg = OR Img0 Img1 </code></pre></div>
<div class="section Subsection" id="id64a10246-5e3b-4512-bc7f-fe50ae1a2ceb__ide3be226a-5961-4712-9ee8-820e005ac85d"><h2 class="title Subheading sectiontitle">Calibre mpOPC and
SRAF Operations</h2><p class="p">Commands related to SRAF operations
in Calibre nmOPC work the same way as all other correction calls
(such as nominal, PWOPC, and so on). You do not need to explicitly
specify each sraf layer. For example, the following call to sraf_print_avoidance
is valid in Calibre mpOPC.</p>
<pre class="pre codeblock leveled"><code>sraf_sites_create 
... 
	for { set i 1 } {$i &lt;= 6 } {incr i } { 
		OPC_ITERATION 1 
		sraf_print_avoidance -step 0.002 -pw sraf_PA 0.225 
	} </code></pre></div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">The following shows a complete and annotated Calibre mpOPC setup
file:</p>
<pre class="pre codeblock leveled"><code>litho file mpOPC_setup [ 
 
########### Model Definitions ##################### 
	modelpath ./models 
	optical_model_load nom nom 
	resist_model_load res res.mod 
	optical_model_load fp50 fp50 
	optical_model_load fn50 fn50 
	background clear </code></pre><pre class="pre codeblock leveled"><code>########### Layer Definitions ##################### 
 
	 
	layer mask0				hidden				dark  
	layer sraf0				visible			 	dark	 
	layer mask1				hidden				dark  
	layer sraf1				visible			 	dark	 </code></pre><pre class="pre codeblock leveled"><code>########### OPCverify Definitions ##################### 
 
		tilemicrons 25 
		progress_meter on 
		mask_sample_grid rsm 
 
	denseopc_options mpOPC { 
		version 1 
	 	background 	 				clear 
	 	layer mask0 					opc	 			dark <span class="keyword ParameterName Required">pattern</span> 0  
	 	layer sraf0 					visible				dark <span class="keyword ParameterName Required">pattern</span> 0  
		layer mask1 					opc	 			dark <span class="keyword ParameterName Required">pattern</span> 1  
	 	layer sraf1 					visible 				dark <span class="keyword ParameterName Required">pattern</span> 1  </code></pre><pre class="pre codeblock leveled"><code>########### Note the use of the “pattern” keywords ##### 
 
		layer curve0 					hidden	 			dark 
		layer curve1 					hidden	 			dark </code></pre><pre class="pre codeblock leveled"><code>########### Nominal &amp; Process Window Settings ########## 
	   image optical nom resist res 
			pw_condition inner optical fp50 dose 0.95 pvband 
			pw_condition outer optical nom  dose 1.05 pvband 
			max_iterations 0 </code></pre><pre class="pre codeblock leveled"><code>################### OPC Parameters ################## 
	   algorithm 2
			pwopc_mode 1 
			opc_grid_multiplier on 
			mrc_mode 1 
			epe_spacing 0.005 
			jog_ignore_metric 0.005 
			jog_freeze 0.005 </code></pre><pre class="pre codeblock leveled"><code>################### Fragmentation ################## 
	   fragment_min 0.03 
	   fragment_max 0.2 
	   fragment_layer_order full 
	   line_end_fragment off 
	 
	   fragment_layer mask0 { 
		fragment_corner convex concave length &lt; 0.09 0.03 
		fragment_corner convex concave length &gt;= 0.09 0.04 breakinhalf 
		fragment_inter -interdistance 0.15 -ripplelen 0.030 -num 2 \ 
			-shield 2 -distancePriority 1 -split 1 -skipcorners  
		fragment_max 0.2 
      	   } 
	   fragment_layer mask1 { 
		fragment_corner convex concave length &lt; 0.09 0.03 
		fragment_corner convex concave length &gt;= 0.09 0.04 breakinhalf 
		fragment_inter -interdistance 0.15 -ripplelen 0.030 -num 2 \ 
			-shield 2 -distancePriority 1 -split 1 -skipcorners  
		fragment_max 0.2 
      	   } </code></pre><pre class="pre codeblock leveled"><code>################### MRC Rules ################## 
		mrc_rule internal mask0 mask0 { 
				use 0.015 euclidean 
				} 
	 	mrc_rule external mask0 mask0 { 
			use 0.015 euclidean 
				} 
	 	mrc_rule external mask0 sraf0 { 
				use 0.015 euclidean 
				} 
		mrc_rule internal mask1 mask1 { 
					use 0.015 euclidean 
					} 
	   mrc_rule external mask1 mask1 { 
					use 0.015 euclidean 
					} 
	   mrc_rule external mask1 sraf1 { 
					use 0.015 euclidean 
					}</code></pre><pre class="pre codeblock leveled"><code>################## Retarget Layers ################## 
	 	retarget_layer pattern 0 curve0 pattern 1 curve1 emulate </code></pre><pre class="pre codeblock leveled"><code>################### Feedback and Tags ################## 
 	 	feedback -0.3 -0.2 -0.2 -0.2 -0.15 -0.15 -0.15 -0.1 -0.1 -0.2 
 	 	NEWTAG all mask0 -out target0_all_frag 
 	 	NEWTAG all mask1 -out target1_all_frag 
 	 	TAG or target0_all_frag target1_all_frag -out all  </code></pre><pre class="pre codeblock leveled"><code>####################### mpopc command ######################## 
<span class="ph CodeHighlight Bold">	 	mpopc criticalDistance 0.04 minOverlay 0.060 maxLineEndWidth 0.07</span> </code></pre><pre class="pre codeblock leveled"><code>######### Specify OPC_ITERATION in -PW mode ########### 
	 	OPC_ITERATION 10 -PW min_space all 0.020 \ 
	 		min_width all 0.036 \ 
	 		min_overlay all 0.060 \ 
	} </code></pre><pre class="pre codeblock leveled"><code>################# Curve Target Creation ################ 
 
setlayer curve0 = curve_target mask0 criticalDistance 0.042 
setlayer curve1 = curve_target mask1 criticalDistance 0.042 
 
setlayer opc_0 = denseopc mask0 sraf0 mask1 sraf1 curve0 curve1 \
	MAP mask0 OPTIONS mpOPC 
setlayer opc_1 = denseopc mask0 sraf0 mask1 sraf1 curve0 curve1 \
	MAP mask1 OPTIONS mpOPC </code></pre><pre class="pre codeblock leveled"><code>############ Simple Verification Setup  ############### 
 
setlayer Image_0  = image optical nom background clear layer mask0 \
	dark layer sraf0 dark resist_model res 
setlayer Image_1  = image optical nom background clear layer mask1 dark\
	layer sraf1 dark resist_model res 
setlayer finalImg = or Image_0 Image_1 
] </code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DenseopcOptionsKeywords_idaaebd216.html" title="The OPTION opt_name argument in the setlayer denseopc command specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase-only command initialization block consisting of the following keywords, specified one per line.">denseopc_options Keywords</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "mpopc"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Mpopc_id64a10246.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>