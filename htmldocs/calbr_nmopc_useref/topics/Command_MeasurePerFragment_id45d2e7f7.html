<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="MEASURE_PER_FRAGMENT" />
<meta name="abstract" content="Measures against all the fragments in the search range." />
<meta name="description" content="Measures against all the fragments in the search range." />
<meta name="DC.subject" content="MEASURE_PER_FRAGMENT" />
<meta name="keywords" content="MEASURE_PER_FRAGMENT" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id45d2e7f7-a674-4735-8f06-8749cde8009f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>MEASURE_PER_FRAGMENT</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="MEASURE_PER_FRAGMENT" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id45d2e7f7-a674-4735-8f06-8749cde8009f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">MEASURE_PER_FRAGMENT</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html#id5a1a85dc-e552-4302-871e-4aa04b8ee303__Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.xml#id5a1a85dc-e552-4302-871e-4aa04b8ee303" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a> </p>
<p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Concept_MeasurementControls_id5151ceef.html#id5151ceef-85fb-4388-b937-05556e912d2e__Concept_MeasurementControls_id5151ceef.xml#id5151ceef-85fb-4388-b937-05556e912d2e" title="Create custom measurements for fragment length, distances, EPE, and CD using the Tcl commands.">Measurement Controls</a> </p>
<p class="shortdesc">Measures against all the fragments
in the search range.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">MEASURE_PER_FRAGMENT</span> <span class="keyword ParameterName RequiredReplaceable">op from_frag toLayer metric</span> <span class="keyword ParameterName Required">max</span> <span class="keyword ParameterName RequiredReplaceable">maxsearch</span> [-moved] <br />
[-record <span class="keyword ParameterName OptionalReplaceable">mode</span>] <span class="keyword ParameterName Required">-out_d</span> <span class="keyword ParameterName RequiredReplaceable">meas</span> [-out_id <span class="keyword ParameterName OptionalReplaceable">frag_index</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id23a33150-aa53-40b7-801e-2a19a23a8f4e"><span class="keyword ParameterName RequiredReplaceable">op</span><span class="keyword ParameterName Required"></span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies a type of operation:
internal, external, enclose, or enclosing.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__idc8820a5c-8827-4e1d-87f2-323881bb08b7"><span class="keyword ParameterName RequiredReplaceable">from_frag</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the fragment ID of
the “from” layer to measure from.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__idf3764417-fd81-4416-a561-f4ade0dae0d8"><span class="keyword ParameterName RequiredReplaceable">toLayer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the layer to measure
to.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__idae9d052b-282f-4742-a002-9fc75ed74551"><span class="keyword ParameterName RequiredReplaceable">metric</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies a measurement metric:
opposite, euclidean, or opposite extended value.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id40113a78-fd60-4313-aec2-d5ee9e60e29b"><span class="keyword ParameterName Required">max </span><span class="keyword ParameterName RequiredReplaceable">maxsearch</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies the maximum search
distance in user units.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id72a8bf8b-89f2-48c4-be85-1822552514c8">-moved</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional flag that measures
to/from the moved fragments.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id62805a1d-8aa7-4062-8815-a165213e39e1">-record <span class="keyword ParameterName OptionalReplaceable">mode</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional directive that directs
the system to record all comparable edges in the “from” layer within <span class="keyword ParameterName RequiredReplaceable">maxsearch</span> from <span class="keyword ParameterName RequiredReplaceable">from_frag</span>.
The <span class="keyword ParameterName OptionalReplaceable">mode</span> keyword
is a string to specify the record mode as follows: </p>
<ul class="ul"><li class="li" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__iddd180b2f-8239-4ebf-b28b-f143f856a889"><p class="p">no: No recording of the edges
is performed (default). </p>
</li>
<li class="li" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id6009da3f-37b2-4fa6-9ffd-2c57d6f07f79"><p class="p">sort_xy: Recording is performed
and the resultant edges are sorted based on the coordinates.</p>
</li>
<li class="li" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id2544fd27-3f6a-4d46-ac40-1661ab5e52cf"><p class="p">sort_dist: Recording is performed
and the resultant edges are sorted based on the distance from <span class="keyword ParameterName RequiredReplaceable">from_frag.</span></p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id22078626-8631-4a7b-bc0b-7bb3b7dcf32e"><span class="keyword ParameterName Required">-out_d </span><span class="keyword ParameterName RequiredReplaceable">meas</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An output variable containing
the closest distance measurement in user units. A distance &lt;
0 means no measurement is found.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id00b92517-f29d-4e0a-a12f-25724dd8a169">-out_id <span class="keyword ParameterName OptionalReplaceable">frag_index</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional output variable
containing the fragment id to which the distance is calculated.
If the output fragment is &lt; 0, it indicates no “to” fragment
was found.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command calculates distance
from the specified fragment to the specified input layer according
to the measurement type, which can be internal, external, enclose,
or enclosing.   The MEASURE_PER_FRAGMENT command shares the same
measurement method as that of MEASURE, and the measurement is performed
exactly the same way as a result. However, if you would like to
measure distances between all fragments in the “from” layer and
“to” layer, it is recommended that you use <a class="xref fm:HeadingOnly" href="Command_Measure_idc26e832d.html#idc26e832d-f9ae-4250-8254-4cc538fd1540__Command_Measure_idc26e832d.xml#idc26e832d-f9ae-4250-8254-4cc538fd1540" title="Measures distances from fragments on one layer to the nearest fragments on another layer.">MEASURE</a>. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">This
command can only be used within a <a class="xref fm:HeadingOnly" href="Command_LapiExecTcl_id06333de5.html#id06333de5-1372-4367-bbdc-db6ad8bade71__Command_LapiExecTcl_id06333de5.xml#id06333de5-1372-4367-bbdc-db6ad8bade71" title="Enables tagging commands not accepted in the tag scripting section (formerly the &lt;script&gt;...&lt;endscript&gt; method).">lapi_exec_tcl</a> script block.</p>
</div>
<p class="p">This command focuses on the measurement
between the specified single fragment and all fragments of the “to”
layer. It also has an option to record all comparable edges of the
“to” layer within the maximum search distance from the specified
fragment. The number of such comparable edges can be enormous even
for just one fragment’s measurement, depending on the search distance,
and whether or not the information on the comparable edges is stored internally.</p>
<p class="p">The user can review the comparable
edge information through</p>
<ul class="ul"><li class="li" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__id4096267f-87b8-484f-9f0e-bdb9bff5ee38"><p class="p"><a class="xref fm:HeadingOnly" href="Command_MeasurePerFragmentQueryFirst_id8c15671a.html#id8c15671a-15ec-44f7-a58d-3da2c5a82f64__Command_MeasurePerFragmentQueryFirst_id8c15671a.xml#id8c15671a-15ec-44f7-a58d-3da2c5a82f64" title="Initiates a query to retrieve fragment edges.">MEASURE_PER_FRAGMENT_QUERY_FIRST</a></p>
</li>
<li class="li" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__idc184ac9f-6d36-47a9-99db-148e980f7424"><p class="p"><a class="xref fm:HeadingOnly" href="Command_MeasurePerFragmentQueryNext_idda86f1db.html#idda86f1db-54cb-4974-a516-6522b520fbff__Command_MeasurePerFragmentQueryNext_idda86f1db.xml#idda86f1db-54cb-4974-a516-6522b520fbff" title="Queries data from subsequent fragment edges.">MEASURE_PER_FRAGMENT_QUERY_NEXT</a></p>
</li>
<li class="li" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__idea3c5754-980b-4fee-b97f-0a5e9a0d7a54"><p class="p"><a class="xref fm:HeadingOnly" href="Command_MeasurePerFragmentQueryCount_id6016153d.html#id6016153d-c10f-46a7-9984-b3f495d664ae__Command_MeasurePerFragmentQueryCount_id6016153d.xml#id6016153d-c10f-46a7-9984-b3f495d664ae" title="Returns number of retrievable fragment edges.">MEASURE_PER_FRAGMENT_QUERY_COUNT</a></p>
</li>
</ul>
<p class="p">Shielding does not apply to those
recorded edges. The system simply records all edges that have the
right spatial relationship with the specified fragment (for example,
if the external side of an edge is facing the external side of the
specified fragment within the search range, then the edge is comparable).</p>
<div class="section Subsection" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__ida6fb8ecf-d0b8-4510-b4bd-06b479305aaf"><h2 class="title Subheading sectiontitle">Tcl Results</h2><p class="p">None</p>
</div>
<div class="section Subsection" id="id45d2e7f7-a674-4735-8f06-8749cde8009f__ide1aa6264-ce06-465b-821c-a575ee057927"><h2 class="title Subheading sectiontitle">Performance</h2><p class="p">The function focuses on the single
fragment measurement, and it would be faster than running LAPI_MEASURE
and filtering out all information other than the particular single
fragment. However, if all fragments are to be measured between the
“from” layer and the “to” layer,   it would be faster to use LAPI_MEASURE
than to run LAPI_MEASURE_PER_FRAGMENT for each individual fragment.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock leveled"><code>NEWTAG topological inside_edge target marker -out tin   
for { set C [FRAGMENT_ITERATOR first tin -out fragid]} { $C != 0}  
{set C [FRAGMENT_ITERATOR next tin -out fragid]}  
{    MEASURE_PER_FRAGMENT external $fragid target euclidean max 0.64 \ 
		-moved -record sort_dist -out_d meas -out_id frag_index    
     set count [MEASURE_PER_FRAGMENT_QUERY_COUNT target]  
if { 0 &gt;= $count } { continue }    
for { set EC [MEASURE_PER_FRAGMENT_QUERY_FIRST target -out_d \ 
		meas -out_id frag_index -out_pt pt_array] } { 0 != $EC }  
{ set EC [MEASURE_PER_FRAGMENT_QUERY_NEXT target -out_d \ 
		meas -out_id frag_index -out_pt pt_array] } {  
# do something here using $meas, $frag_index, $pt_array(x1), 
# $pt_array(y1), $pt_array(x2), $pt_array(y2)    
} } 
 </code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibreNmopcTclScriptingCommands_id5a1a85dc.html" title="Tcl-based custom scripting commands can be used within a denseopc_options scripting block.">Calibre nmOPC Tcl Scripting Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "MEASURE_PER_FRAGMENT"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MeasurePerFragment_id45d2e7f7.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>