<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Smooth Biased Target Layers" />
<meta name="abstract" content="You can smooth biasing on target layers in Calibre nmOPC in the setup file." />
<meta name="description" content="You can smooth biasing on target layers in Calibre nmOPC in the setup file." />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id424f4508-121c-4cd6-ba29-931c92d8603a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Smooth Biased Target Layers</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Smooth Biased Target Layers" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id424f4508-121c-4cd6-ba29-931c92d8603a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Smooth Biased Target Layers</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">You can smooth
biasing on target layers in Calibre nmOPC in the setup file.</span>
</div>
<div class="fig fignone" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id0e8c85e4-8f7f-4636-ab3f-ac18c3516f0d"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Smooth Biasing on the Target
Layer</span><pre class="pre codeblock"><code>denseopc_options options {
	version 1
	algorithm 2 </code></pre><pre class="pre codeblock"><code>	background atten 0.06
	layer poly opc clear
	layer smoothed hidden clear</code></pre><pre class="pre codeblock"><code>	max_iterations 12
	scale 1.2
	image optical f0 aerial 0.23</code></pre><pre class="pre codeblock"><code>	<span class="ph CodeHighlight Bold"># Copies the opc layer and creates a new target layer</span>
	retarget_layer smoothed emulate 
}</code></pre><pre class="pre codeblock"><code><span class="ph CodeHighlight Bold"># The target layer is "smoothed" to remove small overcorrections
# in biasing.</span> 
setlayer smoothed = curve poly order 6 cpdist 0.036 \
			midpt 1 pts_per_cp 10 maxdist 0.06 scale1 2.0 scale2 0.5 \
			endpt_offset 0.01 midpt_offset 0</code></pre><pre class="pre codeblock"><code>setlayer cpts = curve poly order 6 cpdist 0.036 \
			midpt 1 pts_per_cp 10 maxdist 0.06 scale1 2.0 scale2 0.5 \
			endpt_offset 0.01 midpt_offset 0 output_cpts 0.001</code></pre></div>
<p class="p">Biasing operations can occasionally introduce
many small irregularities (such as excess jogs or overcorrection)
that degrade the overall shapes, preventing clean fragmentation
and making the target layer unsuitable for OPC.</p>
<p class="p">To correct this, use the <a class="xref fm:HeadingOnly" href="Command_RetargetLayer_iddb554597.html#iddb554597-892f-41e4-8ee1-49b2fe48e8f7__Command_RetargetLayer_iddb554597.xml#iddb554597-892f-41e4-8ee1-49b2fe48e8f7" title="Defines a new target layer, leaving the fragmentation on the opc layers.">retarget_layer</a> command to separate the target
from the layer being corrected. The opc layer is copied to a retarget
layer and “smoothed.” The original layer is now the opc layer, and
the correction target is the “retarget layer.” In this case, EPE
is measured from the image to the retarget layer, then the fragments
on the OPC layer are moved accordingly. Fragments on the retarget
layer cannot be moved because smoothed or rounded corners cannot
be corrected.</p>
<p class="p">There are three basic approaches to deal with
biasing issues:</p>
<ul class="ul"><li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__iddb32ba1a-9c91-495b-bc61-b0314c9c75f2"><p class="p">Correct a layer with small jogs, then
pass in the original layer (a pre-biased layer) before biasing it
as an OPC layer, using the layer with jogs as a retarget layer.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id1b64a317-7fdc-454f-be1a-9be075ee3c50"><p class="p">Use a smoothed target.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id358c8cdb-d96c-4e19-bbed-d8efeb8f28d3"><p class="p">Smooth the jogs and the retarget layer.</p>
</li>
</ul>
<p class="p">The smoothing process on the retarget layer
represents a more physical target, reducing the dependency on corner
fragment length. It also reduces overcorrection at corners that
results in “ringing” in the image.</p>
<p class="p">Smoothed layers can be generated
using the <a class="xref fm:HeadingOnly" href="Command_SetlayerCurve_idf3988c32.html#idf3988c32-ed69-4aab-96f6-24cb10bc61cb__Command_SetlayerCurve_idf3988c32.xml#idf3988c32-ed69-4aab-96f6-24cb10bc61cb" title="Generates a new layer with excess jogs and other small 2D effects removed from the output (a “smoothing effect”).">setlayer curve</a>, <a class="xref fm:HeadingOnly" href="Command_SetlayerCurveTarget_idee337e68.html#idee337e68-e674-41da-b7b6-5a46edfe3734__Command_SetlayerCurveTarget_idee337e68.xml#idee337e68-e674-41da-b7b6-5a46edfe3734" title="Creates a target that mimics the final image.">setlayer curve_target</a>, or <a class="xref fm:HeadingOnly" href="Command_TargetCurve_id631e1ae5.html#id631e1ae5-20c4-4820-b825-a63b3fbeefa8__Command_TargetCurve_id631e1ae5.xml#id631e1ae5-20c4-4820-b825-a63b3fbeefa8" title="Creates a curve from the target based on the settings and moves sites to the new curve.">target_curve</a> commands. The smoothed layers are passed to dense OPC as
retarget layers. </p>
<p class="p">The setlayer curve command implements
a b-spline, and control points are derived from existing polygon
vertices. Additional points are added before and after corners and
at least one point is added in the center of short segments.</p>
<p class="p">The setlayer curve_target command has simpler
controls than setlayer curve, and can produce comparable results.
The target_curve command is similar to setlayer curve_target, but
allows tag-based overrides of global settings.</p>
<p class="p">A general process for smoothing layers can
be described as:</p>
<ol class="ol"><li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id987a2e40-b9d0-4eba-a5b6-dfd842f209a5"><p class="p">Get reasonably good OPC results without using
smooth target.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__idb1ebb4f7-0340-4d57-9af7-2ca30c6e6835"><p class="p">Use post OPC simulation contour to estimate
the amount of residual corner rounding.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id29ed8917-1734-4296-a701-d1bc640946ed"><p class="p">Adjust curve parameters to match existing
contour.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__ide25fb66f-18a9-4afe-a7aa-d4ceccb8781c"><p class="p">When done, compare OPC results with and without
smoothed input.</p>
<ol class="ol" type="a"><li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id5e9857f0-9596-4f83-8541-d63e894d98aa"><p class="p">Results should show improved OPC.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id27bc5f42-b1b7-4e48-ad7a-ad59740f07df"><p class="p">Some fragment length adjustment may help.</p>
<div class="fig fignone" id="id424f4508-121c-4cd6-ba29-931c92d8603a__ide0e38894-a273-4e87-9124-47020781cf8c"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Retargeting the Input Layer</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/retarget1.jpg" /></div><br /></div>
<div class="fig fignone" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id52295d92-e02e-4b88-ad8c-fea0b14d8c4a"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Smoothed Target Layer</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/smoothed_target_layer_fig.jpg" /></div><br /></div>
</li>
</ol>
</li>
</ol>
<p class="p">A smoothed target can be used for EPE measurement
against the contour(s), with the following notes:</p>
<ul class="ul"><li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__idd28ee2dd-bad2-4515-af1c-12d2bd44860c"><p class="p">EPE measurements are made orthogonal
to the smooth target.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id88689502-b66b-4f65-857c-e1d8abcaae16"><p class="p">Convex and line end fragments still use
the maximum EPE.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__idc571fcb3-bc44-424d-9b19-14d1a985601d"><p class="p">Concave corners use the minimum EPE.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id2e83d9e9-8fb9-4612-98a2-f855ea09ab97"><p class="p">Corner fragments are within 5*frgu of
a corner.</p>
</li>
<li class="li" id="id424f4508-121c-4cd6-ba29-931c92d8603a__id3b61b73f-5caa-49f8-8f13-ae0b64c8f130"><p class="p">If the recipe specifies a large value
for scale and manual fragmentation, some secondary fragments might
use max or min.</p>
</li>
</ul>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_OptionalSetupFileOperations_id9c17a478.html" title="There are a number of additional optional operations that can be performed from the Calibre nmOPC setup file.">Optional Setup File Operations</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "Smooth Biased Target Layers"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_SmoothBiasedTargetLayers_id424f4508.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>