<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="fragment_corner" />
<meta name="abstract" content="Fragmentation control: Used for fragmentation at corners." />
<meta name="description" content="Fragmentation control: Used for fragmentation at corners." />
<meta name="DC.subject" content="fragment_corner" />
<meta name="keywords" content="fragment_corner" />
<meta name="prodname" content="Calibre nmOPC User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmopc_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="None" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® nmOPC™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="NONE" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="YES" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id76fc8c2c-3d94-4119-9915-04e7860ffcfb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>fragment_corner</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="fragment_corner" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,doc.type.documentation.ref,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">fragment_corner</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_DenseopcOptionsKeywords_idaaebd216.html#idaaebd216-5b7c-4a6b-9534-c1aa5e22e041__Contain_DenseopcOptionsKeywords_idaaebd216.xml#idaaebd216-5b7c-4a6b-9534-c1aa5e22e041" title="The OPTION opt_name argument in the setlayer denseopc command specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase-only command initialization block consisting of the following keywords, specified one per line.">denseopc_options Keywords</a></p>
<p class="shortdesc">Fragmentation control: Used
for fragmentation at corners.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">fragment_corner </span><span class="keyword ParameterName RequiredReplaceable">edge_spec</span><span class="keyword ParameterName Required"> </span>[fragment] <span class="keyword ParameterName RequiredReplaceable">rule</span> [corner2 [fragment] <span class="keyword ParameterName OptionalReplaceable">rule</span>] <br />
[{breakinhalf | alwaysbreakinhalf} [enforce]] [allowzero] [<span class="keyword ParameterName Optional">source</span> <span class="keyword ParameterName OptionalReplaceable">N</span>]</p>
<p class="lines UsageLine">where:</p>
<p class="lines UsageLine"><span class="keyword ParameterName RequiredReplaceable">edge_spec</span> = {<span class="keyword ParameterName RequiredReplaceable">corner_type</span> [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>] [<span class="keyword ParameterName OptionalReplaceable">corner_type</span>_next [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>]]}<br />
[<span class="keyword ParameterName OptionalReplaceable">corner_type</span> [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>] [<span class="keyword ParameterName OptionalReplaceable">corner_type</span>_next [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>]]] [length <span class="keyword ParameterName OptionalReplaceable">constraint</span>] <br />
[length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length1_next <span class="keyword ParameterName OptionalReplaceable">constraint</span>] <br />
[length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length2_next <span class="keyword ParameterName OptionalReplaceable">constraint</span>]<br />
[jog_tol <span class="keyword ParameterName OptionalReplaceable">distance</span>]</p>
<p class="lines UsageLine"><span class="keyword ParameterName RequiredReplaceable">corner_type</span> = {<span class="keyword ParameterName Required">concave</span> | <span class="keyword ParameterName Required">convex</span> | <span class="keyword ParameterName Required">any</span>}</p>
<p class="lines UsageLine"><span class="keyword ParameterName OptionalReplaceable">corner_subtype</span> = {end_adjacent | non_end_adjacent | angle_90 | angle_non90}</p>
<p class="lines UsageLine"><span class="keyword ParameterName RequiredReplaceable">rule</span> = [split <span class="keyword ParameterName OptionalReplaceable">n</span> [force]] | <br />
[<span class="keyword ParameterName OptionalReplaceable">len1…lenN </span>  [priority] [rem <span class="keyword ParameterName OptionalReplaceable">r</span>]] [applyratio] [{allowtrim | alwaysallowtrim} <span class="keyword ParameterName OptionalReplaceable">amount</span>]  <br />
[repeat <span class="keyword ParameterName OptionalReplaceable">length</span> [<span class="keyword ParameterName OptionalReplaceable">max_length</span>] [force]] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><p class="p"><span class="ph FontProperty HeadingLabel">Top Level Arguments</span></p>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id5cef3ae4-58dd-482e-981f-b48c82bbb158">fragment </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that can
be used to separate the fragmentation rule from the edge specification.
You can also use this option with the length1/length2 keywords so
that the length value is separated from the fragmentation values.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idbba2d81b-33a9-4f15-9714-7bfc54da49e4">corner2</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that can
only be used if there are two corners defined, and the definitions
are unambiguously different. (For example, concave convex or concave angle_90
concave angle_non90.) </p>
<p class="p">If corner2 is specified, it
must be followed by a fragmentation rule for the second endpoint.</p>
<p class="p">In cases where a single-corner rule and a two-corner rule both
apply to a corner, the two-corner rule is used.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id19ce33fe-9ff5-406d-8dca-bb9a6e1ff424">{breakinhalf | alwaysbreakinhalf} [enforce]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that splits
the middle fragment of edges in half when ripples (<span class="keyword ParameterName OptionalReplaceable">len1</span>…<span class="keyword ParameterName OptionalReplaceable">lenN</span> or
“repeat <span class="keyword ParameterName OptionalReplaceable">length</span>”)
are specified. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idbea9dab9-ee02-405e-84ea-5e52c2b79273"><p class="p Opt">breakinhalf
— When the ripples cannot all be placed due to constraints, this
option breaks the middle fragment in half provided both halves are
greater than fragment_min.</p>
</li>
<li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idcc4a1e97-63af-4f14-8296-9c9b898eeb20"><p class="p Opt">alwaysbreakinhalf
— No matter how many ripples are placed, this option breaks the middle
fragment in half provided both halves are greater than fragment_min.</p>
</li>
</ul>
<p class="p">By default, the halves of the
split fragment must be greater than fragment_min; <span class="ph FontProperty emphasis">breakinhalf and alwaysbreakinhalf do not enforce the rem value of the rule</span>.
If you need to have the rem value enforced over the fragment_min
value, use the enforce option.</p>
<p class="p">If enforce is not specified,
splitting only occurs if it does not cause the remaining fragments to
be smaller than the fragment_layer’s fragment_min value. See “<a class="xref fm:HeadingOnly" href="#id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id8378cebe-171b-4d4a-a5de-1a88cdd4af26">Example 2: breakinhalf</a>” and “<a class="xref fm:HeadingAndPage" href="#id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id25178ec7-14d6-417d-a6e7-f9bb132cd38d">Example 3: breakinhalf enforce</a>”.</p>
<p class="p">The enforce option may only
be specified immediately following breakinhalf or alwaysbreakinhalf.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id3f659790-5e9f-466f-8e00-1185b0b22ede">allowzero</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that allows fragments
to exactly split an edge. By default, when a fragmentation scheme
exactly matches the edge length, the last pair of fragments is not inserted
because the zero-length “remainder” is less than the minimum length.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idd6d30ccd-f7db-4215-a6cf-1a15e4c2dd83"><span class="keyword ParameterName Optional">source</span> <span class="keyword ParameterName OptionalReplaceable">N</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
that specifies an identifier for the rule. <span class="keyword ParameterName OptionalReplaceable">N</span> must
be an integer from 1 to 255, inclusive, and does not need to be
unique to the fragment_corner statement, although this is recommended.</p>
<p class="p">Fragments created by a rule with “source 1” can
be added to a tag set later using “<a class="xref fm:HeadingOnly" href="Command_TagFragSource_idba1c297a.html#idba1c297a-5e1a-4c63-a37c-8de9e92db5e0__Command_TagFragSource_idba1c297a.xml#idba1c297a-5e1a-4c63-a37c-8de9e92db5e0" title="Finds all fragments tagged with a specific fragment_corner source number and places them in a tag set.">TAG_FRAG_SRC</a> <span class="keyword ParameterName RequiredReplaceable">layer</span> 1 <span class="keyword ParameterName Required">‑out</span> <span class="keyword ParameterName RequiredReplaceable">tag_name</span>”.
When these tag sets are output to layers, you can compare to the
correction layer to see why a particular edge was fragmented in
the manner it was.</p>
</dd>
</dl>
<p class="p"><span class="keyword ParameterName RequiredReplaceable">edge_spec</span> <span class="ph FontProperty HeadingLabel">Arguments</span></p>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idbf18ddb8-46fc-4dcd-b0d6-af0a0df93c90"><span class="keyword ParameterName RequiredReplaceable">corner_type</span>   <span class="keyword ParameterName OptionalReplaceable">corner_type</span>_next</dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument indicating
whether a corner is concave, convex, or either (any). At least one
corner must be defined in the <span class="keyword ParameterName RequiredReplaceable">edge_spec</span>.
You can specify up to four corners using the _next suffix, for example:</p>
<pre class="pre codeblock"><code>fragment_corner convex concave_next convex concave_next …</code></pre><p class="p">(The rule would apply to the edge between two convex corners
that both have concave corners as their other neighbors. See “<a class="xref fm:HeadingAndPage" href="#id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idac6af8fe-639c-4bf5-ae1e-00ef399bfa32">Example 6: Using corner_next</a>”.)</p>
<p class="p">The concave_next and convex_next keywords
can only be specified after a <span class="keyword ParameterName RequiredReplaceable">corner_type</span> [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>].
“any_next” is not a valid keyword.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If concave_next or convex_next is used, the corresponding
length1/length2 values must be specified to prevent differences
between flat and hierarchical runs. (The length1 and length2 values
should provide an upper bound.)</p>
</div>
<p class="p">For example, </p>
<pre class="pre codeblock"><code>fragment_corner convex convex_next fragment 0.1</code></pre><p class="p">produces the warning message </p>
<pre class="pre codeblock"><code>fragment_corner length1 must be specified and &lt; <span class="keyword ParameterName OptionalReplaceable">value</span> when a corner1_next corner or length1_next is specified in order to limit fragmentation inconsistencies.</code></pre></dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idfa5f49a4-da6d-445e-b97d-1d0990fb9473"><span class="keyword ParameterName OptionalReplaceable">corner_subtype</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument further differentiating
the corner. You can specify one per <span class="keyword ParameterName RequiredReplaceable">corner_type</span>.
The same subtypes are used for both convex and concave. Valid values
are the following:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id8cacd9f1-f37d-45ce-b2d5-cb1fa4f48618"><p class="p Opt">end_adjacent
— the corner satisfies the line-end or space-end adjacent criteria.
(See <a class="xref fm:HeadingOnly" href="MGCGlos_CalibreNmopcGlossary_id85c65f4d.html#id85c65f4d-e658-4991-bfac-a81243ffb0e9__id6af40009-93b4-43a1-b5b9-05084c64eaca">line end fragment</a> and <a class="xref fm:HeadingOnly" href="MGCGlos_CalibreNmopcGlossary_id85c65f4d.html#id85c65f4d-e658-4991-bfac-a81243ffb0e9__idb61e5062-aa30-4e2b-a4f5-bda0c2485254">space-end fragment</a> in the glossary
for line-end and space-end criteria.)</p>
</li>
<li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id5d413d64-7ecb-4dfc-863c-f541b82427a9"><p class="p Opt">non_end_adjacent
— the corner is not end-adjacent.</p>
</li>
<li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id741208a2-2787-4733-8793-aa5fa1cb7336"><p class="p Opt">angle_90
— the corner is a 90 or 270 degree angle.</p>
</li>
<li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__ide7cff572-261b-43f3-b53d-acc5f5f50142"><p class="p Opt">angle_non90
— the corner is not a right angle.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idb55a2293-f746-424d-9252-063d2695c4f1">length <span class="keyword ParameterName OptionalReplaceable">constraint</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying
the length of the edge. The constraint takes the form of a DRC constraint
and the value is specified in microns. For example:</p>
<pre class="pre codeblock"><code>length &gt; 0.1 &lt;= 0.2
length &gt; 0.2
length == 0.3</code></pre></dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id2eaeb8d9-e848-48d1-95d9-4582ed5c589e">[length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span> [length1_next <span class="keyword ParameterName OptionalReplaceable">constraint</span>]]   [length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span> [length2_next <span class="keyword ParameterName OptionalReplaceable">constraint</span>]]</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keywords that specify
the length of the edges at corner 1 and corner 2, and the lengths
of the edges on either side of length1 and length2, respectively
as illustrated in <a class="xref fm:FigureAndPage" href="#id76fc8c2c-3d94-4119-9915-04e7860ffcfb__iddf6c5819-f912-431e-ba67-72b8a30194e2">Figure 2</a>. The constraint
takes the form of a DRC constraint and the value is specified in
microns. </p>
<p class="p">When only one corner is specified, length2 is
ignored. Use “any” for the second <span class="keyword ParameterName RequiredReplaceable">corner_type</span> when
using length2 if you do not care whether the second corner is convex
or concave.</p>
<p class="p">Both length1 and length2 may
be specified without the other. For example:</p>
<pre class="pre codeblock"><code>length1 &lt;= 0.15
length1 &gt; 0.2 length2 &gt; 0.2
length2 &lt; 0.24</code></pre><p class="p">When the rule includes a “corner corner_next”, the corresponding
length1 or length2 must be specified, but length1_next and length2_next
are completely optional. The length1_next and length2_next can only
be specified after a length1 or length2.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id1259f345-37d2-428b-8162-edab2cd2fe95">jog_tol <span class="keyword ParameterName OptionalReplaceable">distance</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that causes jogs less
than or equal to <span class="keyword ParameterName OptionalReplaceable">distance</span> to
be ignored for length1, length1_next, length2, and length2_next.
The <span class="keyword ParameterName OptionalReplaceable">distance</span> value
is in microns.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Jogs on the primary edge, measured by “length <span class="keyword ParameterName OptionalReplaceable">constraint</span>”,
are <span class="ph FontProperty emphasis">not</span> ignored.
The jog_tol option only ignores jogs on neighboring edges.</p>
</div>
<p class="p">If jog_tol is not specified, jogs are handled like a corner.</p>
</dd>
</dl>
<p class="p"><span class="keyword ParameterName RequiredReplaceable">rule</span> <span class="ph FontProperty HeadingLabel">Arguments</span></p>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idc55779d9-c24e-409c-b798-7e2bf6a2af12">split <span class="keyword ParameterName OptionalReplaceable">n</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying
to break the fragment into <span class="keyword ParameterName OptionalReplaceable">n</span> equal
parts. For example, if the following command is applied to a 0.4
micron edge, the edge is split into four 0.1 micron fragments:</p>
<pre class="pre codeblock leveled"><code>fragment_corner convex length &lt;= 0.685 split 4</code></pre><p class="p">The <span class="keyword ParameterName OptionalReplaceable">n</span> value
must be an integer between 2 and 40, inclusive. If the resulting
fragments would violate <a class="xref fm:HeadingOnly" href="Command_FragmentMin_id28e6e454.html#id28e6e454-e5d0-437f-ad25-101248ae68ef__Command_FragmentMin_id28e6e454.xml#id28e6e454-e5d0-437f-ad25-101248ae68ef" title="Fragmentation control: Used to set minimum fragment length constraint.">fragment_min</a>, the command generates an error.
The above example would likely generate an error because lengths
down to 0 would be split into four fragments. You can prevent this
by providing a lower bound, as in this example:</p>
<pre class="pre codeblock leveled"><code>fragment_min 0.050
fragment_corner convex length &gt;= 0.200 &lt;= 0.685 split 4</code></pre><p class="p">The split <span class="keyword ParameterName OptionalReplaceable">n</span> argument
cannot be specified with any of the other <span class="keyword ParameterName RequiredReplaceable">rule</span> arguments
except force.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__iddbf39d0e-b74a-4094-900f-be049d6cf9ad">force </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword for use
with split. It overrides the fragment_min error. Use only when you
are certain that violating fragment_min will not cause an error. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id57fa4f50-9172-4806-96ac-7f661754e675"><span class="keyword ParameterName OptionalReplaceable">len1</span><span class="keyword ParameterName Required"></span></dt>
<dd class="dd ArgumentDescription"><p class="p">The distance in microns from
a corner to the first fragmentation vertex that will be produced.
The distance must be greater than fragment_min or the run halts
with the following message:</p>
<pre class="pre codeblock"><code>intrafeature fragment is less than MinEdgeLength (value = <span class="ph FontProperty equationvariable">len</span>)</code></pre></dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idb7aec250-871b-416a-b6ea-968e58e5a6ee"><span class="keyword ParameterName OptionalReplaceable">lenN</span></dt>
<dd class="dd ArgumentDescription"><p class="p">The distance in microns from
the previous fragmentation vertex to the next fragmentation vertex,
measured sequentially from the corner inward. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id3afe2e4f-3547-4593-af69-5e8cd94c304d">priority<span class="keyword ParameterName Required"></span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional flag for two-corner
rules indicating which corner has priority over the other. Typically,
there is no fragmentation if the remainder (<span class="keyword ParameterName Optional">rem </span><span class="keyword ParameterName OptionalReplaceable">r</span>)
is violated after the first fragment at each corner is created.
With the priority option, the fragment at the priority corner is
created if the remainder (<span class="keyword ParameterName Optional">rem </span><span class="keyword ParameterName OptionalReplaceable">r</span>)
is not violated.</p>
<p class="p">Intrafeature fragmentation works
by taking an edge and attempting to create ripples on it, working
inward from the corners. After the first ripple is created at each
corner, the priority flag will no longer have any effect. From that
point onward, as ripples are created, intrafeature fragmentation
will continue working inward toward the center of the edge creating
ripples. It will keep doing this until no ripples can be inserted
without violating <span class="keyword ParameterName Optional">rem</span>/<a class="xref fm:HeadingOnly" href="Command_FragmentMin_id28e6e454.html#id28e6e454-e5d0-437f-ad25-101248ae68ef__Command_FragmentMin_id28e6e454.xml#id28e6e454-e5d0-437f-ad25-101248ae68ef" title="Fragmentation control: Used to set minimum fragment length constraint.">fragment_min</a>. It does this symmetrically from
both corners, attempting to insert a ripple from each corner simultaneously
in order to retain symmetry.</p>
<p class="p">In summary, the priority flag
is a “special case” handler for extremely short edges where it is
not possible to insert even one ripple from each corner. If only
one ripple from one corner can be inserted, the priority flag will
allow you to choose which one. It is ignored outside of that case. </p>
<p class="p">There are cases where using
the priority argument in corner fragmentation can result in a “remainder
violation” at non-priority corners. When priority is used, an edge
is fragmented based on priority of corner A if the remainder length
after <span class="keyword ParameterName OptionalReplaceable">A_fragment_1st</span> is
larger than rem_A or has satisfied the following condition:</p>
<p class="p"><span class="keyword ParameterName OptionalReplaceable">A_fragment_2nd</span> +
... <span class="keyword ParameterName OptionalReplaceable">A_fragment_nth</span> + <span class="keyword ParameterName OptionalReplaceable">rem_A</span> &lt;= <span class="keyword ParameterName OptionalReplaceable">remainder_length</span> &lt; <span class="keyword ParameterName OptionalReplaceable">B_fragment_1st</span> + <span class="keyword ParameterName OptionalReplaceable">rem_B</span></p>
<p class="p">This might result in a length
violation of the remainder at non-priority corners if the length setting
of <span class="keyword ParameterName OptionalReplaceable">rem_B</span> is
larger than for <span class="keyword ParameterName OptionalReplaceable">rem_A</span>,
given the priority keyword.</p>
<p class="p">For example, you have an OPC
recipe with the following corner fragment setting that applies to
an edge length of 0.180 with convex and concave corners:</p>
<pre class="pre codeblock leveled"><code>fragment_corner convex 0.065 0.060 rem 0.050 priority
fragment_corner concave 0.080 0.070 0.060 rem 0.060</code></pre><p class="p">The edge fragment result is
based on the convex corner only with “0.065 0.060 0.055”. The remainder
of the concave corner is only 0.055, which already violates the <span class="keyword ParameterName Optional">rem</span> setting
of 0.060 for concave corners.</p>
<p class="p">To avoid remainder violations,
set the same remainder (<span class="keyword ParameterName Optional">rem </span><span class="keyword ParameterName OptionalReplaceable">r</span>)
for both convex and concave corners for edge length less than (<span class="keyword ParameterName OptionalReplaceable">A_fragment_1st</span> + <span class="keyword ParameterName OptionalReplaceable">B_fragment_1st</span> + <span class="keyword ParameterName OptionalReplaceable">rem</span>)
before further fragmentation of convex and concave corners.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idba16f0fc-a39e-4385-9dce-92d07647b2c3">rem <span class="keyword ParameterName Required"></span><span class="keyword ParameterName OptionalReplaceable">r</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying
the minimum allowed remainder. If fragmentation would produce a
fragment with length smaller than <span class="keyword ParameterName OptionalReplaceable">r</span>,
then it will not fragment the edge. If not specified, the default
value used is <a class="xref fm:HeadingOnly" href="Command_FragmentMin_id28e6e454.html#id28e6e454-e5d0-437f-ad25-101248ae68ef__Command_FragmentMin_id28e6e454.xml#id28e6e454-e5d0-437f-ad25-101248ae68ef" title="Fragmentation control: Used to set minimum fragment length constraint.">fragment_min</a>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id1902e8f1-7c76-43f2-9a64-ec563fc6edb8">applyratio</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying that an
attempt should be made to split the edge in two and that the ratio
of lengths for each corner should be maintained if possible. The
fragments are lengthened and shortened as necessary but not allowed
to violate fragment_min. If the edge is 2*fragment_min, both fragments
are kept at the same (minimal) length, despite the ratio.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id3a3fbaef-4163-47a5-add9-fa043390cbd3">{allowtrim | alwaysallowtrim} <span class="keyword ParameterName OptionalReplaceable">amount</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying an amount
of length reduction that can be done to the corner fragment (allowtrim)
or last fragment before the center (alwaysallowtrim) in order to make
room for a middle fragment of minimum length.</p>
<p class="p">Only one of “allowtrim” or “alwaysallowtrim” can be specified
per command.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id0e0e33b9-4b4f-49e9-a361-4476ba02fe5c">repeat <span class="keyword ParameterName OptionalReplaceable">length</span> [<span class="keyword ParameterName OptionalReplaceable">max_length</span>] [force]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument specifying a target
size for repeated fragments in the remainder. The remainder is divided
into fragments of at least this length (possibly longer). This is
typically not allowed unless the rule has a length constraint with
an upper bound. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__iddf3f1b0b-7d0b-4345-950d-151be6aca060"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">max_length</span> —
An optional argument in microns specifying the maximum length to which
the fragments can be adjusted. The remainder is split into equal-length fragments
of a size between <span class="keyword ParameterName OptionalReplaceable">length</span> and <span class="keyword ParameterName OptionalReplaceable">max_length</span>.</p>
</li>
<li class="li ArgOption" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id32ac6cdc-d48a-4ab9-a63d-02e9ccb854dd"><p class="p Opt">force
— An optional keyword that causes fragments to be exactly <span class="keyword ParameterName OptionalReplaceable">length</span>.</p>
</li>
</ul>
<p class="p">If force is specified and allowtrim is present, an attempt is
made to trim the ends in order to allow the repeated fragments to
have exactly the specified length. If possible, the end fragments
are trimmed in an attempt to avoid creating fragments longer than
this length.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This keyword is an optional fragmentation
parameter. This keyword gives you precise control over the number
and length of intrafeature fragmented edges at concave or convex
corners. The fragmentation process occurs automatically before OPC
begins. </p>
<p class="p">In intrafeature fragmentation,
the edges connected to corners are broken up according to fragment_corner
parameters. The following figure shows how the intrafeature fragmentation parameters
are applied to produce fragmentation vertices.</p>
<div class="fig fignone" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idef05713f-0a51-48a9-846a-e7c62d04726e"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Intrafeature Fragmentation
Example</span><br /><div class="imagecenter"><img class="image imagecenter" height="168" src="../graphics/reference29a.png" width="462" /></div><br /></div>
<p class="p">The
end_adjacent subtype applies to both line-end adjacent and space-end
adjacent corners.</p>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idc88f0dce-c052-4e0d-be50-cb66b083062a"><h2 class="title Subheading sectiontitle">Note
About Promotion Radius in Hierarchical Mode</h2><p class="p">When an edge is longer than the promotion radius, it may cross
a hierarchy boundary. When this occurs the type of corner for both
corners cannot be reliably determined.</p>
<p class="p">The workaround is when fragmenting long edges is to specify fragment_corner
twice, one with an upper bound of the promotion radius and the other
with it as a lower bound. See “<a class="xref fm:HeadingAndPage" href="#id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id68fd97d2-3263-41da-9028-2729e3c39935">Example 5: Handling Long Edges</a>”.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id03537ac9-89c8-4f2a-8edf-38ffb1874eec"><h2 class="title Subheading sectiontitle">Example
1: Declaration Order</h2><p class="p">The declaration order has an impact
on the results. Each intrafeature command that is executed affects
all the edges which meet its constraints. Therefore, more specific
commands should be placed ahead of general commands. The one exception
is when “fragment_layer_order full” is set. (See “Examples” in <a class="xref fm:HeadingOnly" href="Command_FragmentLayerOrder_id5e6fb90c.html#id5e6fb90c-b59e-492e-a450-9c6c51409e0c__Command_FragmentLayerOrder_id5e6fb90c.xml#id5e6fb90c-b59e-492e-a450-9c6c51409e0c" title="Changes the default processing order of fragmentation schemes in a fragment_layer command block.">fragment_layer_order</a>.) </p>
<p class="p">For example, to
specify different fragmentation parameters for short edges with
one convex and one concave corner:</p>
<p class="p">Incorrect Usage:</p>
<pre class="pre codeblock leveled"><code>fragment_min 0.03
fragment_max 0.4
fragment_corner convex  0.035 0.05
fragment_corner concave 0.055
fragment_corner convex not_end_adjacent concave not_end_adjacent \
	length &gt; 0.13 &lt;= 0.15 0.040 corner2 0.05</code></pre><p class="p">The last command would not work since
any corner it would affect would have already been fragmented by
one of the first two fragment_corner commands.</p>
<p class="p">Correct Usage:</p>
<pre class="pre codeblock leveled"><code>fragment_min 0.03
fragment_max 0.4
fragment_corner convex not_end_adjacent concave  not_end_adjacent \
	length &gt; 0.13 &lt;= 0.15 0.040 corner2 0.05
fragment_corner convex  0.035 0.05
fragment_corner concave 0.055</code></pre></div>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id8378cebe-171b-4d4a-a5de-1a88cdd4af26"><h2 class="title Subheading sectiontitle">Example
2: breakinhalf</h2><p class="p">By default, breakinhalf respects the fragment_min setting. Consider
a 0.12 micron long fragment with a corner at one end. </p>
<pre class="pre codeblock"><code>fragment_min 0.04
fragment_corner concave 0.05 0.05 </code></pre><p class="p">If a rule that specifies two ripples of 0.05 with a fragment_min
of 0.04 is applied, the fragment would not be changed because the
ripples would leave a fragment of 0.02. If “breakinhalf” is added
to the rule, the fragment is broken into two fragments of 0.06 each.</p>
</div>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id25178ec7-14d6-417d-a6e7-f9bb132cd38d"><h2 class="title Subheading sectiontitle">Example
3: breakinhalf enforce</h2><p class="p">Consider a long edge with</p>
<ul class="ul"><li class="li" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idf2b8440e-5ed6-437b-8677-afe957d47694"><p class="p">a 50-nm
center fragment</p>
</li>
<li class="li" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idc8aa5bd4-7617-41f9-b707-720d979e8585"><p class="p">a 25-nm fragment_min</p>
</li>
<li class="li" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id11a96863-fdef-4c42-b464-447cdde59678"><p class="p">a 35-nm remainder
(rem 0.035)</p>
<pre class="pre codeblock"><code>fragment_corner … rem 0.035 breakinhalf</code></pre></li>
</ul>
<p class="p">The 50-nm center fragment would
still be broken to two 25-nm parts. This is because fragment_min
is used to determine the minimum fragment length rather than the
rem value. To enforce the rem value, use enforce:</p>
<pre class="pre codeblock"><code>		fragment_corner … rem 0.035 breakinhalf enforce</code></pre><p class="p">If “breakinhalf enforce” is
used, the center fragment is not broken, due to the two 25 nm fragments
created being less than the rem value, which would not be allowed.</p>
</div>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id353aca3c-d167-4bef-863f-1a7034a84976"><h2 class="title Subheading sectiontitle">Example
4: Controlling the Size of Fragments in a Central Remainder</h2><p class="p">You can combine the repeat and allowtrim arguments to create
a fixed size for the middle fragment of an edge whose length is
suitable for three fragments. It requires setting the corner fragments
(<span class="keyword ParameterName OptionalReplaceable">len1</span>)
to the maximum desirable length, with the allowtrim <span class="keyword ParameterName OptionalReplaceable">amount</span> set
to the difference between the maximum and minimum fragment length.</p>
<p class="p">For example, consider an edge of 0.2 microns, a grid size of
1 nm, and the following code:</p>
<pre class="pre codeblock"><code>fragment_corner concave not_end_adjacent concave not_end_adjacent \
					length &gt;= 0.100 &lt; 0.500 \
					fragment 0.048 rem 0.033 allowtrim .016 repeat 0.034 0.038</code></pre><p class="p">This sets the maximum length of the first fragment to 48 nm,
but because of “allowtrim 0.016” the first fragments could be adjusted
to as small as 32 nm if desirable.  The initial pass leaves a center
fragment of 104 nm. The “repeat 0.034 0.038” indicates the central
fragment should be split into equal-length fragments from 34 to
38 nm long.</p>
<p class="p">Three 34-nm fragments would consume 102 nm of the 104 nm. To
keep the repeated fragments equal, the central fragment needs to
be increased in multiples of 3 nm. With allowtrim, the final edge
fragmentation is initial fragments reduced to 45 nm, and the central
fragment further split into three 36 nm pieces. </p>
</div>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id68fd97d2-3263-41da-9028-2729e3c39935"><h2 class="title Subheading sectiontitle">Example
5: Handling Long Edges</h2><p class="p">Fragment_corner rules that operate on edges longer than the promotion
radius can cause errors when the corners cannot “see” each other.
For example, consider a promotion radius of 0.9 and this rule:</p>
<pre class="pre codeblock"><code>#This is a bad rule:
fragment_corner concave concave length &gt; 0.8 fragment 0.15 0.15</code></pre><p class="p">Edges longer than 0.9 microns cause an error because the rule
requires checking both corners. The safe way to handle these edges
is to use a two-corner rule for edges less than the promotion radius,
and a one-corner rule for edges longer than that, like so:</p>
<pre class="pre codeblock"><code>#This works better:
fragment_corner concave concave length &gt;0.8 &lt;=0.9 fragment 0.15 0.15
fragment_corner concave         length &gt;0.9       fragment 0.15 0.15</code></pre><p class="p">This division permits correct fragmentation despite hierarchy
boundaries, and will generate the same results in hierarchical and
flat runs.</p>
</div>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idac6af8fe-639c-4bf5-ae1e-00ef399bfa32"><h2 class="title Subheading sectiontitle">Example
6: Using corner_next</h2><p class="p">The length options and corner options can be combined to allow
highly specific edge selection without accidentally selecting other
edges or using the tagging commands. For the shape shown, the following
code produces fragmentation where indicated by the red dots on the
rightmost edge:</p>
<div class="fig fignone" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__iddf6c5819-f912-431e-ba67-72b8a30194e2"><span class="figcap"><span class="fig--title-label">Figure 2. </span>corner_next
and length_next</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/fragment_corner_next.png" /></div><br /></div>
<pre class="pre codeblock"><code>fragment_corner convex convex_next convex concave_next length == 0.2 \
   length1 == 0.4 length1_next == 0.5 length2 == 0.1 length2_next == 0.3 \
   fragment 0.025</code></pre></div>
<div class="section Subsection" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__idf068f631-bc5b-45ad-95f9-4351ece506f8"><h2 class="title Subheading sectiontitle">Example 7: Length2 With an Indeterminate
Corner</h2><p class="p">The corner type “any” allows for more control
of fragmentation. Consider the following case, a stepped polygon
with the measurements shown in <a class="xref fm:FigureAndPage" href="#id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id54b82d0a-8aab-48b3-9f50-e40019df0b3f">Figure 3</a> and
the following fragmentation rules:</p>
<pre class="pre codeblock leveled"><code>fragment_min 0.025
fragment_max 0.1</code></pre><pre class="pre codeblock leveled"><code>fragment_corner convex convex_next <span class="ph CodeHighlight Bold">any</span> length &gt; 0.500 &lt;= 0.600 \
    length1 &gt;= 0.400 &lt;= 0.450 \
    length2 &gt;= 0.2 &lt; 0.25 fragment 0.070 0.070</code></pre><p class="p">Without the “any” keyword for the second corner,
the length2 argument is ignored so the rule is applied to the long
edge (blue dots). With “any,” the edge beyond the next corner (0.12
um) is checked. It is too short for the rule to apply, so the long
edge is fragmented by fragment_max instead (red dots).</p>
<div class="fig fignone" id="id76fc8c2c-3d94-4119-9915-04e7860ffcfb__id54b82d0a-8aab-48b3-9f50-e40019df0b3f"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Effect of any on length2</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/frag_corner_len2_any.png" /></div><br /></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DenseopcOptionsKeywords_idaaebd216.html" title="The OPTION opt_name argument in the setlayer denseopc command specifies an inlined denseopc_options sub-parameter block (within the LITHO FILE block) containing a lowercase-only command initialization block consisting of the following keywords, specified one per line.">denseopc_options Keywords</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmopc_useref"
                DocTitle = "Calibre® nmOPC™ User’s and Reference Manual"
                PageTitle = "fragment_corner"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_FragmentCorner_id76fc8c2c.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmOPC™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>