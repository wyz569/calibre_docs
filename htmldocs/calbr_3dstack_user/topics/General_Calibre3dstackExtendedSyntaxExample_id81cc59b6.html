<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Calibre 3DSTACK+ Extended Syntax Example" />
<meta name="abstract" content="Extended syntax rule files are more flexible than conventional Calibre 3DSTACK rule files because the assembly operations can be separate from the rules." />
<meta name="description" content="Extended syntax rule files are more flexible than conventional Calibre 3DSTACK rule files because the assembly operations can be separate from the rules." />
<meta name="prodname" content="Calibre 3DSTACK User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-23" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_3dstack_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® 3DSTACK User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11716,product.id.P10089,product.id.P10099" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id81cc59b6-7014-4d3c-8149-1c40b370d346" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Calibre 3DSTACK+ Extended Syntax Example</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Calibre 3DSTACK+ Extended Syntax Example" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11716,product.id.P10089,product.id.P10099" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="id81cc59b6-7014-4d3c-8149-1c40b370d346">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Calibre 3DSTACK+ Extended
Syntax Example</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">Extended syntax rule files are more
flexible than conventional Calibre 3DSTACK rule files because the
assembly operations can be separate from the rules. </span>
</div>
<div class="section Subsections"><div class="section Subsection" id="id81cc59b6-7014-4d3c-8149-1c40b370d346__idc772af0f-3ea5-4759-b9f8-5d344c821966"><p class="p">The
following example creates a simple 2.5D IC with a controller die
and two memory dies stacked on a passive interposer.</p>
<h2 class="title Subheading sectiontitle">Opening Statements</h2><p class="p">Extended syntax rules must begin with the following line:</p>
<p class="lines ApplCommand">#!3dstack+</p>
<p class="p">The next statement must be the <a class="xref fm:HeadingOnly" href="Command_SetVersion_id233abfee.html#id233abfee-4cf5-41f3-afaa-7af35af23719__Command_SetVersion_id233abfee.xml#id233abfee-4cf5-41f3-afaa-7af35af23719" title="Sets the syntax version of the Calibre 3DSTACK rule file.">set_version</a> command
to set the syntax version of the rule file. The only supported version
is “1.0”</p>
<pre class="pre codeblock"><code>#!3dstack+
######################################################################
#
#           CALIBRE 3DSTACK+ Rule File for 2.5D Interposer
#
######################################################################

set_version -version 1.0
</code></pre><h2 class="title Subheading sectiontitle">Calibre 3DSTACK Settings</h2><p class="p">Apply the <a class="xref fm:HeadingOnly" href="Command_Config_id17125fa6.html#id17125fa6-47bc-4e26-b623-89f8ca695921__Command_Config_id17125fa6.xml#id17125fa6-47bc-4e26-b623-89f8ca695921" title="Specifies configuration information for the 3DSTACK+ syntax format rule file. The top cell name, source netlist, report file, connectivity, and other information can be specified.">config</a> command
to set up layout, connectivity, and output options. In this example, the
rule file provides a name for the generated stack assembly, specifies
a source netlist for the complete assembly (highly recommended),
specifies that a detailed report be output, and exports the generated
assembly netlist to a Verilog file.</p>
<pre class="pre codeblock"><code>###########################
# Configure run
###########################
config \
	-layout_primary TOP_CELL \
	-netlist {-file ./design/top_cell.spi -format SPICE -case YES }\ 
	-report {-file output/3dstack.report} \
	-export_connectivity {-file output/3dstack.v -format verilog } </code></pre><h2 class="title Subheading sectiontitle">Die and Layer Definitions</h2><p class="p">The next section defines each die used in the stack. The die
definitions must include paths to layout files and any layers used
for connectivity in the stack. The first die definition is the interposer,
which includes a number of metal layers used to connect the dies.
In order for Calibre 3DSTACK to understand how these layers interact,
you must define the layer-to-layer interactions with the <a class="xref fm:HeadingOnly" href="Command_Die_id26689578.html#id26689578-2ecc-4874-b178-e06e0beb9afc__Command_Die_id26689578.xml#id26689578-2ecc-4874-b178-e06e0beb9afc" title="Defines a single die in the assembly. This statement includes a number of arguments that define the name, layout path, and layers.">die</a> -wb_connect
argument. This is referred to as white-box connectivity because
you are defining layer connectivity within a die and not just the
external interfaces. To indicate that a layer is part of an connectivity
stack external to the die (for connectivity tracing between dies),
apply the -layer_info … -ext_connect option.</p>
<p class="p">Note, that this section only defines the dies used in the stack.
How these dies are physically placed in the assembly is performed
with the <a class="xref fm:HeadingOnly" href="Command_Stack_idc72517dc.html#idc72517dc-d5aa-43a3-8099-3009ac56a341__Command_Stack_idc72517dc.xml#idc72517dc-d5aa-43a3-8099-3009ac56a341" title="Defines the locations of objects in the assembly.">stack</a> command.</p>
<pre class="pre codeblock"><code>###########################
# Define dies in stack
###########################

die -die_name interposer \
	-layout { \
		-path ./design/interposer.gds \
		-type gdsii \
		-primary interposer \
		-depth all \
	} \
	-layer_info { \
		-type pad \
		-name interposer_pads \
		-ext_connect \
		-layer { \
			255 \
			-depth all \
			} \
		-text { 255 } \
		-bottom \
	} \</code></pre><pre class="pre codeblock"><code>	-layer_info { \
		-type RDL_M1 \
		-name RDL_M1 \
		-ext_connect \
		-layer { \
			11 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_V1 \
		-name RDL_V1 \
		-layer { \
			12 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M2 \
		-name RDL_M2 \
		-layer { \
			13 \
			-depth all \
			} \
		-bottom \
	} \</code></pre><pre class="pre codeblock"><code>	-layer_info { \
		-type RDL_V2 \
		-name RDL_V2 \
		-layer { \
			14 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M3 \
		-name RDL_M3 \
		-layer { \
			15 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_V3 \
		-name RDL_V3 \
		-layer { \
			16 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M4 \
		-name RDL_M4 \
		-layer { \
			17 \
			-depth all \
			} \
		-bottom \
	} \
	-interposer \
	-wb_connect RDL_M1 RDL_M2 BY RDL_V1 \
	-wb_connect RDL_M2 RDL_M3 BY RDL_V2 \
	-wb_connect RDL_M3 RDL_M4 BY RDL_V3 \
	-wb_connect interposer_pads RDL_M1 </code></pre><pre class="pre codeblock"><code>die -die_name controller \
	-layout { \
		-path ./design/controller.gds \
		-type gdsii \
		-primary controller \
		-depth top-only \
	} \
	-layer_info { \
		-type bump \
		-name cont_c4 \
		-ext_connect \
		-layer { \
			255 \
			-depth top-only \
			} \
		-text { 255 } \
		-bottom \
	} </code></pre><pre class="pre codeblock"><code>die -die_name ram \
	-layout { \
		-path ./design/ram.gds \
		-type gdsii \
		-primary ram \
		-depth top-only \
	} \
	-layer_info { \
		-type bump \
		-name ram_c4 \
		-ext_connect \
		-layer { \
			255 \
			-depth top-only \
			} \
		-text { 255 } \
		-bottom \
	} </code></pre><h2 class="title Subheading sectiontitle">Assembly Operations</h2><p class="p">Up to this point in the rule file, all dies and layers are defined.
The next step is to define how these dies are placed (assembled)
using the <a class="xref fm:HeadingOnly" href="Command_Stack_idc72517dc.html#idc72517dc-d5aa-43a3-8099-3009ac56a341__Command_Stack_idc72517dc.xml#idc72517dc-d5aa-43a3-8099-3009ac56a341" title="Defines the locations of objects in the assembly.">stack</a> command.
In this example, the bottom die is placed first using the -die argument.
The -placement argument determines the horizontal x and y placement
of the interposer. The controller and two ram dies are on the same
vertical plane (their initial z‑coordinates are the same). This
is referred to as a tier. The tier is stacked on top of the interposer,
where the initial z-coordinate of the tier is determined implicitly
from the thickness and specified ‑z_origin of the interposer.</p>
<p class="p"><a class="xref fm:Figure" href="#id81cc59b6-7014-4d3c-8149-1c40b370d346__id64902d68-e18d-40b1-a822-9d185eeacec2">Figure 1</a> and <a class="xref fm:Figure" href="#id81cc59b6-7014-4d3c-8149-1c40b370d346__idecfd9536-8754-457d-8b5c-4286edc3361f">Figure 2</a> show the assembly generated
by the statements in this example.</p>
<pre class="pre codeblock"><code>###############################
# Arrange chips in 3DSTACK
###############################

stack -stack_name assembly \
	-die { \
		-name interposer \
		-source pInterp \
		-placement 0 0 \
		-invert \
		} \
		-z_origin 0 \
	-tier { \
		-die {-name controller -placement 14 12 ‑source pCont}\
		-die {-name ram -placement 80 12 ‑source pRam1}\
		-die {-name ram -placement 80 45 ‑source pRam2}\
	}</code></pre><div class="fig fignone" id="id81cc59b6-7014-4d3c-8149-1c40b370d346__id64902d68-e18d-40b1-a822-9d185eeacec2"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Overhead
View of the Example Assembly</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/3dstack_plus_example_overhead.png" /></div><br /></div>
<div class="fig fignone" id="id81cc59b6-7014-4d3c-8149-1c40b370d346__idecfd9536-8754-457d-8b5c-4286edc3361f"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Side View
of the Example Assembly</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/3dstack_plus_example.png" /></div><br /></div>
<h2 class="title Subheading sectiontitle">Verification Rules</h2><p class="p">The verification rules in the 3DSTACK+ extended syntax are layer-based
and not specific to a particular design. This enables you to write
rules that can be used for any assemblies that use the same design
kit layer definitions.</p>
<p class="p">The examples in this section demonstrate just a few of the available
verification checks. See “<a class="xref fm:HeadingAndPage" href="Contain_RuleCheckCommands_ida491cdb9.html#ida491cdb9-d3df-4946-9fa6-6f7a711c87b2__Contain_RuleCheckCommands_ida491cdb9.xml#ida491cdb9-d3df-4946-9fa6-6f7a711c87b2" title="Rule check commands perform specific checks on your design during a verification run.">Rule Check Commands</a>” for
a complete description of the verification commands for the extended
syntax file.</p>
<pre class="pre codeblock"><code>###############################
# LVS Checks
###############################

connected -check_name CONNECT_IO \
	-layer_type1 pad \
	-layer_type2 bump \
	-black_box \
	-comment "CONNECT::Controller to Interposer check"
</code></pre><pre class="pre codeblock"><code>###############################
# DRC Checks
###############################
external -check_name PAD_SPACE -layer_type1 pad \
	-constraint "&lt; 65 REGION" -comment "ERR:Placement within 65um!"

external -check_name RDL_M1.1 -layer_type1 RDL_M1 \
	-constraint "&lt; 1 REGION" -comment "ERR: Spacing &lt; 0.1um on RDL_M1!"

external -check_name RDL_M2.1 -layer_type RDL_M2 \
 -constraint "&lt; 0.07 REGION" -comment "ERR: Spacing &lt; 0.5um on
 RDL_M2!"

overlap -check_name "OVERLAP_PAD_BUMP" \
	-layer_type1 pad \
	-layer_type2 bump \
	-constraint " &lt; 99" -intersection \
	-comment "Pad overlap must be greater than 90%!"

select_checks -check_names {OVERLAP_PAD_BUMP PAD_SPACE CONNECT_IO}</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuleFileExamples_id7c9f9949.html" title="The extended syntax is recommended for all new rule files.">Rule File Examples</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_3dstack_user"
                DocTitle = "Calibre® 3DSTACK User’s Manual"
                PageTitle = "Calibre 3DSTACK+ Extended Syntax Example"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_Calibre3dstackExtendedSyntaxExample_id81cc59b6.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® 3DSTACK User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>