<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Defining Layers" />
<meta name="abstract" content="You must define all layers used in the assembly and verification of your 3D-IC. If your layout files include detailed placement and routing, at a minimum, you only need to define the interface layers used to connect the dies in the stack. This is referred to as a black-box verification flow. You can perform full white-box verification flow if you define all layers in your layout files." />
<meta name="description" content="You must define all layers used in the assembly and verification of your 3D-IC. If your layout files include detailed placement and routing, at a minimum, you only need to define the interface layers used to connect the dies in the stack. This is referred to as a black-box verification flow. You can perform full white-box verification flow if you define all layers in your layout files." />
<meta name="prodname" content="Calibre 3DSTACK User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-23" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_3dstack_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® 3DSTACK User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11716,product.id.P10089,product.id.P10099" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id798a3956-f44f-4897-ad22-6d4836779faf" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Defining Layers</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Defining Layers" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11716,product.id.P10089,product.id.P10099" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id798a3956-f44f-4897-ad22-6d4836779faf">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Defining
Layers</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">You must define
all layers used in the assembly and verification of your 3D-IC.
If your layout files include detailed placement and routing, at
a minimum, you only need to define the interface layers used to
connect the dies in the stack. This is referred to as a black-box verification
flow. You can perform full white-box verification flow if you define
all layers in your layout files.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Instead of applying the -layer_info argument as described
in this topic, you can apply the die ‑<a class="xref fm:HeadingOnly" href="Command_Process_id27f6c13d.html#id27f6c13d-2f55-4453-8033-86895e7b78fd__Command_Process_id27f6c13d.xml#id27f6c13d-2f55-4453-8033-86895e7b78fd" title="Defines technology kit layer information for the dies, interposers, packages, and other components used in a 3D-IC.">process</a> option
and specify a predefined set of layer definitions.</p>
</div>
<p class="p">In the example shown in <a class="xref fm:Figure" href="Concept_ExampleDesignInformation_id91b43c6b.html#id91b43c6b-bd69-4186-a9f5-032c6b34deba__idb4ef93ad-af39-4608-8d16-25af30726803">Figure 2</a>, the controller and ram die have bump
pad shapes and text on layer 255. These bump pads connect to the
pads on the interposer that are also on layer 255.</p>
<div class="fig fignone" id="id06fef953-12a6-4a84-af03-4fe5ff1de156"><br /><div class="imagecenter"><img class="image imagecenter" height="122" src="../graphics/ruleflow/pad_layers.gif" width="434" /></div><br /></div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id798a3956-f44f-4897-ad22-6d4836779faf__idbcbe7365-ef62-488d-b839-8e6c34e67430"><p class="p">Completion
of “<a class="xref fm:HeadingAndPage" href="TaskTop_SettingUpGlobalOptions_ide73e82c6.html#ide73e82c6-ced3-4aa5-af7d-b22d2af4ab5d__TaskTop_SettingUpGlobalOptions_ide73e82c6.xml#ide73e82c6-ced3-4aa5-af7d-b22d2af4ab5d" title="The rule file supports a configuration command that sets up global properties and settings for the Calibre 3DSTACK assembly and verification process.">Setting Up Global Options</a>”</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id798a3956-f44f-4897-ad22-6d4836779faf__id8ec1a396-acd8-4232-8047-ddb4b9bf5ceb"><span class="ph cmd">Open your <span class="ph filepath">3dstack.rules</span> rule
file.</span></li>
<li class="li step stepexpand" id="id798a3956-f44f-4897-ad22-6d4836779faf__idd4ae0b3b-9822-484f-92e3-647cd7934a65"><span class="ph cmd">Find your
first die definition for the interposer.</span><div class="itemgroup info StepInfo"><p class="p">This statement defines the die and its layout, but
it currently contains no layers:</p>
<div class="fig fignone" id="id798a3956-f44f-4897-ad22-6d4836779faf__id181d596d-812d-491f-8794-d59b9d07f671"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/FLOW/interp_def.png" /></div><br /></div>
</div></li>
<li class="li step stepexpand" id="id798a3956-f44f-4897-ad22-6d4836779faf__id22e25473-256c-4984-956f-6dc2fc509ba7"><span class="ph cmd">In your first die command
for the interposer, using line continuation characters where necessary,
apply the <a class="xref fm:HeadingOnly" href="Command_DieLayerinfo_id7ed18373.html#id7ed18373-9d49-407f-8153-6d1d26f01359__Command_DieLayerinfo_id7ed18373.xml#id7ed18373-9d49-407f-8153-6d1d26f01359" title="Specifies a layer in the die, component, or process. You can specify more than one layer by applying the -layer_info argument set multiple times.">-layer_info</a> option
to add your first layer:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>die -die_name interposer \
	-layout { \
		-path ./design/interposer.gds \
		-type gdsii \
		-primary interposer \
		-depth all \
	} \
<span class="ph CodeHighlight orange">	-layer_info { \
		-type PAD \
		-name INT_PAD \
		-ext_connect \
		-layer { \
			255 \
			-depth all \
			} \
		-text { 255 } \
		-bottom \
	} \</span></code></pre><p class="p">The highlighted addition to the die statement defines a layer
named interposer_pads of type pad. The type is any user-defined
string, but it is important because verification checks are controlled
by the specified layer types. If you apply the same type to different layers,
then you can check interactions between those layer types. For example,
layers of type pad on the interposer die and layers of type pad
on the controller die.</p>
<p class="p">The pad layer and text in the <span class="ph filepath">interposer.gds</span> belong
to layer 255, so the -layer definition and -text definition both
specify 255.</p>
<p class="p">The -ext_connect option indicates that the layer is used for
connectivity outside of the die to other interacting external layers.</p>
<div class="fig fignone" id="id798a3956-f44f-4897-ad22-6d4836779faf__iddd9bfc57-a2ec-4a28-abb1-c21e1370beb4"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/FLOW/interp_def_pads.png" /></div><br /></div>
</div></li>
<li class="li step stepexpand" id="id798a3956-f44f-4897-ad22-6d4836779faf__id15163d21-fcd1-4577-9697-c5414942c7df"><span class="ph cmd">Specify the remaining layers
for the interposer die.</span><div class="itemgroup info StepInfo"><p class="p">The interposer
has landing pad shapes and text on layer 255, but also has additional metal
interconnect and vias that distribute connections between the dies.
These metal and via shapes are on layers 11 through 17.</p>
<div class="fig fignone" id="id798a3956-f44f-4897-ad22-6d4836779faf__id40040791-bdf2-4e56-a58e-07cd51cf7e3b"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/FLOW/interp_all_layers.png" /></div><br /></div>
<pre class="pre codeblock"><code>-layer_info { \
		-type RDL_M \
		-name RDL_M1 \
		-ext_connect \
		-layer { \
			11 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_V \
		-name RDL_V1 \
		-layer { \
			12 \
			-depth all \
			} \
		-bottom \
	} 
…</code></pre><div class="note tip"><span class="tiptitle">Tip</span> <p class="p">You can
also specify derived layers using the ‑svrf argument to the ‑layer_info command. </p>
</div>
</div></li>
<li class="li step stepexpand" id="id798a3956-f44f-4897-ad22-6d4836779faf__id31e8c498-51a2-42cf-a1f3-f7f64b9f4776"><span class="ph cmd">Specify
the layers for the other dies in the stack:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>die -die_name controller \
	-layout { \
		-path ./design/controller.gds \
		-type gdsii \
		-primary controller \
	} \
	-layer_info { \
		-type BUMP \
		-name cont_c4 \
		-ext_connect \
		-layer { \
			255 \
			} \
		-text { 255 } \
		-bottom \
	} </code></pre><pre class="pre codeblock"><code>die -die_name ram \
	-layout { \
		-path ./design/ram.gds \
		-type gdsii \
		-primary ram \
	} \
	-layer_info { \
		-type BUMP \
		-name ram_c4 \
		-ext_connect \
		-layer { \
			255 \
			} \
		-text { 255 } \
		-bottom \
	}</code></pre><p class="p">For the purpose of this example, the stacked dies are treated
as black boxes, so only the interface layers (pads) that connect
to the interposer are defined. </p>
<div class="fig fignone" id="id798a3956-f44f-4897-ad22-6d4836779faf__id90ca5639-30ab-4378-9f21-f3d27afefbb6"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/FLOW/interp_all_layers_stacked.png" /></div><br /></div>
</div></li>
<li class="li step stepexpand" id="id798a3956-f44f-4897-ad22-6d4836779faf__id8b9b4ed7-0bdd-4806-a6c8-c12267aab113"><span class="ph cmd">Save the file and continue
to “<a class="xref fm:HeadingAndPage" href="TaskTop_DefiningLayerConnectivity_id54bd70bf.html#id54bd70bf-1931-4541-ac1a-d8456035c28f__TaskTop_DefiningLayerConnectivity_id54bd70bf.xml#id54bd70bf-1931-4541-ac1a-d8456035c28f" title="You must define layer interactions and connectivity within each die before assembling the 3D‑IC.">Defining Layer Connectivity</a>”.</span></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">You have defined the pad layers from
each of the chips in the stack. You have also defined the RDL layers
of the interposer that are used to provide connectivity between
the controller and ram dies.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><pre class="pre codeblock"><code>#!3dstack+
######################################################################
#
#           CALIBRE 3DSTACK+ Rule File for a 2.5D Interposer
#            
#                        v1.0 12/25/2017
#
######################################################################
set_version -version 1.0
###########################
# Configure run
###########################
config \
	-layout_primary TOP_CELL \
	-source_netlist {-file ./top_cell.spi -format SPICE } \
	-report {-file output/3dstack.report} \
	-export_connectivity {-file output/3dstack.v -format verilog } 
###########################
# Define dies in stack
###########################
die -die_name interposer \
	-layout { \
		-path ./design/interposer.gds \
		-type gdsii \
		-primary interposer \
		-depth all \
	} \
	<span class="ph CodeHighlight orange">-layer_info { \
		-type PAD \
		-name INT_PADS \
		-ext_connect \
		-layer { \
			255 \
			-depth all \
			} \
		-text { 255 } \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M \
		-name RDL_M1 \
		-ext_connect \
		-layer { \
			11 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_V \
		-name RDL_V1 \
		-layer { \
			12 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M \
		-name RDL_M2 \
		-layer { \
			13 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_V \
		-name RDL_V2 \
		-layer { \
			14 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M \
		-name RDL_M3 \
		-layer { \
			15 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_V \
		-name RDL_V3 \
		-layer { \
			16 \
			-depth all \
			} \
		-bottom \
	} \
	-layer_info { \
		-type RDL_M \
		-name RDL_M4 \
		-layer { \
			17 \
			-depth all \
			} \
		-bottom \
	} </span>
</code></pre><pre class="pre codeblock"><code>
die -die_name controller \
	-layout { \
		-path ./design/controller.gds \
		-type gdsii \
		-primary controller \
	} \
	<span class="ph CodeHighlight orange">-layer_info { \
		-type PAD \
		-name cont_c4 \
		-ext_connect \
		-layer { \
			255 \
			} \
		-text { 255 } \
		-bottom \
	}</span> 

die -die_name ram \
	-layout { \
		-path ./design/ram.gds \
		-type gdsii \
		-primary ram \
	} \
	<span class="ph CodeHighlight orange">-layer_info { \
		-type PAD \
		-name ram_c4 \
		-ext_connect \
		-layer { \
			255 \
			} \
		-text { 255 } \
		-bottom \
	}\</span></code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_WritingAssemblyOperationsInCalibre3dstackRuleFile_id4767b309.html" title="Before writing any rule checks for your 3D-IC, you must define the layouts, layers, location, and text for the dies, and the layer connectivity. These rule file components are called assembly operations.">Writing Assembly Operations in the Calibre 3DSTACK Rule File</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_3dstack_user"
                DocTitle = "Calibre® 3DSTACK User’s Manual"
                PageTitle = "Defining Layers"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_DefiningLayers_id798a3956.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® 3DSTACK User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>