<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Creating a Calibre 3DSTACK Rule File" />
<meta name="abstract" content="Calibre 3DSTACK supports two rule file syntaxes: standard and extended (3DSTACK+). The extended syntax offers a more general approach to the assembly and verification of your stacked IC and is recommended for all rule files." />
<meta name="description" content="Calibre 3DSTACK supports two rule file syntaxes: standard and extended (3DSTACK+). The extended syntax offers a more general approach to the assembly and verification of your stacked IC and is recommended for all rule files." />
<meta name="prodname" content="Calibre 3DSTACK User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-23" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_3dstack_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® 3DSTACK User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11716,product.id.P10089,product.id.P10099" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id34f79edd-f191-46ea-ad3d-a964d8ff4152" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Creating a Calibre 3DSTACK Rule File</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Creating a Calibre 3DSTACK Rule File" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11716,product.id.P10089,product.id.P10099" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id34f79edd-f191-46ea-ad3d-a964d8ff4152">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Creating a Calibre 3DSTACK
Rule File</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">Calibre 3DSTACK supports two rule file
syntaxes: standard and extended (3DSTACK+). The extended syntax
offers a more general approach to the assembly and verification
of your stacked IC and is recommended for all rule files. </p>
<p class="p">Verification commands are similar between the conventional and
extended syntax, but the rule checks in the conventional rule file
only work for a single assembly. This is because the conventional
syntax relies on placement layer names defined by assembly commands.
The extended syntax allows you to write rules that can be applied
to different assemblies based on the functionality of a layer in
the design.</p>
<p class="p">The extended syntax rule file is compiled into a standard syntax
file in your working directory during a run. You can use the standard
syntax file for debugging.</p>
<p class="p">This procedure steps you through the creation of an extended
syntax rule file. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The rule file must only consist of commands
defined in the <a class="xref fm:HeadingOnly" href="MGCChap_CommandReference_idd6942771.html#idd6942771-461c-4d9d-a9f8-baf229a48b0e__MGCChap_CommandReference_idd6942771.xml#idd6942771-461c-4d9d-a9f8-baf229a48b0e" title="The Calibre 3DSTACK rule file uses its own set of commands to assemble and verify your 3D-IC design intent.">Command Reference</a> and supported Tcl constructs.
Rule checks cannot share names with Calibre 3DSTACK file format
keywords. See the “<a class="xref fm:HeadingOnly" href="MGCAppe_Examples_id8d733885.html#id8d733885-3d36-42fc-a397-83aefd23169a__MGCAppe_Examples_id8d733885.xml#id8d733885-3d36-42fc-a397-83aefd23169a" title="The Calibre 3DSTACK rule file contains assembly operations that build a model of your 3D-IC and a set of verification rules. This section contains rule file examples and a complete walk-through of the Calibre 3DSTACK flow.">Examples</a>” chapter to view sample rule files
using the 3D-IC Description Language.</p>
</div>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id151f96d9-04ff-4ad8-b723-21903dbc7040"><span class="ph cmd">Create
a new text file using an editor of your choice.</span></li>
<li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id09053c95-e14e-4645-8ecb-82f28aea6150"><span class="ph cmd">Add the
following statements to the first lines of the file:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>#!3dstack+ 

set_version -version 1.0</code></pre></div></li>
<li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id09d6cbad-80d1-4568-8f41-e7e263513346"><span class="ph cmd">Specify
the <a class="xref fm:HeadingOnly" href="Command_Config_id17125fa6.html#id17125fa6-47bc-4e26-b623-89f8ca695921__Command_Config_id17125fa6.xml#id17125fa6-47bc-4e26-b623-89f8ca695921" title="Specifies configuration information for the 3DSTACK+ syntax format rule file. The top cell name, source netlist, report file, connectivity, and other information can be specified.">config</a> command
to define optional run settings for Calibre 3DSTACK:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>config \
	-layout_primary TOP_CELL \
	-source_netlist {-file top_cell.spi -format SPICE -case YES }\
	-report {-file 3dstack.report} \
	-export_connectivity {-file 3dstack.v -format verilog } </code></pre><p class="p">This command configures the following options:</p>
<ul class="ul"><li class="li" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id8d7dbfdd-94d7-4637-8ff8-49b2e5b80278"><p class="p">The name
of the top cell for the generated assembly layout view.</p>
</li>
<li class="li" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id78238ba9-8df9-42dc-9d9f-cbff50f65412"><p class="p">The netlist
that defines the ideal connectivity of all of the chips in the stack (recommended).</p>
</li>
<li class="li" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__ida1731f17-efcd-40b9-8bea-5f12fdb729ac"><p class="p">Generates a
report that provides detailed summaries of all verification and
assembly operations (recommended).</p>
</li>
<li class="li" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__idfad7baa0-88d6-45b2-8b59-11ac8a321961"><p class="p">Writes out
the assembly netlist in Verilog format.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id7e436d3e-dc8c-4afe-8bb0-9a002027cdf7"><span class="ph cmd">Define
all the dies (and their respective interacting layers) using the <a class="xref fm:HeadingOnly" href="Command_Die_id26689578.html#id26689578-2ecc-4874-b178-e06e0beb9afc__Command_Die_id26689578.xml#id26689578-2ecc-4874-b178-e06e0beb9afc" title="Defines a single die in the assembly. This statement includes a number of arguments that define the name, layout path, and layers.">die</a> command.
The die command specifies layout files (which must already be LVS
and DRC clean) and layers within the files that interact in the
stack. You can read in the entire connectivity with the ‑wb_connect
option. </span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>die -die_name chip1 \
	-layout { \
		-path ./my_chip.gds \
		-type gdsii \
		-primary top_cell \
		-depth top-only \
	} \
	-layer_info { \
		-type pad \
		-name landing_pads \
		-ext_connect \
		-layer { \
			255 \
			-depth top-only \
			} \
		-text { 255 } \
		-bottom \
	} 
…</code></pre><p class="p">In this example, only the top-level layers are brought into Calibre
3DSTACK. The ‑layer_info argument set defines all layers used in
the assembly of the stack.</p>
</div></li>
<li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id8fa4aaba-dced-4229-bfd4-8ee05373b3e6"><span class="ph cmd">Define
how the dies are physically placed and stacked using the <a class="xref fm:HeadingOnly" href="Command_Stack_idc72517dc.html#idc72517dc-d5aa-43a3-8099-3009ac56a341__Command_Stack_idc72517dc.xml#idc72517dc-d5aa-43a3-8099-3009ac56a341" title="Defines the locations of objects in the assembly.">stack</a> command.
This operation creates an assembly layout view that represents your
3D-IC die stacking configuration.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>stack -stack_name assembly \
	-die { \
		-name interposer \
		-source pInterp \
		-placement 0 0 \
		-invert \
		} \
		-z_origin 0 \
	-tier { \
		-die {-name chip1 -placement 14 12 -source pChip1}\
		-die {-name chip2_a -placement 80 12 -source pChip2}\
		-die {-name chip2_b -placement 80 45 -source pChip3}\
	}
…</code></pre><p class="p">The ‑placement option defines the x and y position of the die.
Tiers are collections of dies that occupy the same vertical starting
position (z-coordinate). The ‑source option allows you to map the
assembly chip name to the instance name in the source netlist.</p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">It is helpful to preview your physical model
in Calibre DESIGNrev before writing any rules. You can instruct
Calibre 3DSTACK to only generate the assembly layout view from your
rule file using the -create_assembly option as follows:</p>
<pre class="pre codeblock"><code>calibre -3dstack -create_assembly assembly_name 3dstack.rules</code></pre></div>
</div></li>
<li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__idcbdee630-f1ab-44f0-afa0-8f7b50c41765"><span class="ph cmd">Write connectivity
checks for your assembly using the <a class="xref fm:HeadingOnly" href="Command_Connected_id47e302ea.html#id47e302ea-c2c1-4540-8417-4fff64b43adc__Command_Connected_id47e302ea.xml#id47e302ea-c2c1-4540-8417-4fff64b43adc" title="Checks for connectivity between connected shapes when there is a source netlist present. When no source netlist is present, it checks for matching text strings on connected shapes.">connected</a> command:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>connected -check_name CONNECT_PAD_TO_BUMP \
	-layer_type1 pad \
	-layer_type2 bump \
	-black_box \
	-comment "CONNECT::IO Connectivity Check"</code></pre></div></li>
<li class="li step stepexpand" id="id34f79edd-f191-46ea-ad3d-a964d8ff4152__id48df9947-86fa-4713-8ae3-a413f87d92e6"><span class="ph cmd">Apply other
verification checks as required. See “<a class="xref fm:HeadingAndPage" href="Contain_RuleCheckCommands_ida491cdb9.html#ida491cdb9-d3df-4946-9fa6-6f7a711c87b2__Contain_RuleCheckCommands_ida491cdb9.xml#ida491cdb9-d3df-4946-9fa6-6f7a711c87b2" title="Rule check commands perform specific checks on your design during a verification run.">Rule Check Commands</a>” for details.</span></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_UsingCalibre3dstack_id24e0c057.html" title="In order to run Calibre 3DSTACK, you must write a rule file that contains assembly and verification commands. To perform a verification or to generate an assembly view, you invoke Calibre 3DSTACK with the rule file as an argument. You can view the physical assembly layout view in Calibre DESIGNrev and highlight rule check results from Calibre RVE.">Using Calibre 3DSTACK</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/MGCChap_CommandReference_idd6942771.html#idd6942771-461c-4d9d-a9f8-baf229a48b0e__" title="The Calibre 3DSTACK rule file uses its own set of commands to assemble and verify your 3D-IC design intent.">Command Reference</a></div>
<div><a class="link" href="../topics/MGCAppe_Examples_id8d733885.html" title="The Calibre 3DSTACK rule file contains assembly operations that build a model of your 3D-IC and a set of verification rules. This section contains rule file examples and a complete walk-through of the Calibre 3DSTACK flow.">Examples</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_3dstack_user"
                DocTitle = "Calibre® 3DSTACK User’s Manual"
                PageTitle = "Creating a Calibre 3DSTACK Rule File"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CreatingACalibre3DSTACKRuleFile_id34f79edd.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® 3DSTACK User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>