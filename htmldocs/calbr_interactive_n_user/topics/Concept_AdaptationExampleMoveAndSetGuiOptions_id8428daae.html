<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Adaptation Example: Move and Set GUI Options" />
<meta name="abstract" content="The Tcl customization file in this example uses CUSTOM::getRunsetVarValue, CUSTOM::setRunsetVarValue, and CUSTOM::setOKCallback to set a runset value from the Customization GUI. The new configuration file places GUI controls on a new page to accomplish the same function." />
<meta name="description" content="The Tcl customization file in this example uses CUSTOM::getRunsetVarValue, CUSTOM::setRunsetVarValue, and CUSTOM::setOKCallback to set a runset value from the Customization GUI. The new configuration file places GUI controls on a new page to accomplish the same function." />
<meta name="prodname" content="Calibre Interactive (New GUI) User’s Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-23" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_interactive_n_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="3" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Interactive™ (New GUI) User’s Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="no" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id8428daae-10ad-46a9-a296-09a59c1b0f23" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Adaptation Example: Move and Set GUI Options</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Adaptation Example: Move and Set GUI Options" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id8428daae-10ad-46a9-a296-09a59c1b0f23">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Adaptation Example:
Move and Set GUI Options</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The Tcl customization file in this example
uses CUSTOM::getRunsetVarValue, CUSTOM::setRunsetVarValue, and CUSTOM::setOKCallback
to set a runset value from the Customization GUI. The new configuration
file places GUI controls on a new page to accomplish the same function. </span>
</div>
<p class="p">The Tcl customization file uses CUSTOM::setRunsetVarValue
in a callback function specified by CUSTOM::setOKCallback to set
a GUI option from the Customization GUI. </p>
<p class="p">There is no Customization GUI in new Calibre
Interactive. However, you can create new GUI pages and place any
GUI option on the new page. The GUI option is set from the GUI as
with any other option, without the need for any additional commands. </p>
<div class="section Subsections"><div class="section Subsection" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id6ab1f22f-7725-47a0-985f-6b64c20a3e77"><h2 class="title Subheading sectiontitle">Tcl Customization File to Set GUI Options from the Customization
GUI</h2><p class="p">In classic Calibre Interactive, this example places some controls
for GUI settings in the Customization GUI. This can be useful to
make a subset of controls available in one place. This example is
for DRC, and places the settings for “Output cell errors in cell
space” and “Show results in RVE” in the Customization GUI. </p>
<pre class="pre codeblock"><code>### Tcl Customization File for Classic Calibre Interactive

###### DRC settings ########
CUSTOM::LABEL -prompt "DRC GUI Settings" -tool DRC 
</code></pre><pre class="pre codeblock"><code># Controls for GUI runset settings, initialized to current setting.
# Need protection for runset var to prevent errors in LVS run
if {[CUSTOM::runsetVarExists drcCellName]} {
	set cellNameEntry [CUSTOM::DEFINE -name "cellName_var" \
		-select [CUSTOM::getRunsetVarValue drcCellName]  \
		-prompt "Output in cell space (GUI setting)" -tool DRC]
}
if {[CUSTOM::runsetVarExists drcStartRVE]} {		 
	set startRVEEntry [CUSTOM::DEFINE -name "startRVE_var" \
		-select [CUSTOM::getRunsetVarValue drcStartRVE]  \
		-prompt "Start RVE (GUI setting)" -tool DRC]
}</code></pre><pre class="pre codeblock"><code>## callback proc for OK button
proc myOKCallback { } {
    global cellNameEntry
    global startRVEEntry
   
    if {[CUSTOM::runsetVarExists drcCellName]} {
        set wb_cellName [$cellNameEntry cget -bvar]
		CUSTOM::setRunsetVarValue drcCellName [set $wb_cellName]
    } 
    
    if {[CUSTOM::runsetVarExists drcStartRVE]} {
        set wb_startRVE [$startRVEEntry cget -bvar]
        CUSTOM::setRunsetVarValue drcStartRVE [set $wb_startRVE] 
    }
}
    
CUSTOM::setOKCallback myOKCallback</code></pre></div>
<div class="section Subsection" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id4296fb2d-a056-4a25-8e7a-709298ccf6a5"><h2 class="title Subheading sectiontitle">New
Configuration File to Put GUI Options on a New Page</h2><p class="p">You can easily move GUI options to a new GUI
page in Calibre Interactive. You can specify new pages either with
the tool.addPage function or the tool.pages property. </p>
<p class="p">The location of GUI options is specified with the “pages” option
property. In order to specify a new location for an option, we need
to determine the option name used in the runset. For this example
we need the option name corresponding to the DRC Cell Name statement
and for the option to automatically start Calibre RVE. We use the
search widget to find the options, then save a runset to determine
the option names. </p>
<ol class="ol"><li class="li" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id4ab1a15f-c8cd-443d-ad5b-510f2bd075fc"><p class="p">Open Calibre Interactive with default settings,
with the environment variable defined.:</p>
<p class="lines ApplCommand">setenv CALIBRE_ENABLE_NEW_CI_DRC 1<br />
calibre -gui -drc</p>
</li>
<li class="li" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id1ca4f7fc-6c00-42a0-87f7-522d4ec9163e"><p class="p">Enter “DRC
Cell Name” in the Search text entry box at the top right corner
of the GUI. </p>
<p class="p">The view is automatically switched to the Search page. </p>
<p class="p">Expand the DRC Results Database area on the Search page. The
“Output cell errors in cell space” option is highlighted, and the
tooltip shows that this is the option corresponding to DRC Cell
Name. </p>
<p class="p">Change the setting for “Output cell errors in cell space”. Later
we will need the names of the other options, so also change the
values for “Pseudocells results,” “DRC Check Text,” and “Format,”
in that order. This is so the options are saved to the runset, as
only non-default settings are saved. </p>
</li>
<li class="li" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__ida27234d8-c65f-4ffb-ba85-756fd85cac1e"><p class="p">Enter “RVE”
in the Search text entry box. We are not sure of the name for the
option to start Calibre RVE, so enter something general. </p>
<p class="p">In the Search page, expand the area for “RVE Options” and change
the setting for “Show results in RVE”. </p>
</li>
<li class="li" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id5d0dd32f-8323-4c85-94c9-995979d055fe"><p class="p">Select <span class="ph menucascade"><span class="ph uicontrol">File</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Save Runset</span></span> and
save the runset as <span class="ph filepath">drcoptions.runset</span>. </p>
</li>
<li class="li" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id1df89a3e-0fb3-4dad-82b8-1650899bce24"><p class="p">View the file <span class="ph filepath">drcoptions.runset</span>:</p>
<pre class="pre codeblock"><code>drc.drcdb.resultsFormat.value = "GDSII"
drc.drcdb.resultsPseudoCells.specified = true
drc.drcdb.resultsCellName.value = false
drc.drcdb.resultsCheckText.specified = true
drc.rve.autoStart.value = true</code></pre><p class="p">This gives the names of the options we are interested in. </p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">You can save all runset options, including
non-default settings, to a runset by setting the environment variable
MGC_CALIBRE_SAVE_ALL_RUNSET_VALUES to 1. However, it is not always
straightforward to determine the runset option that corresponds
to a particular GUI option. </p>
</div>
</li>
</ol>
<p class="p">The options we are interested in are sub-options
to another option. The option resultsCellName is a sub-option to
drcdb, and autoStart is a sub-option to rve. In Calibre Interactive,
we must move the top-level option as a unit—we cannot move a sub-option
by itself. Option names are prefaced with “tool” rather than the
tool name (such as “drc”) in the configuration file, so the configuration
file specifies the pages property for tool.drcdb and tool.rve. Two
different methods are used to make sure the option names drcdb and
rve exist.</p>
<p class="p">The following new configuration file creates a new page named
“Special Options.” and places the options for drcdb and rve on the
new page. The drcdb options are also located on the default Outputs
page. Unlike with classic Calibre Interactive, no special code is
needed to enable setting the option values from the new page. </p>
<p class="p">For the drcdb options, the sub-option resultsFormat is made non-editable,
and the options for resultsPseudoCells and resultsCheckText are
hidden. The properties for the option resultsCellName are not changed,
so the option remains visible and editable. </p>
<pre class="pre codeblock"><code>// New Configuration File for Calibre Interactive
Configuration {
onInitialized: { 
if (tool.name == "drc") {	
	// DRC Settings
	// create a new page, and place it before the Options page 	
	tool.addPage("Special Options", "Options");
		if (tool.drcdb != undefined) {
		// place the options for drcdb on the new page and the Outputs page
		tool.drcdb.pages = ["Special Options", "Outputs"];
		// make results format visible but not editable
		tool.drcdb.resultsFormat.editable = false;
		// hide the pseudocells and check text options
		tool.drcdb.resultsPseudoCells.visible = false; 
		tool.drcdb.resultsCheckText.visible = false;
		// this code handles only the options relevant for the
		// default result format of ASCII
	}
	if (tool.hasOwnProperty('rve')) {
		// place the options for starting RVE on the new page only
		tool.rve.pages = ["Special Options"];
	}
}
} // onInitialized
} //Configuration</code></pre><p class="p">The results are shown in the following image.
In Calibre Interactive, the new page has the top-level options that
contain the settings for “Output cell errors in cell space” and
“Show Results in RVE.”</p>
<div class="fig fignone" id="id8428daae-10ad-46a9-a296-09a59c1b0f23__id7bb2e4c1-ed01-4ffe-b42f-ca4104f0e57e"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Moving
GUI Options with the Configuration File</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/ci_general/custom_gui_settings.png" /></div><br /></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_GuideAndExamplesForConvertingTclCustomizationFilesToQmlConfigurationFiles_idfaa780b0.html" title="This section provides a conversion guide and examples to assist in converting existing Tcl-based customization files to the new configuration file format for Calibre Interactive.">Guide and Examples for Converting Tcl Customization Files to New Configuration Files</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_interactive_n_user"
                DocTitle = "Calibre® Interactive™ (New GUI) User’s Manual"
                PageTitle = "Adaptation Example: Move and Set GUI Options"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_AdaptationExampleMoveAndSetGuiOptions_id8428daae.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Interactive™ (New GUI) User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>