<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="dfm::new_layer" />
<meta name="abstract" content="Creates a new layer as the result of processing a rule script. SVRF and TVF syntax are supported for the rules." />
<meta name="description" content="Creates a new layer as the result of processing a rule script. SVRF and TVF syntax are supported for the rules." />
<meta name="prodname" content="Calibre YieldServer Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-08" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ys_ref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® YieldServer Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P11347,product.id.P11426,product.id.P11713,product.id.P10087,product.id.P11493" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idec43bb49-f6ce-4ff5-9665-37610b9b5e80" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>dfm::new_layer</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="dfm::new_layer" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P11347,product.id.P11426,product.id.P11713,product.id.P10087,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">dfm::new_layer</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Creates
a new layer as the result of processing a rule script. SVRF and
TVF syntax are supported for the rules.</span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">dfm::new_layer</span> {<span class="keyword ParameterName Required">-svrf </span><span class="keyword ParameterName RequiredReplaceable">svrf_cmds </span>|<span class="keyword ParameterName Required"> -tvf</span> <span class="keyword ParameterName RequiredReplaceable">tvf_cmds</span>} [<span class="keyword ParameterName OptionalDefault">-keep_all_layers</span> | <span class="keyword ParameterName Optional">-dfm</span> | <span class="keyword ParameterName Optional">-drc</span>]<br />
[<span class="keyword ParameterName Optional">-comments</span> <span class="keyword ParameterName OptionalReplaceable">comments_string</span>] <br />
[-keep_analyze_inputs] <br />
[-keep_measure_inputs] <br />
[-keep_property_inputs] <br />
[-keep_all_inputs] <br />
[-list_checks]<br />
[-rdbs_as_files | -rdbs_as_layers] <br />
[-make_nodal] [-overwritable]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idc3e596ae-0191-4daf-8647-b9a0e5f8c26b"><span class="keyword ParameterName Required">-svrf </span><span class="keyword ParameterName RequiredReplaceable">svrf_cmds</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set defining
rule file code that generates a new layer. The new layer can be
created in the global scope or within the scope of a rule check.
The <span class="keyword ParameterName RequiredReplaceable">svrf_cmds</span> argument
is a Tcl list containing a valid SVRF script. Not compatible with
the <span class="keyword ParameterName Required">-tvf</span> option.</p>
<p class="p">Rule file elements that set
up the Calibre hierarchical database (CALIBRE LAYOUT DATA INPUT
MODULE stage in the transcript) are generally ignored. Specification statements
that set up drawn layers or that process the layout before the DRC
or DFM executive modules fall into this category. </p>
<p class="p">[Not] <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Inside Cell', 'svrf_ur'); return false;">Inside Cell</a> layer
operations cause errors.</p>
<p class="p">The <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Polygon', 'svrf_ur'); return false;">Polygon</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout Polygon', 'svrf_ur'); return false;">Layout Polygon</a> statements
cause errors. <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Create Layer Polygons', 'svrf_ur'); return false;">DFM Create Layer Polygons</a> can be used instead.</p>
<p class="p">Statements or operations other than those used by the DRC or
DFM executive modules are generally ignored; however, using <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Device', 'svrf_ur'); return false;">Device</a> causes an error. <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Pathchk', 'svrf_ur'); return false;">Pathchk</a> can cause
errors if LVS supply names were not declared in the rule file that
generated the current DFM database.</p>
<p class="p"><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Connect', 'svrf_ur'); return false;">Connect</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Sconnect', 'svrf_ur'); return false;">Sconnect</a> are supported as described
later. </p>
<p class="p">Other specifics about rule file
element behaviors are covered under the -keep_all_layers, ‑drc,
and -dfm option descriptions.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id2924ee30-7abd-4a4e-8ee1-5f572eb732f9"><span class="keyword ParameterName Required">-tvf</span> <span class="keyword ParameterName RequiredReplaceable">tvf_cmds</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set defining
compile-time TVF rule file code that generates a new layer. Not
compatible with the <span class="keyword ParameterName Required">-svrf</span> option.</p>
<p class="p">The semantics of the <span class="keyword ParameterName RequiredReplaceable">tvf_cmds</span> argument
are essentially the same as for <span class="keyword ParameterName RequiredReplaceable">svrf_cmds</span>,
except that compile-time TVF syntax is used instead of SVRF syntax.
The <span class="keyword ParameterName RequiredReplaceable">tvf_cmds</span> argument cannot
contain the "#!tvf" statement or any of the tvf:: namespace counterparts
to elements that cannot be used in <span class="keyword ParameterName RequiredReplaceable">svrf_cmds</span>.
See the “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Compile-Time TVF', 'svrf_ur'); return false;">Compile-Time TVF</a>” section of the <cite class="cite">SVRF Manual </cite>for details
about TVF elements.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idd6061549-2b95-4fa7-8db1-3e3b6f023233"><span class="keyword ParameterName OptionalDefault">-keep_all_layers</span> | -dfm | -drc</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the processing performed for the rules. SVRF syntax is shown, but
the TVF equivalents are also supported.</p>
<ul class="ul"><li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idf4040648-442e-4cef-b70f-640e56db0039"><p class="p">-keep_all_layers (default)
— Uses a processing behavior unique to dfm::new_layer, as follows:</p>
<ul class="ul"><li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id322d91c9-ac57-4699-878d-de06ba5715d3"><p class="p">All layer operations in the
rule file are executed, regardless of any statements in the DRC
or DFM [Un]Select Check families.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idbe5158c4-abb4-41b9-9c2c-7e1a6cf2f839"><p class="p"><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM RDB', 'svrf_ur'); return false;">DFM RDB</a> operations
not processed (because all layers are kept anyway) unless the -rdbs_as_files
option is also present.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idfc3a1e42-350c-4abc-92c0-d101b1f0d561"><p class="p">All layers generated by the
rule script are kept after execution of that script, except for
implicit (TMP&lt;n&gt;) layers and encrypted layers.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id84bfaa1f-170e-44ee-9d84-28c35c0c0092"><p class="p">RDB outputs from <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Analyze', 'svrf_ur'); return false;">DFM Analyze</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Measure', 'svrf_ur'); return false;">DFM Measure</a> operations
are kept after execution of the rule script unless the -rdbs_as_files
option is also present.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id156944aa-f43b-44a2-b4fe-0311e6e9ef5a"><p class="p">All layers are configured with
node numbers if connectivity can be passed to the layer.</p>
</li>
</ul>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idb366a376-0da5-467a-aac1-5b528c7f449f"><p class="p">-dfm — Causes the command
to behave like “calibre -dfm” as follows:</p>
<ul class="ul"><li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idfd59bc22-ff8f-4200-8147-f900f4aac9a1"><p class="p">Checks are executed as with
calibre -dfm: <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Select Check', 'svrf_ur'); return false;">DFM Select Check</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Unselect Check', 'svrf_ur'); return false;">DFM Unselect Check</a> statements are respected.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id0b5c9f26-3c34-4782-b4ac-65553163a629"><p class="p">RDB outputs from DFM Analyze
and DFM Measure operations are converted to new layers unless the
-rdbs_as_files option is also present.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idc0a3ac14-d2ff-476d-82f1-0f11faa0066c"><p class="p">DFM RDB operations cause their
input layers to be kept after execution of the rule script unless
the -rdbs_as_files option is also present.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id83361c7d-a644-4689-9d19-f9087eb8de33"><p class="p">Layers created by output operations
in checks are kept after execution of the rule script.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id4869d084-85ef-4b77-abd1-22c59aa3ef14"><p class="p">Stand-alone <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Copy', 'svrf_ur'); return false;">Copy</a> operations
in rule checks cause their input layers to be kept after execution
of the rule script.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id86922410-f0ae-45db-90d6-efbc06060eb8"><p class="p">Input layers to DFM Analyze,
DFM Measure, and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Property', 'svrf_ur'); return false;">DFM Property</a> operations
are not kept (this is done with the -keep_*_inputs options).</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id815c4a63-2b38-40d9-b08e-86e96fe035d3"><p class="p">Layers are configured with
node numbers as required by their use as inputs to nodal operations,
or as specified by DFM Select Check NODAL statements. </p>
</li>
</ul>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id86366a30-0fc1-4bdd-9890-4e44f9e4aa0e"><p class="p">-drc — Causes the command
to behave like “calibre -drc” as follows:</p>
<ul class="ul"><li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idb71c3fdf-d3b8-495f-add4-2a15e8d6fc3a"><p class="p">Checks are executed as with
calibre -drc: If there are DRC [<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DRC Unselect Check', 'svrf_ur'); return false;">Un</a>]<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DRC Select Check', 'svrf_ur'); return false;">Select Check</a> statements,
they are treated as with calibre -drc.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id16235e50-0e08-4efd-8e0e-26cc5fb7329b"><p class="p">RDB outputs from DFM Analyze,
DFM Measure, and DFM RDB operations are saved to files unless the
-rdbs_as_layers option is also present.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id9eb8e68b-47c3-4c2e-98b1-9e739e5fb4b1"><p class="p">Input layers to DFM Analyze,
DFM Measure, and DFM Property operations are not kept (this is done
with the -keep_*_inputs options).</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idec06c763-07ae-402d-9167-953b6105826b"><p class="p">Layers are configured with
node numbers as required by their use as inputs to nodal operations. </p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id46e30380-d320-4af3-8166-01946e38e144"><p class="p">The <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DRC Results Database', 'svrf_ur'); return false;">DRC Results Database</a> statement and the ‑rdbs_as_layers option are handled as
follows:</p>
<p class="p">If DRC Results Database statement
is used, it is observed along with any <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DRC Check Map', 'svrf_ur'); return false;">DRC Check Map</a> statements when -rdbs_as_layers is not specified. Layers
from output operations are not generated by dfm::new_layer since
they are saved in the specified results databases.</p>
<p class="p">If -rdbs_as_layers is specified,
neither DRC Results Database nor DRC Check Map statements are used,
and layers from output operations are generated by dfm::new_layer.</p>
</li>
</ul>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idcc5b5ca6-214a-49ea-96e0-2f5d7941ea4c"><span class="keyword ParameterName Optional">-comments</span> “<span class="keyword ParameterName OptionalReplaceable">comments_string</span>”</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
assigns <span class="keyword ParameterName OptionalReplaceable">comment_string </span>as
a property of a generated layer. The argument must be a Tcl string
and should be enclosed in double quotation marks (“ ”). Be aware
that the delimiters you use to enclose the <span class="keyword ParameterName OptionalReplaceable">comments_string</span> can
have an impact on how the string can be used in a future analysis
run. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id11b5ca09-8074-46c7-b134-f1d1df7b13e6">-keep_analyze_inputs</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the input layers to DFM Analyze operations in the rule script are
retained in memory after the script completes.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__ida709ae9a-2c8a-4868-9262-c6053c48de95">-keep_measure_inputs</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the input layers to DFM Measure operations in the rule script are
retained in memory after the script completes.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idf2e52b49-2d24-4be9-b2f5-f4ef073cf2fd">-keep_property_inputs</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the input layers to DFM Property operations in the rule script are
retained in memory after the script completes.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id5e3ef2a3-509e-4525-bf21-ac196192bc67">-keep_all_inputs</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the input layers to all DFM operations in the rule script are retained
in memory after the script completes.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__ida4554faf-597a-4545-8fb7-609ae1428d73">-list_checks</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used with the -dfm
or -drc option that returns a list of rule checks executed by the
dfm::new_layer command.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id455aa425-83f1-4d66-bded-c6c5bc784216">-rdbs_as_files</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the RDB options to DFM Analyze and DFM Measure, and DFM RDB operations,
should write RDBs rather than creating layers. May not be specified
with -rdbs_as_layers.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__ida6f870e1-864c-4811-a67d-e731d74b5611">-rdbs_as_layers</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
the RDB options to DFM Analyze and DFM Measure, DFM RDB operations,
and layer operations processed in -drc mode should return layers rather
than writing the layers to RDB files. When -keep_all_layers or -dfm
is also specified, -rdbs_as_layers has no effect except to suppress
warning messages about RDBs being saved as layers.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id7dee4b3a-9637-4223-a71b-47eda114875f">-make_nodal</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
to assign node numbers to generated layers whenever connectivity
can be passed to that layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idc8107dff-8b84-4b60-b84b-ad698c649ad6">-overwritable</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
to create new layers that can be overwritten by future dfm::new_layer
commands in the run. By default, new layers cannot be overwritten,
and any attempts to create a layer with a name that already exists
results in an error.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">For the -list_checks option,
a Tcl list. Otherwise no values are returned.</p>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Executes an SVRF or TVF script
that generates layer output. As layers are created by the operations
in the script, they are added to the hierarchical database (HDB)
in memory. Any layers that exist in the DFM database may be referenced
in the rule script.</p>
<p class="p">Because this command appears in a Tcl script, the SVRF or TVF
code is only processed by the rule compiler after the dfm::new_layer
command is executed. The Tcl pre-processor does not parse SVRF or
TVF syntax; hence, it is best to test your SVRF or TVF code against
the compiler using calibre -svrf or some other method prior to including
such code in dfm::new_layer commands. This helps to avoid rule file
compiler errors during a YieldServer run.</p>
<p class="p">Depending on the options to dfm::new_layer,
and on the way the layers are used in the rules, new layers created
by the rule script operations are either deleted from the HDB in
memory before dfm::new_layer completes or are maintained. The Arguments
section discusses these circumstances in detail. Note that TMP&lt;n&gt;
layers shown in the transcript and encrypted layers are never kept.</p>
<p class="p">Layers generated from rule checks
or layer derivations in a rule file script (those having “::” in them
in a transcript when a layer operation is performed) must have their
names quoted within an SVRF or TVF script. For example, the Calibre
transcript may show this for a derived layer:</p>
<pre class="pre codeblock"><code>check.prop::INT_POLY = INT [poly] &lt; 4.2</code></pre><p class="p">If the check.prop::INT layer
is referenced in a <span class="keyword ParameterName Required">-svrf</span> or <span class="keyword ParameterName Required">-tvf</span> block,
the layer name must be quoted. These layers might not be preserved
in memory depending on which dfm::new_layer options are used.</p>
<p class="p">Layer operations that require
connectivity on input layers may only be used if a connectivity model
exists in the database. The <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Database', 'svrf_ur'); return false;">DFM Database</a> CONNECT
keyword ensures this in a calibre ‑dfm run. If connectivity is not
present in the current DFM database, then Connect and Sconnect statements
may be used in the <span class="keyword ParameterName RequiredReplaceable">svrf_cmds</span> script.
The connectivity statements in the dfm::new_layer rule script return
an error if a connectivity model already exists. If a layer participates
in a Connect statement executed by dfm::new_layer, all outstanding
Tcl objects (such as Tcl iterators) in which the layer participates
are invalidated. To preserve any Connect changes, you must run <a class="xref fm:HeadingOnly" href="Command_DfmsaveRev_id9f991743.html#id9f991743-3984-4199-a932-594dc8ae6b58__Command_DfmsaveRev_id9f991743.xml#id9f991743-3984-4199-a932-594dc8ae6b58" title="Saves the current database revision.">dfm::save_rev</a>.</p>
<p class="p">Layer operations in the rule
script can access variables defined in previous dfm::new_layer commands
in the same YieldServer session. You can also access rule file values
from <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Variable', 'svrf_ur'); return false;">Variable</a> statements
in the original -dfm run or from previous dfm::new_layer commands
in the same YieldServer session. You can define new Variable statements
in the script to create new variables, but you cannot reset existing
variables.</p>
<p class="p">By default, an empty original layer referenced by dfm::new_layer
causes a warning, and an empty layer is created. To change the severity
to an error, you can use the <a class="xref fm:HeadingOnly" href="Command_Dfmsetnewlayererrorseverity_idba22c282.html#idba22c282-79a6-4eb4-b821-1b9faa6145fe__Command_Dfmsetnewlayererrorseverity_idba22c282.xml#idba22c282-79a6-4eb4-b821-1b9faa6145fe" title="Specifies an error exception severity for dfm::new_layer.">dfm::set_new_layer_error_severity</a> command.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id211b792c-0bcd-4cc3-9367-f77bc0c4b884"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Assuming that A, B, and C are existing
layers, this example executes the DFM Property operation and creates
the new layer X, which is kept in memory after it is generated.</p>
<pre class="pre codeblock leveled"><code>   dfm::new_layer -svrf {X = DFM PROPERTY A B C [RATIO = AREA(B)/AREA(C)]}</code></pre></div>
<div class="section Subsection" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id73d0b1cc-98b4-4e25-8b08-7fb0b1519072"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This shows how to output connectivity
layers by net name to a layout database. The layout nets from which
polygons are exported correspond to source nets. In this case, OASIS
is used, but GDS is also an option with dfm::write_gds. Connectivity
and device information must exist in the DFM database.</p>
<pre class="pre codeblock leveled"><code># source nets for export 
set mynets {PWR GND} 
 
# determine the source netlist name from the rule file and run LVS 
# with that source against the DFM database layout 
set source_path [<a class="xref fm:HeadingOnly" href="Command_DfmgetSvrfData_id913c6f56.html#id913c6f56-e74d-4ef4-8e70-520a31ea4c26__Command_DfmgetSvrfData_id913c6f56.xml#id913c6f56-e74d-4ef4-8e70-520a31ea4c26" title="Retrieves information from an SVRF analyzer or SVRF layer trace object.">dfm::get_svrf_data</a> \
  [<a class="xref fm:HeadingOnly" href="Command_DfmcreateSvrfAnalyzer_ida0639e9a.html#ida0639e9a-589e-4f09-8142-37d02528cc8c__Command_DfmcreateSvrfAnalyzer_ida0639e9a.xml#ida0639e9a-589e-4f09-8142-37d02528cc8c" title="Returns a rule file analyzer object. The object is used in a subsequent dfm::get_svrf_data command.">dfm::create_svrf_analyzer</a>] -specification "source path"] 
<a class="xref fm:HeadingOnly" href="Command_DfmrunCompare_id2f7d968a.html#id2f7d968a-2d30-48e4-aba4-3775ff471274__Command_DfmrunCompare_id2f7d968a.xml#id2f7d968a-2d30-48e4-aba4-3775ff471274" title="Executes an LVS-H comparison between a source netlist file and the layout represented by the DFM database.">dfm::run_compare</a> -source_netlist $source_path -auto 
 
# find layout net names corresponding to the source names 
foreach net $mynets { 
  lappend my_layout_nets [<a class="xref fm:HeadingOnly" href="Command_DfmgetLayoutName_idde65d5f3.html#idde65d5f3-e11a-4a3b-afd0-bef239cf1b06__Command_DfmgetLayoutName_idde65d5f3.xml#idde65d5f3-e11a-4a3b-afd0-bef239cf1b06" title="Returns corresponding layout information for source design objects in a cross-reference (XDB) database.">dfm::get_layout_name</a> $net -net] 
} 
 
# set up layer operations to export net shapes 
set svrf "" 
set out_layers [list] 
foreach metal {metal1 metal2} { 
  set metal_out ${metal}_out 
  append svrf "$metal_out = <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Net', 'svrf_ur'); return false;">NET</a> $metal $my_layout_nets \n" 
  lappend out_layers $metal_out 
}  
# create the layers 
dfm::new_layer -svrf $svrf -keep_all_layers 
 
# export net polygons to OASIS. begin with layer number 1. 
set layer_info "" 
set layer_nbr 1 
foreach layer $out_layers { 
  append layer_info "-layer_info \{$layer $layer_nbr 0\} " 
  incr layer_nbr 
}  
eval "<a class="xref fm:HeadingOnly" href="Command_DfmwriteOas_id386ce239.html#id386ce239-8dc9-48ae-9035-830eedac486f__Command_DfmwriteOas_id386ce239.xml#id386ce239-8dc9-48ae-9035-830eedac486f" title="Writes specified layers to an OASIS database file. The various options configure the structure of the database.">dfm::write_oas</a> $layer_info -file out.oas" </code></pre></div>
<div class="section Subsection" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id33b9c38d-76da-415c-8333-98ac343ae455"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">Assuming that M1 is an existing
layer, this example does the following:</p>
<ul class="ul"><li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__iddbe9399a-28f0-4a62-98aa-3859866a5d3a"><p class="p">Executes the analyze check.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id9d69e820-2951-4bad-89a1-0fed221d537c"><p class="p">Keeps the RDB layer from the
DFM Analyze operation in memory and saves it to the DFM database
rather than writing it to an RDB (-dfm is used). </p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id1eb0f469-3eac-44de-ba8d-a226d3db591a"><p class="p">Keeps layer MET1 in memory after
the script completes (-keep_analyze_inputs option is used).</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id48e21a8b-2638-4241-aee3-677db49508d8"><p class="p">If M1 is nodal, MET1 will also
be nodal because the -make_nodal option is present.</p>
</li>
<li class="li" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id86ee5810-ba2a-4863-af1d-b4dd6f178c61"><p class="p">Attaches the comment “YieldServer
generated analyze layer” to the ANALYZE RDB layer and MET1. </p>
<pre class="pre codeblock leveled"><code>dfm::new_layer -dfm -keep_analyze_inputs -make_nodal -svrf { 
    analyze { 
        MET1 = COPY M1 
        DFM ANALYZE MET1 [~~COUNT(MET1)] &gt; 0 WINDOW 100  
        RDB ONLY result.rdb  
    } 
    DFM SELECT CHECK "analyze" 
} -comments {YieldServer generated analyze layer} </code></pre></li>
</ul>
</div>
<div class="section Subsection" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__id78863217-a141-4643-9f4e-39fee2352ad9"><h2 class="title Subheading sectiontitle">Example 4</h2><pre class="pre codeblock leveled"><code># create a new layer using DRC mode and save the results to ys_drc_db 
# INT_POLY is not generated in the DFM database because -drc is used 
# without -rdbs_as_layers.
dfm::new_layer -drc -svrf {  
   check.prop{  
      INT_POLY = INT [POLY] &lt; 4.2 
      COPY INT_POLY 
   } 
  DRC SELECT CHECK check.prop 
  DRC RESULTS DATABASE ys_drc_db 
 }  </code></pre></div>
<div class="section Subsection" id="idec43bb49-f6ce-4ff5-9665-37610b9b5e80__idce2547f7-8734-4656-aff7-09eaeee56ad7"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">The -list_check option returns a list of rule checks executed
by the dfm::new_layer command.</p>
<pre class="pre codeblock"><code># the "checks" variable contains the "TEST_CHECK" rule check name
set checks [dfm::new_layer -list_checks -dfm -svrf {
                          DFM SELECT CHECK TEST_CHECK
                          TEST_CHECK {
                            y = DFM PROPERTY M1 [A = AREA(M1)]
                            COPY y
                          }
           }]</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CommandReferenceDictionary_id77718779.html" title="Calibre YieldServer commands can be grouped into families that perform closely related functions.">Command Reference Dictionary</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../calbr_ys_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', '99TABLE Layer Management Commands', 'calbr_ys_ref'); return false;">Layer Management Commands</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ys_ref"
                DocTitle = "Calibre® YieldServer Reference Manual"
                PageTitle = "dfm::new_layer"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmnewLayer_idec43bb49.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® YieldServer Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>