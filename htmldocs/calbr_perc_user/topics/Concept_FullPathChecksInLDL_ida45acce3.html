<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Full Path Checks in LDL" />
<meta name="abstract" content="LDL resistance check simulations occur in two fundamental ways: source and sink on the same net, and source and sink on different nets. When source and sink are on the same net, perc::export_pin_pair is used to export the pins. When source and sink are on differing nets, perc::export_connection and perc::export_pin_pair are used with the -path option. This latter method is referred to as “full path” checking. It applies to both CD and P2P checks." />
<meta name="description" content="LDL resistance check simulations occur in two fundamental ways: source and sink on the same net, and source and sink on different nets. When source and sink are on the same net, perc::export_pin_pair is used to export the pins. When source and sink are on differing nets, perc::export_connection and perc::export_pin_pair are used with the -path option. This latter method is referred to as “full path” checking. It applies to both CD and P2P checks." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Full Path Checks in LDL</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Full Path Checks in LDL" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Full Path Checks in LDL</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">LDL resistance check simulations occur
in two fundamental ways: source and sink on the same net, and source
and sink on different nets. When source and sink are on the same
net, perc::export_pin_pair is used to export the pins. When source
and sink are on differing nets, perc::export_connection and perc::export_pin_pair
are used with the -path option. This latter method is referred to
as “full path” checking. It applies to both CD and P2P checks.</span>
</div>
<p class="p">This
discussion focuses on modeling current density, but it could equally
apply to point-to-point resistance. </p>
<p class="p">Assume the following schematic defines circuit topology that
you want to check:</p>
<div class="fig fignone" id="ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da__id957098ed-93f0-410a-831f-2d5e668fda85"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Protection
Diode</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:108" src="../graphics/ldl_cd_diode.png" /></div><br /></div>
<p class="p">Assume the goal is to simulate the current density from the GND
port, through the diode, and to the PWR port. This can be done in
two steps or in one.</p>
<p class="p">No matter how the check is performed, an initialization procedure
must define some appropriate net types, such as here:</p>
<pre class="pre codeblock"><code>LVS POWER  NAME PWR
LVS GROUND NAME GND
...

proc init_1 {} {
  perc::define_net_type POWER  lvsPower
  perc::define_net_type GROUND lvsGround
  perc::define_net_type PAD    lvsTopPorts
  perc::define_type_set IO     {PAD &amp;&amp; !POWER &amp;&amp; !GROUND}
}</code></pre><p class="p">In some cases, path type propagation is also necessary. But this
circuit is simple and requires no propagation path definition.</p>
<p class="p">When pin export is performed in two steps, it handles the GND
and PWR nets separately. Here is an example of a code sequence in
the topological rules to do the pin export:</p>
<pre class="pre codeblock"><code># for an instance in $d_inst, export the pins according to which
# supply they are connected to.
if {[perc::is_pin_of_net_type $d_inst pos GROUND] == 1} {
    perc::export_pin_pair [list $d_inst pos lvsTopPort port] -cd
    return 0
} elseif {[perc::is_pin_of_net_type $d_inst neg POWER] == 1} {
    perc::export_pin_pair [list lvsTopPort port $d_inst neg] -cd
    return 0
} else {
    perc::report_base_result -title "Unexpected D pin connection" \
      -value "[perc::name $d_inst -fromTop]"
    return 1
}</code></pre><p class="p">Here, the first conditional branch handles the GND net, the second
branch handles the PWR net, and the third branch handles any anomalous
connections. Other code in the topological rules would need to handle
a case where there is no device instance from which to export pins.</p>
<p class="p">Notice the code checks net types instead of path types because
path type propagation is not performed (as mentioned previously,
it is unnecessary for this circuit).</p>
<p class="p">When the pin export is handled in a single step, all of the ports
and pins are exported starting from the GND port, across the device,
and to the PWR port. Here is an example code sequence:</p>
<pre class="pre codeblock"><code>if {[perc::is_pin_of_net_type $d_inst pos GROUND] == 1} {
  perc::export_pin_pair [list $d_inst pos lvsTopPort port]  -cd \
    -path pwr_gnd
  perc::export_connection [list $d_inst pos $d_inst neg]    -cd \
    -path pwr_gnd
  perc::export_pin_pair [list lvsTopPort port $d_inst neg]  -cd \
    -path pwr_gnd
  return 0
} else {
    perc::report_base_result -title "Unexpected D pos pin connection" \
      -value "[perc::name $d_inst -fromTop]"
    return 1
}</code></pre><p class="p">There are two conditional branches instead of three in this case.
The first branch detects if there is a pos pin connected to a GROUND
net type. If there is, then the entire path from GND to PWR through
the diode’s pins is exported. The -path options all have the same
argument to indicate the exported pins/ports are on the same path.
The second branch handles any anomalous pos pin connections. Again,
other code in the topological rules would need to handle a case
where there is no device instance in $d_inst.</p>
<div class="section Subsections"><div class="section Subsection" id="ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da__id2391fa1b-a5ab-4db0-8754-c11c1fd44a23"><h2 class="title Subheading sectiontitle">Defective Paths</h2><p class="p">Paths can be defective for two reasons: there is no complete
path between the initial source and the final sink, or there is
a bad setup in the rules. When a path is incomplete due to rule
file setup, it is called a <span class="ph FontProperty emphasis">disjoint path</span>.</p>
<p class="p">To illustrate the first reason, if the diode is absent in <a class="xref fm:Figure" href="#ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da__id957098ed-93f0-410a-831f-2d5e668fda85">Figure 1</a>, then there is no path
to consider between PWR and GND (at least not one the rules shown
previously anticipate). Any resistance checks that depend upon successful
export of the diode’s pins would fail with a runtime error:</p>
<pre class="pre codeblock"><code>ERROR: PERC LDL: ERROR - Cannot import PERC data for check type "&lt;type&gt;"</code></pre><p class="p">where the &lt;type&gt; is cd or p2p.</p>
<p class="p">For the second reason, assume the previous code excerpt had this
instead:</p>
<pre class="pre codeblock"><code>if {[perc::is_pin_of_net_type $d_inst pos GROUND] == 1} {
  perc::export_pin_pair [list $d_inst pos lvsTopPort port]  -cd \
    -path pwr_gnd
  perc::export_connection [list $d_inst pos $d_inst neg]    -cd \
    -path pwr_gnd
<span class="ph CodeHighlight orange"># missing pin export here</span>
  return 0
} else {
    perc::report_base_result -title "Unexpected D pos pin connection" \
      -value "[perc::name $d_inst -fromTop]"
    return 1
}</code></pre><p class="p">The export of the diode neg pin to the PWR port is missing. This
causes the following warnings to be issued:</p>
<pre class="pre codeblock"><code>PERC LDL WARNING: Receiver pin in connection is not used in path pin pairs
for 'rule_check:pwr_gnd'.
                : {d[d] D0 pos} D {d[d] D0 neg} R
                : This may result in unwanted measurements or disjoint paths.

WARNING: SIMULATION PATH (NETGROUP = NG_1) has no sources / sinks : pwr_gnd</code></pre><p class="p">The receiver pin (R) is the neg pin and is unexported. (A similar
warning can occur for a driver pin D.) Any rule check that depends
exclusively upon the pwr_gnd connection path being completely exported
is not executed. However, if a rule check only partially depends
upon the unexported pin, then the portion of the rule check that
has enough information to complete a simulation will do so. </p>
<p class="p">For example, assume the previous code excerpt were as follows:</p>
<pre class="pre codeblock"><code>if {[perc::is_pin_of_net_type $d_inst pos GROUND] == 1} {
  perc::export_pin_pair [list $d_inst pos lvsTopPort port]  -cd \
    -path <span class="ph CodeHighlight orange">pwr_gnd</span>
  perc::export_connection [list $d_inst pos $d_inst neg]    -cd \
    -path <span class="ph CodeHighlight orange">pwr_gnd</span>
<span class="ph CodeHighlight orange"># missing pin export here</span>
} elseif {[perc::is_pin_of_net_type $d_inst pos IO] == 1} {
    perc::export_pin_pair [list $d_inst pos lvsTopPort port]  -cd \
      -path <span class="ph CodeHighlight green">pwr_io</span>
    perc::export_connection [list $d_inst pos $d_inst neg]    -cd \
      -path <span class="ph CodeHighlight green">pwr_io</span>
    perc::export_pin_pair [lvsTopPort port list $d_inst neg ] -cd \
      -path <span class="ph CodeHighlight green">pwr_io</span>
} else {
    perc::report_base_result -title "Unexpected D pos pin connection" \
      -value "[perc::name $d_inst -fromTop]"
    return 1
}
return 0
...</code></pre><p class="p">It may be that the pwr_io path produces reasonable
simulation results because that path is completely defined, while
the pwr_gnd path is not. This may not be what is intended, so consider
any related WARNING messages.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CurrentDensityChecks_id88453e90.html" title="Calibre PERC Logic Driven Layout Current Density (LDL CD) checking calculates the current flow through layout interconnect layers and outputs polygon-based results that meet the specified constraints. This application uses Calibre PERC, Calibre nmDRC, Calibre nmLVS, Calibre DFM, and Calibre xRC applications in a single package to perform the calculations.">Current Density Checks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "Full Path Checks in LDL"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_FullPathChecksInLDL_ida45acce3.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>