<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::get_one_pattern" />
<meta name="abstract" content="Creates a pattern iterator." />
<meta name="description" content="Creates a pattern iterator." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0b6dc0fc-6241-4679-9c86-7d0be6871edb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::get_one_pattern</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::get_one_pattern" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::get_one_pattern </h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC iterator creation and control command.</p>
<p class="shortdesc">Creates a pattern iterator.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::get_one_pattern -patternType</span> <span class="keyword ParameterName RequiredReplaceable">name </span><span class="keyword ParameterName Required">-patternNode</span> <span class="keyword ParameterName RequiredReplaceable">node_iterator_pair_list<br />
</span>[-hierarchyLimit <span class="keyword ParameterName OptionalReplaceable">levels</span>]<br />
[-patternSupplyPorts {<span class="keyword ParameterName OptionalDefault">REQUIRED</span> | OPTIONAL | <span class="keyword ParameterName OptionalReplaceable">dynamic_list</span>}]<br />
[-patternPortsShortable {<span class="keyword ParameterName OptionalDefault">NO</span> | YES | <span class="keyword ParameterName OptionalReplaceable">port_name_list</span>}]<br />
[-patternNodeCondition <span class="keyword ParameterName OptionalReplaceable">device_condition_pair_list</span>]<br />
[-patternNodeSubtype <span class="keyword ParameterName OptionalReplaceable">node_subtype_pair_list</span>]<br />
[-patternNodeProperty <span class="keyword ParameterName OptionalReplaceable">node_constraint_pair_list</span>]<br />
[-patternNodePinNetType <span class="keyword ParameterName OptionalReplaceable">node_pin_net_type_pair_list</span>]<br />
[-patternNodePinPathType <span class="keyword ParameterName OptionalReplaceable">node_pin_path_type_pair_list</span>]<br />
[-patternNodeNetType <span class="keyword ParameterName OptionalReplaceable">node_net_type_pair_list</span>]<br />
[-patternNodePathType <span class="keyword ParameterName OptionalReplaceable">node_path_type_pair_list</span>]<br />
[-patternNodeExactMatch "[PIN] [PROPERTY] [SUBTYPE]"]<br />
<span class="keyword ParameterName Optional">[-opaqueCell </span><span class="keyword ParameterName OptionalReplaceable">cell_name_list</span><span class="keyword ParameterName Optional">]</span></p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Given a SPICE pattern template
and an initial correspondence point (a device or net in the design
netlist and the corresponding device or net in the pattern template),
this command searches the design for a group of matching devices
that are connected in exactly the same way as in the pattern template.
If found, this group of devices and their connecting nets form a pattern
instance of the template, and this command returns a handle (pattern
iterator) to the pattern instance. This command may be specified
any number of times in a Tcl proc.</p>
<p class="p">“<a class="xref fm:HeadingAndPage" href="MGCChap_PatternBasedChecks_id1bed4e74.html#id1bed4e74-7345-45f4-a8aa-47551e0cf7d8__MGCChap_PatternBasedChecks_id1bed4e74.xml#id1bed4e74-7345-45f4-a8aa-47551e0cf7d8" title="Calibre PERC pattern-based checks allow you to specify SPICE circuit topology to be matched when performing circuit verification. Specifying a pattern topology to match can be easier than trying to code low-level commands to search for the topology.">Pattern-Based Checks</a>” discusses
details of pattern matching and should be reviewed before using
this command.</p>
<p class="p">A pattern template file is specified
in the rule file using the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Pattern Path', 'svrf_ur'); return false;">PERC Pattern Path</a> specification statement or in a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> PATTERN
keyword set. A pattern template is specified as a SPICE subcircuit,
and the <span class="keyword ParameterName Required">-patternType</span> <span class="keyword ParameterName RequiredReplaceable">name</span> is
a subcircuit name. </p>
<p class="p">By default, the command searches
the entire design until it finds a pattern match. The ‑hierarchyLimit
option limits the number of hierarchical levels that are searched
relative to the <span class="keyword ParameterName Required">‑patternNode</span> correspondence
point in the design. For example, -hierarchyLimit 3 limits the pattern
search to three levels of hierarchy relative to the correspondence
point in the design. Appropriate use of -hierarchyLimit can greatly
improve performance.</p>
<p class="p">As its name implies, this command
returns one pattern device or net instance (if found). In the case
where there are several possible matching instances, one of them
is arbitrarily selected. This command does not return a value until
either it finds a pattern instance, or it determines no matching
pattern exists in the design. As a result, performance may vary
from template to template.</p>
<p class="p">Avoid choosing an external net (a port net), especially power
or ground, as an initial correspondence point for the <span class="keyword ParameterName Required">‑patternNode </span>argument.</p>
<p class="p">Power and ground nets in the
design are taken from the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Power Name', 'svrf_ur'); return false;">LVS Power Name</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Ground Name', 'svrf_ur'); return false;">LVS Ground Name</a> statements in the rule file by default. The criteria
for matching design supply nets can be changed using the <a class="xref fm:HeadingOnly" href="Command_PercsetParameters_id7c853310.html#id7c853310-846b-4a3f-a537-97a3c94f9c05__Command_PercsetParameters_id7c853310.xml#id7c853310-846b-4a3f-a537-97a3c94f9c05" title="Defines various settings for the runtime environment.">perc::set_parameters</a> -patternPowerNetType
and ‑patternGroundNetType options. Template power and ground names
are expected to be matchable by LVS Power Name and LVS Ground Name
statements by default. </p>
<p class="p">Supply ports
are required for a template when the default -patternSupplyPorts
REQUIRED setting is used (at least one supply port must have a power
or ground net type in the default operating mode). The -patternSupplyPorts
OPTIONAL keyword allows use of a template without supply ports.
This option can reduce performance, so it is always better to include supply
ports in the template. The -patternSupplyPorts DYNAMIC keyword allows
matching of template ports to any other net in the design based
upon connectivity rather than by net type. If using ‑patternSupplyPorts
DYNAMIC, specify a port list whenever possible. See the <span class="keyword ParameterName OptionalReplaceable">dynamic_list</span> argument
definition for details.</p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">Avoid
using DYNAMIC unless it is absolutely necessary. This option can
cause increased memory use.</p>
</div>
<p class="p">To illustrate how the DYNAMIC option works, consider this template
subcircuit:</p>
<pre class="pre codeblock"><code>.SUBCKT level_shifter bias1 bias2 derived_power vcca gnda 
Mp1 local1 bias1 vcca vcca pmos 
Mp2 derived_power bias1 local1 vcca pmos 
Mn1 derived_power bias2 gnda gnda nmos 
.ENDS </code></pre><p class="p">Assume these statements are specified in the rules:</p>
<pre class="pre codeblock"><code>LVS POWER NAME vcc?
LVS GROUND NAME gnd?</code></pre><p class="p">By default, these settings would cause the vcca and gnda ports
in the template to be recognized as supply nets, and any matches
to those nets in the design could only be made by corresponding
supply nets. As a result, this subcircuit in the design would not
be matched:</p>
<pre class="pre codeblock"><code>.SUBCKT LSHIFT2 b1 b2 vcc_out vcca vss 
M25 local1 b1 vcca vcca PMOS_HV L=65e-9 W=2e-6 
M26 vcc_out b1 local1 vcca PMOS_HV L=65e-9 W=2e-6 
M27 vcc_out b2 vss vss NMOS_HV 
.ENDS 
...
Xlshift2 BIAS1 BIAS2 VCC1P8 VCC3P3 GND LSHIFT2 </code></pre><p class="p">The reason it is not matched is VCC1P8 and
VCC3P3 are both power nets as specified in the rules. But the level_shifter
template only has one power supply port, so, by default, there is
no pattern match. Specifying “-patternSupplyPorts [list DYNAMIC
[list derived_power]]” would allow the template to match the design,
but that comes with a performance penalty. Specifying derived_power
as an LVS Power Name, or changing derived_power to a name beginning
with vcc, would be preferable. When evaluating a layout design, <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout Rename Text', 'svrf_ur'); return false;">Layout Rename Text</a> can
be useful in mitigating naming mismatches with the pattern template.</p>
<p class="p">Pattern ports are not shorted
together by default. If you believe ports could be shorted, then short
them within the pattern itself rather than specifying ‑patternPortsShortable
YES.</p>
<p class="p">Devices and nets can be specified
hierarchically from the top level of the checked design for any of
the parameters that specify devices or nets. For example, this is
allowed: “x1/x2/M0”.</p>
<p class="p">The -patternNodeExactMatch option
is global and applies to all devices in a pattern template. This
global behavior can be overridden by the -patternNodeSubtype and
-patternNodeProperty option on a device-by-device basis. More specifically,
Calibre PERC follows three steps when examining each -patternNodeExactMatch
condition (PIN, PROPERTY, or SUBTYPE) to determine if a device in
the design is a match for a device in the pattern template:</p>
<ol class="ol"><li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id12211444-814a-43c2-afab-37375ee023c7"><p class="p">If the device in the pattern template
is named in the condition’s node-specific option (‑patternNodeSubtype
for condition SUBTYPE and -patternNodeProperty for condition PROPERTY),
then use the node-specific option to check the design device’s condition. In
this case, -patternNodeExactMatch is ignored for the design device. </p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id8a85d17f-3d5f-4c85-a5a6-3dbaf91c787a"><p class="p">If the condition is not checked
in Step 1, then use the -patternNodeExactMatch option (if specified)
to check the design device’s condition.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idaa68b1ac-2144-469f-953f-68cd13d861aa"><p class="p">If the condition is not checked
in Step 1 or Step 2, then it is ignored. This is the default behavior.</p>
</li>
</ol>
<p class="p">By default, perc<span class="ph fmvar:double_colon">::</span>get_one_pattern searches for a single
matching design device for each template device. This changes if
the template device is configurable. If the pattern template is configurable
(see “<a class="xref fm:HeadingAndPage" href="Concept_ConfigurablePatternDevices_id1f028d61.html#id1f028d61-a2ea-432e-8515-2cde8e154a54__Concept_ConfigurablePatternDevices_id1f028d61.xml#id1f028d61-a2ea-432e-8515-2cde8e154a54" title="By default, device matching in the pattern template is one-to-one. However, there may be cases where you want a single device in the template to match a number of series or parallel devices in the main design. This is where configurable devices in the template are used.">Configurable Pattern Devices</a>”), then for each potential matching design
device, the tool first finds all devices connected to it in series
or in parallel, depending on the perc_config property specification
in the template. Then the tool determines if a match exists. A configurable
pattern template also introduces restrictions on the ‑patternNodeCondition,
-patternNodeExactMatch PROPERTY, -patternNodePinNetType, ‑patternNodePinPathType,
and -patternNodeProperty options, as discussed in the “<a class="xref" href="#id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id105b5d88-8685-410a-b166-0003a990bfcf">Arguments</a>” section.</p>
<p class="p">By default, this command traverses
nets cell-by-cell until it reaches the lowest cell in the hierarchy
that completely contains the net, as discussed under “<a class="xref fm:HeadingAndPage" href="Concept_HierarchyTraversalByRuleCheckCommands_id73bf23be.html#id73bf23be-1f78-46a5-accc-56357a93c933__Concept_HierarchyTraversalByRuleCheckCommands_id73bf23be.xml#id73bf23be-1f78-46a5-accc-56357a93c933" title="Certain Calibre PERC rule check commands traverse hierarchy. They process nets on a per-cell basis, and they proceed through the hierarchy as needed to return their outputs. How this is done is important to understand when coding and evaluating rule checks.">Hierarchy Traversal by Rule Check Commands</a>”. The -opaqueCell option changes
this behavior as described under “<a class="xref fm:HeadingAndPage" href="Concept_HierarchyTraversalOpaquecell_id81e7e878.html#id81e7e878-7e09-46c9-acf7-1ddda1873aeb__Concept_HierarchyTraversalOpaquecell_id81e7e878.xml#id81e7e878-7e09-46c9-acf7-1ddda1873aeb" title="The high-level commands like perc::check_device, perc::check_net, perc::check_device_and_net check, and perc::check_data check objects cell-by-cell by default. When nets are processed in the context of these commands, they automatically perform net traversal across cell boundaries when needed in the context of the lowest cell in the hierarchy that completely contains a net.">Hierarchy Traversal and -opaqueCell</a>”. If a high-level command specifies ‑opaqueCell
and perc::get_one_pattern is called in the high-level command’s
-condition proc, then perc::get_one_pattern may not specify -opaqueCell.
If the high-level command does not specify ‑opaqueCell, then perc::get_one_pattern
may specify it, and the <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span> must
be uniform throughout the rule check. Because net traversal behavior
is not available at initialization time, perc::get_one_pattern is
not allowed in an initialization procedure without the ‑opaqueCell
"*" option. </p>
<p class="p">This command is used with <a class="xref fm:HeadingOnly" href="Command_PercgetInstancesInPattern_idaa4801f2.html#idaa4801f2-6232-41a4-8661-57ec3ea1aaee__Command_PercgetInstancesInPattern_idaa4801f2.xml#idaa4801f2-6232-41a4-8661-57ec3ea1aaee" title="Returns a list of instance iterators from a matched pattern.">perc::get_instances_in_pattern</a>, <a class="xref fm:HeadingOnly" href="Command_PercgetNetsInPattern_id57a3e94b.html#id57a3e94b-bbd0-4389-86de-6ccb8d6b8137__Command_PercgetNetsInPattern_id57a3e94b.xml#id57a3e94b-bbd0-4389-86de-6ccb8d6b8137" title="Returns a list of net iterators from a matched pattern.">perc::get_nets_in_pattern</a>, and <a class="xref fm:HeadingOnly" href="Command_PercgetPatternTemplateData_id0e5197e4.html#id0e5197e4-11e3-4073-b1e8-6fd4a66b03f9__Command_PercgetPatternTemplateData_id0e5197e4.xml#id0e5197e4-11e3-4073-b1e8-6fd4a66b03f9" title="Returns a list of device, net, or port names, or device properties from a template pattern subcircuit.">perc::get_pattern_template_data</a>.</p>
</div>
<div class="section Arguments" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id105b5d88-8685-410a-b166-0003a990bfcf"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id603cbdbd-7aa7-4b6d-bc4f-fefbfa0c8bd9"><span class="keyword ParameterName Required">-patternType</span> <span class="keyword ParameterName RequiredReplaceable">name</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
a subcircuit name in the SPICE pattern file. The subcircuit serves
as a template for this command. See “<a class="xref fm:HeadingAndPage" href="Concept_PatternTemplateSpecificationCriteria_id9d843770.html#id9d843770-e688-4c36-92af-fd6da36caf16__Concept_PatternTemplateSpecificationCriteria_id9d843770.xml#id9d843770-e688-4c36-92af-fd6da36caf16" title="A pattern template is a SPICE subcircuit that defines topology of interest. Pattern templates appear in a file named in a PERC Pattern Path specification statement or in a PERC Load PATTERN keyword set.">Pattern Template Specification Criteria</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id6d8476da-ebec-487b-9740-03b619cb04e8"><span class="keyword ParameterName Required">-patternNode</span> <span class="keyword ParameterName RequiredReplaceable">node_iterator_pair_list</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument and Tcl
list that specify one or more correspondence points to start the matching
process. The <span class="keyword ParameterName RequiredReplaceable">node_iterator_pair_list </span>must
be a non-empty Tcl list that contains a template node name and a
design node iterator such as are generated by <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> or <a class="xref fm:HeadingOnly" href="Command_PerccheckNet_id75162cb0.html#id75162cb0-c882-4d1d-9273-9095a7dd5b64__Command_PerccheckNet_id75162cb0.xml#id75162cb0-c882-4d1d-9273-9095a7dd5b64" title="Checks nets in the design for nets that match the specified conditions. By default, all nets are matched.">perc::check_net</a>. The device or net in the design
referenced by the node iterator must be matched to the named device
or net in the template. Since it contains iterators, the argument list
must be constructed with the Tcl “list” command. Here is an example
of two correspondence points:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idd976ce2f-0e97-4da6-b1cd-5966359242d8"><p class="p Opt">-patternNode
[list “M0” $dev “net2” $net]</p>
</li>
</ul>
<p class="p">The M0 and net2 arguments are
template objects. The $dev and $net arguments are iterators containing
design objects. The respective pairs of arguments form correspondence
points the command attempts to match.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idc0d0fa6c-5a91-4af0-808c-40d39f3bb7a0">-hierarchyLimit <span class="keyword ParameterName OptionalReplaceable">levels</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
specifies the number of hierarchical levels to search for a pattern
match relative to the <span class="keyword ParameterName Required">-patternNode </span>correspondence
point in the design. The <span class="keyword ParameterName OptionalReplaceable">levels</span> argument
is a non-negative integer corresponding to the number of levels
of hierarchy to search. Specifying 0 limits the search to the cell
immediately containing the correspondence point (that is, no hierarchical
traversal).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id1c1356d5-7d02-4104-87df-412ea6fc481e">-patternSupplyPorts {<span class="keyword ParameterName OptionalDefault">REQUIRED</span> | OPTIONAL | <span class="keyword ParameterName OptionalReplaceable">dynamic_list</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
specifies the power and ground matching rules. There are three values:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id719e197b-9d50-4901-898a-86975a73223e"><p class="p Opt">REQUIRED
— Specifies that a pattern template must have at least one external
net having a net type corresponding to power or ground. This is
the default setting.</p>
</li>
<li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idff33906a-564f-4146-89c8-853a6fb641bd"><p class="p Opt">OPTIONAL
— Specifies that a template need not have external nets with an
assigned net type corresponding to power or ground. External supply
nets are matched by LVS Power Name or LVS Ground Name specifications.
This option can have an adverse effect upon performance.</p>
</li>
<li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idbe68fc22-67c1-41ad-8454-2cfbd3d9fc7d"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">dynamic_list</span> —
This is specified either by the DYNAMIC keyword alone or as a Tcl
list of lists: [list DYNAMIC [<span class="keyword ParameterName OptionalReplaceable">port_list</span>]].
Without the <span class="keyword ParameterName OptionalReplaceable">port_list</span>,
DYNAMIC specifies that a template’s external nets do not have an
assigned net type, and the usual power or ground matching rules
do not apply. The matching is based on connectivity, and an external
net can be matched to a power net, ground net, or any other net
in the design. This option should only be used as a last resort.
If it is used, a <span class="keyword ParameterName OptionalReplaceable">port_list </span>should
be specified that contains at least one port name that exists in
the pattern template.</p>
<p class="p">The optional <span class="keyword ParameterName OptionalReplaceable">port_list</span> argument
is a Tcl list of port names that restricts the dynamic matching
to just the specified ports. Ports whose names are not in the <span class="keyword ParameterName OptionalReplaceable">port_list</span> are handled
by the default power or ground matching rules. See <a class="xref fm:HeadingOnly" href="#id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idc50378cf-0676-4469-809b-a940a2d73e58">Example 3</a>.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__ida2ffbc82-4211-487d-8df1-39116d70158c">-patternPortsShortable {<span class="keyword ParameterName OptionalDefault">NO</span> | YES | <span class="keyword ParameterName OptionalReplaceable">port_name_list</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
specifies how shorting of external nets during pattern matching
is handled. These are the possible arguments:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idc98dfaeb-2bf2-4720-8d31-60bb220a366c"><p class="p Opt">NO
— Specifies that a template’s external nets are separate. Each net
must be matched to a unique net in the design. This is the default
setting.</p>
</li>
<li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id6c9a7052-765e-46b9-a971-269396219afc"><p class="p Opt">YES
— Specifies that a template’s external nets can be shorted. Several
external nets can be matched to the same net in the design.</p>
</li>
<li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idb35289d4-ee1f-453c-8577-f42ce105f1a8"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">port_name_list </span>—
Specifies a template’s external nets in the same <span class="keyword ParameterName OptionalReplaceable">port_name_list</span> can be
shorted, while external nets not in the same <span class="keyword ParameterName OptionalReplaceable">port_name_list </span>must
be matched to different nets in the design. The <span class="keyword ParameterName OptionalReplaceable">port_name_list</span> is
a Tcl list of port names.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id8395a6fd-4bbb-402e-981d-106064797d9f">-patternNodeCondition <span class="keyword ParameterName OptionalReplaceable">device_condition_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check specified devices in the design netlist. The <span class="keyword ParameterName OptionalReplaceable">device_condition_pair_list</span> must
be a Tcl list that contains a template device name and a name of
a Tcl proc that takes an instance iterator as its only input argument.
The proc must return the value of 1 if a device meets its condition
and 0 otherwise.</p>
<p class="p">During pattern matching, Calibre
PERC applies the proc to any device in the design that potentially
matches the specified template device. A design device is matched
to the template device only if the return value is 1. Here is an
example that specifies the condition procs for two template devices
M0 and M1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id4fa9d48b-50f8-4fce-9f4d-a7e0f8caacbc"><p class="p Opt">-patternNodeCondition
{ M0 proc1 M1 proc2 }</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">device_condition_pair_list</span> may
not reference a device having a “perc_config” property in the pattern
template.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id53f18a28-a104-45fb-928b-115b86ebddd6">-patternNodeSubtype <span class="keyword ParameterName OptionalReplaceable">node_subtype_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check the subtypes of the devices in the design netlist.
The <span class="keyword ParameterName OptionalReplaceable">node_subtype_pair_list</span> must
be a Tcl list that contains a template device name and a subtype
list consisting of one or more subtypes, and possibly starting with
the exclamation point (!). If the exclamation point is not present,
then only devices with the listed models are selected for output
to the report file. If the exclamation point is present, then only
devices with models other than those listed are selected. </p>
<p class="p">The general form of a subtype
list is this: {<span class="keyword ParameterName OptionalReplaceable">instance</span> “[!] <span class="keyword ParameterName OptionalReplaceable">model</span> …”}.</p>
<p class="p">Each device subtype may contain
one or more asterisk (*) characters. The * character matches zero
or more characters. A device must be one of the subtypes listed
in the subtype list in order to be selected. </p>
<p class="p">Subtypes are also known as model
names.</p>
<p class="p">If present, a device in the
design must meet the criteria set by the subtype list in order to
be matched to the named device in the template. Here is an example
that specifies the subtype condition for two template devices M0
and M1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idfd29fc3d-351d-4247-82cf-7ffa9155d742"><p class="p Opt">-patternNodeSubtype
{ M0 “model_1 model_2” M1 “! model_3 model_4” }</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id0ef9077c-f50a-4190-a29c-7c6f0e31fb64">-patternNodeProperty <span class="keyword ParameterName OptionalReplaceable">node_constraint_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check specified properties of devices in the design. The <span class="keyword ParameterName OptionalReplaceable">node_constraint_pair_list</span> must
be a non-empty Tcl list that contains a template device name and
a <span class="keyword ParameterName OptionalReplaceable">constraint_str</span> expression.
The expression must be a quoted nonempty string specifying a property
name followed by a constraint limiting the value of the property.
The constraint notation is given in the “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', '99TABLE Constraints', 'svrf_ur'); return false;">Constraints</a>”
table of the <cite class="cite">SVRF Manual</cite>.</p>
<p class="p">If present, a device must meet
the criteria set by <span class="keyword ParameterName OptionalReplaceable">constraint_str</span> in
order to be matched to the named device in the template. All devices
to be matched must have the checked properties or an error results.
Existence of a property can be tested using <a class="xref fm:HeadingOnly" href="Command_Percproperty_id46c86c59.html#id46c86c59-2c26-44ba-92cd-856971b27011__Command_Percproperty_id46c86c59.xml#id46c86c59-2c26-44ba-92cd-856971b27011" title="Returns a device instance property value.">perc::property</a> in an
“if” block. Non-extracted properties can be defined using <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Property Initialize', 'svrf_ur'); return false;">LVS Property Initialize</a>. </p>
<p class="p">Here is an example that specifies
the property condition for two template devices M0 and M1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id42df2d90-03a9-4ef6-ab7c-337e7605ca59"><p class="p Opt">-patternNodeProperty
{ M0 “L &lt; 2” M1 “W &gt; 3” }</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">node_constraint_pair_list</span> may
not reference a device having a “perc_config” property in the pattern
template.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idbee69553-564c-4f3c-ae22-1050d4692448">-patternNodePinNetType <span class="keyword ParameterName OptionalReplaceable">node_pin_net_type_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check the pin net types of the devices in the design. The <span class="keyword ParameterName OptionalReplaceable">node_pin_net_type_pair_list</span> must
be a non-empty Tcl list that contains a template device name and
a <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>.
The <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> must
be a Tcl list that defines a logical expression. A net meets the
condition if it satisfies the logical expression. This is the allowed
form:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id5bf6e369-0441-41da-8590-ae90b024cae6"><p class="p Opt">{[!]<span class="keyword ParameterName OptionalReplaceable">type_1</span> [<span class="keyword ParameterName OptionalReplaceable">operator</span> [!]<span class="keyword ParameterName OptionalReplaceable">type_2</span> [<span class="keyword ParameterName OptionalReplaceable">operator</span> …
[!]<span class="keyword ParameterName OptionalReplaceable">type_N</span>]]}</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">type_N</span> arguments
are net types such as are created with the <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a>, <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByDevice_idddb1d861.html#idddb1d861-3213-4dfe-ac19-676ee8821ebc__Command_PercdefineNetTypeByDevice_idddb1d861.xml#idddb1d861-3213-4dfe-ac19-676ee8821ebc" title="Assigns a net type to nets that are connected to selected devices.">perc::define_net_type_by_device</a>, or <a class="xref fm:HeadingOnly" href="Command_PercdefineTypeSet_id4729110c.html#id4729110c-e73f-4c7b-8772-d111b3fd3cf4__Command_PercdefineTypeSet_id4729110c.xml#id4729110c-e73f-4c7b-8772-d111b3fd3cf4" title="Creates and assigns a new net type set from a list of net types.">perc::define_type_set</a> commands. If there is only one net
type, then the <span class="keyword ParameterName OptionalReplaceable">operator</span> is
omitted.</p>
<p class="p">The exclamation point (!) causes
logical negation of the net type following it. </p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">operator</span> is
either logical AND (&amp;&amp;) or logical OR (||). The &amp;&amp;
operator has precedence over ||. For example, this expression:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id976a5b2b-7c01-4115-a0f9-0fff83de090d"><p class="p Opt">{labelA
|| labelB &amp;&amp; !ground}</p>
</li>
</ul>
<p class="p">means “labelA OR (labelB AND
not ground)”. You can manage the precedence by using type sets.
For example, suppose you have this command:</p>
<pre class="pre codeblock leveled"><code>perc::define_type_set any_label  {labelA || labelB} </code></pre><p class="p">Then the following expression:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id3e4b9ac1-332c-4870-8846-eba66c33e475"><p class="p Opt">{any_label
&amp;&amp; !ground}</p>
</li>
</ul>
<p class="p">means “(labelA OR labelB) AND
not ground”.</p>
<p class="p">If present, a device in the
design must meet the criteria set by the <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> list in
order to be matched to the named device in the template. Here is
an example that specifies the pin net type condition for two template
devices M0 and M1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idb1c62433-0a15-4c74-bb46-b936fb883ea5"><p class="p Opt">-patternNodePinNetType
{ M0 {g “!Power &amp;&amp; !Ground”} M1 {g “Pad”} }</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">node_pin_net_type_pair_list</span> may
not reference a device having a “perc_config” SERIES property in
the pattern template.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id73ea13a9-478e-4963-943e-7566ca2c1c04">-patternNodePinPathType <span class="keyword ParameterName OptionalReplaceable">node_pin_path_type_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check the pin path types of the devices in the design. The <span class="keyword ParameterName OptionalReplaceable">node_pin_path_type_pair_list</span> must
be a non-empty Tcl list that contains a template device name and
a <span class="keyword ParameterName OptionalReplaceable">path_type_condition_list.</span>.
The <span class="keyword ParameterName OptionalReplaceable">path_type_condition_list </span>must
be a Tcl list that defines a logical expression involving path types.
A pin meets the condition if it has a path to the specified path
types defined by the logical expression. This is the allowed form:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id0274ccf2-fc28-48c9-9db5-33c765ce95d3"><p class="p Opt">{[!]<span class="keyword ParameterName OptionalReplaceable">type_1</span> [<span class="keyword ParameterName OptionalReplaceable">operator</span> [!]<span class="keyword ParameterName OptionalReplaceable">type_2</span> [<span class="keyword ParameterName OptionalReplaceable">operator</span> …
[!]<span class="keyword ParameterName OptionalReplaceable">type_N</span>]]}</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">type_N</span> arguments
are path types such as are created with the <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a>, <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByDevice_idddb1d861.html#idddb1d861-3213-4dfe-ac19-676ee8821ebc__Command_PercdefineNetTypeByDevice_idddb1d861.xml#idddb1d861-3213-4dfe-ac19-676ee8821ebc" title="Assigns a net type to nets that are connected to selected devices.">perc::define_net_type_by_device</a>, or <a class="xref fm:HeadingOnly" href="Command_PercdefineTypeSet_id4729110c.html#id4729110c-e73f-4c7b-8772-d111b3fd3cf4__Command_PercdefineTypeSet_id4729110c.xml#id4729110c-e73f-4c7b-8772-d111b3fd3cf4" title="Creates and assigns a new net type set from a list of net types.">perc::define_type_set</a> commands. If there is only one path
type, then the <span class="keyword ParameterName OptionalReplaceable">operator</span> is
omitted.</p>
<p class="p">The exclamation point (!) causes
logical negation of the path type following it. </p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">operator</span> is
either logical AND (&amp;&amp;) or logical OR (||). The &amp;&amp;
operator has precedence over ||.</p>
<p class="p">If present, a device in the
design must meet the criteria set by the <span class="keyword ParameterName OptionalReplaceable">path_type_condition_list</span> in
order to be matched to the named device in the template. Here is
an example that specifies the pin path type condition for two template
devices M0 and M1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id5508cb17-06f4-47c8-a835-ef9cdd208fb3"><p class="p Opt">-patternNodePinPathType
{ M0 { {s d} “Pad”} M1 {g “!Pad”} }</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">node_pin_path_type_pair_list</span> may
not reference a device having a “perc_config” SERIES property in
the pattern template.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id6d63d025-0214-424c-b161-864da82c9e3f">-patternNodeNetType <span class="keyword ParameterName OptionalReplaceable">node_net_type_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check the net types of the nets in the design. The <span class="keyword ParameterName OptionalReplaceable">node_net_type_pair_list</span> must
be a non-empty Tcl list that contains pairs consisting of a template
net name and a <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>,
where <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> is
defined as under -patternNodePinNetType. If present, a net in the
design must meet the criteria set by the <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> in
order to be matched to the named net in the template. Here is an
example that specifies the net type condition for two template nets
net0 and net1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id33009e39-5358-4687-af9a-8241c2a33e1c"><p class="p Opt">-patternNodeNetType
{ net0 “!Power &amp;&amp; !Ground” net1 “Pad” }</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id35f440b9-2c0e-4bb0-a847-6e7efb26400c">-patternNodePathType <span class="keyword ParameterName OptionalReplaceable">node_path_type_pair_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument and Tcl
list that check the path types of the nets in the design. The <span class="keyword ParameterName OptionalReplaceable">node_path_type_pair_list</span> must
be a non-empty Tcl list that contains pairs consisting of a template
net name and a <span class="keyword ParameterName OptionalReplaceable">path_type_condition_list</span>,
where <span class="keyword ParameterName OptionalReplaceable">path_type_condition_list</span> is defined
as under -patternNodePinPathType. If present, a net in the design
must meet the criteria set by the <span class="keyword ParameterName OptionalReplaceable">path_type_condition_list</span> in
order to be matched to the named net in the template. Here is an
example that specifies the path type condition for two template
nets net0 and net1:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idada1517d-c21b-4efd-bd1f-640ec966c629"><p class="p Opt">-patternNodePathType
{ net0 “Pad” net1 “!Pad” }</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id61f3885b-a9ed-4bcc-8152-e466d1201315">-patternNodeExactMatch “[PIN] [PROPERTY] [SUBTYPE]”</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
checks for an exact match of device pin swapping, properties, and
subtypes between the pattern template and the design. Elements to
be matched are specified by the keyword options. More than one option
may appear in a Tcl list, in which case all the option behaviors
are applied together. In the case of pins and properties, the design
may have elements that are not in the template, but all the template’s
elements must be matched in the design. These are the available
keyword options:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id73bf3bc7-3463-41c9-8b7a-f1fb724c2be7"><p class="p Opt">PIN
— For all pins specified in a pattern template device, pins are
considered logically non-equivalent and are, therefore, not swappable
when matched. By default, logically-equivalent pins are swappable
as in Calibre nmLVS.</p>
</li>
<li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id807b261b-94c3-48b7-9315-bb1d6592b92c"><p class="p Opt">PROPERTY
— For all properties specified in a pattern template device, matching devices
in the design must have the same values within a tolerance difference
of 1E‑05. This is overridden by ‑patternNodeProperty for specific
nodes, if present. This keyword may not be used if the pattern template
contains devices with the “perc_config” property.</p>
</li>
<li class="li ArgOption" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idba495d96-db15-429e-96b6-df0189f5dc32"><p class="p Opt">SUBTYPE
— For all subtypes specified for pattern template devices, matching
devices in the design must have the same subtypes. This is overridden
by ‑patternNodeSubtype for specific nodes, if present.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id7adca2ee-0d78-42ab-a937-023f5e4e8b3a">-opaqueCell <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
causes the specified cells to be treated in isolation, with no element
promotions. The <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span> must
be a Tcl list consisting of one or more cell names, and starting
with possibly the exclamation point (!), such as {cell_1 cell_2}
or {! cell_3 cell_4}. If the exclamation point is not present, then
the command applies only to the listed cells. However, if the exclamation
point is specified, then the command applies to all cells except
the ones listed. One or more asterisk (*) wildcards are allowed
in a cell name. This wildcard matches zero or more characters. The <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span> must
be “*” when the command is used in an initialization procedure,
or when the command is called in a rule check procedure but not
in the context of a high-level command.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">A pattern iterator if matched,
otherwise an empty string.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id5e075fc0-5c2f-4002-ae08-2b1f60c9eee8"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Assume the pattern template contains
a subcircuit named inverter:</p>
<pre class="pre codeblock leveled"><code>.SUBCKT inverter in out vdd vss 
M0 vdd in out vdd p 
M1 out in vss vss n 
.ENDS 
 
.subckt top      $$ must literally be "top" 
x1 1 2 3 4 inverter 
.ends </code></pre><p class="p">The following code searches for
the “inverter” pattern in the design.</p>
<pre class="pre codeblock leveled"><code>LVS GROUND NAME vss
LVS POWER NAME vdd

TVF FUNCTION test_get_pattern [/* 
    package require CalibreLVS_PERC 
 
  proc get_pattern_cond_1 {dev} { 
    set patIter [ perc::get_one_pattern -patternType "inverter" \
      -patternNode [list "M1" $dev] ] 
    if { $patIter ne "" } { 
      perc::report_base_result -title "Found inverter" \
        -list [<a class="xref fm:HeadingOnly" href="Command_PercgetInstancesInPattern_idaa4801f2.html#idaa4801f2-6232-41a4-8661-57ec3ea1aaee__Command_PercgetInstancesInPattern_idaa4801f2.xml#idaa4801f2-6232-41a4-8661-57ec3ea1aaee" title="Returns a list of instance iterators from a matched pattern.">perc::get_instances_in_pattern</a> $patIter] 
      return 1 
    } 
    return 0 
  } 
 
  proc get_pattern_check_1 {} { 
    perc::check_device -type  {MN} -condition get_pattern_cond_1 \
    -comment "Matching an inverter" 
  } </code></pre><pre class="pre codeblock leveled"><code>
  proc get_pattern_cond_2 {net} { 
  # find one randomly chosen inverter with net as the input 
    set patIter [ perc::get_one_pattern -patternType "inverter" \
      -patternNode [list "in" $net] ] 
    if { $patIter ne "" } { 
      perc::report_base_result -title "Found inverter" \
        -list [perc::get_instances_in_pattern $patIter] 
      return 1 
    } 
    return 0 
  } 
 
  proc get_pattern_check_2 {} { 
    perc::check_net -netType { !Power&amp;&amp; !Ground } \
      -condition get_pattern_cond_2 -comment "Matching an inverter" 
  } </code></pre><pre class="pre codeblock leveled"><code>  proc get_pattern_cond_3 {net} { 
    set selected 0 
# Find all MN devices connected to the net at pin G 
    set pair [perc::count -net $net -type MN -list] 
# Loop over the list of MN devices on the net, and find a unique  
# inverter for each MN. All found inverters have net as input. 
    foreach mn_dev [lindex $pair 1] { 
      set patIter [ perc::get_one_pattern -patternType "inverter" \
        -patternNode [list "M1" $mn_dev] ] 
      if { $patIter ne "" } { 
        perc::report_base_result \
          -title "Found inverter,  M1 is [perc::name $mn_dev]"  
        set selected 1 
      } 
    } 
    return $selected 
  } 
 
  proc get_pattern_check_3 {} { 
    perc::check_net -netType { !Power &amp;&amp; !Ground } \
      -condition get_pattern_cond_3 -comment "Matching all inverters" 
  } 
 
*/] </code></pre><p class="p">Tcl proc get_pattern_check_1 selects
each MN device as the starting point and finds the inverter where
the MN device matches “M1” of the template.</p>
<p class="p">Tcl proc get_pattern_check_2 selects
each non-supply net as the starting point and finds one inverter
where the net matches “in” of the template. If a net is connected
to the input of several inverters, only one is arbitrarily selected.
This should be avoided. See the check_3 proc.</p>
<p class="p">Tcl proc get_pattern_check_3 selects
each non-supply net as the starting point and finds all inverters
where the net matches “in” of the template. For each net, it first
finds all MN devices whose gate is connected to the net, then for
each MN device, it finds the inverter where the MN device matches
M1 of the template. Since M1 is unique to each inverter, this check
is able to report all inverters for each net.</p>
<p class="p">See also Step <a class="xref fm:NumberOnlyBlack" href="TaskTop_ExampleCheckingHighVoltageConditionsInvolvingLevelShifterCircuits_idd4ec981a.html#idd4ec981a-bdf7-4059-9a2e-21091d32469a__idf1c2f123-ee93-4ed9-a5f5-6f1938e2a418">9</a> of “<a class="xref fm:HeadingAndPage" href="TaskTop_ExampleCheckingHighVoltageConditionsInvolvingLevelShifterCircuits_idd4ec981a.html#idd4ec981a-bdf7-4059-9a2e-21091d32469a__TaskTop_ExampleCheckingHighVoltageConditionsInvolvingLevelShifterCircuits_idd4ec981a.xml#idd4ec981a-bdf7-4059-9a2e-21091d32469a" title="This example shows how to detect over-voltage conditions on low-voltage MOS devices.">Example: Checking for High Voltage Conditions Involving Level Shifter Circuits</a>”.</p>
</div>
<div class="section Subsection" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id2ad75224-0336-4506-92db-041d2d67e245"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">Assume the pattern template P1 has
six ports: a, b, c, d, e, and f:</p>
<pre class="pre codeblock leveled"><code>.SUBCKT P1 a b c d e f 
M0 d a  b d P 
M1 b a  c c N 
R2 e f 
.ENDS </code></pre><p class="p">This call:</p>
<pre class="pre codeblock leveled"><code>perc::get_one_pattern -patternType "P1" -patternNode [list "M1" $dev] \
  -patternPortsShortable { {a b} {c d} } </code></pre><p class="p">specifies two port name lists (
{a b} and {c d} ) and recognizes subcircuits in the design with
the following characteristics:</p>
<ul class="ul"><li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id0ec81614-cf3b-4706-9394-fc1aeafc3088"><p class="p">Design nets matched to “a” and
“b” may or may not be the same.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id45f51767-4cb0-4330-8360-3e99af6bc0b2"><p class="p">Design nets matched to “c” and
“d” may or may not be the same.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id65a99dbb-d79a-4c15-91a6-93a4d025de8e"><p class="p">Design nets matched to a or
b and to c or d must be different.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id05ae76ca-9f62-4af4-98a5-fc74ede4c580"><p class="p">A design net matched to e must
be unique, and a design net matched to f must be unique.</p>
</li>
</ul>
<p class="p">These conditions are checked simultaneously
and must all be true for the subcircuit to be recognized.</p>
</div>
<div class="section Subsection" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__idc50378cf-0676-4469-809b-a940a2d73e58"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">Remember that the DYNAMIC option
is generally discouraged, but sometimes it is necessary, especially
when a pattern subcircuit does not have consistent supply connections
in the design. Assume the following are in the rule file:</p>
<pre class="pre codeblock leveled"><code>LVS POWER NAME vdd 
LVS GROUND NAME vss </code></pre><p class="p">Assume the following pattern template
subcircuit:</p>
<pre class="pre codeblock leveled"><code>.SUBCKT P1 a b vss vdd 
M0 b a vdd vdd P 
M1 b a vss vss N 
.ENDS </code></pre><p class="p">The command:</p>
<pre class="pre codeblock leveled"><code>perc::get_one_pattern -patternType "P1" -patternNode [list "M1" $dev] \
  -patternSupplyPorts [list DYNAMIC [list b vdd]] </code></pre><p class="p">specifies a port name list {b vdd}
and recognizes circuits in the design with the following characteristics:</p>
<ul class="ul"><li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id685e0332-9c48-44cd-b685-32c79edd6ad8"><p class="p">design net matched to “a” must
be neither power nor ground.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id190c5f79-d210-43d2-afb8-94e459890b99"><p class="p">design net matched to “b” can
be anything.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id298a2458-11fc-4b5f-896c-216cd81800db"><p class="p">design net matched to vss must
be ground.</p>
</li>
<li class="li" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id949cd84b-19cf-4373-a346-896d97508b61"><p class="p">design net matched to vdd can
be anything.</p>
</li>
</ul>
</div>
<div class="section Subsection" id="id0b6dc0fc-6241-4679-9c86-7d0be6871edb__id67636204-189d-4537-afa4-94cb30aafb1c"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">The following pattern template has
two configurations.</p>
<p class="p">Strict:</p>
<pre class="pre codeblock leveled"><code>** Can only match inverters of two devices in the design 
 
.SUBCKT inv1 in out vdd vss 
M0 vdd in out vdd p 
M1 out in vss vss n 
.ENDS 
 
.SUBCKT top 
x0 1 2 3 4 inv1 
.ENDS </code></pre><p class="p">Configurable:</p>
<pre class="pre codeblock leveled"><code>** Can match inverters in the design with a PMOS stack 
 
.SUBCKT inv2 in out vdd vss 
M0 vdd in out vdd p perc_config="series" 
M1 out in vss vss n 
.ENDS 
 
.SUBCKT top  
x0 1 2 3 4 inv2 
.ENDS </code></pre><p class="p">Using the perc_config property with
the series keyword enables series MP devices to be used in the location
indicated within the pattern, and the inverter structure is matched.
See “<a class="xref fm:HeadingAndPage" href="Concept_ConfigurablePatternDevices_id1f028d61.html#id1f028d61-a2ea-432e-8515-2cde8e154a54__Concept_ConfigurablePatternDevices_id1f028d61.xml#id1f028d61-a2ea-432e-8515-2cde8e154a54" title="By default, device matching in the pattern template is one-to-one. However, there may be cases where you want a single device in the template to match a number of series or parallel devices in the main design. This is where configurable devices in the template are used.">Configurable Pattern Devices</a>” for more information.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuleCheckCommands_id9b3d8e0b.html" title="Rule check commands appear in rule check procs and are used to check the design. Some rule check commands may be used in init procs. These are annotated in the notes to the tables in this section.">Rule Check Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::get_one_pattern"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercgetOnePattern_id0b6dc0fc.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>