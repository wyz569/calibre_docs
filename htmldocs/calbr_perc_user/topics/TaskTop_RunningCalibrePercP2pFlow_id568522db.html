<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Running the Calibre PERC P2P Flow" />
<meta name="abstract" content="This procedure shows how to set up and run the Calibre PERC P2P flow." />
<meta name="description" content="This procedure shows how to set up and run the Calibre PERC P2P flow." />
<meta name="DC.subject" content="LDL, P2P example" />
<meta name="keywords" content="LDL, P2P example" />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id568522db-4f2e-43e4-af18-b32ac3881b32" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Running the Calibre PERC P2P Flow</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Running the Calibre PERC P2P Flow" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id568522db-4f2e-43e4-af18-b32ac3881b32">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Running the Calibre PERC P2P Flow</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">This procedure
shows how to set up and run the Calibre PERC P2P flow.</span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id21197200-c08e-4ed5-a48f-1d467d24971e"><p class="p">Review
the section “<a class="xref fm:HeadingAndPage" href="Concept_RequirementsUse_ida6355223.html#ida6355223-2b3f-4d52-9683-3aebf9c33f26__Concept_RequirementsUse_ida6355223.xml#ida6355223-2b3f-4d52-9683-3aebf9c33f26" title="In order to use the LDL P2P flow, a number of items are required.">Requirements for Use</a>” and ensure all of the prerequisites specified
there are met.</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__idffb26e05-f618-4482-9db1-01cb7e748de6"><p class="p">The
layout should be free from gross LVS errors. It is possible there
are text shorts for redundant ports in the layout and this would
not cause a problem.</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__ide3c1bacd-afc6-4b0d-9b0d-59eba164d4ea"><p class="p">A
Calibre PERC rule file containing at least an initialization procedure.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__idbffe922e-146f-440e-86cd-09f773485872"><span class="ph cmd">Review your Calibre xRC rule
file to ensure a complete set of resistance extraction statements
is present. A calibrated xRC rule file is highly recommended.</span></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__idacfa6783-30a2-4e4f-bd4d-43af2e424564"><span class="ph cmd">Ensure the initialization
procedure defines the appropriate net types for your design. For example:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code># all top level ports are in the PORTS net type 
proc init { } { 
  perc::define_net_type PORTS { lvsTopPorts } 
} </code></pre></div></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id99a343bd-a908-4aef-8e5a-809b5baed8b3"><span class="ph cmd">Ensure the necessary <a class="xref fm:HeadingOnly" href="Command_PercexportPinPair_id3e93b80f.html#id3e93b80f-cda0-4d09-b368-1cd9d948f77b__Command_PercexportPinPair_id3e93b80f.xml#id3e93b80f-cda0-4d09-b368-1cd9d948f77b" title="Exports pin pairs on the same net for LDL checks.">perc::export_pin_pair</a> functions are in the rule file
to define pins (or ports) between which resistances are calculated
on the same net. See “<a class="xref fm:HeadingAndPage" href="Concept_ExampleRuleFileLdlP2pCalculations_id34d9b8c9.html#id34d9b8c9-c1a8-4312-b51e-84cfab4e40ee__Concept_ExampleRuleFileLdlP2pCalculations_id34d9b8c9.xml#id34d9b8c9-c1a8-4312-b51e-84cfab4e40ee" title="This example shows a simple rule file for performing resistance calculations from top-level port nets to POS pins on diode devices having a direct connection to a port.">Example Rule File for LDL P2P Calculations</a>”. </span><div class="itemgroup info StepInfo"><p class="p">For pin pairs that are not on the same net, see “<a class="xref fm:HeadingAndPage" href="Concept_FullPathChecksInLDL_ida45acce3.html#ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da__Concept_FullPathChecksInLDL_ida45acce3.xml#ida45acce3-127c-4e8e-aee2-3fb8ecf3b1da" title="LDL resistance check simulations occur in two fundamental ways: source and sink on the same net, and source and sink on different nets. When source and sink are on the same net, perc::export_pin_pair is used to export the pins. When source and sink are on differing nets, perc::export_connection and perc::export_pin_pair are used with the -path option. This latter method is referred to as “full path” checking. It applies to both CD and P2P checks.">Full Path Checks in LDL</a>”.</p>
</div></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id6ce48915-47d4-4ea4-84e0-aebf903022e3"><span class="ph cmd">Add a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC LDL Layout Reduce Top Layers', 'svrf_ur'); return false;">PERC LDL Layout Reduce Top Layers</a> statement to the rule file that includes all supply
grid metal layers (low-resistance layers not connected directly
to device pins).</span></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id9fdf86e8-f036-4ad2-902e-c6cbcc2bdb19"><span class="ph cmd">Review your Calibre PERC rule
file and ensure the desired <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> statements
are specified for running rule checks. </span><ol type="a" class="ol substeps"><li class="li substep" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id7bfa1895-1781-44b2-a54e-0f6f6f4f9ccd"><span class="ph cmd">Do not use the XFORM option
as this can cause pins to be reduced. </span></li>
<li class="li substep" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id7a4f6f0e-ec71-45f5-bda0-6f60611547e8"><span class="ph cmd">Ensure the Tcl procedure that
contains the perc::export_pin_pair commands is specified.</span></li>
</ol>
</li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__idd482f479-ff31-4220-98e8-62c3b5587aae"><span class="ph cmd">Add a TVF Function block and
a Tcl procedure using the <a class="xref fm:HeadingOnly" href="Command_PercLdlexecuteP2pChecks_id07db5a94.html#id07db5a94-008f-42e9-a2fc-5473a7882bfe__Command_PercLdlexecuteP2pChecks_id07db5a94.xml#id07db5a94-008f-42e9-a2fc-5473a7882bfe" title="Calculates interconnect resistances between specified pins in a Calibre PERC LDL P2P run.">perc_ldl::execute_p2p_checks</a> command.
For example:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>TVF FUNCTION perc_p2p_checks [/* 
... 
  proc execute_p2p {} { 
    perc_ldl::execute_p2p_checks 
    exit 
  } 
... 
*/] </code></pre></div></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id024f0602-a8f4-4000-bb03-01e5de082c5e"><span class="ph cmd">Add a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM YS Autostart', 'svrf_ur'); return false;">DFM YS Autostart</a> statement
that calls the TVF Function and Tcl procedure written in Step <a class="xref fm:NumberOnlyBlack" href="#id568522db-4f2e-43e4-af18-b32ac3881b32__idd482f479-ff31-4220-98e8-62c3b5587aae">6</a>. </span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>DFM YS AUTOSTART perc_p2p_checks execute_p2p </code></pre></div></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id110bfda1-4f5b-4da9-ba59-1987d4247145"><span class="ph cmd">Add a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Database', 'svrf_ur'); return false;">DFM Database</a> statement
to your rule file like the following:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>DFM DATABASE "dfmdb" OVERWRITE REVISIONS [DEVICES PINLOC] </code></pre></div></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id985c0c5d-d96f-4812-a300-3259e4074ad6"><span class="ph cmd">Specify <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Push Devices', 'svrf_ur'); return false;">LVS Push Devices</a> NO. This prevents a warning that is triggered because
pin location information is requested.</span></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id49537ea3-3d58-4b42-9a0e-9e2386379a9d"><span class="ph cmd">Include your LVS connectivity
extraction rules and resistance extraction rules as part of the
run.</span></li>
<li class="li step stepexpand" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id674265c0-40ef-48bc-be2c-349a1d838cbe"><span class="ph cmd">Run the calibre -perc -ldl
command. Here is an example:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>calibre -perc -hier -ldl -turbo rules |tee logfile </code></pre><p class="p">When the -turbo option is used
on the command line, P2P calculations are performed using multi-threading.
This is particularly useful when there are many P2P measurements
on the same net. Hyperscaling (-hyper) is best used if you have
16 or more remote hosts and applies only during circuit extraction.</p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The run produces the following files:</p>
<ul class="ul"><li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id5255298d-8449-4d07-8006-e179d3255ef8"><p class="p">Run transcript</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__idccde6890-b7cd-41f0-9929-993334d5572c"><p class="p">PERC Report file </p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__ided078c0e-ddc4-4ee4-aed9-c040e684fd3d"><p class="p">Resistance report named <span class="ph filepath">perc_report_name.p2p</span></p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id9c8c031c-9d38-42d5-94a6-a5c19a5b7ab3"><p class="p">ASCII DRC results database named <span class="ph filepath">perc_report_name.p2p.rdb</span></p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id2bed340b-5f23-4406-a103-bf329d31fdd0"><p class="p">Calibre YieldServer database
as specified by the DFM Database statement</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id540e39ab-7303-4d69-a0b8-919cd9cacd9c"><p class="p">Mask SVDB Directory file, if
specified</p>
</li>
</ul>
<p class="p">You should do the following:</p>
<ul class="ul"><li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id431f22ea-7379-479d-8598-cdd9c593055e"><p class="p">Review the run transcript for
ERROR, WARNING, and NOTE messages. Be sure to resolve any ERROR
messages. You should understand any WARNING messages that you do
not intend to resolve.</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id479742cc-b3f4-40e0-a8cb-f710e2adda83"><p class="p">Review the PERC Report file
for ABORTED or SKIPPED checks. Note any error or warning messages
and fix the problems. See “<a class="xref fm:HeadingAndPage" href="Concept_SamplePercReport_id45ccbd3d.html#id45ccbd3d-16cc-454d-9f85-e386728c2bf3__Concept_SamplePercReport_id45ccbd3d.xml#id45ccbd3d-16cc-454d-9f85-e386728c2bf3" title="The Calibre PERC report is an ASCII file that contains the complete run results.">Sample PERC Report</a>” for details about the report.</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__id3d70f615-1774-42c7-816d-965fc1efaf11"><p class="p">Rerun calibre -perc -ldl and
do any further debugging until it runs with all the specified rule
checks having completed successfully.</p>
</li>
<li class="li" id="id568522db-4f2e-43e4-af18-b32ac3881b32__ided41b710-5d75-4ede-91aa-4b49891226f4"><p class="p">When the run completes successfully,
review the PERC Report and the <span class="ph filepath">perc_report_name.p2p</span> report.
See “<a class="xref fm:HeadingAndPage" href="General_LdlP2pReportFileFormat_id271ab65d.html#id271ab65d-b3f6-47b0-8f31-6973bf2d5330__General_LdlP2pReportFileFormat_id271ab65d.xml#id271ab65d-b3f6-47b0-8f31-6973bf2d5330" title="This is the report file generated by a Calibre PERC LDL P2P run.">LDL P2P Report File Format</a>” for information about the resistance
report.</p>
</li>
</ul>
<p class="p">The <span class="ph filepath">perc_report_name.p2p.rdb</span> is
a DRC or ERC database that can be used with Calibre RVE and your
layout viewer to debug errors. </p>
<p class="p">The DFM database, which is a YieldServer
database, can be opened by Calibre RVE for PERC. The DFM database
includes <span class="ph filepath">perc_report_name.p2p.rdb</span>. You can
use PERC RVE to view and highlight results, create histograms, and
highlight nets and other design elements.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_PointToPointResistanceChecks_id96984ad2.html" title="Calibre PERC Logic Driven Layout Point-to-Point Resistance (LDL P2P) checking calculates the interconnect resistance of layers specified in resistance extraction statements and outputs polygon-based results for analysis. This application uses Calibre PERC, Calibre nmDRC, Calibre nmLVS, DFM, and Calibre xRC applications in a single package to perform the calculations.">Point-to-Point Resistance Checks</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Contain_ViewingLdlP2pResultsInCalibreRve_idfa17decd.html" title="The following sections describe how to use Calibre RVE to debug resistance problems from an LDL P2P run.">Viewing LDL P2P Results in Calibre RVE</a></div>
<div><a class="link" href="../topics/MGCChap_PointToPointResistanceChecks_id96984ad2.html" title="Calibre PERC Logic Driven Layout Point-to-Point Resistance (LDL P2P) checking calculates the interconnect resistance of layers specified in resistance extraction statements and outputs polygon-based results for analysis. This application uses Calibre PERC, Calibre nmDRC, Calibre nmLVS, DFM, and Calibre xRC applications in a single package to perform the calculations.">Point-to-Point Resistance Checks</a></div>
<div><a class="link" href="../topics/General_CellBasedP2p_id1628ad97.html" title="The CELL_BASED_P2P check calculates resistances along paths containing top-level IO nets connected through ESD cells to supply nets in a physical layout. It also checks that clamp cells are present between supply nets. Path segments that exceed a resistance constraint threshold are reported along with pad nets that do not have the proper protection cell connections.">CELL_BASED_P2P</a></div>
<div><a class="link" href="../topics/General_DeviceBasedP2p_id7fae04e4.html" title="The DEVICE_BASED_P2P check calculates resistances along paths containing top-level IO nets connected through ESD devices to supply nets in a physical layout. It also checks that clamp devices are present between supply nets. The devices are primitive SPICE elements. Path segments that exceed a resistance constraint threshold are reported along with pad nets that do not have the proper protection device connections.">DEVICE_BASED_P2P</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "Running the Calibre PERC P2P Flow"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_RunningCalibrePercP2pFlow_id568522db.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>