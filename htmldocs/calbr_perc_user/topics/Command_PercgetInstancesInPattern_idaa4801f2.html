<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::get_instances_in_pattern" />
<meta name="abstract" content="Returns a list of instance iterators from a matched pattern." />
<meta name="description" content="Returns a list of instance iterators from a matched pattern." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idaa4801f2-6232-41a4-8661-57ec3ea1aaee" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::get_instances_in_pattern</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::get_instances_in_pattern" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idaa4801f2-6232-41a4-8661-57ec3ea1aaee">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::get_instances_in_pattern</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC data access command.</p>
<p class="shortdesc">Returns a list of instance iterators
from a matched pattern.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::get_instances_in_pattern </span><span class="keyword ParameterName RequiredReplaceable">pattern_iterator</span> [-name <span class="keyword ParameterName OptionalReplaceable">pattern_instance_name</span>]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command gets device instances
in the pattern instance referenced by the required <span class="keyword ParameterName RequiredReplaceable">pattern_iterator</span> created
by <a class="xref fm:HeadingOnly" href="Command_PercgetOnePattern_id0b6dc0fc.html#id0b6dc0fc-6241-4679-9c86-7d0be6871edb__Command_PercgetOnePattern_id0b6dc0fc.xml#id0b6dc0fc-6241-4679-9c86-7d0be6871edb" title="Creates a pattern iterator.">perc::get_one_pattern</a>.</p>
<p class="p">If the optional -name argument
is not specified, the command returns all devices in the design
that belong to the matched pattern. If -name is specified, the command
returns the device in the design that corresponds to the named device
in the template.</p>
<p class="p">If the pattern template is configurable
(template devices have the “perc_config” property), then all devices
in the design that match any configurable device are returned in
the list. See “<a class="xref fm:HeadingAndPage" href="Concept_ConfigurablePatternDevices_id1f028d61.html#id1f028d61-a2ea-432e-8515-2cde8e154a54__Concept_ConfigurablePatternDevices_id1f028d61.xml#id1f028d61-a2ea-432e-8515-2cde8e154a54" title="By default, device matching in the pattern template is one-to-one. However, there may be cases where you want a single device in the template to match a number of series or parallel devices in the main design. This is where configurable devices in the template are used.">Configurable Pattern Devices</a>” for more information.</p>
<p class="p">This command can be called any
number of times in a Tcl proc.</p>
<p class="p">See also <a class="xref fm:HeadingOnly" href="Command_PercgetNetsInPattern_id57a3e94b.html#id57a3e94b-bbd0-4389-86de-6ccb8d6b8137__Command_PercgetNetsInPattern_id57a3e94b.xml#id57a3e94b-bbd0-4389-86de-6ccb8d6b8137" title="Returns a list of net iterators from a matched pattern.">perc::get_nets_in_pattern</a> and <a class="xref fm:HeadingOnly" href="Command_PercgetPatternTemplateData_id0e5197e4.html#id0e5197e4-11e3-4073-b1e8-6fd4a66b03f9__Command_PercgetPatternTemplateData_id0e5197e4.xml#id0e5197e4-11e3-4073-b1e8-6fd4a66b03f9" title="Returns a list of device, net, or port names, or device properties from a template pattern subcircuit.">perc::get_pattern_template_data</a>.</p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idaa4801f2-6232-41a4-8661-57ec3ea1aaee__id45b9951e-57a2-4f7e-8940-3baaed83ae66"><span class="keyword ParameterName RequiredReplaceable">pattern_iterator</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that must
be a pattern iterator. See <a class="xref fm:HeadingOnly" href="Command_PercgetOnePattern_id0b6dc0fc.html#id0b6dc0fc-6241-4679-9c86-7d0be6871edb__Command_PercgetOnePattern_id0b6dc0fc.xml#id0b6dc0fc-6241-4679-9c86-7d0be6871edb" title="Creates a pattern iterator.">perc::get_one_pattern</a>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idaa4801f2-6232-41a4-8661-57ec3ea1aaee__id3f69875c-3836-4d81-b125-875686dc4a30">-name <span class="keyword ParameterName OptionalReplaceable">pattern_instance_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
an instance name. The <span class="keyword ParameterName OptionalReplaceable">pattern_instance_name</span> must
be a device name in the pattern template. It can be a hierarchical
path to the instance.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">List of instance iterators.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idaa4801f2-6232-41a4-8661-57ec3ea1aaee__id42f2c889-7b9f-4207-9110-6e2924fef68c"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Assume the pattern template is an
inverter:</p>
<pre class="pre codeblock leveled"><code>.SUBCKT inverter in out vdd vss 
M0 vdd in out vdd p 
M1 out in vss vss n 
.ENDS </code></pre><p class="p">The following code checks for the
“inverter” pattern in the design.</p>
<pre class="pre codeblock leveled"><code>TVF FUNCTION test_get_instances_in_pattern [/* 
  package require CalibreLVS_PERC 
 
  proc cond_1 {dev} { 
    set patIter [ perc::get_one_pattern -patternType "inverter" \
      -patternNode [list "M1" $dev] ] 
    if { $patIter ne "" } { 
      perc::report_base_result -title "Inverter’s devices:" \
        -list [perc::get_instances_in_pattern $patIter] 
      return 1 
    } 
    return 0 
  } 
 
  proc check_1 {} { 
    perc::check_device -type  {MN} -condition cond_1 \
      -comment "Matching an inverter" 
  } 
*/] </code></pre><p class="p">Tcl proc check_1 selects each MN
device as the starting point and finds the inverter where the MN
device matches “M1” of the template, then reports all devices in
the pattern.</p>
<p class="p">See also Step <a class="xref fm:NumberOnlyBlack" href="TaskTop_ExampleCheckingHighVoltageConditionsInvolvingLevelShifterCircuits_idd4ec981a.html#idd4ec981a-bdf7-4059-9a2e-21091d32469a__idf1c2f123-ee93-4ed9-a5f5-6f1938e2a418">9</a> of “<a class="xref fm:HeadingAndPage" href="TaskTop_ExampleCheckingHighVoltageConditionsInvolvingLevelShifterCircuits_idd4ec981a.html#idd4ec981a-bdf7-4059-9a2e-21091d32469a__TaskTop_ExampleCheckingHighVoltageConditionsInvolvingLevelShifterCircuits_idd4ec981a.xml#idd4ec981a-bdf7-4059-9a2e-21091d32469a" title="This example shows how to detect over-voltage conditions on low-voltage MOS devices.">Example: Checking for High Voltage Conditions Involving Level Shifter Circuits</a>”.</p>
</div>
<div class="section Subsection" id="idaa4801f2-6232-41a4-8661-57ec3ea1aaee__id4f917118-f75f-48e3-82b2-a9a29ceaca8d"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">The following pattern template has
two configurations.</p>
<p class="p">Strict:</p>
<pre class="pre codeblock leveled"><code>** Can only match inverters of two devices in the design 
 
.SUBCKT inv1 in out vdd vss 
M0 vdd in out vdd p 
M1 out in vss vss n 
.ENDS 
 
.SUBCKT top 
x0 1 2 3 4 inv1 
.ENDS </code></pre><p class="p">Configurable:</p>
<pre class="pre codeblock leveled"><code>** Can match inverters in the design with a PMOS stack 
 
.SUBCKT inv2 in out vdd vss 
M0 vdd in out vdd p perc_config="series" 
M1 out in vss vss n 
.ENDS 
 
.SUBCKT top  
x0 1 2 3 4 inv2 
.ENDS </code></pre><p class="p">Using the perc_config property with
the series keyword enables series MP devices to be used in the location
indicated within the pattern, and the inverter structure is matched.
See “<a class="xref fm:HeadingAndPage" href="Concept_ConfigurablePatternDevices_id1f028d61.html#id1f028d61-a2ea-432e-8515-2cde8e154a54__Concept_ConfigurablePatternDevices_id1f028d61.xml#id1f028d61-a2ea-432e-8515-2cde8e154a54" title="By default, device matching in the pattern template is one-to-one. However, there may be cases where you want a single device in the template to match a number of series or parallel devices in the main design. This is where configurable devices in the template are used.">Configurable Pattern Devices</a>” for more information.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuleCheckCommands_id9b3d8e0b.html" title="Rule check commands appear in rule check procs and are used to check the design. Some rule check commands may be used in init procs. These are annotated in the notes to the tables in this section.">Rule Check Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::get_instances_in_pattern"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercgetInstancesInPattern_idaa4801f2.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>