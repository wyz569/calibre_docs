<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::define_net_type_by_device" />
<meta name="abstract" content="Assigns a net type to nets that are connected to selected devices." />
<meta name="description" content="Assigns a net type to nets that are connected to selected devices." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idddb1d861-3213-4dfe-ac19-676ee8821ebc" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::define_net_type_by_device</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::define_net_type_by_device" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::define_net_type_by_device</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC initialization command.</p>
<p class="shortdesc">Assigns a net type to nets that
are connected to selected devices.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::define_net_type_by_device</span> <span class="keyword ParameterName RequiredReplaceable">net_type</span> <br />
[-type <span class="keyword ParameterName OptionalReplaceable">type_list</span>]<br />
<span class="keyword ParameterName Optional">[-subtype </span><span class="keyword ParameterName OptionalReplaceable">subtype_list</span><span class="keyword ParameterName Optional">] <br />
[-property “</span><span class="keyword ParameterName OptionalReplaceable">constraint_str</span>”<span class="keyword ParameterName Optional">] <br />
[-pinNetType {{</span><span class="keyword ParameterName OptionalReplaceable">pin_name_list</span>} {<span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>}…}]<br />
[-condition <span class="keyword ParameterName OptionalReplaceable">cond_proc </span>[-conditionNetType <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>]]<br />
<span class="keyword ParameterName Optional">[-pin </span><span class="keyword ParameterName OptionalReplaceable">pin_name_list</span><span class="keyword ParameterName Optional">] <br />
[-cell | </span>-cellName <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span><span class="keyword ParameterName Optional">]</span></p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Assigns <span class="keyword ParameterName RequiredReplaceable">net_type</span> to
nets connected to selected devices. The optional arguments further
limit the list of devices that are considered.</p>
<p class="p">Nets that receive the <span class="keyword ParameterName RequiredReplaceable">net_type</span> are
said to have the named net type. A net can have multiple net types.
This happens when a net appears in multiple <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a>, <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByPlacement_id6c10ba02.html#id6c10ba02-b9c5-4b5e-bd00-3a53f90691bb__Command_PercdefineNetTypeByPlacement_id6c10ba02.xml#id6c10ba02-b9c5-4b5e-bd00-3a53f90691bb" title="Assigns a net type to nets that are connected to selected placements.">perc::define_net_type_by_placement</a>, or perc::define_net_type_by_device
command calls, or because of path type propagation. Nets that receive
net types automatically receive path types of the same name as discussed
under “<a class="xref fm:HeadingAndPage" href="Concept_InitializationRuleCheckProcedures_id80a3e4d3.html#id80a3e4d3-69c5-4c94-93fd-df13ff666153__Concept_InitializationRuleCheckProcedures_id80a3e4d3.xml#id80a3e4d3-69c5-4c94-93fd-df13ff666153" title="Calibre PERC rule checks appear within a construct called TVF Function in a Calibre rule file. Rule checks are written in two basic parts: initialization procedures and rule check procedures. Initialization procedures set up the run by classifying nets through various means. Rule check procedures perform checks on various objects in a netlist.">Initialization and Rule Check Procedures</a>”. Path types
are eligible for propagation.</p>
<p class="p">This command, perc::define_net_type,
or perc::define_net_type_by_placement must be called to create any
net types. </p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">Defining
a large number of net types in a single initialization procedure
can lead to design flattening and increased run time. In cases where
the initialization procedure takes a long time to execute in comparison
to rule check execution time, splitting up the initialization procedure and
using multiple PERC Load statements to reference those procedures
can be useful. Writing initialization procedures where only the
net types that are needed for the respective checks are present
in each init proc often results in better performance. </p>
</div>
<p class="p">By default, Calibre PERC only
assigns <span class="keyword ParameterName RequiredReplaceable">net_type</span> to
nets in the top cell that are connected to the selected devices.
Calibre PERC then assigns the <span class="keyword ParameterName RequiredReplaceable">net_type</span> down
the hierarchy to any nets attached through cell ports. </p>
<p class="p">The options ‑cell and -cellName
change the default behavior to allow assignment of net types to lower-level
nets. With either of these option selected, Calibre PERC assigns
the <span class="keyword ParameterName RequiredReplaceable">net_type</span> up
and down the hierarchy onto any nets attached (only) through ports.
Upward assignment occurs first. Assignment of <span class="keyword ParameterName RequiredReplaceable">net_type</span> through
the hierarchy continues to a net’s top level. For downward assignment,
top-level nets that receive <span class="keyword ParameterName RequiredReplaceable">net_type</span> through
upward assignment are treated in the same way as nets assigned the <span class="keyword ParameterName RequiredReplaceable">net_type</span> at
the top level. Only one of the two options, -cell and ‑cellName,
can be specified for one net type.</p>
<p class="p">If a net type is defined using
multiple command calls, Calibre PERC accumulates the conditions specified
in each call, and assigns the <span class="keyword ParameterName RequiredReplaceable">net_type</span> label
using the combined definition. The -cell or -cellName option can
be specified in only one of the calls; Calibre PERC uses this option
in the combined <span class="keyword ParameterName RequiredReplaceable">net_type</span> definition. </p>
<p class="p">When the -pinNetType or -condition
option is used, the tool creates a new net type that depends on
the net types referenced in the option’s arguments. Therefore, those
net types must be assigned to nets in the design first. Calibre
PERC accomplishes this automatically by assigning net types in phases:</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">Phase 0</span> —
Independent net types, such as the ones based on net names.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">Phase 1</span> —
Net types depending on the net types defined in Phase 0.</p>
<p class="p BlockIndent">…</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">Phase N</span> —
Net types depending on the net types defined in Phase 0 through
N-1.</p>
<p class="p">At the end of each phase, Calibre
PERC propagates the currently defined path types throughout the
design. Since the dependent path types convey the connectivity information,
this allows the local device connectivity to be seen globally. Hence,
chip-level rule checking is made possible. For example:</p>
<pre class="pre codeblock leveled"><code>perc::define_net_type Ground VSS?  
perc::define_net_type_by_device A -type MN -pin {s d} \
  -pinNetType {g Ground} 
perc::define_net_type_by_device B -type R  -pin {p} -pinNetType { n A } 
perc::define_net_type_by_device B -type R  -pin {n} -pinNetType { p A } </code></pre><p class="p">At any level of the hierarchy,
a net carrying type B is connected, through a resistor, to a gate-grounded
NMOS somewhere in the design.</p>
<p class="p">Net type names can be reused
within the same phase, but net types from different phases cannot share
a name. When defining a new dependent net type, its phase is always
one higher than the highest phase of the net types it depends on.
For example:</p>
<pre class="pre codeblock leveled"><code>// Ground,  phase 0 
perc::define_net_type Ground VSS?    
// A, phase 1 
perc::define_net_type_by_device A -type MN -pin {s d} \
  -pinNetType {g Ground}  
// B, phase 2 
perc::define_net_type_by_device B -type R  -pin {p} -pinNetType { n A }      
// B, phase 2, OK, cumulative 
perc::define_net_type_by_device B -type R  -pin {n} -pinNetType { p A }      
// B, phase 3, error 
perc::define_net_type_by_device BAR -type R  -pin {p} -pinNetType { n B }  </code></pre><p class="p">If the -condition option is specified,
the tool creates a new phase for each net type, leading to many
iterations of propagation. In this context, the -conditionNetType
option can be used to declare just the net types used in the <span class="keyword ParameterName OptionalReplaceable">cond_proc</span>.
This optimizes the phase analysis by reducing the number of iterations
during path type propagation.</p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">It is
best not to use a -condition proc for net type checking. For example,
using a ‑condition proc to check if S/D pins are power supply pins
for MOS devices is wasteful. Instead, you can use ‑pinNetType for
better performance, like this: ‑pinNetType {{S D} {!POWER}}</p>
</div>
<p class="p">When defining net types with
perc::define_net_type_by_device and you want to declare a non-primitive
subcircuit in the -type list, but use of LVS Box is not possible
(it is required when subcircuits are used as devices) because you
want to check inside that subcircuit, then using <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a> with the -cellName option may
be preferable.</p>
<p class="p">This command can be called any
number of times in a single initialization procedure. </p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id3af45e8b-a112-4898-b032-28023d355816"><span class="keyword ParameterName RequiredReplaceable">net_type</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
the name of the net type being defined. It must be a non-empty string.
The string cannot start with the exclamation point (!), and can
be neither logical AND (&amp;&amp;) nor logical OR (||). The <span class="keyword ParameterName RequiredReplaceable">net_type</span> may
be a previously defined net type. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__idc5bddcd9-d387-4367-956b-f0c903eab1bb">-type <span class="keyword ParameterName OptionalReplaceable">type_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">type_list</span> must
be a Tcl list consisting of one or more device types (including
.SUBCKT definitions; see “<a class="xref fm:HeadingAndPage" href="Concept_SubcircuitsDevices_idde32902a.html#idde32902a-4f0a-4b90-a0dd-0d7a345bde21__Concept_SubcircuitsDevices_idde32902a.xml#idde32902a-4f0a-4b90-a0dd-0d7a345bde21" title="Primitive SPICE subcircuits can serve as devices for many commands, so it is important to understand how they work in this context.">Subcircuits as Devices</a>”), and possibly starting with
the exclamation point (!). If the exclamation point is not present,
then only devices with the listed types are selected. If the exclamation
point is present, then only devices with types other than those
listed are selected. </p>
<p class="p">Examples of <span class="keyword ParameterName OptionalReplaceable">type_list</span> are
these: {MN MP} or {! MN MP}.</p>
<p class="p">Each device type may contain
one or more asterisk (*) characters. The * character matches zero
or more characters.</p>
<p class="p">A device must have one of the
listed types in order to be selected.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id33e8d329-0f44-4ec1-bab7-bbf585fb050e"><span class="keyword ParameterName Optional">-subtype </span><span class="keyword ParameterName OptionalReplaceable">subtype_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">subtype_list</span> must
be a Tcl list consisting of one or more device subtypes, and possibly
starting with the exclamation point (!). If the exclamation point
is not present, then only devices with the listed models are selected.
If the exclamation point is present, then only devices with models
other than those listed are selected. </p>
<p class="p">Examples of <span class="keyword ParameterName OptionalReplaceable">subtype_list </span>are
these: {model_1 model_2} or {! model_3 model_4}.</p>
<p class="p">Each device subtype may contain
one or more asterisk (*) characters. The * character matches zero
or more characters, but it does not match the absence of a subtype.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__ida26444ed-12e0-44af-ac92-d27c0ebc0530"><span class="keyword ParameterName Optional">-property “</span><span class="keyword ParameterName OptionalReplaceable">constraint_str</span>”</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">constraint_str</span> must
be a quoted nonempty string specifying a property name followed
by a constraint limiting the value of the property. For example:</p>
<pre class="pre codeblock leveled"><code>-property "R &gt; 100" </code></pre><p class="p">The constraint notation is given
in the “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', '99TABLE Constraints', 'svrf_ur'); return false;">Constraints</a>”
table of the <cite class="cite">SVRF Manual</cite>. </p>
<p class="p">Only devices satisfying the
condition in <span class="keyword ParameterName OptionalReplaceable">constraint_str</span> are
selected. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id2ad991d7-2793-43d6-9141-30679283abc0">-pinNetType {{<span class="keyword ParameterName OptionalReplaceable">pin_name_list</span>} {<span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>} …}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
defines conditions a device must satisfy in order to classify the
net type. The specified pins are checked to see if they have the
specified net types.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">pin_name_list</span> is
a Tcl list consisting of one or more pin names. At least one <span class="keyword ParameterName OptionalReplaceable">pin_name_list</span> with
a corresponding <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> must
be specified. If -type specifies a .SUBCKT name, then pin names
in the <span class="keyword ParameterName OptionalReplaceable">pin_name_list</span> come
from the .SUBCKT definition.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> must
be a Tcl list that defines a logical expression involving net types.
This is the allowed form:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id72c3cb6e-8237-4d67-8c22-d184d803e896"><p class="p Opt">{[!]<span class="keyword ParameterName OptionalReplaceable">type_1</span> [<span class="keyword ParameterName OptionalReplaceable">operator</span> [!]<span class="keyword ParameterName OptionalReplaceable">type_2</span> [<span class="keyword ParameterName OptionalReplaceable">operator</span> …
[!]<span class="keyword ParameterName OptionalReplaceable">type_N</span>]]}</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">type_N</span> arguments
are net types such as are created with the <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a>, <a class="xref fm:HeadingOnly" href="#idddb1d861-3213-4dfe-ac19-676ee8821ebc" title="Assigns a net type to nets that are connected to selected devices.">perc::define_net_type_by_device</a>, or <a class="xref fm:HeadingOnly" href="Command_PercdefineTypeSet_id4729110c.html#id4729110c-e73f-4c7b-8772-d111b3fd3cf4__Command_PercdefineTypeSet_id4729110c.xml#id4729110c-e73f-4c7b-8772-d111b3fd3cf4" title="Creates and assigns a new net type set from a list of net types.">perc::define_type_set</a> commands. If there is only one net
type, then the <span class="keyword ParameterName OptionalReplaceable">operator</span> is
omitted.</p>
<p class="p">The exclamation point (!) causes
logical negation of the net type following it. </p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">operator</span> is
either logical AND (&amp;&amp;) or logical OR (||). The &amp;&amp;
operator has precedence over ||. For example, this expression:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id5bb34d01-c126-48bc-abdf-665234f52e1d"><p class="p Opt">{labelA
|| labelB &amp;&amp; !ground}</p>
</li>
</ul>
<p class="p">means “labelA OR (labelB AND
not ground)”. You can manage the precedence by using type sets.
For example, suppose you have this command:</p>
<pre class="pre codeblock leveled"><code>perc::define_type_set any_label  {labelA || labelB} </code></pre><p class="p">Then the following expression:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__idc417c429-1df4-45df-a36e-09b601ce24d3"><p class="p Opt">{any_label
&amp;&amp; !ground}</p>
</li>
</ul>
<p class="p">means “(labelA OR labelB) AND
not ground”.</p>
<p class="p">A device meets the criteria
if <a class="xref fm:HeadingOnly" href="Command_PercisPinOfNetType_id6039ace9.html#id6039ace9-f4c6-409f-b83a-1104554eb691__Command_PercisPinOfNetType_id6039ace9.xml#id6039ace9-f4c6-409f-b83a-1104554eb691" title="Returns TRUE if at least one net meets the net type criteria for the given pins.">perc::is_pin_of_net_type</a> returns the value of 1 when applied to
the device and each pair of <span class="keyword ParameterName OptionalReplaceable">pin_name_list</span> and <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>.
In other words, for each pair of <span class="keyword ParameterName OptionalReplaceable">pin_name_list</span> and <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>,
at least one of the nets connected to the pins in <span class="keyword ParameterName OptionalReplaceable">pin_name_list</span> must
satisfy the corresponding <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list. </span>See “<a class="xref fm:HeadingAndPage" href="Concept_ImplicitBooleanOperationsInPinLists_ida46d06be.html#ida46d06be-d916-4f63-a2d9-bc6c8b39ae51__Concept_ImplicitBooleanOperationsInPinLists_ida46d06be.xml#ida46d06be-d916-4f63-a2d9-bc6c8b39ae51" title="Some Calibre PERC commands allow the specification of pin lists together with net or path types. Depending upon how the lists are specified, the lists can be interpreted as Boolean AND or OR conditions on the pins.">Implicit Boolean Operations in Pin Lists</a>” for details on specifying AND
and OR conditions for pin lists.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__idffe6b35b-71da-44dd-800a-115c373513bb">-condition <span class="keyword ParameterName OptionalReplaceable">cond_proc</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> must
be a Tcl proc that takes an instance iterator passed from the command
as its only argument. </p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> must
return the value of 1 if the device meets its condition and 0 otherwise. If
1 is returned, the device is selected for processing. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id2641c815-67f3-43ca-af86-a62e54009cf2">-conditionNetType <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set specified
with the -condition option that defines which net types to use for
assignment in the <span class="keyword ParameterName OptionalReplaceable">cond_proc</span>.
If -conditionNetType is not specified, then all net types are used.
If this option is specified, then net types referenced in the <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> must
be referenced in the <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span>.
A <span class="keyword ParameterName OptionalReplaceable">net_type_condition_list</span> can
either be empty, in which case no net types are used, or it can
be of the same form as in the ‑pinNetType option. In the latter
case, the same semantics apply for the list as discussed under ‑pinNetType.
The only operator you will likely want to use is logical AND (&amp;&amp;)
because you want to reference all the net types of the <span class="keyword ParameterName OptionalReplaceable">cond_proc</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id41543256-f43f-45b8-bfd7-6c954d93e138"><span class="keyword ParameterName Optional">-pin </span><span class="keyword ParameterName OptionalReplaceable">pin_name_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">pin_name_list </span>must
be a Tcl list consisting of one or more pin names that belong to
the device types.</p>
<p class="p">If -pin is used, Calibre PERC
only assigns <span class="keyword ParameterName RequiredReplaceable">net_type</span> to
nets connected to the listed pins of the selected devices.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id43a65a0d-95dd-4c05-8d52-9757976de9ad"><span class="keyword ParameterName Optional">-cell</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An option that controls the
assignment of the net type in any cell. If ‑cell is specified, Calibre
PERC assigns <span class="keyword ParameterName RequiredReplaceable">net_type</span> to
nets in all cells that are connected to the selected devices. Assignment
of the net type to nets connected only through cell ports to the
specified net and throughout the hierarchy is as discussed in the
Description section.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id711f5530-2d55-452a-8e9b-6c3bae5ec757">-cellName <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
causes the behavior like the -cell option to apply to cells in the <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span>.
The <span class="keyword ParameterName OptionalReplaceable">cell_name_list </span>must
be a Tcl list consisting of one or more cell names, and starting
with possibly the exclamation point (!), such as {cell_1 cell_2}
or {! cell_3 cell_4}. If the exclamation point is not present, then <span class="keyword ParameterName RequiredReplaceable">net_type </span>is
only assigned within the listed cells. If the exclamation point
is specified, then <span class="keyword ParameterName RequiredReplaceable">net_type</span> is
assigned only in cells with names other than those listed. One or
more asterisk (*) wildcards are allowed in a cell name. This wildcard
matches zero or more characters.</p>
<p class="p">The top-level cell is not automatically
considered part of <span class="keyword ParameterName OptionalReplaceable">cell_name_list</span>.
However, Calibre PERC provides this reserved keyword for referencing
the top-level cell: </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id3eba05f7-0e96-4712-8d8c-cda39f495133"><p class="p Opt"><span class="ph FontProperty HeadingLabel">lvsTop</span> —
Generic cell name referring to the top-level cell.</p>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">None.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id865dec28-04f3-483c-a394-1a49cd6e0506"><h2 class="title Subheading sectiontitle">Example 1</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_net_type_by_device [/* 
  package require CalibreLVS_PERC 
 
  proc init_1_net_type_by_device {} { 
    perc::define_net_type_by_device "label_a" -type {R} \
      -subtype {ar} -pin {p n}  
    perc::define_net_type_by_device "label_b" -type {R} \
      -property {r &lt; 100} 
    perc::define_net_type_by_device "label_c" -type {R} \
      -subtype {! ar br} -cell 
  } 
*/] </code></pre><p class="p">Tcl proc init_1_net_type_by_device
creates three net types: label_a, label_b, and label_c. Any net
connected to a resistor of model “ar” through the positive or negative
pin in the top cell has the type label_a. Any net connected to any
resistor with value less than 100 in the top cell has the type label_b.
Since net type label_c is specified with the option -cell, any net
connected to a resistor of model other than “ar” or “br” at any
level of the hierarchy has the type label_c. </p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="TaskTop_ExampleDiodeProtectionMosGates_id157b5ec0.html#id157b5ec0-c18d-4a0f-beb7-94876874f126__TaskTop_ExampleDiodeProtectionMosGates_id157b5ec0.xml#id157b5ec0-c18d-4a0f-beb7-94876874f126" title="The perc::check_device command can be used in a rule check to determine whether MOS gates have diode protection.">Example: Diode Protection of MOS Gates</a>” for a complete check.</p>
</div>
<div class="section Subsection" id="idddb1d861-3213-4dfe-ac19-676ee8821ebc__id40dcacf8-4ba5-45d3-b00c-cca310985d03"><h2 class="title Subheading sectiontitle">Example 2</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_net_type_by_device [/* 
  package require CalibreLVS_PERC 
 
# proc cond_1 uses no net type. Use an empty list for ‑conditionNetType 
# to indicate this fact. 
  proc cond_1 {dev} { 
    return 1 
  } 

# proc cond_2 uses two net types. 
# ensure the logical expression lists ALL net types referenced  
# in the cond proc. 
  proc cond_2 {dev} { 
    return [perc::is_pin_of_net_type $dev {s d} "Ground || In"] 
  }

  proc init_2_net_type_by_device {} { 
    perc::define_net_type Ground VSS?  
    perc::define_net_type In {INA INB} 
    perc::define_net_type_by_device mn_g -type MN -pin g \
      -condition cond_1 -conditionNetType {} 
    perc::define_net_type_by_device mp_g -type MP  -pin g \
      -condition cond_2 -conditionNetType "Ground &amp;&amp; In" 
  }

...
*/]</code></pre><p class="p">Tcl proc init_2 first creates net
types Ground and In. Tcl proc cond_1 simply returns 1 for all passed-in
devices. The first perc::define_net_type_by_device command creates
net type mn_g for nets connected to MN device gate pins. Since no
net types are referenced in cond_1, the ‑conditionNetType list is
empty. </p>
<p class="p">Tcl proc cond_2 returns 1 if the
s/d pin of the passed-in device is of net type Ground or In, and 0
otherwise. The second perc::define_net_type_by_device command creates
net type mp_g for nets connected to MP device gate pins. The same
net types are referenced in cond_2 and in the ‑conditionNetType
list.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_InitializationCommands_id23266ed9.html" title="Initialization procedure commands appear in an init proc and set up the netlist for checking.">Initialization Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::define_net_type_by_device"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercdefineNetTypeByDevice_idddb1d861.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>