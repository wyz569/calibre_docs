<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::compute_effective_resistance" />
<meta name="abstract" content="Enables effective resistance to be computed along a path between two points." />
<meta name="description" content="Enables effective resistance to be computed along a path between two points." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id99875b03-ea9a-46c1-82cf-38cac3bea194" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::compute_effective_resistance</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::compute_effective_resistance" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id99875b03-ea9a-46c1-82cf-38cac3bea194">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::compute_effective_resistance</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC initialization command.</p>
<p class="shortdesc">Enables effective resistance
to be computed along a path between two points.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::compute_effective_resistance -pathType</span> <span class="keyword ParameterName RequiredReplaceable">path_type</span> <br />
[-startType <span class="keyword ParameterName OptionalReplaceable">net_type</span>]<br />
[-type <span class="keyword ParameterName OptionalReplaceable">type_list</span>] <span class="keyword ParameterName Optional">[-pin “</span><span class="keyword ParameterName OptionalReplaceable">pin1 pin2</span><span class="keyword ParameterName Optional"> [</span><span class="keyword ParameterName OptionalReplaceable">pin3</span><span class="keyword ParameterName Optional"> …]”]<br />
[-subtype </span><span class="keyword ParameterName OptionalReplaceable">subtype_list</span><span class="keyword ParameterName Optional">] <br />
</span>[-deviceResistance <span class="keyword ParameterName OptionalReplaceable">proc</span>]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Instructs Calibre PERC to identify
intentional resistances that are to be included in point-to-point
effective resistance computation. If perc::compute_effective_resistance
is not specified in the initialization procedure, then effective
resistance information is unavailable for rule checks. Effective
resistance computations apply to intentional devices only.</p>
<p class="p">This
command is used in conjunction with <a class="xref fm:HeadingOnly" href="Command_PercgetEffectiveResistance_id78e28a39.html#id78e28a39-21d2-49be-be17-cf2750c2f65c__Command_PercgetEffectiveResistance_id78e28a39.xml#id78e28a39-21d2-49be-be17-cf2750c2f65c" title="Returns effective resistances of a path from a source to a sink.">perc::get_effective_resistance</a> and <a class="xref fm:HeadingOnly" href="Command_PercisEffectiveResistanceWithinConstraint_id223df873.html#id223df873-7773-49cb-b56c-5a29d5f513f9__Command_PercisEffectiveResistanceWithinConstraint_id223df873.xml#id223df873-7773-49cb-b56c-5a29d5f513f9" title="Returns TRUE if the effective resistance for a path branch is within a specified constraint range.">perc::is_effective_resistance_within_constraint</a>, which are used in rule check
procedures. These commands are collectively referred to as the <dfn class="term italic">effective resistance command set</dfn>. </p>
<p class="p">The <span class="keyword ParameterName RequiredReplaceable">path_type</span> together
with the <a class="xref fm:HeadingOnly" href="Command_PerccreateNetPath_id10b2258b.html#id10b2258b-2c17-4da0-b38b-accfa06ccbb1__Command_PerccreateNetPath_id10b2258b.xml#id10b2258b-2c17-4da0-b38b-accfa06ccbb1" title="Enables path type propagation through selected devices and pins. Assigns path types, which correspond to the net type names of all the nets connected through the devices and pins selected by this command.">perc::create_net_path</a> command define the propagation
criteria from which effective resistances are computed. </p>
<p class="p">The effective resistance command
set checks resistances between signal ports and device pins, such
as gate pins. Nets (corresponding to signal ports) for which <a class="xref fm:HeadingOnly" href="Command_PercisNetOfNetType_id49ed7fdd.html#id49ed7fdd-707f-40ce-b3cb-05ba11deb86a__Command_PercisNetOfNetType_id49ed7fdd.xml#id49ed7fdd-707f-40ce-b3cb-05ba11deb86a" title="Returns TRUE if the given net meets the net type criteria.">perc::is_net_of_net_type</a> would return “true” for the specified <span class="keyword ParameterName RequiredReplaceable">path_type</span> argument
are the starting points (source) for determining resistance. A net
connecting to a device pin specified in a perc::get_effective_resistance
or perc::is_effective_resistance_within_constraint command is a termination
point (sink). A sink may or may not be valid, depending on how these
commands are specified.</p>
<p class="p">Recall that net types label nets before any path type propagation
occurs through pin connections. If the <span class="keyword ParameterName RequiredReplaceable">path_type</span> is
a type set (defined with perc::define_type_set), it is likely that no
net has that type set as its net type (although there probably are
nets having the type set as a path type). In this case, the -startType
option is useful to specify the net type that defines the starting
net(s) for the effective resistance computations. For example:</p>
<pre class="pre codeblock"><code>perc::define_net_type "TYPE_A" netA1 netA2
perc::define_net_type "TYPE_B" netB1 netB2
perc::define_type_set "EFF_RES_SET" {TYPE_A &amp;&amp; TYPE_B}</code></pre><p class="p">In this case, no net has EFF_RES_SET as its net type, but some
net could have it as a path type. You could then specify one (and
only one) of the following in the same initialization procedure to
define which nets participate in the effective resistance computation
for the EFF_RES_SET path type:</p>
<pre class="pre codeblock"><code>perc::compute_effective_resistance -pathType {EFF_RES_SET} \
  -startType {TYPE_A}

perc::compute_effective_resistance -pathType {EFF_RES_SET} \
  -startType {TYPE_B}

perc::compute_effective_resistance -pathType {EFF_RES_SET}</code></pre><p class="p">The latter case is the default behavior, and EFF_RES_SET is taken
as the starting net type.</p>
<p class="p">Calibre PERC generates an internal
netlist based upon the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> keyword
settings (XFORM and so forth), as usual. The effective resistance
command set subsequently calculates effective resistance using series
and parallel reduction across the design hierarchy without flattening
the netlist or requiring a complex rule using perc::get_instances_in_parallel
and perc::get_instances_in_series commands. </p>
<p class="p">If -type is unspecified, the
default device type is R. The -type and -subtype arguments allow specified
devices to be treated as resistors by the command. </p>
<p class="p">The -pin argument specifies names
of pins between which effective resistance is computed. This argument
is required if -type specifies any other device type than R. If
a specified pin does not appear in a corresponding perc::create_net_path
command, a warning is issued.</p>
<p class="p">If the -deviceResistance argument
set is specified, the Tcl <span class="ph FontProperty emphasis">proc</span> must
return either a numeric value that is the device’s resistance or
the string “NONE” if the pins are not connected. If NONE is returned,
the pins are not processed further by the command.</p>
<p class="p">The tool determines the resistance
value (RV) for the processed devices in the following order. The
first step that succeeds defines the value.</p>
<ol class="ol"><li class="li" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id784c6fc7-c4cc-4907-8917-23663c5baf5e"><p class="p">Calling the <span class="ph FontProperty emphasis">proc</span> if
specified (then RV=[${<span class="ph FontProperty emphasis">proc</span>}
${dev}])</p>
</li>
<li class="li" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id30a73dda-ebcb-4564-b452-031627bcc457"><p class="p">Looking for device property R
(then RV=R)</p>
</li>
<li class="li" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__iddbb31b26-fcb9-4b5c-98c6-64b818d2ff50"><p class="p">Looking for device properties
L and W (then RV=L/W)</p>
</li>
<li class="li" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__ide554b0e8-9039-4365-8ecf-f2e30d3d4cbc"><p class="p">Looking for device properties
LR and WR (then RV=LR/WR)</p>
</li>
</ol>
<p class="p">If the tool cannot determine
RV in any of those ways, or if RV is &lt; 1.0e-5, then the tool
sets RV=1.0e-5.</p>
<p class="p">The -deviceResistance procedure
is passed one input argument for a device iterator if the device type
is R and -pins is unspecified. Otherwise, the procedure is passed
three input arguments: a device iterator and two pin names. It is
an error if two perc::compute_effective_resistance commands call
the same -deviceResistance proc where one command passes one argument while
the other command passes three arguments.</p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id03b9e100-267f-4a17-8db3-692c75ccf4f6"><span class="keyword ParameterName Required">-pathType</span> <span class="keyword ParameterName RequiredReplaceable">path_type</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set that
specifies a path type name defined by <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a>, <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByDevice_idddb1d861.html#idddb1d861-3213-4dfe-ac19-676ee8821ebc__Command_PercdefineNetTypeByDevice_idddb1d861.xml#idddb1d861-3213-4dfe-ac19-676ee8821ebc" title="Assigns a net type to nets that are connected to selected devices.">perc::define_net_type_by_device</a>, <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByPlacement_id6c10ba02.html#id6c10ba02-b9c5-4b5e-bd00-3a53f90691bb__Command_PercdefineNetTypeByPlacement_id6c10ba02.xml#id6c10ba02-b9c5-4b5e-bd00-3a53f90691bb" title="Assigns a net type to nets that are connected to selected placements.">perc::define_net_type_by_placement</a>, or <a class="xref fm:HeadingOnly" href="Command_PercdefineTypeSet_id4729110c.html#id4729110c-e73f-4c7b-8772-d111b3fd3cf4__Command_PercdefineTypeSet_id4729110c.xml#id4729110c-e73f-4c7b-8772-d111b3fd3cf4" title="Creates and assigns a new net type set from a list of net types.">perc::define_type_set</a>. The
resistances are identified on the path associated with this path type.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__idaeed6cb7-3133-4ea6-bc01-7b64cb5b1682">-startType <span class="keyword ParameterName OptionalReplaceable">net_type</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
a net type name defined by any of the commands that generate a <span class="keyword ParameterName RequiredReplaceable">path_type</span>.
This option causes nets having the <span class="keyword ParameterName OptionalReplaceable">net_type</span> to
participate in the effective resistance computation. By default, <span class="keyword ParameterName OptionalReplaceable">net_type</span> is
equivalent to <span class="keyword ParameterName RequiredReplaceable">path_type</span>.</p>
<p class="p">This option may only be specified once in an initialization procedure
for any given <span class="keyword ParameterName RequiredReplaceable">path_type</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id8d788b61-3b40-4370-8a29-6469e11df4b4">-type <span class="keyword ParameterName OptionalReplaceable">type_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">type_list</span> is
a Tcl list consisting of one or more device types. Effective resistances
are computed for the specified types only. The default type is R.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__idd47fcf96-1284-4d87-8d57-1c332f6a1aae">-<span class="keyword ParameterName Optional">subtype</span> <span class="keyword ParameterName OptionalReplaceable">subtype_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">subtype_list</span> must
be a Tcl list consisting of one or more subtypes. Effective resistances
are computed for the specified subtypes only. Subtypes are also
known as model names. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__idf243523a-aec1-41e8-864e-930e4a947748">-pin <span class="keyword ParameterName Optional">“</span><span class="keyword ParameterName OptionalReplaceable">pin1 pin2</span> <span class="keyword ParameterName Optional">[</span><span class="keyword ParameterName OptionalReplaceable">pin3</span><span class="keyword ParameterName Optional">…]”</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An argument set specifying a
Tcl list of pin names. This argument set is required if -type is specified
for any device type other than R. At least two pin names must be
specified. Resistances are calculated between the specified pins.
If more than two pins are specified, then resistances are calculated
between all possible pin pairs for a device.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id75d38def-e805-4b02-9a8c-9d232d6756c7">-deviceResistance <span class="keyword ParameterName OptionalReplaceable">proc</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
specifies a Tcl procedure that computes resistance values in ohms.
The <span class="ph FontProperty emphasis">proc</span> must
return either a numeric value of resistance or the string “NONE”
to indicate the pins are not connected. A numeric value must be
not less than 1.0e-5 ohms. </p>
<p class="p">For backward compatibility,
if the device type is R and -pin is unspecified, then the <span class="ph FontProperty emphasis">proc</span> is called
with one argument for a device iterator. For all other situations,
the <span class="ph FontProperty emphasis">proc</span> is
called with three arguments: the device iterator and two pin names.
Here is the latter form of the <span class="ph FontProperty emphasis">proc</span>:</p>
<pre class="pre codeblock leveled"><code># type is other than R or -pins is specified 
proc res_proc {<span class="keyword ParameterName OptionalReplaceable">dev</span> <span class="keyword ParameterName OptionalReplaceable">pin_1 pin_2</span>} { 
# resistance calculations 
... 
} </code></pre><p class="p">The command puts the two input
pin names in lexicographic order when calling the <span class="ph FontProperty emphasis">proc</span>. For
example, if the pin pair is composed of “s” and “d”, then <span class="keyword ParameterName OptionalReplaceable">pin_1</span> is
“d” and <span class="keyword ParameterName OptionalReplaceable">pin_2</span> is
“s” (rather than the reverse). Any test inside the <span class="ph FontProperty emphasis">proc</span> for
a specific pin pair need only check for that ordering of pin names.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">None.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id3a809a9d-803a-4750-a2a7-d1c5014eb943"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">This example shows computing the
R property value based on length and width properties. Assume the
SPICE subcircuit RMODEL models a resistor. The gate pins of MOS
devices are checked to determine if they are connected to nets having
sufficient effective resistances in the path to top-level ports.</p>
<pre class="pre codeblock leveled"><code>PERC PROPERTY R r 
PERC LOAD effective_res_lib INIT init_eff_R SELECT rule_eff_R 
 
TVF FUNCTION effective_res_lib [/* 
package require CalibreLVS_PERC 
 
  proc init_eff_R {} { 
# identify all top-level nets 
    <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a> IO lvsTopPorts 
# propagate path type through resistors 
    <a class="xref fm:HeadingOnly" href="Command_PerccreateNetPath_id10b2258b.html#id10b2258b-2c17-4da0-b38b-accfa06ccbb1__Command_PerccreateNetPath_id10b2258b.xml#id10b2258b-2c17-4da0-b38b-accfa06ccbb1" title="Enables path type propagation through selected devices and pins. Assigns path types, which correspond to the net type names of all the nets connected through the devices and pins selected by this command.">perc::create_net_path</a> -type R -pin { pos neg } 
 
# analyze the resistance paths for computing effective 
# point-to-point resistance between two points in the path 
    perc::compute_effective_resistance -pathType "IO" 
  } 
 
# check that there is MOS gate net with min_R path &lt; 100 
# or max_R path &gt; 1000 
  proc rule_eff_R {} { 
    <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> -type {MN MP} -condition cond_effective_res 
} </code></pre><pre class="pre codeblock leveled"><code>
# get the gate pin net and ensure it is an IO net 
# then verify the min and max effective resistances on the branch 
  proc cond_effective_res {dev} { 
    set g_net [<a class="xref fm:HeadingOnly" href="Command_PercgetNets_id591349e2.html#id591349e2-717e-4ca8-aad7-1a22ad2a4aea__Command_PercgetNets_id591349e2.xml#id591349e2-717e-4ca8-aad7-1a22ad2a4aea" title="Creates a net iterator.">perc::get_nets</a> $dev -name g] 
    if {[<a class="xref fm:HeadingOnly" href="Command_PercisNetOfPathType_id038750af.html#id038750af-815a-4beb-927b-4c5f94e2a03e__Command_PercisNetOfPathType_id038750af.xml#id038750af-815a-4beb-927b-4c5f94e2a03e" title="Returns TRUE if the given net meets the path type criteria.">perc::is_net_of_path_type</a> $g_net "IO"]} { 
      set r_eff [<a class="xref fm:HeadingOnly" href="Command_PercgetEffectiveResistance_id78e28a39.html#id78e28a39-21d2-49be-be17-cf2750c2f65c__Command_PercgetEffectiveResistance_id78e28a39.xml#id78e28a39-21d2-49be-be17-cf2750c2f65c" title="Returns effective resistances of a path from a source to a sink.">perc::get_effective_resistance</a> $g_net -pathType "IO"] 
      set min_r [lindex $r_eff 0] 
      set max_r [lindex $r_eff 1] 
      if {$min_r &lt; 100 || $max_r &gt; 1000} { 
        <a class="xref fm:HeadingOnly" href="Command_PercreportBaseResult_idb3fbfdac.html#idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__Command_PercreportBaseResult_idb3fbfdac.xml#idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978" title="Writes user-defined content to the PERC Report file or to the Mask SVDB Directory. This command must be called in the context of a high-level rule check command.">perc::report_base_result</a> -value "Pin g resistances: $min_r $max_r" 
        return 1 
# alternate method using perc::is_effective_resistance_within_constraint 
#     set r_eff_flag [<a class="xref fm:HeadingOnly" href="Command_PercisEffectiveResistanceWithinConstraint_id223df873.html#id223df873-7773-49cb-b56c-5a29d5f513f9__Command_PercisEffectiveResistanceWithinConstraint_id223df873.xml#id223df873-7773-49cb-b56c-5a29d5f513f9" title="Returns TRUE if the effective resistance for a path branch is within a specified constraint range.">perc::is_effective_resistance_within_constraint</a> \
#       $g_net -pathType "IO" \
#       -constraintMin "&gt;= 100" -constraintMax "&lt;= 1000"] 
#     if {$r_eff_flag != 1} { 
#       perc::report_base_result -value "Pin g resistances: \
#[list [perc::get_effective_resistance $g_net -pathType "IO"]]" 
      } 
    } 
    return 0 
  } 
*/] </code></pre></div>
<div class="section Subsection" id="id99875b03-ea9a-46c1-82cf-38cac3bea194__id0f30fedb-23f4-4291-8d76-6c7143c5f469"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This example shows use of the -deviceResistance
procedure for two perc::compute_effective_resistance commands.</p>
<pre class="pre codeblock leveled"><code>PERC PROPERTY R r 
PERC LOAD effective_res_lib INIT init_eff_RM SELECT rule_eff_R 
 
TVF FUNCTION effective_res_lib [/* 
package require CalibreLVS_PERC 
 
  proc init_eff_RM {} { 
    perc::define_net_type "Power"   {lvsPower } 
    perc::define_net_type "Ground"  {lvsGround}       
    perc::define_net_type "IO"      {I?} 
    perc::create_net_path -type {R} -break {Power || Ground} 
    perc::create_net_path -type {MN} -pin { s d} 
 
# effective resistances for R and MN devices on IO paths 
    perc::compute_effective_resistance -pathType {IO} \
      -deviceResistance devRes_procR 
    perc::compute_effective_resistance -type {MN} \
      -pin {d s} -pathType {IO} -deviceResistance devRes_procMOS </code></pre><pre class="pre codeblock leveled"><code>
# effective R computation for R devices 
  proc devRes_procR {dev pin_1 pin_2} { 
    set propItr_R [<a class="xref fm:HeadingOnly" href="Command_PercgetProperties_idc5f1a506.html#idc5f1a506-2f7d-49c7-ab74-b8ac5d62d8c2__Command_PercgetProperties_idc5f1a506.xml#idc5f1a506-2f7d-49c7-ab74-b8ac5d62d8c2" title="Creates a property iterator.">perc::get_properties</a> ${dev} -name R] 
    if { ${propItr_R} ne "" } { 
      set value [<a class="xref fm:HeadingOnly" href="Command_Percvalue_idf29d6ab8.html#idf29d6ab8-87cc-45e8-b0ab-e4e279f9bf14__Command_Percvalue_idf29d6ab8.xml#idf29d6ab8-87cc-45e8-b0ab-e4e279f9bf14" title="Returns a property value from a property iterator.">perc::value</a> ${propItr_R}] 
    } else { 
      set value NONE 
    } 
    return ${value} 
  } 

# effective R computation for MN or MP devices 
  proc devRes_procMOS {dev pin_1 pin_2} { 
    set value 1.0e-5 
    set type [<a class="xref fm:HeadingOnly" href="Command_Perctype_id19c43fdf.html#id19c43fdf-9288-4113-8906-7d1cf825ce84__Command_Perctype_id19c43fdf.xml#id19c43fdf-9288-4113-8906-7d1cf825ce84" title="Returns the type of the referenced instance, the net, or a pin’s net types or path types. For a cell instance, it returns the cell name.">perc::type</a> $dev] 
    if { ( (${type} ne "MN") || (${type} ne "MP") ) { 
      return NONE 
    } 
# set resistances based upon input pin pair 
    if { ( ( ${pin_1} eq "d" ) &amp;&amp; ( ${pin_2} eq "s" ) ) } { 
      set value 1.0 
  }   else {  
      set value NONE 
    } 
    return ${value} 
  } </code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_InitializationCommands_id23266ed9.html" title="Initialization procedure commands appear in an init proc and set up the netlist for checking.">Initialization Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::compute_effective_resistance"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PerccomputeEffectiveResistance_id99875b03.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>