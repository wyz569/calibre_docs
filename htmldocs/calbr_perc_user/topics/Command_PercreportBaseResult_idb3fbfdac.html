<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::report_base_result" />
<meta name="abstract" content="Writes user-defined content to the PERC Report file or to the Mask SVDB Directory. This command must be called in the context of a high-level rule check command." />
<meta name="description" content="Writes user-defined content to the PERC Report file or to the Mask SVDB Directory. This command must be called in the context of a high-level rule check command." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::report_base_result</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::report_base_result" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::report_base_result</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC high-level command.</p>
<p class="shortdesc">Writes user-defined content
to the PERC Report file or to the Mask SVDB Directory. This command
must be called in the context of a high-level rule check command.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::report_base_result <br />
</span>[-title <span class="keyword ParameterName OptionalReplaceable">title_string</span>] <br />
[-value <span class="keyword ParameterName OptionalReplaceable">value_string</span>]<br />
[-list <span class="keyword ParameterName OptionalReplaceable">iterator_list</span> [{-collapseList <span class="keyword ParameterName OptionalReplaceable">property_list</span>} | {-subResultProperty <span class="keyword ParameterName OptionalReplaceable">key_value_list</span>}]<br />
[{-property <span class="keyword ParameterName OptionalReplaceable">key_value_list</span>} …]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Allows customized
results listings in the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Report', 'svrf_ur'); return false;">PERC Report</a>. Also
supports key-value property assignments to results or instances
in the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Mask SVDB Directory', 'svrf_ur'); return false;">Mask SVDB Directory</a> for
use in Calibre RVE for PERC. At least one of the argument sets must
be specified.</p>
<p class="p">This command can only be called
in the context of a high-level “perc::check…” command. perc::report_base_result
can be called any number of times within a rule check, including ‑condition
procs. Depending on the rule check command calling context, the
data is written to the following locations:</p>
<p class="p BlockIndent"><a class="xref fm:HeadingOnly" href="Command_PerccheckNet_id75162cb0.html#id75162cb0-c882-4d1d-9273-9095a7dd5b64__Command_PerccheckNet_id75162cb0.xml#id75162cb0-c882-4d1d-9273-9095a7dd5b64" title="Checks nets in the design for nets that match the specified conditions. By default, all nets are matched.">perc::check_net</a> — Added to the result of the selected
net.</p>
<p class="p BlockIndent"><a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> — Added to the result of the selected
device.</p>
<p class="p BlockIndent"><a class="xref fm:HeadingOnly" href="Command_PerccheckDeviceAndNet_id05043298.html#id05043298-b80d-45d8-a794-a7cd30bbdc71__Command_PerccheckDeviceAndNet_id05043298.xml#id05043298-b80d-45d8-a794-a7cd30bbdc71" title="Checks devices and nets in the design for ones that match any specified conditions.">perc::check_device_and_net</a> — Added to the result of the selected
device or net.</p>
<p class="p BlockIndent"><a class="xref fm:HeadingOnly" href="Command_PerccheckData_idc670986d.html#idc670986d-b894-4123-8cd4-29430c23fb66__Command_PerccheckData_idc670986d.xml#idc670986d-b894-4123-8cd4-29430c23fb66" title="Calls a user-provided procedure to perform a check.">perc::check_data</a> — Added to the top cell results,
not associated with any device or net.</p>
<p class="p">All data is written to the report
file or the results database, depending on the options used. The order
of information generated by the command in the report is according
to the order of the commands in the rule file. </p>
<p class="p">Although condition procedures
are called on a per-cell basis, the output of perc::report_base_result
is suppressed for hierarchy traversing commands (like <a class="xref fm:HeadingOnly" href="Command_Perccount_iddc2be6a2.html#iddc2be6a2-af8b-4db2-a0a4-eebebc591bad__Command_Perccount_iddc2be6a2.xml#iddc2be6a2-af8b-4db2-a0a4-eebebc591bad" title="Returns the number of devices meeting the conditions of the command.">perc::count</a> and the <a class="xref fm:HeadingOnly" href="Command_MathCommands_idf5ea022a.html#idf5ea022a-0a5b-40e8-9c63-8492fd10a122__Command_MathCommands_idf5ea022a.xml#idf5ea022a-0a5b-40e8-9c63-8492fd10a122" title="These commands perform math functions.">Math Commands</a>) until a net has been <span class="ph FontProperty emphasis">completely processed</span>.
That is, results from this command are not reported until the lowest
cell in the hierarchy that completely contains a net is reached.
See “<a class="xref fm:HeadingAndPage" href="Concept_HierarchyTraversalByRuleCheckCommands_id73bf23be.html#id73bf23be-1f78-46a5-accc-56357a93c933__Concept_HierarchyTraversalByRuleCheckCommands_id73bf23be.xml#id73bf23be-1f78-46a5-accc-56357a93c933" title="Certain Calibre PERC rule check commands traverse hierarchy. They process nets on a per-cell basis, and they proceed through the hierarchy as needed to return their outputs. How this is done is important to understand when coding and evaluating rule checks.">Hierarchy Traversal by Rule Check Commands</a>”.</p>
<p class="p">perc::report_base_result formats
the data in the -title and -value arguments and writes the resulting
string to the report file.</p>
<p class="p">The -title option gives a result
a title. When -title is used, you can use the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Report Option', 'svrf_ur'); return false;">PERC Report Option</a> TRACK_RESULT_SUBTITLE to organize the results by the <span class="ph FontProperty emphasis">title_string</span>.
This can be useful in providing a sorted structure to results in
the PERC Report file.</p>
<p class="p">The -value option writes a string to a result. This is useful
for placing custom user data into the report.</p>
<p class="p">When the -list option is used,
Calibre PERC adds additional information for net and instance iterators
to the Mask SVDB Directory that can be used for cross-probing nets
or instances in Calibre RVE for the user-defined result.</p>
<p class="p">The -collapseList option is used with -list when <span class="keyword ParameterName OptionalReplaceable">iterator_list</span> is
an instance iterator list. When ‑collapseList is used, the reported
devices are initially reduced into maximal-sized groups organized
by the specified SPICE properties (such as L and W) in the <span class="keyword ParameterName OptionalReplaceable">property_list</span>.
Devices with the same SPICE property values (possibly within a specified
numeric <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Property', 'svrf_ur'); return false;">PERC Property</a> TOLERANCE
of each other) are grouped together. If a device has a property
with no value, that device is treated as though it does not have
the property and is grouped accordingly. After grouping, one representative
device instance is selected and reported from each group, along with
the count of devices in the group and the common SPICE property
value. The report has entries like this:</p>
<pre class="pre codeblock"><code>Xp30/MM0 [ MP(PMOS_THKOX) ] 
  g: Xp30/VDD [ VDD_power ]
  s: Xp30/VDD [ VDD_power ]
  d: Xp30/GND
  b: Xp30/VDD [ VDD_power ]
 40 devices with property values:
     L=1.5e-07
     W=0.00028364</code></pre><p class="p">Xp30/MM0 is the representative for 40 similar devices grouped
by the listed property values.</p>
<p class="p">The -subResultProperty option is used to annotate
instances in a result with user-defined properties. These properties
can be used to sort a result’s instances with Calibre RVE for PERC. </p>
<p class="p">The -subResultProperty option is used when
-list is specified and the <span class="keyword ParameterName OptionalReplaceable">iterator_list</span> consists
of either device or net iterators. This option adds key-value properties
to each instance in a result. The key and value in a these properties
are strings. The associated <span class="keyword ParameterName OptionalReplaceable">key_value_list</span> is
a Tcl list consisting of one or more property lists. Each property
list element consists of a key-value pair. For example, the list
{ {ID 1234} {COLOR red} } contains two properties: ID:1234 and COLOR:red.
Only one instance of a property with a given key is assigned to
an instance; additional attempts to add properties with the same
key are ignored.</p>
<p class="p">For device instances, if the key is the name of
an actionable device property (see <a class="xref fm:HeadingOnly" href="Command_Percproperty_id46c86c59.html#id46c86c59-2c26-44ba-92cd-856971b27011__Command_Percproperty_id46c86c59.xml#id46c86c59-2c26-44ba-92cd-856971b27011" title="Returns a device instance property value.">perc::property</a> for the definition) and the value is “useActionableProperty”,
then for a given instance, the (key’s) device property value is
retrieved from the netlist and is used to annotate the instance. For
example, in the following code, assuming that a $dev instance has
the actionable W property with a value of 1e-08 in the netlist:</p>
<pre class="pre codeblock"><code>perc::report_base_result -list $dev \
      -subResultProperty [list [list [list W useActionableProperty]]]</code></pre><p class="p">then the key-value pair “W 1e-08” is assigned
as the annotation property for the instance.</p>
<p class="p">The tool traverses the -list iterators and
-subResultProperty property lists concurrently, associating each
instance with a corresponding property list. If there are more instances
than property lists, then the last list in <span class="keyword ParameterName OptionalReplaceable">key_value_list</span> is
replicated for each additional instance. (If specifying the “useActionableProperty”
value for devices, then the useActionableProperty value is used
for any additional instances in this situation.) If there are more
lists in <span class="keyword ParameterName OptionalReplaceable">key_value_list</span> than
instances, then the extra property lists are discarded.</p>
<p class="p">The -property
option is similar in usage and semantics to -subResultProperty,
but ‑property is used to annotate results in the Mask SVDB Directory
as opposed to instances in results. A hierarchical result is associated
with a list of placements. Since annotation properties are part
of the result content, the tool ensures that all placements associated
with the same result have the same properties. Conversely, if two
placements have different properties, they belong to two different
results.</p>
<p class="p">See “<a class="xref Link" href="../../calbr_rve_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Example to Generate Calibre PERC Results with Database Properties', 'calbr_rve_user'); return false;">Example to Generate Calibre PERC Results with Database Properties</a>”
in the <cite class="cite">Calibre RVE User’s Manual</cite> for information about
using result annotation properties with Calibre RVE. See “<a class="xref fm:HeadingAndPage" href="FileRef_TopologyWaiverDescriptionFileFormat_idb6c1f8d3.html#idb6c1f8d3-1d86-49c7-9e75-6445866534a1__FileRef_TopologyWaiverDescriptionFileFormat_idb6c1f8d3.xml#idb6c1f8d3-1d86-49c7-9e75-6445866534a1" title="This file defines the topological waivers to be applied to Calibre PERC results.">Topology Waiver Description File Format</a>” for related
information about property-based waivers using -property.</p>
<p class="p">In the PERC Report, annotation
properties are grouped together under the title “RESULT PROPERTY.”
The properties are listed in the alphabetical order of the keys.
To turn off property listing, set PERC Report Option SKIP_RESULT_PROPERTY. </p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id52a37cca-85aa-4ca5-9728-b2785b4b5905">-title <span class="keyword ParameterName OptionalReplaceable">title_string</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">title_string</span> must
be a string. </p>
<p class="p">The string <span class="keyword ParameterName OptionalReplaceable">title_string</span> becomes
the first line of the output. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id5bb47427-b867-40b2-91ca-2cbeb02456ed">-value <span class="keyword ParameterName OptionalReplaceable">value_string</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">value_string</span> must
be a string. </p>
<p class="p">The string <span class="keyword ParameterName OptionalReplaceable">value_string</span> becomes
the second line of the output if the option ‑title is used, and the
first line when ‑title is not used. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id2a6c3a55-4a8f-4a00-b2e8-3e7c3918b180">-list <span class="keyword ParameterName OptionalReplaceable">iterator_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">iterator_list</span> must
be a Tcl list of net or instance iterators, for example:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id2095cfd6-c1f7-4140-b152-88e7e7aee059"><p class="p Opt">-list
[list $itr1 $itr2]</p>
</li>
</ul>
<p class="p">This option causes the names
to be written for all elements referenced by the iterators in the list.
Each entry in <span class="keyword ParameterName OptionalReplaceable">iterator_list</span> becomes
a line in the output, and appears after the strings <span class="keyword ParameterName OptionalReplaceable">title_string</span> and <span class="keyword ParameterName OptionalReplaceable">value_string</span>,
if those are present. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__idb0a11707-e6c5-4d0f-8b74-de72aebc9034">-collapseList <span class="keyword ParameterName OptionalReplaceable">property_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
set used when -list specifies instance iterators that causes the
lists of devices to be reduced to single representatives categorized
by common device property value. The <span class="keyword ParameterName OptionalReplaceable">property_list</span> is
a Tcl list of SPICE device properties. The counts of devices that match
the reported representatives and the corresponding property values
are both included in the output. May not be specified with -subResultProperty.
See <a class="xref fm:HeadingOnly" href="#idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id6a63bea5-22af-4722-b633-85f89b4092c1">Example 3</a>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id091bc6a6-5c1e-457d-9ebb-764f6e54d565">-subResultProperty <span class="keyword ParameterName OptionalReplaceable">key_value_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument set specified with -list that assigns properties to either
devices or nets in a Mask SVDB Directory result. The -list <span class="keyword ParameterName OptionalReplaceable">iterator_list</span> must
consist of iterators referencing only one kind of instance: either
devices or nets. See <a class="xref fm:HeadingOnly" href="#idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id7d136d61-340c-4d93-ac21-9b2f79a8c9e1">Example 4</a> for a representative case.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">key_value_list</span> must
be a Tcl list of lists with three levels of nesting, such as this:</p>
<pre class="pre codeblock"><code><span class="ph CodeHighlight green">[list</span> 
  [list <span class="ph CodeHighlight orange">[list key1 value1] [list key2 value2] ...</span>]
  ...
<span class="ph CodeHighlight green">]</span></code></pre><p class="p">A improperly-nested list is
not accepted. Each innermost sub-list (orange in the code) consists
of a key-value pair, which comprises a property. Property keys are
case-sensitive strings and cannot contain newline or tab characters.
Property values are strings. Each mid-level sub-list (black) contains
the set of properties to be assigned to a device. The outermost list
(green) is the container for <span class="keyword ParameterName OptionalReplaceable">key_value_list</span>.</p>
<p class="p">For a particular
instance, all its properties must have unique keys. In other words,
each property key can only be added once to an instance; subsequent
attempts to add the same property key are ignored. For example,
the list {{ID 1234} {ID 5678}} contains the key “ID” twice. Only
the key-value pair ID:1234 is added. The second occurrence of ID
is ignored. </p>
<p class="p">For device instances, if the key is an actionable
device property name and the string “useActionableProperty” is the
specified value for the key, then an instance’s netlist value is retrieved
for the key’s property name, and that value is used in the key-value
annotation for the instance. If an instance does not have the specified
device property name, it is an error. If the instance is not a device
instance, it is an error.</p>
<p class="p">A <a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre PERC Advanced', 'calbr_admin_gd'); return false;">Calibre PERC Advanced</a> license
is required both to generate the annotations and to access them
in Calibre RVE for PERC. See the <cite class="cite">Calibre Administrator’s Guide</cite> for
details.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__idaeab7d2d-c8cd-44c2-ae1b-4ba11b5370b8">-property <span class="keyword ParameterName OptionalReplaceable">key_value_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set specified
with -list that assigns properties to results in the Mask SVDB Directory.
The structure and semantics of <span class="keyword ParameterName OptionalReplaceable">key_value_list</span> are
identical to ‑subResultProperty, with one exception: two levels
of list nesting are used rather than three:</p>
<pre class="pre codeblock"><code>[list <span class="ph CodeHighlight orange">[list key1 value1] [list key2 value2] ...</span>]</code></pre><p class="p">This differs from -subResultProperty, which assigns properties
to the devices of results rather than to the results themselves.
So a middle level of nesting is not used here.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">None. </p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__ida142f13b-6bd5-49d6-a8ad-2545330092aa"><h2 class="title Subheading sectiontitle">Example 1</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_report_base_result [/* 
  package require CalibreLVS_PERC 
 
  proc calc_property {instance} { 
    set length [perc::property $instance L] 
    set width  [perc::property $instance W] 
    if {$length &gt; 5} { 
      perc::report_base_result -value "Bad length (&gt; 5): $length" 
      return 1 
    } 
    if {$width &lt; 2} { 
      perc::report_base_result -value "Bad width (&lt; 2): $width" 
      return 1 
    } 
    return 0 
  } </code></pre><pre class="pre codeblock leveled"><code>  proc check_1_report {} { 
    perc::check_device -type  {MP MN} \
      -condition calc_property \
      -comment "MOS with bad properties" 
  } 
 
  proc print_dev {net} { 
    set countList [perc::count -net $net -list] 
    foreach i $countList  { 
      set devList [lindex $countList 1] 
        foreach j $devList { 
          perc::report_base_result -title "Device is connected to Pad: \
[perc::name $j]" 
        } 
    } 
    return 1 
  } 
 
  proc check_2_report {} { 
    perc::check_net -netType {Pad} -condition print_dev \
      -comment "Device connected to Pad"  
  }*/] </code></pre><p class="p">The command <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> does not automatically write property
values to the report file. In this example, the procedure calc_property
explicitly adds the property data to the report file. The reported
property values will be associated with the selected device.</p>
<p class="p">Procedure print_dev shows the reporting
of results from a list of device count and associated devices stored
in countList. The second element of countList is a list of device
instances, which are stored in devList. The devices are then reported
by the perc::report_base_result command.</p>
<p class="p">See also “<a class="xref fm:HeadingAndPage" href="TaskTop_ExampleCdmClampDeviceProtectionDecouplingCapacitors_idb1bd765b.html#idb1bd765b-fa41-4246-b33c-92caad4fac7a__TaskTop_ExampleCdmClampDeviceProtectionDecouplingCapacitors_idb1bd765b.xml#idb1bd765b-fa41-4246-b33c-92caad4fac7a" title="The perc::check_net command can be used to check for proper CDM clamp and decoupling capacitor configuration. The check in this example checks these conditions:">Example: CDM Clamp Device Protection of Decoupling Capacitors</a>”.</p>
</div>
<div class="section Subsection" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id0c17dbd7-a725-4f5f-8af2-34afc1aaa141"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This command uses property annotation
for results output:</p>
<pre class="pre codeblock leveled"><code>perc::report_base_result -title "Pass-gate MOS:" \
      -list $pass_gate_devices \
      -property [list [list gate_count $pass_gate_count]] </code></pre><p class="p">The output appears similar to this.
Notice the property annotation:</p>
<pre class="pre codeblock leveled"><code>2    Net  5 
       Pass-gate MOS: 
         M2(-131.200,-98.200) [ MN(N_PG) ]  
           g: 5 
           s: I_O_PAD [ I_O_Pad ] 
           d: 8 
           b: 47 
 
       RESULT PROPERTY: 
         gate_count    = 1 </code></pre></div>
<div class="section Subsection" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id6a63bea5-22af-4722-b633-85f89b4092c1"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">This example demonstrates -collapseList usage.</p>
<pre class="pre codeblock"><code># make the properties accessible
PERC PROPERTY MN L W
PERC PROPERTY MP L W
...
TVF FUNCTION test_report_base_result [/*
  package require CalibreLVS_PERC

# define net type for all VDD* nets
  proc init {} {
    perc::define_net_type "VDD_power" "VDD?"
  }</code></pre><pre class="pre codeblock"><code>
# for any VDD* net, report MN(NMOS_THKOX) and MP(PMOS_THKOX) devices.
# use collapsed list reporting.
  proc get_pwr_devices_cond {net} {
    set dev_count [perc::count -net $net -type {MN MP} \
      -subtype {NMOS_THKOX PMOS_THKOX} -list]
    set devices [lindex $dev_count 1]
    if {[llength $devices]&gt; 0} {
      perc::report_base_result -list $devices -collapseList {L W}
      return 1
    }
    return 0
  }
# get VDD* nets
  proc get_pwr_nets {} {
    perc::check_net -netType {VDD_power} \
      -condition get_pwr_devices_cond    \
      -comment "MOS THKOX devices on VDD net"
  }
*/]</code></pre><p class="p">The get_pwr_nets procedure finds nets starting with the string
VDD and passes those to the get_pwr_devices_cond procedure. The
latter procedure generates a list of certain MOS devices on the
passed in nets. Any such devices are reported in an abbreviated
list generated by the perc::report_base_result -collapseList option.
Here is an example output from the report:</p>
<pre class="pre codeblock"><code>  3    Net  VDD [ VDD_power ]

         Xp01/XI0/MM5 [ MP(PMOS_THKOX) ] 
           g: Xp01/XI0/PAD
           s: Xp01/XI0/PWR [ VDD_power ]
           d: Xp01/XI0/NET29
           b: Xp01/XI0/PWR [ VDD_power ]
          29 devices with property values:
              L=1.4e-07
              W=2.5e-06
         Xp34/XI0/MM2 [ MP(PMOS_THKOX) ] 
           g: Xp34/XI0/PMOS
           s: Xp34/XI0/PWR_ESD [ VDD_power ]
           d: Xp34/XI0/PAD
           b: Xp34/XI0/PWR_ESD [ VDD_power ]
          1 device with property values:
              L=1.5e-07
              W=8.104e-05
         Xp34/XI0/MM0 [ MP(PMOS_THKOX) ] 
           g: Xp34/XI0/PWR_ESD [ VDD_power ]
           s: Xp34/XI0/PWR_ESD [ VDD_power ]
           d: Xp34/XI0/PAD
           b: Xp34/XI0/PWR_ESD [ VDD_power ]
          1 device with property values:
              L=1.5e-07
              W=0.0002026
         Xp30/MM0 [ MP(PMOS_THKOX) ] 
           g: Xp30/VDD [ VDD_power ]
           s: Xp30/VDD [ VDD_power ]
           d: Xp30/GND
           b: Xp30/VDD [ VDD_power ]
          40 devices with property values:
              L=1.5e-07
              W=0.00028364</code></pre></div>
<div class="section Subsection" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id7d136d61-340c-4d93-ac21-9b2f79a8c9e1"><h2 class="title Subheading sectiontitle">Example
4</h2><p class="p">This example shows use of the -subResultProperty option.</p>
<pre class="pre codeblock"><code>TVF FUNCTION test_report_base_result [/*
  package require CalibreLVS_PERC

# assign VDD_power to all VDD? nets.
  proc init {} {
    perc::define_net_type "VDD_power" "VDD?"
  }</code></pre><pre class="pre codeblock"><code>  proc get_pwr_devices_cond {net} {
    if {[perc::name $net] == {VDD}} {
      set m_list [perc::count -net $net -type {LDD LDDP M MP} \
        -subtype {PMOS_THKOX} -list]
      foreach L [list $m_list] {
        set devices [lindex $L 1]
        if {[llength $devices] &gt; 0} {
          foreach dev $devices {
            set pins [perc::get_pins $dev]
            while {$pins ne ""} {
              if {[perc::name $pins] == "g"} {
                set gate_net [perc::name [perc::get_nets $pins]]
                perc::report_base_result -list $dev \
                -subResultProperty [list [list [list THKOXgate $gate_net]]]
              } 
              perc::inc pins
            }
          }
          return 1
        }
      }  
    }
    return 0
  }

  proc get_thkox_on_pwr {} {
    perc::check_net -netType {VDD_power} \
      -condition get_pwr_devices_cond  \
      -comment "THKOX devices on VDD net"
  }
*/]</code></pre><p class="p">The Tcl proc “init” assigns a VDD_power net type to any net having
a name starting with VDD. The get_thkox_on_pwr proc checks all VDD_power
nets by calling the get_pwr_devices_cond proc. </p>
<p class="p">The get_pwr_devices_cond proc processes all nets named “VDD”.
For any such net, it creates an iterator list called m_list containing
references to instances of transistors with the THKOX subtype. Then,
the net associated with the gate pin is determined. The instance
is reported using a property with the name “THKOXgate” and the value
of the gate pin’s net name.</p>
<p class="p">The instances on the VDD net appear in the report as follows:</p>
<pre class="pre codeblock"><code>  1    Net  VDD [ VDD_power ]
         Xp44/MM0 [ MP(PMOS_THKOX) ] 
           g: Xp44/VDD [ VDD_power ]
           s: Xp44/VDD [ VDD_power ]
           d: Xp44/GND
           b: Xp44/VDD [ VDD_power ]

         Xp43/MM0 [ MP(PMOS_THKOX) ] 
           g: Xp43/VDD [ VDD_power ]
           s: Xp43/VDD [ VDD_power ]
           d: Xp43/GND
           b: Xp43/VDD [ VDD_power ]</code></pre><pre class="pre codeblock"><code>         Xp41/MM0 [ MP(PMOS_THKOX) ] 
           g: Xp41/VDD [ VDD_power ]
           s: Xp41/VDD [ VDD_power ]
           d: Xp41/GND
           b: Xp41/VDD [ VDD_power ]</code></pre><p class="p">In Calibre RVE for PERC, you can right-click the result and select <span class="ph uicontrol">Explore
Sub-results</span>:</p>
<div class="fig fignone" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__id426f4940-75b9-4137-831c-ab2dbda6c825"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:108" src="../graphics/rve_sub_results.png" /></div><br /></div>
<p class="p">Initially, the <span class="ph uicontrol">PERC Sub-results</span> tab lists
instances sorted in PERC Report order. You can click the sub-result
property key column header to sort the property values in descending
or ascending order:</p>
<div class="fig fignone" id="idb3fbfdac-f8a1-4f80-9abb-5451cd2ee978__idec0c2266-def1-4e31-8726-85d22a61b44a"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:108" src="../graphics/rve_sub_results_tab.png" /></div><br /></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuleCheckCommands_id9b3d8e0b.html" title="Rule check commands appear in rule check procs and are used to check the design. Some rule check commands may be used in init procs. These are annotated in the notes to the tables in this section.">Rule Check Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::report_base_result"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercreportBaseResult_idb3fbfdac.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>