<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::voltage" />
<meta name="abstract" content="Returns voltage values for a net or pin." />
<meta name="description" content="Returns voltage values for a net or pin." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id84e75b60-58d3-47f4-b206-1f2333157773" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::voltage</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::voltage" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id84e75b60-58d3-47f4-b206-1f2333157773">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::voltage</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC data access command.</p>
<p class="shortdesc">Returns voltage values for a
net or pin.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::voltage</span> {<span class="keyword ParameterName RequiredReplaceable">net_iterator</span> | <span class="keyword ParameterName RequiredReplaceable">pin_iterator</span>} [-numeric] [-numericOnly | -symbolicOnly] [-path]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Returns the net voltages, or
list of net voltages, of the item referenced by the iterator argument. For
a pin iterator, the voltages of the net attached to the pin are
returned. Since a net or path may have multiple voltages, the return
value is a Tcl list. For a net or path without any voltage, the command
returns an empty list.</p>
<p class="p">Multiple voltages may exist on
a net, and the voltages may be assigned or propagated. The perc::voltage
command is used to detect these situations. </p>
<p class="p">There are two voltage propagation
methods to consider:</p>
<p class="p BlockIndent">In vectored mode (<a class="xref fm:HeadingOnly" href="Command_PerccreateVoltagePath_id2094c0cf.html#id2094c0cf-1da3-41d7-9049-860de10b6ca7__Command_PerccreateVoltagePath_id2094c0cf.xml#id2094c0cf-1da3-41d7-9049-860de10b6ca7" title="Enables voltage propagation through selected devices and pins.">perc::create_voltage_path</a> -on option is used), when a multiple-voltage condition
occurs, Calibre PERC aborts propagation. This indicates multiple
voltages are present on a net at the same instant in time, a physical
impossibility. If propagation were allowed to continue in such a
situation, nonsensical voltages would appear downstream.</p>
<p class="p BlockIndent">In vector-less mode
(<a class="xref fm:HeadingOnly" href="Command_PerccreateVoltagePath_id2094c0cf.html#id2094c0cf-1da3-41d7-9049-860de10b6ca7__Command_PerccreateVoltagePath_id2094c0cf.xml#id2094c0cf-1da3-41d7-9049-860de10b6ca7" title="Enables voltage propagation through selected devices and pins.">perc::create_voltage_path</a> -on option is not used), multiple
voltages are allowed to propagate. In this mode, nets may accrue
additional voltages as an evaluation iterates toward stability. </p>
<p class="p">In either mode, the perc::voltage
command can be used to retrieve the list of all voltages on a net.
The <a class="xref fm:HeadingOnly" href="Command_PercvoltageMax_ida5217c7b.html#ida5217c7b-ab7c-4d86-894a-1ce9355a32ee__Command_PercvoltageMax_ida5217c7b.xml#ida5217c7b-ab7c-4d86-894a-1ce9355a32ee" title="Returns the maximum voltage for an instance’s pin.">perc::voltage_max</a> and <a class="xref fm:HeadingOnly" href="Command_PercvoltageMin_id209a3f13.html#id209a3f13-3368-4085-b325-0678fbe219d8__Command_PercvoltageMin_id209a3f13.xml#id209a3f13-3368-4085-b325-0678fbe219d8" title="Returns the minimum voltage for an instance’s pin.">perc::voltage_min</a> commands
can be used to determine the maximum and minimum propagated voltages,
respectively. (It is good practice to test for empty return values
when you expect certain voltages to be present.)</p>
<p class="p">If the -path option is not used,
the command returns only initial (defined) voltages. The -path option
returns voltages of a net’s path after path type and voltage propagation.
The initialization voltage on a net can (and often does) differ
from propagated voltages, and the -path option returns all of them.
Also, the returned voltages can differ during iterations of voltage propagation.</p>
<p class="p">If symbolic voltages are assigned
to a net (see the -symbolic option of <a class="xref fm:HeadingOnly" href="Command_PercdefineNetVoltage_id8609d11e.html#id8609d11e-ac3a-4e2d-9cc8-552555478d23__Command_PercdefineNetVoltage_id8609d11e.xml#id8609d11e-ac3a-4e2d-9cc8-552555478d23" title="Assigns a voltage to a list of named nets.">perc::define_net_voltage</a>), then they are returned in symbolic
form along with any other numeric voltages. If you want to see all
voltages on the specified net only numerically, then use the -numeric
argument. This causes symbolic values to take on their numeric base
values, if any.</p>
<p class="p">The -numericOnly option returns only numeric-valued voltages
from the iterator, if any. The ‑symbolicOnly option returns only
symbolic voltage values from the iterator. If the ‑symbolicOnly
option is used, any underlying numeric values are returned if the
-numeric option is also specified.</p>
<p class="p">See also <a class="xref fm:HeadingOnly" href="Command_PercvoltageValue_id7730b2d2.html#id7730b2d2-24b0-4914-8723-cf1e51922490__Command_PercvoltageValue_id7730b2d2.xml#id7730b2d2-24b0-4914-8723-cf1e51922490" title="Returns the voltage values for a voltage group name.">perc::voltage_value</a>.</p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id84e75b60-58d3-47f4-b206-1f2333157773__id9b9df5b5-5ca7-4aa6-aa72-01d5dca8aca8"><span class="keyword ParameterName RequiredReplaceable">net_iterator</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An argument that must be a net
iterator. See <a class="xref fm:HeadingOnly" href="Command_PerccheckNet_id75162cb0.html#id75162cb0-c882-4d1d-9273-9095a7dd5b64__Command_PerccheckNet_id75162cb0.xml#id75162cb0-c882-4d1d-9273-9095a7dd5b64" title="Checks nets in the design for nets that match the specified conditions. By default, all nets are matched.">perc::check_net</a> ‑condition, <a class="xref fm:HeadingOnly" href="Command_PercgetNets_id591349e2.html#id591349e2-717e-4ca8-aad7-1a22ad2a4aea__Command_PercgetNets_id591349e2.xml#id591349e2-717e-4ca8-aad7-1a22ad2a4aea" title="Creates a net iterator.">perc::get_nets</a>, <a class="xref fm:HeadingOnly" href="Command_PercgetNetsInPattern_id57a3e94b.html#id57a3e94b-bbd0-4389-86de-6ccb8d6b8137__Command_PercgetNetsInPattern_id57a3e94b.xml#id57a3e94b-bbd0-4389-86de-6ccb8d6b8137" title="Returns a list of net iterators from a matched pattern.">perc::get_nets_in_pattern</a>, <a class="xref fm:HeadingOnly" href="Command_PercgetOtherNetOnInstance_id85c3d2b2.html#id85c3d2b2-1b55-49a9-ae53-4cda904a9176__Command_PercgetOtherNetOnInstance_id85c3d2b2.xml#id85c3d2b2-1b55-49a9-ae53-4cda904a9176" title="Creates a net iterator.">perc::get_other_net_on_instance</a>, or <a class="xref fm:HeadingOnly" href="Command_Percdescend_idbba0a66e.html#idbba0a66e-fb1a-4939-ac12-602ab0543c29__Command_Percdescend_idbba0a66e.xml#idbba0a66e-fb1a-4939-ac12-602ab0543c29" title="Creates an iterator that points to a cell placement representative or to a net in a cell.">perc::descend</a>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id84e75b60-58d3-47f4-b206-1f2333157773__id118fafdd-dc4d-4bf6-b004-789a71c56abc"><span class="keyword ParameterName RequiredReplaceable">pin_iterator</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An argument that must be a pin
iterator. See <a class="xref fm:HeadingOnly" href="Command_PercgetPins_idcfb94cf6.html#idcfb94cf6-a4dc-4442-ac03-614d308693ed__Command_PercgetPins_idcfb94cf6.xml#idcfb94cf6-a4dc-4442-ac03-614d308693ed" title="Creates a pin iterator.">perc::get_pins</a>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id84e75b60-58d3-47f4-b206-1f2333157773__id2e944396-d03c-4b80-abeb-9acd5d8aa0a9">-numeric</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
any symbolic voltage values take on their underlying numeric values
(if any). Any numeric voltage values are then returned by the command.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id84e75b60-58d3-47f4-b206-1f2333157773__id7d265ea9-2a88-41f9-84b4-05334e4e10f0">-numericOnly</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
only numeric valued voltages are returned. If there are none, the
returned list is empty.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id84e75b60-58d3-47f4-b206-1f2333157773__id55da0ee8-23f9-4508-9ae8-894b780eb753">-symbolicOnly</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
only symbolic valued voltages are returned. If there are none, the
returned list is empty.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id84e75b60-58d3-47f4-b206-1f2333157773__id6deb6b96-370a-4b37-83f8-220c0bd3124d">-path</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that returns the voltages carried by a net’s path after
voltage propagation. For a net iterator, the values are for the
net itself. For a pin iterator, the values come from the net attached
to the pin.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">List.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id84e75b60-58d3-47f4-b206-1f2333157773__idf7fccffb-fb6b-42dd-a47b-c5471f08914b"><h2 class="title Subheading sectiontitle">Example 1</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_voltage [/* 
  package require CalibreLVS_PERC 
 
# file with utility procedures
  source utilities.tcl

# check low-voltage MOS device voltages 
  proc max_lower_d-&gt;s {} { 
    perc::check_device -type {MN MP} -subtype {NL PL} -condition VD_ds \
      -comment "Error: LVT drain-source voltage delta exceeded" 
} 
 
# check if the difference between d and s pins is greater than 1.8V 
proc VD_ds {dev} {         
  return [voltage_maxdelta $dev "d" "s" 1.8] 
} 
 
# Error if maximum |pin1 - pin2| voltage difference is greater 
# than some value 
  proc voltage_maxdelta { dev pn1 pn2 val} { 
    set pv1 [perc::voltage [perc::get_pins $dev -name $pn1] -path] 
    set pv2 [perc::voltage [perc::get_pins $dev -name $pn2] -path] 
# call to utility proc. use for debugging.
#   print_voltages $dev $pn1 $pv1 $pn2 $pv2 
    set v1max [<a class="xref fm:HeadingOnly" href="Command_PercvoltageMax_ida5217c7b.html#ida5217c7b-ab7c-4d86-894a-1ce9355a32ee__Command_PercvoltageMax_ida5217c7b.xml#ida5217c7b-ab7c-4d86-894a-1ce9355a32ee" title="Returns the maximum voltage for an instance’s pin.">perc::voltage_max</a> $dev $pn1] 
    set v1min [<a class="xref fm:HeadingOnly" href="Command_PercvoltageMin_id209a3f13.html#id209a3f13-3368-4085-b325-0678fbe219d8__Command_PercvoltageMin_id209a3f13.xml#id209a3f13-3368-4085-b325-0678fbe219d8" title="Returns the minimum voltage for an instance’s pin.">perc::voltage_min</a> $dev $pn1] 
    set v2max [perc::voltage_max $dev $pn2] 
    set v2min [perc::voltage_min $dev $pn2] 
    if { $pv1 == "" || $pv2 == "" } { return 0 } 
    if {([expr {$v1max - $v2min}] &gt; $val) || ([expr {$v2max - $v1min}] &gt; \
      $val)} { return 1 } 
    return 0 
  } 
*/] </code></pre><p class="p">Tcl proc max_lower_d-&gt;s finds all
MN and MP devices of models NL and PL (low voltage) and tests them.
The VD_ds proc takes the passed-in device, the d and s pins, and
a value of 1.8, and passes these to the voltage_maxdelta proc. The
voltage_maxdelta proc tests whether the absolute value of the difference
in pin1 and pin2 voltages is greater than 1.8.</p>
</div>
<div class="section Subsection" id="id84e75b60-58d3-47f4-b206-1f2333157773__id2918551e-72e2-4df4-8776-44e1c8740454"><h2 class="title Subheading sectiontitle">Example 2</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_voltage [/* 
  package require CalibreLVS_PERC 
 
  proc init_voltage {} { 
    <a class="xref fm:HeadingOnly" href="Command_PercdefineVoltageGroup_idbdb87620.html#idbdb87620-cb7a-4979-90fe-0df343b16abe__Command_PercdefineVoltageGroup_idbdb87620.xml#idbdb87620-cb7a-4979-90fe-0df343b16abe" title="Specifies a group of related voltages.">perc::define_voltage_group</a> vdd {1.8 1.5 1.3} 
    <a class="xref fm:HeadingOnly" href="Command_PercdefineNetVoltage_id8609d11e.html#id8609d11e-ac3a-4e2d-9cc8-552555478d23__Command_PercdefineNetVoltage_id8609d11e.xml#id8609d11e-ac3a-4e2d-9cc8-552555478d23" title="Assigns a voltage to a list of named nets.">perc::define_net_voltage</a> vdd "vdd" -symbolic 
    perc::define_net_voltage 0.0 "gnd" 
  } 
 
  proc check_diode {dev} { 
    puts "p_pin_voltage is: [perc::voltage [perc::get_pins $dev -name p]\
      ‑path]" 
    puts "p_pin_voltage is: [perc::voltage [perc::get_pins $dev -name p]\
      ‑path -numeric]" 
    ... 
  } 
*/] </code></pre><p class="p">Tcl proc check_diode prints the
voltages on the P pin of a diode in two ways. If the P pin of a particular
diode is attached to a net to which voltages from vdd and gnd paths
have propagated (as defined by the init_voltage proc), then the
results of the puts statements are these:</p>
<p class="p BlockIndent">p_pin_voltage is: vdd 0</p>
<p class="p BlockIndent">p_pin_voltage is: 0 1.3 1.5 1.8</p>
<p class="p">See also “<a class="xref fm:HeadingAndPage" href="TaskTop_ExampleFindingFloatingGates_id47d5ad77.html#id47d5ad77-1635-47f7-869c-462069b1f3bb__TaskTop_ExampleFindingFloatingGates_id47d5ad77.xml#id47d5ad77-1635-47f7-869c-462069b1f3bb" title="This example uses perc::voltage to find MOS gates where the device is MN or MP, and the gate is undriven. This check employs vectored analysis, so source voltages and input signal voltages are specified.">Example: Finding Floating Gates</a>” for a complete rule check.</p>
</div>
<div class="section Subsection" id="id84e75b60-58d3-47f4-b206-1f2333157773__id34bfc042-b8d1-49cf-9d60-7f27418b4505"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">Assume these voltage definitions:</p>
<pre class="pre codeblock"><code>perc::define_voltage_group domain2    {1.7}
perc::define_voltage_group domain1_3a {2.2}
perc::define_voltage_group domain1_3b {1.6}
perc::define_voltage_group domain1_3  {domain1_3a domain1_3b}
perc::define_voltage_group domain1_6a {2.0 -2.4}
perc::define_voltage_group domain1_6b {1.4}
perc::define_voltage_group domain1_6  {domain1_6a domain1_6b}</code></pre><p class="p">Assume the following voltages exist on a MOS s pin, as shown
in a PERC Report:</p>
<pre class="pre codeblock leveled"><code>s: VDD [ ] [ ] [ domain2 domain1_3 domain1_6 7.7 7.8 ] [ domain2 domain1_3 domain1_6 7.7 7.8 ]</code></pre><p class="p">The perc::voltage -numericOnly option
returns this:</p>
<p class="p BlockIndent">7.7 7.8</p>
<p class="p">The -symbolicOnly option returns
this:</p>
<p class="p BlockIndent">domain2 domain1_3 domain1_6</p>
<p class="p">The -symbolicOnly -numeric options
return this:</p>
<p class="p BlockIndent">-2.4 1.4 1.6 1.7 2 2.2</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuleCheckCommands_id9b3d8e0b.html" title="Rule check commands appear in rule check procs and are used to check the design. Some rule check commands may be used in init procs. These are annotated in the notes to the tables in this section.">Rule Check Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::voltage"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Percvoltage_id84e75b60.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>