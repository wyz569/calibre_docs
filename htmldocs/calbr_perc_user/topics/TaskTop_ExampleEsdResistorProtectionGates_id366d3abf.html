<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Example: ESD Resistor Protection of Gates" />
<meta name="abstract" content="The perc::check_device command can be used to check ESD resistor protection of gates. The check in this example finds every device that meets the following conditions:" />
<meta name="description" content="The perc::check_device command can be used to check ESD resistor protection of gates. The check in this example finds every device that meets the following conditions:" />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id366d3abf-45ab-472a-a422-dad260b7ebde" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Example: ESD Resistor Protection of Gates</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Example: ESD Resistor Protection of Gates" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id366d3abf-45ab-472a-a422-dad260b7ebde">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Example: ESD Resistor Protection of Gates</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The perc::check_device
command can be used to check ESD resistor protection of gates.</p>
<p class="shortdesc">The check in this example finds
every device that meets the following conditions:</p>
<ul class="ul"><li class="li" id="idb864475d-1c9f-492b-9ddd-49c865c1a889"><p class="p">The device is an NMOS or PMOS transistor
having the subtype n_1v or p_1v.</p>
</li>
<li class="li" id="id5d8706dc-5a75-4117-8612-6f308c48b830"><p class="p">Either of the following two:</p>
<ul class="ul"><li class="li" id="ide2cd87f4-7657-4118-bbde-91e51e19f7ec"><p class="p">The gate pin is tied directly to a power
supply net.</p>
</li>
<li class="li" id="id1ea82d89-396f-4892-ad94-014ae0fca6ed"><p class="p">The gate pin has a path to a power supply
net through a resistor of less than 100 ohms.</p>
</li>
</ul>
</li>
</ul>
<p class="p">In this case, the definition of nets for path
type propagation is restricted to the nets connected through pins
of R devices having a property “r” of less than 100.</p>
<p class="p"><a class="xref fm:Figure" href="#id366d3abf-45ab-472a-a422-dad260b7ebde__id440acd87-9d3d-407d-a09c-0aab30765cbc">Figure 1</a> shows a schematic representation of
both good and bad circuits.</p>
<div class="fig fignone" id="id440acd87-9d3d-407d-a09c-0aab30765cbc"><span class="figcap"><span class="fig--title-label">Figure 1. </span>ESD Resistor Protection of Gates</span><br /><div class="imageleft"><img class="image imageleft" height="180" src="../graphics/topo_checks08a.png" width="468" /></div><br /></div>
<p class="p">Here are some possible SPICE representations
of both good and bad configurations:</p>
<div class="fig fignone" id="id2bcde026-0eac-4449-947a-2f1962997045"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/topo_checks09a.png" /></div><br /></div>
<p class="p">The objective is to find the bad configuration.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id366d3abf-45ab-472a-a422-dad260b7ebde__id777564c9-1dff-4421-976a-f41b80ee1aeb"><p class="p">Knowledge
of SPICE netlist format.</p>
</li>
<li class="li" id="id366d3abf-45ab-472a-a422-dad260b7ebde__id97312a98-9055-4e49-8dde-c0cc80ff678d"><p class="p">Knowledge of
Tcl.</p>
</li>
<li class="li" id="id366d3abf-45ab-472a-a422-dad260b7ebde__idc96a38ac-f938-4227-a3af-7f130b529523"><p class="p">Calibre PERC
license.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id366d3abf-45ab-472a-a422-dad260b7ebde__id70b6f939-f4bb-4bcc-ab5d-f919a22f618e"><span class="ph cmd">Instruct
Calibre PERC to initialize the resistor property “r” by including
this statement in the rule file. This is used for path type propagation
in the initialization procedure.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Property', 'svrf_ur'); return false;">PERC PROPERTY</a> R r </code></pre></div></li>
<li class="li step stepexpand" id="id366d3abf-45ab-472a-a422-dad260b7ebde__id9d26ad93-812a-4adc-ae32-03d56e0bbe44"><span class="ph cmd">Write an
initialization procedure that labels Power and Ground nets. This
initializes the net types for the rule check. The procedure propagates
path labels across resistors having an “r” property of less than
100.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code># Initialization proc for rule_4 checks 
# Label Power and Ground nets 
# Propagate Power and Ground labels across resistors of r &lt; 100 
proc init_4 {} { 
  perc::define_net_type "Power"    "VDD?" 
  perc::define_net_type "Ground"   "VSS?" 
  perc::create_net_path -type "r" -property "r &lt; 100" 
} </code></pre></div></li>
<li class="li step stepexpand" id="id366d3abf-45ab-472a-a422-dad260b7ebde__id0ba7cde1-36a4-4fc5-a8e1-fd840db208db"><span class="ph cmd">Write the
rule check using two procedures, one for NMOS and the other for
PMOS.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>   # Main procs that check every device in the design and return 
   # MN (n_1v) and MP (p_1v) devices having gate pins with a path 
   # to Power or Ground path types. 
   # NMOS case 
   proc rule_4_1 {} { 
     perc::check_device -type {mn} -subtype {n_1V} \
                        -pinPathType { {g} {Power} } \
              -comment "1.0V NMOS connected to VDD with &lt; 100 Ohm \
               ESD protection" 
   } 
 
   # PMOS case 
   proc rule_4_2 {} { 
     perc::check_device -type {mp} -subtype {p_1V} \
                        -pinPathType { {g} {Ground} } \
               -comment "1.0V PMOS connected to VSS with &lt; 100 Ohm \
                ESD protection" 
   } </code></pre><p class="p">The Tcl procs check devices in the design.
The options to the <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> command are as follows:</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-type {&lt;type&gt;}</span> —
Checks for MN or MP device.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-subtype {&lt;model&gt;}</span> —
Checks for n_1v or p_1v model name.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-pinPathType { {g} {&lt;path type&gt;} }</span> —
Checks if the gate pin has a path to Power or Ground.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-comment “&lt;message&gt;”</span> —
Specifies a message that gets written to the Calibre PERC report
for the rule_4 check results.</p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The complete rule check follows. It must be
placed inside a TVF Function block containing a “package require
CalibreLVS_PERC” command and called from a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> statement
in order to run it. See “<a class="xref fm:HeadingAndPage" href="Concept_CalibrePercExampleRuleFile_id170b24bd.html#id170b24bd-6423-403d-a729-e939c52112b9__Concept_CalibrePercExampleRuleFile_id170b24bd.xml#id170b24bd-6423-403d-a729-e939c52112b9" title="This section shows a control file that can be used to run all the examples shown in this chapter. It also contains a complete rule file for running a modified version of the examples using XML constraints and an object called a collection.">Calibre PERC Example Rule Files</a>” for related information.</p>
<pre class="pre codeblock leveled"><code>######################################################################### 
### RULE 4 
########## 
 
# Initialization proc for rule_4 checks 
# Label Power and Ground nets 
# Propagate Power and Ground labels across resistors of r &lt; 100 
proc init_4 {} { 
  perc::define_net_type "Power"    "VDD?" 
  perc::define_net_type "Ground"   "VSS?" 
  perc::create_net_path -type "r" -property "r &lt; 100" 
} 
 
# Main procs that check every device in the design and return 
# MN (n_1v) and MP (p_1v) devices having gate pins with a path 
# to Power or Ground path types. 
# NMOS case 
  proc rule_4_1 {} { 
    perc::check_device -type {mn} -subtype {n_1V} \
                       -pinPathType { {g} {Power} } \
              -comment "1.0V NMOS connected to VDD with &lt; 100 Ohm \
               ESD protection" 
  } 
 
# PMOS case 
  proc rule_4_2 {} { 
    perc::check_device -type {mp} -subtype {p_1V} \
                       -pinPathType { {g} {Ground} } \
               -comment "1.0V PMOS connected to VSS with &lt; 100 Ohm \
                ESD protection" 
  } </code></pre><p class="p">The results output in the Calibre PERC report file would appear
similar to this for a layout netlist:</p>
<pre class="pre codeblock"><code>o RuleCheck:  rule_4_2 (1.0V PMOS connected to VSS with &lt; 100 Ohm  ESD protection) 
------------------------------------------------------------------------ 
 
  9 M1(32.000,-61.800) [ MP(P_1V) ]  
         g: VSS [ Ground ] [ Power Ground ] 
         s: 16 
         d: 15 
         b: VDD [ Power ] [ Power Ground ] </code></pre><p class="p">The output shows the bad device instance from the netlist including
the coordinates; the type and model names; and the pin names with
their associated nets. The gate pin is tied to the Ground path type,
and the bulk pin is tied to the Power path type.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CalibrePercTopologyRuleChecks_id80f61ef9.html" title="The core of the Calibre PERC functionality is topological rule checking. Topological rule checks are written in the Calibre PERC extension of TVF. This chapter contains naming conventions used when writing topology rule checks and working examples of initialization and rule check procedures.">Calibre PERC Topology Rule Checks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "Example: ESD Resistor Protection of Gates"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ExampleEsdResistorProtectionGates_id366d3abf.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>