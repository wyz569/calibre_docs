<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::define_voltage_drop" />
<meta name="abstract" content="Specifies voltage drop values for a net or pin." />
<meta name="description" content="Specifies voltage drop values for a net or pin." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::define_voltage_drop</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::define_voltage_drop" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::define_voltage_drop</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC initialization command.</p>
<p class="shortdesc">Specifies voltage drop values
for a net or pin.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::define_voltage_drop</span> <span class="keyword ParameterName Required">-type</span> <span class="keyword ParameterName RequiredReplaceable">type_list</span> <span class="keyword ParameterName Required">-pin</span> <span class="keyword ParameterName RequiredReplaceable">“pin1 pin2</span><span class="keyword ParameterName Required">”</span> <br />
{<span class="keyword ParameterName Required">-drop</span> <span class="keyword ParameterName RequiredReplaceable">value</span> |  <span class="keyword ParameterName Required">-mosDiodeDrop</span> <span class="keyword ParameterName RequiredReplaceable">value</span> | <span class="keyword ParameterName Required">-drop</span> <span class="keyword ParameterName RequiredReplaceable">value</span> <span class="keyword ParameterName Required">-mosDiodeDrop</span> <span class="keyword ParameterName RequiredReplaceable">value</span>}<br />
[-<span class="keyword ParameterName Optional">subtype</span> <span class="keyword ParameterName OptionalReplaceable">subtype_list</span>] [-condition <span class="keyword ParameterName OptionalReplaceable">cond_proc</span>]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Defines a voltage drop of the
specified <span class="keyword ParameterName OptionalReplaceable">value</span> across
the specified pins for the devices in the <span class="keyword ParameterName RequiredReplaceable">type_list</span>.
If multiple perc::define_voltage_drop commands apply to the same
device, the <span class="keyword ParameterName OptionalReplaceable">value</span> having
the largest absolute value is applied to the device. </p>
<p class="p">This command is used only in
voltage propagation initialization procedures and can be called any
number of times.</p>
<p class="p">At least one of the <span class="keyword ParameterName Required">-drop</span> or <span class="keyword ParameterName Required">-mosDiodeDrop</span> options
must be specified. The <span class="keyword ParameterName Required">-drop</span> option applies
to all devices of the <span class="keyword ParameterName RequiredReplaceable">type_list,</span> unless
the <span class="keyword ParameterName Required">‑mosDiodeDrop</span> option
is also specified and applies to a device. The -subtype option causes
only devices in the specified subtypes to have the <span class="keyword ParameterName OptionalReplaceable">value</span> applied.</p>
<p class="p">If the <span class="keyword ParameterName RequiredReplaceable">type_list</span> contains
a MOSFET type and <span class="keyword ParameterName Required">-mosDiodeDrop</span> is
specified, then the associated <span class="keyword ParameterName RequiredReplaceable">value</span> only
applies when the MOSFET device is connected as a diode. The <a class="xref fm:HeadingOnly" href="Command_PercenableMosDiodeDetection_id8a68d1a5.html#id8a68d1a5-da8d-434a-8202-fb67110467a0__Command_PercenableMosDiodeDetection_id8a68d1a5.xml#id8a68d1a5-da8d-434a-8202-fb67110467a0" title="Specifies how diode-connected MOSFET devices are handled during voltage-aware path traversal.">perc::enable_mos_diode_detection</a> YES option must be specified for
this to apply. The <span class="keyword ParameterName Required">‑mosDiodeDrop</span> option
does not apply to other device types.</p>
<p class="p">The order of the pins is important.
If the device is traversed in the specified pin order, the drop value
is subtracted from <span class="keyword ParameterName RequiredReplaceable">pin1</span>.
If traversed in the reverse order, the drop value is added to <span class="keyword ParameterName RequiredReplaceable">pin2</span>.</p>
<p class="p">The -condition option specifies
the name of a Tcl procedure that is run as part of the command. The <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> must
return a 1 or a 0, with 0 meaning the voltage drop is not applied.
No specification of a <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> is
treated as 1, or “true”. </p>
<p class="p">As the tool does not solve loop
or node equations to apply voltage drops, a ‑condition proc can check
if a drop should apply. A more general solution is to use a <a class="xref fm:HeadingOnly" href="Command_PerccreateVoltagePath_id2094c0cf.html#id2094c0cf-1da3-41d7-9049-860de10b6ca7__Command_PerccreateVoltagePath_id2094c0cf.xml#id2094c0cf-1da3-41d7-9049-860de10b6ca7" title="Enables voltage propagation through selected devices and pins.">perc::create_voltage_path</a> ‑pinVoltage procedure, possibly
in combination with a -pinLimit procedure. See “<a class="xref fm:HeadingAndPage" href="Command_PerccreateVoltagePath_id2094c0cf.html#id2094c0cf-1da3-41d7-9049-860de10b6ca7__iddc639f15-1371-4cc4-b261-f6b5d9916310">Example 4</a>”.</p>
<p class="p">The <a class="xref fm:HeadingOnly" href="Command_PercdefineVoltageInterval_id97b2b367.html#id97b2b367-5449-4921-859a-30bc2e61d886__Command_PercdefineVoltageInterval_id97b2b367.xml#id97b2b367-5449-4921-859a-30bc2e61d886" title="Specifies voltage resolution.">perc::define_voltage_interval</a> command can efficiently represent
voltages created by the perc::define_voltage_drop command.</p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__idcef77d34-7da7-4ccc-b686-7a73c70af77c"><span class="keyword ParameterName Required">-type</span> <span class="keyword ParameterName RequiredReplaceable">type_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An required argument set, where <span class="keyword ParameterName RequiredReplaceable">type_list</span> must
be a Tcl list consisting of one or more device types (including
.SUBCKT definitions), and possibly starting with the exclamation point
(!). If the exclamation point is not present, then only devices
with the listed types are selected. If the exclamation point is
present, then only devices with types other than those listed are
selected. </p>
<p class="p">The general form of <span class="keyword ParameterName RequiredReplaceable">type_list</span> is
this: {[!] <span class="keyword ParameterName OptionalReplaceable">type</span> …}.</p>
<p class="p">Each device type may contain
one or more asterisk (*) characters. The * character matches zero
or more characters.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__id8a360b3b-887a-4677-831a-176e04092f01"><span class="keyword ParameterName RequiredReplaceable">-pin “pin_name_list”</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set that
specifies a Tcl list of two device pin names. The pin names are expected
to be pins from devices that match the command’s parameters. The
order of the pin names is important and should match the expectations
of how the <span class="keyword ParameterName OptionalReplaceable">value</span> is
applied.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__id169a3f04-135e-485b-beb5-1bdca5dbfad1"><span class="keyword ParameterName Required">-drop</span> <span class="keyword ParameterName RequiredReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An argument set that defines
a voltage drop value in user units. The <span class="keyword ParameterName RequiredReplaceable">value</span> is
a floating-point number. This option must be specified if the <span class="keyword ParameterName Required">-mosDiodeDrop</span> option
is not specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__ida64cb058-01be-45da-8940-197e88337efb"><span class="keyword ParameterName Required">-mosDiodeDrop</span> <span class="keyword ParameterName RequiredReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An argument set that defines
a voltage drop value in user units for diode-connected MOSFET devices.
The <span class="keyword ParameterName RequiredReplaceable">value</span> is
a floating-point number. This option must be specified if the <span class="keyword ParameterName Required">-drop</span> option
is not specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__idbb8a820e-dd70-418c-9b44-7d014efc7a3d">-<span class="keyword ParameterName Optional">subtype</span> <span class="keyword ParameterName OptionalReplaceable">subtype_list</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">subtype_list</span> must
be a Tcl list consisting of one or more subtypes, and possibly starting
with the exclamation point (!). If the exclamation point is not present,
then only devices with the listed subtypes are selected. If the
exclamation point is present, then only devices with models other
than those listed are selected. </p>
<p class="p">The general form of <span class="keyword ParameterName OptionalReplaceable">subtype_list </span>is
this: {[!] <span class="keyword ParameterName OptionalReplaceable">model</span> …}.</p>
<p class="p">Each device subtype may contain
one or more asterisk (*) characters. The * character matches zero
or more characters, but it does not match the absence of a subtype.</p>
<p class="p">Subtypes are also known as model
names.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__id97a73721-21d4-4040-9f14-a246ed1ef5a2">-condition <span class="keyword ParameterName OptionalReplaceable">cond_proc</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set, where <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> must
be a Tcl proc that takes an instance iterator passed from the command
as its only argument.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">cond_proc</span> must
return the value of 1 if the device meets its condition and 0 otherwise. If
1 is returned, the device is selected for processing. No other return
values are permitted. </p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">None. </p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__ide7cde727-e300-4d98-97ff-4c29a3710bf2"><h2 class="title Subheading sectiontitle">Example 1</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_voltage_drop [/* 
  package require CalibreLVS_PERC 
 
  proc init_1_voltage_drop {} { 
    <a class="xref fm:HeadingOnly" href="Command_PercdefineVoltageInterval_id97b2b367.html#id97b2b367-5449-4921-859a-30bc2e61d886__Command_PercdefineVoltageInterval_id97b2b367.xml#id97b2b367-5449-4921-859a-30bc2e61d886" title="Specifies voltage resolution.">perc::define_voltage_interval</a> -interval 0.05 -min 0 -max 0.5 
 
# NMOS: expect Vd &gt; Vs 
    perc::define_voltage_drop -type {MN} -pin {d s} -drop 0.45 
# PMOS: expect Vs &gt; Vd 
    perc::define_voltage_drop -type {MP} -pin {s d} -drop 0.35 \
      -condition diode_check 
 
  proc diode_check {dev} { 
     if {[<a class="xref fm:HeadingOnly" href="Command_PercpinToNetCount_id36e88eba.html#id36e88eba-7e5e-47d6-89fa-17cebd2d11ed__Command_PercpinToNetCount_id36e88eba.xml#id36e88eba-7e5e-47d6-89fa-17cebd2d11ed" title="Returns the number of different nets (flat count) connected to the listed pins.">perc::pin_to_net_count</a> $dev "d g"] == 1} { 
       return 1 
     } else { 
       return 0 
     } 
  } 
*/] </code></pre><p class="p">Tcl proc init_1_voltage_drop first
sets up the voltage interval 0.05 over the range of values from 0
to 0.5.</p>
<p class="p">After application of the first perc::define_voltage
drop command, drain pins are 0.45V above the source pins for MN
devices.</p>
<p class="p">After application of the second
perc::define_voltage_drop command, source pins are 0.35V above the
drain pins for any MP devices that are connected as diodes.</p>
<p class="p">Tcl proc diode_check is a conditional
check on MP device instances to determine whether drain and gate
pins are tied together.</p>
</div>
<div class="section Subsection" id="idc6eb4714-d6f6-4c7b-932d-2ce43dc96927__id563874b7-b075-4c37-b442-fff8d8370dc0"><h2 class="title Subheading sectiontitle">Example 2</h2><pre class="pre codeblock leveled"><code>TVF FUNCTION test_voltage_drop [/* 
  package require CalibreLVS_PERC 
 
  proc init_2_voltage_drop {} { 
    perc::define_voltage_drop -type {MP} -pin {s d} -drop 0.2 \
     ‑mosDiodeDrop 0.4 
... 
  } 
*/] </code></pre><p class="p">Tcl proc init2_voltage_drop defines
a voltage drop of 0.2 volts across the S and D pins of a PMOS device
when not operating in a diode-connected mode and a provides for
a voltage drop of 0.4 volts when the PMOS device is diode-connected.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_InitializationCommands_id23266ed9.html" title="Initialization procedure commands appear in an init proc and set up the netlist for checking.">Initialization Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::define_voltage_drop"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercdefineVoltageDrop_idc6eb4714.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>