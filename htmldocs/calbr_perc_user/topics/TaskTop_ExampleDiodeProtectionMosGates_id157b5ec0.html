<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Example: Diode Protection of MOS Gates" />
<meta name="abstract" content="The perc::check_device command can be used in a rule check to determine whether MOS gates have diode protection." />
<meta name="description" content="The perc::check_device command can be used in a rule check to determine whether MOS gates have diode protection." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id157b5ec0-c18d-4a0f-beb7-94876874f126" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Example: Diode Protection of MOS Gates</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Example: Diode Protection of MOS Gates" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id157b5ec0-c18d-4a0f-beb7-94876874f126">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Example: Diode Protection of MOS Gates</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The perc::check_device
command can be used in a rule check to determine whether MOS gates
have diode protection. </p>
<p class="p">The check in this example finds MOS devices that meet the following
conditions.</p>
<ul class="ul"><li class="li" id="idd04723d6-8bcf-4590-a691-1d2425759860"><p class="p">The device is an NMOS or PMOS transistor.</p>
</li>
<li class="li" id="id64747eb6-e36d-4835-bf84-44b3d93b8552"><p class="p">The gate pin has no diode connected to
it.</p>
</li>
</ul>
<p class="p"><a class="xref fm:Figure" href="#id157b5ec0-c18d-4a0f-beb7-94876874f126__ide2f45995-433d-45f2-823b-4fc1fc419b0a">Figure 1</a> shows a schematic representation of
both good and bad circuits.</p>
<div class="fig fignone" id="ide2f45995-433d-45f2-823b-4fc1fc419b0a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Diode Protection
for Gates</span><br /><div class="imageleft"><img class="image imageleft" height="100" src="../graphics/topo_checks10a.png" width="468" /></div><br /></div>
<p class="p">Here are some possible SPICE representations
of both good and bad configurations:</p>
<div class="fig fignone" id="id84e06f2b-179a-4ba9-bbc7-b9f819765cc1"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/topo_checks11a.png" /></div><br /></div>
<p class="p">The objective is to write a check for the bad
configurations.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id157b5ec0-c18d-4a0f-beb7-94876874f126__idd5f5050e-667b-493e-8d9c-58bd1b90681d"><p class="p">Knowledge
of SPICE netlist format.</p>
</li>
<li class="li" id="id157b5ec0-c18d-4a0f-beb7-94876874f126__id4ce33314-b494-4375-a4fe-42583751353b"><p class="p">Knowledge of
Tcl.</p>
</li>
<li class="li" id="id157b5ec0-c18d-4a0f-beb7-94876874f126__iddab38348-32db-436e-8913-eaf137737433"><p class="p">Calibre PERC
license.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id157b5ec0-c18d-4a0f-beb7-94876874f126__idc62313c9-f71d-4c62-99cd-913a3a9214d0"><span class="ph cmd">Write an
initialization procedure that defines nets having diodes on them.
This initializes the net labels for the rule check. The -cell option
causes the net type to apply to lower-level cells.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code># define nets having diodes with the DIODE net type 
proc init_5 {} { 
  <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByDevice_idddb1d861.html#idddb1d861-3213-4dfe-ac19-676ee8821ebc__Command_PercdefineNetTypeByDevice_idddb1d861.xml#idddb1d861-3213-4dfe-ac19-676ee8821ebc" title="Assigns a net type to nets that are connected to selected devices.">perc::define_net_type_by_device</a> "DIODE" -type {D} -pin {p n} ‑cell 
} </code></pre></div></li>
<li class="li step stepexpand" id="id157b5ec0-c18d-4a0f-beb7-94876874f126__id73b65a68-1b8d-49db-a26c-7a457ea09f04"><span class="ph cmd">Write the
rule check using a single procedure.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code># Check MN and MP devices for presence of DIODE net type 
  proc rule_5 {} { 
    <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> -type {MN MP} -pinNetType {g !DIODE} \
                -comment "Gates without diode protection" 
   } </code></pre><p class="p">The Tcl proc checks every device in the design.
The options to the <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> command are as follows:</p>
<p class="p"><span class="ph FontProperty HeadingLabel">-type {&lt;type&gt;}</span> —
Checks for MN or MP device.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">-pinNetType { {g} {&lt;net type&gt;} }</span> —
Checks if the gate pin is not on a net of the type DIODE.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">-comment “&lt;message&gt;”</span> —
Specifies a message that gets written to the Calibre PERC report
for the rule_4 check results.</p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The complete rule check follows. It must be
placed inside a TVF Function block containing a “package require
CalibreLVS_PERC” command and called from a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> statement
in order to run it. See “<a class="xref fm:HeadingAndPage" href="Concept_CalibrePercExampleRuleFile_id170b24bd.html#id170b24bd-6423-403d-a729-e939c52112b9__Concept_CalibrePercExampleRuleFile_id170b24bd.xml#id170b24bd-6423-403d-a729-e939c52112b9" title="This section shows a control file that can be used to run all the examples shown in this chapter. It also contains a complete rule file for running a modified version of the examples using XML constraints and an object called a collection.">Calibre PERC Example Rule Files</a>” for related information.</p>
<pre class="pre codeblock leveled"><code>######################################################################### 
### RULE 5 
########## 
 
# Initialization proc for rule_5 checks 
# define nets having diodes with the DIODE net type 
  proc init_5 {} { 
    <a class="xref fm:HeadingOnly" href="Command_PercdefineNetTypeByDevice_idddb1d861.html#idddb1d861-3213-4dfe-ac19-676ee8821ebc__Command_PercdefineNetTypeByDevice_idddb1d861.xml#idddb1d861-3213-4dfe-ac19-676ee8821ebc" title="Assigns a net type to nets that are connected to selected devices.">perc::define_net_type_by_device</a> "DIODE" -type {D} -pin {p n} -cell 
  } 
 
# Check MN and MP devices for presence of DIODE net type 
  proc rule_5 {} { 
    <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> -type {MN MP} -pinNetType {g !DIODE} \
                  -comment "Gates without diode protection" 
} </code></pre><p class="p">The results output in the Calibre PERC report
file would appear similar to this for a layout netlist:</p>
<pre class="pre codeblock leveled"><code>o RuleCheck:  rule_5 (Gates without diode protection) 
------------------------------------------------------------------------- 
 
  11 X20/M1(6.225,14.300) [ MN(N) ]  
         g: 24 
         s: VSS 
         d: 4 
         b: VSS </code></pre><p class="p">The output shows the bad device instance from
the netlist including the coordinates; the type and model names;
and the pin names with their associated nets. </p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CalibrePercTopologyRuleChecks_id80f61ef9.html" title="The core of the Calibre PERC functionality is topological rule checking. Topological rule checks are written in the Calibre PERC extension of TVF. This chapter contains naming conventions used when writing topology rule checks and working examples of initialization and rule check procedures.">Calibre PERC Topology Rule Checks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "Example: Diode Protection of MOS Gates"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ExampleDiodeProtectionMosGates_id157b5ec0.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>