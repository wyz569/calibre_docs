<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Pattern Template Specification Criteria" />
<meta name="abstract" content="A pattern template is a SPICE subcircuit that defines topology of interest. Pattern templates appear in a file named in a PERC Pattern Path specification statement or in a PERC Load PATTERN keyword set." />
<meta name="description" content="A pattern template is a SPICE subcircuit that defines topology of interest. Pattern templates appear in a file named in a PERC Pattern Path specification statement or in a PERC Load PATTERN keyword set." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id9d843770-e688-4c36-92af-fd6da36caf16" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Pattern Template Specification Criteria</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Pattern Template Specification Criteria" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id9d843770-e688-4c36-92af-fd6da36caf16">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Pattern Template Specification Criteria</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">A pattern template
is a SPICE subcircuit that defines topology of interest. Pattern
templates appear in a file named in a PERC Pattern Path specification
statement or in a PERC Load PATTERN keyword set.</span>
</div>
<p class="p">A pattern file specified by <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Pattern Path', 'svrf_ur'); return false;">PERC Pattern Path</a> is globally available for rule checks in the rule file.
A pattern file specified by <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> PATTERN
applies to the rule checks in that statement and overrides any PERC
Pattern Path file. </p>
<p class="p">Each pattern file is treated as self-contained,
and pattern subcircuits may not call subcircuits outside the containing
file. Use of .INCLUDE statements in pattern files is allowed and
must meet usual SPICE conventions. If .INCLUDE statements are used,
all .INCLUDE statement dependencies are resolved, and a single netlist
is formed. That netlist is used as the source for all pattern templates,
and the entire chain of included files can be considered the containing
file for a template.</p>
<p class="p">In a pattern template, each subcircuit can
contain primitive devices, subcircuit (X) calls, or both. There
is no practical limit to the levels of hierarchy in a template. </p>
<p class="p">Since pattern matching is based on netlist
connectivity, all devices and nets of a template subcircuit must
be connected. In other words, for a subcircuit to be a valid pattern
template, there must be a path from any node to any other node.</p>
<p class="p">The pattern file must contain a subcircuit
named “top” (no other text case is allowed). This subcircuit is
not a pattern template, rather it is needed to instantiate the other
subcircuits in the pattern file. As a result, the name “top” is
not a valid pattern template name. </p>
<p class="p">Here is an example pattern file:</p>
<pre class="pre codeblock leveled"><code>.SUBCKT pat1 a vss 
M0 a b c vss N  
M1 d b e vss N  
r0 a vss 
.ENDS 
 
.SUBCKT pat2 a b c vss 
M0 a b c vss N  
M1 d b e vss N  
C0 a vss 
.ENDS 
 
.SUBCKT top        $ name must be "top" 
x1 1 2 pat1        $ instantiate pattern 
x2 1 2 3 4 pat2    $ instantiate pattern 
.ENDS </code></pre><p class="p">Pattern templates are flattened prior to
patterns being matched; hence, any references to hierarchically
nested devices or nets must contain the full path through the hierarchy
from the top level down to the desired object. For example, this
could serve as a device to match in a hierarchical pattern: “x0/x1/M0”.</p>
<p class="p">By default, a pattern template must contain
at least one supply net that connects outside the circuit in addition
to a connection to a device. Frequently, external connections to
both power and ground nets are present.</p>
<p class="p">When
searching for a pattern instance, <a class="xref fm:HeadingOnly" href="Command_PercgetOnePattern_id0b6dc0fc.html#id0b6dc0fc-6241-4679-9c86-7d0be6871edb__Command_PercgetOnePattern_id0b6dc0fc.xml#id0b6dc0fc-6241-4679-9c86-7d0be6871edb" title="Creates a pattern iterator.">perc::get_one_pattern</a> interprets
the SPICE subcircuit as follows:</p>
<ul class="ul"><li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__idd3cf1844-079f-4939-bd25-2f140f514ad1"><p class="p">A net in the template is external if
it is connected to a cell port, otherwise it is internal.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__idc86df3dd-8b65-4dc2-8cac-a3867bab18c8"><p class="p">A design net that is matched to a template
internal net can only be connected to design devices that are matched
to template devices.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__idf6e4acd2-c463-4893-9fd6-2f4fd4623b01"><p class="p">A design net that is matched to a template
external net can be connected to devices in the design other than
the ones that are matched to devices in the template.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__id889676ca-77e0-4730-b78e-9c8a2b549014"><p class="p">The external net (port)
names of the template are meaningful. An external net is uniquely
identified as power, ground, or signal, based on the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Power Name', 'svrf_ur'); return false;">LVS Power Name</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Ground Name', 'svrf_ur'); return false;">LVS Ground Name</a> specifications in the rules. </p>
<p class="p">By default, a template
power net can only be matched to a power net in the design. Similarly,
a template ground net can only be matched to a ground net in the
design. A template signal net can only be matched to a net that
is neither power nor ground in the design. The supply net names
do not need to match between the design and the template, just their
statuses as power or ground, respectively, in order for a correspondence
to be found.</p>
<p class="p">By default, a template
must have at least one external net that is either power or ground, and
a corresponding net type must be assigned to the net in the initialization
procedure. This default behavior can be overridden by the <a class="xref fm:HeadingOnly" href="Command_PercgetOnePattern_id0b6dc0fc.html#id0b6dc0fc-6241-4679-9c86-7d0be6871edb__Command_PercgetOnePattern_id0b6dc0fc.xml#id0b6dc0fc-6241-4679-9c86-7d0be6871edb" title="Creates a pattern iterator.">perc::get_one_pattern</a> ‑patternSupplyPorts
OPTIONAL or DYNAMIC keywords, but these options have a performance
cost. In particular, DYNAMIC should be avoided if possible.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__idf0fbc134-aac3-43cc-8454-4e4470dcd953"><p class="p">The internal net names of the template
are meaningless. An internal net is always labeled as signal, regardless
of its name, and can only be matched to a design net that is neither
power nor ground.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__idf5f9c787-4504-4774-a66d-e1b6771baa14"><p class="p">The template nets are separate, even
external nets. Each template net must be matched to a unique net
in the design by default in order for there to be a correspondence
between the design and the template. This default behavior can be
overridden by the perc::get_one_pattern ‑patternPortsShortable option.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__id986e34e5-7669-4ba3-9534-aeefc8a670f9"><p class="p">Devices are matched by type and pins.
The matching devices between the design and the template must have
the same type and same pin list. Equivalent device types established with
the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Device Type', 'svrf_ur'); return false;">LVS Device Type</a> specification statement are supported. The only exception
to the pin list requirement is the bulk pins of built-in devices.
For built-in devices, the bulk pins in the template are optional
(for example, a 3-pin MOS in the pattern template can match a 4-pin
MOS in the design netlist). However, if a built-in device in the
template has bulk pins, its matching device in the design must have
the corresponding bulk pins.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__ida772ac14-7e2b-4dfe-a2b6-53ced45cff1d"><p class="p">The device subtypes and properties of
the template are not used for pattern matching by default. Also,
the matching pins between the design and the template may be swapped
if they are logically equivalent in the LVS sense, such as source
or drain pins of MOS devices, and pos or neg pins of resistors.
These default behaviors can be overridden by the perc::get_one_pattern
-patternNodeSubtype, -patternNodeProperty, and ‑patternNodeExactMatch
options.</p>
</li>
<li class="li" id="id9d843770-e688-4c36-92af-fd6da36caf16__idd73f555c-75bc-4b55-9708-903b59118f1e"><p class="p">The device and net names of the template
are used for reference during pattern matching. They can be used
in the perc::get_one_pattern command options.</p>
</li>
</ul>
<p class="p">Tolerances for matching netlist property values
to pattern template values can be defined with the PERC Property
TOLERANCE keyword set.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_PatternBasedChecks_id1bed4e74.html" title="Calibre PERC pattern-based checks allow you to specify SPICE circuit topology to be matched when performing circuit verification. Specifying a pattern topology to match can be easier than trying to code low-level commands to search for the topology.">Pattern-Based Checks</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/MGCChap_PatternBasedChecks_id1bed4e74.html" title="Calibre PERC pattern-based checks allow you to specify SPICE circuit topology to be matched when performing circuit verification. Specifying a pattern topology to match can be easier than trying to code low-level commands to search for the topology.">Pattern-Based Checks</a></div>
<div><a class="link" href="../topics/Concept_PatternMatchingPerformanceOptimization_idaf56264e.html" title="In general, pattern matching can achieve better performance if certain optimizing practices are used.">Pattern Matching Performance Optimization</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "Pattern Template Specification Criteria"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_PatternTemplateSpecificationCriteria_id9d843770.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>