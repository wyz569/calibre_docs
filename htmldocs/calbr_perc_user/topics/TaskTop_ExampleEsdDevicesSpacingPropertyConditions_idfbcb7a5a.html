<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Example: ESD Devices With Spacing Property Conditions" />
<meta name="abstract" content="The perc::check_device command can check devices for property conditions like spacing." />
<meta name="description" content="The perc::check_device command can check devices for property conditions like spacing." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Example: ESD Devices With Spacing Property Conditions</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Example: ESD Devices With Spacing Property Conditions" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Example: ESD Devices With Spacing Property Conditions</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The perc::check_device
command can check devices for property conditions like spacing.</p>
<p class="p">The check in this example finds devices
that meet the following conditions:</p>
<ul class="ul"><li class="li" id="id5f900e67-cf62-4c08-bdbf-bae34c610355"><p class="p">The device is an NMOS or PMOS transistor.</p>
</li>
<li class="li" id="id49453e46-95d8-4d8f-88f2-d2082bf7a1c2"><p class="p">The device’s source or drain pin is tied
to an I/O pad.</p>
</li>
<li class="li" id="id6b563d86-89d6-460d-90b7-d76ea64f08eb"><p class="p">The device has a spacing property s1
&lt; 2 and a spacing property d1 &lt; 1.</p>
</li>
</ul>
<p class="p"><a class="xref fm:Figure" href="#idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__id26f968f3-1a4f-491b-a728-d762be8766b0">Figure 1</a> shows a schematic representation of
what the check should find.</p>
<div class="fig fignone" id="id26f968f3-1a4f-491b-a728-d762be8766b0"><span class="figcap"><span class="fig--title-label">Figure 1. </span>ESD Devices With Bad Properties</span><br /><div class="imageleft"><img class="image imageleft" height="265" src="../graphics/topo_checks06a.png" width="374" /></div><br /></div>
<p class="p">Here are some possible SPICE representations
of both good and bad configurations:</p>
<div class="fig fignone" id="id06bbdcf8-76b6-4e0c-9053-e6f638fafc5a"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/topo_checks07a.png" /></div><br /></div>
<p class="p">The objective is to find the bad configuration.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__idd5f5050e-667b-493e-8d9c-58bd1b90681d"><p class="p">Knowledge
of SPICE netlist format.</p>
</li>
<li class="li" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__id4ce33314-b494-4375-a4fe-42583751353b"><p class="p">Knowledge of
Tcl.</p>
</li>
<li class="li" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__iddab38348-32db-436e-8913-eaf137737433"><p class="p">Calibre PERC
license.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__idb7b5e72d-9e45-413d-b681-1f8e617a68d6"><span class="ph cmd">Instruct
Calibre PERC to initialize the device properties by including these
statements in the rule file:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Property', 'svrf_ur'); return false;">PERC PROPERTY</a> MN s1 d1 
PERC PROPERTY MP s1 d1 </code></pre></div></li>
<li class="li step stepexpand" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__id372e263d-19df-419a-b6f2-cc5269cf3118"><span class="ph cmd">Write an
initialization procedure that labels the I_O_Pad net. This initializes
the net label for the rule check.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code># Initialization proc for rule_3 check 
# Label I_O_Pad nets 
  proc init_3 {} { 
    <a class="xref fm:HeadingOnly" href="Command_PercdefineNetType_id94dce3ed.html#id94dce3ed-08eb-4906-8920-4023848dda4b__Command_PercdefineNetType_id94dce3ed.xml#id94dce3ed-08eb-4906-8920-4023848dda4b" title="Assigns a net type to nets from an input list of net names.">perc::define_net_type</a> "I_O_Pad"  {I_O_Pad} 
  }  </code></pre></div></li>
<li class="li step stepexpand" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__id6e7d434b-8c42-4aef-969b-f2c3088093b8"><span class="ph cmd">Write the
rule check using two procedures.</span><ol type="a" class="ol substeps"><li class="li substep" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__ida38a2be3-0251-48eb-b420-937bffa90955"><span class="ph cmd">The
main proc checks devices in the design. </span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code># Main proc that checks MN and MP devices in the design. 
  proc rule_3 {} { 
    perc::check_device -type {mp mn} \
                     -pinNetType { {s d} {I_O_Pad} } \
                     -condition rule_3_cond  \
            -comment "I/O PAD MOS with bad spacing property" 
  } </code></pre><p class="p">The options to the <a class="xref fm:HeadingOnly" href="Command_PerccheckDevice_id3faa8842.html#id3faa8842-b865-4759-8041-19b4db0d1f9a__Command_PerccheckDevice_id3faa8842.xml#id3faa8842-b865-4759-8041-19b4db0d1f9a" title="Matches each primitive device in the design by default. Devices that are selectively matched can be configured using the options.">perc::check_device</a> command are as follows:</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-type {mp mn}</span> —
Checks for MP or MN devices.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-pinNetType { {s d} {I_O_Pad} }</span> —
Checks that the source or drain pin is tied to the I_O_Pad net type.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-condition rule_3_cond</span> —
For each device that passes the previous two criteria, sends the
device to the rule_3_cond proc, which checks the values of the s1
and d1 properties.</p>
<p class="p BlockIndent"><span class="ph FontProperty HeadingLabel">-comment “I/O PAD MOS with bad spacing property”</span> —
Specifies a message that gets written to the Calibre PERC report
for the rule_3 check results.</p>
</div></li>
<li class="li substep" id="idfbcb7a5a-6299-4073-a268-e3530ee3d9e4__id67b50950-9c02-4c52-9c45-12ab486e18e9"><span class="ph cmd">Write
a subroutine that returns 1 if a device’s property values fall outside
of the desired ranges. The <a class="xref fm:HeadingOnly" href="Command_Percproperty_id46c86c59.html#id46c86c59-2c26-44ba-92cd-856971b27011__Command_Percproperty_id46c86c59.xml#id46c86c59-2c26-44ba-92cd-856971b27011" title="Returns a device instance property value.">perc::property</a> command is used to return the
property values from a device.</span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code># Subroutine for rule_3. 
# Returns 1 if the device property values
# fall outside of the desired ranges. 
  proc rule_3_cond {instance} { 
    if { [perc::property $instance s1] &lt; 2.0 &amp;&amp; \
         [perc::property $instance d1] &lt; 1.0 } { 
       return 1 
    } 
    return 0 
  } </code></pre></div></li>
</ol>
</li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The complete rule check follows. It must be
placed inside a TVF Function block containing a “package require
CalibreLVS_PERC” command and called from a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> statement
in order to run it. See “<a class="xref fm:HeadingAndPage" href="Concept_CalibrePercExampleRuleFile_id170b24bd.html#id170b24bd-6423-403d-a729-e939c52112b9__Concept_CalibrePercExampleRuleFile_id170b24bd.xml#id170b24bd-6423-403d-a729-e939c52112b9" title="This section shows a control file that can be used to run all the examples shown in this chapter. It also contains a complete rule file for running a modified version of the examples using XML constraints and an object called a collection.">Calibre PERC Example Rule Files</a>” for related information.</p>
<pre class="pre codeblock leveled"><code>######################################################################### 
### RULE 3 
########## 
 
# Initialization proc for rule_3 check 
# Label I_O_Pad nets 
  proc init_3 {} { 
    perc::define_net_type "I_O_Pad"  {I_O_Pad} 
  }  
 
# Main proc that checks MN and MP devices in the design. 
  proc rule_3 {} { 
    perc::check_device -type {mp mn} \
                       -pinNetType { {s d} {I_O_Pad} } \
                       -condition rule_3_cond  \
               -comment "I/O PAD MOS with bad spacing property" 
  } 
 
# Subroutine for rule_3. Returns 1 if the device property values  
# fall outside of the desired ranges. 
  proc rule_3_cond {instance} { 
    if { [perc::property $instance s1] &lt; 2.0 &amp;&amp; \
         [perc::property $instance d1] &lt; 1.0 } { 
       return 1 
    } 
    return 0 
  } </code></pre><p class="p">The results output in the Calibre PERC report file would appear
similar to this for a layout netlist:</p>
<pre class="pre codeblock"><code>o RuleCheck:  rule_3 (I/O PAD MOS with bad spacing property) 
------------------------------------------------------------------------ 
 
  4    M2(-131.200,-98.200) [ MN(N_PG) ]  
         g: 3 
         s: I_O_PAD [ I_O_Pad ] 
         d: VSSIO 
         b: VSSIO </code></pre><p class="p">The output shows the name of the rule check and a comment from
the Tcl proc that describes the rule check. This is the fourth result
in the report. The output shows the bad device instance from the
netlist including the coordinates; the type and model names; and
the pin names with their associated nets. The I_O_Pad net type appears
in brackets because part of the check included the condition that
the source or drain pin be tied to this net type.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CalibrePercTopologyRuleChecks_id80f61ef9.html" title="The core of the Calibre PERC functionality is topological rule checking. Topological rule checks are written in the Calibre PERC extension of TVF. This chapter contains naming conventions used when writing topology rule checks and working examples of initialization and rule check procedures.">Calibre PERC Topology Rule Checks</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "Example: ESD Devices With Spacing Property Conditions"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ExampleEsdDevicesSpacingPropertyConditions_idfbcb7a5a.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>