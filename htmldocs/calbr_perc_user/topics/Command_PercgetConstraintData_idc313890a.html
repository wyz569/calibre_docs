<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::get_constraint_data" />
<meta name="abstract" content="Returns a list of data from an active XML constraint. The list contents depend on which type of data is requested." />
<meta name="description" content="Returns a list of data from an active XML constraint. The list contents depend on which type of data is requested." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id9980e0fe-b779-4c80-9abf-90cf71a0a485" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::get_constraint_data</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::get_constraint_data" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::get_constraint_data</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">XML constraint command.</p>
<p class="shortdesc">Returns a list of data from an active XML constraint.
The list contents depend on which type of data is requested.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::get_constraint_data</span> <span class="keyword ParameterName Required">-constraint</span> <span class="keyword ParameterName RequiredReplaceable">name</span> <br />
[-data {<span class="keyword ParameterName OptionalDefault">PARAMETERS</span> | CATEGORY | BASE | CONVENTION | SCOPE | VIEW}]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Returns a list of &lt;Constraint&gt; element data from the current <a class="xref fm:HeadingOnly" href="FileRef_XmlConstraintsFile_idb0c07df2.html#idb0c07df2-81c2-45e8-8a48-e490ccc9698d__FileRef_XmlConstraintsFile_idb0c07df2.xml#idb0c07df2-81c2-45e8-8a48-e490ccc9698d" title="The Calibre PERC rule file can reference one XML constraints file, and commands in the rule file retrieve the necessary parameters the checks require. Any constraints needed in the rules can be defined in this file. Other files with constraint parameters may be referenced by an &lt;Include&gt; element and treated as if they are local to the file with the &lt;Include&gt; element.">XML Constraints File</a>. The <span class="keyword ParameterName RequiredReplaceable">name</span> corresponds
to the Name attribute of a &lt;Constraint&gt; element. Such names are
unique, and if the specified name does not exist in the constraints
file, an error is given.</p>
<p class="p">By default, the Name attribute values of &lt;Parameter&gt; elements
in the scope of the specified constraint are returned in a list.
Keywords associated with the -data option configure the command
to return corresponding attribute values.</p>
<p class="p">This command is permitted in initialization and non-LDL rule
check procedures. It is analogous to <a class="xref fm:HeadingOnly" href="Command_LdlgetConstraintData_idaabfe474.html#idc313890a-b8ca-48d5-87ed-1b5c1722efcd__Command_LdlgetConstraintData_idaabfe474.xml#idc313890a-b8ca-48d5-87ed-1b5c1722efcd" title="Returns a list of data from an active XML constraint. The list contents depend on which type of data is requested.">ldl::get_constraint_data</a>, which
is used in LDL application procedures.</p>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__idc0dd0223-2610-43c5-a99b-3fb50227fe8f"><span class="keyword ParameterName Required">-constraint</span> <span class="keyword ParameterName RequiredReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set that specifies the
Name attribute value of a &lt;Constraint&gt; element.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__id10cc4333-fefc-4eb5-9f6f-d36ce20e6398">-data {<span class="keyword ParameterName OptionalDefault">PARAMETERS</span> | CATEGORY | BASE | CONVENTION | SCOPE | VIEW}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
the type of data to return. When this option is explicitly specified,
one of these keywords must be used:</p>
<ul class="ul"><li class="li" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__id19294fd1-9f17-4486-b2f6-92f755192f25"><p class="p">PARAMETERS</p>
<p class="p">Specifies that the Name attribute values of &lt;Parameter&gt; elements
in the scope of the specified constraint are returned in a list.
This is the default behavior.</p>
</li>
<li class="li" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__id4b6a43a3-53fd-4b54-b11a-3b032e184ae4"><p class="p">CATEGORY</p>
<p class="p">Specifies that the Category attribute value is returned. Category
is a required attribute, so the return value is never null.</p>
</li>
<li class="li" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__id622bc8ed-f7ef-4c73-b964-a00e5ca6adf1"><p class="p">BASE</p>
<p class="p">Specifies that the Base attribute value is returned. Base is
an optional attribute with no default, so the return value can be
null.</p>
</li>
<li class="li" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__idc22be6ff-06b3-4a6c-b8b8-b72606f96642"><p class="p">CONVENTION</p>
<p class="p">Specifies the Convention attribute value is returned. This is
either SPICE (the default) or SPECTRE.</p>
</li>
<li class="li" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__id7e34d5c0-5993-4b79-b8b7-a6c5e3c779de"><p class="p">SCOPE</p>
<p class="p">Specifies the Scope attribute value is returned. Scope is an
optional attribute with no default, so the return value can be null.</p>
</li>
<li class="li" id="id9980e0fe-b779-4c80-9abf-90cf71a0a485__ide89627fe-40b3-4672-83c7-740489f46ec6"><p class="p">VIEW</p>
<p class="p">Specifies the View attribute value is returned. This is NONE
(the default), LAYOUT, or SOURCE.</p>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">List.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">This is the XML constraints file <cite class="cite">constraints.xml</cite> for
an ESD rule check:</p>
<pre class="pre codeblock"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ConstraintsConfiguration Version = "1"&gt;
  &lt;Constraints&gt;
    &lt;Constraint Category = "ESD_Protection" Name = "patterns"&gt;
      &lt;Parameters&gt;
        &lt;Parameter Name = "Pattern1"&gt;UpDio_DownDio&lt;/Parameter&gt;
        &lt;Parameter Name = "Pattern2"&gt;UpDio_DownMOS&lt;/Parameter&gt;
      &lt;/Parameters&gt;
    &lt;/Constraint&gt;

    &lt;Constraint Category = "ESD_Protection" Name = "esd_ports"&gt;
      &lt;Parameters&gt;
        &lt;Parameter Name = "Power"&gt;lvsPower&lt;/Parameter&gt;
        &lt;Parameter Name = "Ground"&gt;lvsGround&lt;/Parameter&gt;
        &lt;Parameter Name = "Pad"&gt;lvsTopPorts&lt;/Parameter&gt;
      &lt;/Parameters&gt;
    &lt;/Constraint&gt;
  &lt;/Constraints&gt;
&lt;/ConstraintsConfiguration&gt;</code></pre><p class="p">This is the SPICE pattern file <cite class="cite">pattern.sp</cite> for the
check:</p>
<pre class="pre codeblock"><code>.subckt UpDio_DownDio in vdd gnd
D0 in vdd dio perc_config = "series MIN 2"
D1 gnd in dio
.ends

.subckt UpDio_DownMOS in vdd gnd
D0 in vdd dio perc_config = "series" 
M1 in gnd gnd gnd nch_esd
.ends

.subckt top
x0 1 2 3 UpDio_DownDio
x1 1 2 3 UpDio_DownMOS
.ends</code></pre><p class="p">These are the rules:</p>
<pre class="pre codeblock"><code>PERC CONSTRAINTS PATH "./constraints.xml"
PERC PATTERN PATH pattern.sp

PERC LOAD test_get_xml_constraint INIT init_get_xml_constraint 
  SELECT esd_check

TVF FUNCTION test_get_xml_constraint [/*
package require CalibreLVS_PERC

# get the esd_ports parameter names and build the net types from them.
# the first call to $type is a net type; the second call gets a net name.
  proc init_get_xml_constraint {} {
    foreach type [perc::get_constraint_data -constraint esd_ports] {
      perc::define_net_type $type [<a class="xref fm:HeadingOnly" href="Command_PercgetConstraintParameter_id24c5f01f.html#idc8b95c7c-5029-4cc4-8ec7-02d805db05f3__Command_PercgetConstraintParameter_id24c5f01f.xml#idc8b95c7c-5029-4cc4-8ec7-02d805db05f3" title="Returns the value of a &lt;Parameter&gt; element for a given &lt;Constraint&gt; element.">perc::get_constraint_parameter</a> \
        -constraint esd_ports -parameter $type]
    } 
  }
# find unprotected pads; iterate over non-supply nets.
  proc esd_check {} {
    perc::check_net -netType {Pad &amp;&amp; !Power &amp;&amp; !Ground} \
      -condition cond -comment "PAD without ESD protection"
  }
# see if the protection structure exists when no MOS gate pin is present.
  proc cond {net} {
    set gate_present [perc::exists -net $net -type {MN MP} -pinAtNet {g}] 
    if {$gate_present == 0} {return 0}
# get the patterns Parameters
# $pattern is a Parameter Name attribute; $ptype is a SPICE pattern name
    foreach pattern [perc::get_constraint_data -constraint patterns] {
      set ptype [perc::get_constraint_parameter -constraint patterns \
        -parameter $pattern]
      set patItr [perc::get_one_pattern -patternType $ptype \
        -patternNode [list in $net]]
      if {$patItr ne ""} {return 0}
    }
    return 1
  } 
*/]   </code></pre><p class="p">Tcl proc init_get_xml_constraint builds net types based upon
&lt;Parameter&gt; element names for the esd_ports &lt;Constraint&gt; in <cite class="cite">constraints.xml</cite>.
The net names are the values of the &lt;Parameter&gt; elements. Tcl
proc esd_check iterates over all Pad nets that are not supplies.
That proc calls the cond proc, which first checks if a MOS gate
pin is present. If so, the net is good. Otherwise, cond checks if
one of the subcircuit patterns defined in “patterns” &lt;Constraint&gt;
elements in <cite class="cite">constraints.xml</cite> is present. If a pattern
is present, the net is good, otherwise the net is bad.</p>
<p class="p">Also see <a class="xref fm:HeadingOnly" href="FileRef_XmlConstraintsFile_idb0c07df2.html#idb0c07df2-81c2-45e8-8a48-e490ccc9698d__idb30d243e-4a20-40e3-9f61-cc328a707ff6">Example 1</a> under “XML
Constraints File.”</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_InitializationCommands_id23266ed9.html" title="Initialization procedure commands appear in an init proc and set up the netlist for checking.">Initialization Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::get_constraint_data"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercgetConstraintData_idc313890a.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>