<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="calibre -perc" />
<meta name="abstract" content="The Calibre PERC command line has options specific to the tool, in addition to options used in Calibre nmLVS/Calibre nmLVS-H. LVS options are discussed in detail in the Calibre Verification User’s Manual." />
<meta name="description" content="The Calibre PERC command line has options specific to the tool, in addition to options used in Calibre nmLVS/Calibre nmLVS-H. LVS options are discussed in detail in the Calibre Verification User’s Manual." />
<meta name="DC.subject" content="Command line, Usage line" />
<meta name="keywords" content="Command line, Usage line" />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id66010820-a085-491a-861c-10ed869138cf" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>calibre -perc</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="calibre -perc" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id66010820-a085-491a-861c-10ed869138cf">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">calibre
-perc</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">The Calibre
PERC command line has options specific to the tool, in addition
to options used in Calibre nmLVS/Calibre nmLVS-H. LVS options are
discussed in detail in the <cite class="cite">Calibre Verification User’s Manual</cite>.</span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><pre class="pre codeblock"><code><span class="keyword ParameterName Required">calibre</span> <span class="keyword ParameterName Required">-perc</span> [-hier [-ldl]] 
  [ -auto[match] ] [ -hcell <span class="keyword ParameterName OptionalReplaceable">cell_correspondence_filename</span> ]
  [ -soc [ -cell_info_file <span class="keyword ParameterName OptionalReplaceable">filename</span> ] ]
  [ -nowait || -wait <span class="keyword ParameterName OptionalReplaceable">n</span> || -lmretry <span class="keyword ParameterName OptionalReplaceable">retry_args</span> ]
  [ -hold_lic <span class="keyword ParameterName OptionalReplaceable">license_names</span> ]
  [ -lmconfig <span class="keyword ParameterName OptionalReplaceable">licensing_config_filename</span> ]
  [ -spice <span class="keyword ParameterName OptionalReplaceable">filename</span> | -layout <span class="keyword ParameterName OptionalReplaceable">spice_filename</span> ] 
  [ -turbo [ <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> ] [ -turbo_all ] 
    [ -lvs_supplement [ <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> ] ] 
    [ { -remote <span class="keyword ParameterName OptionalReplaceable">host</span>,<span class="keyword ParameterName OptionalReplaceable">host</span>,... || -remotefile <span class="keyword ParameterName OptionalReplaceable">filename</span> || 
        -remotecommand <span class="keyword ParameterName OptionalReplaceable">filename</span> <span class="keyword ParameterName OptionalReplaceable">count</span> } 
      [ -remotedata [ { -recoveroff | -recoverremote } ] ] ] 
    [ -hyper [ remote ] ] ]
<span class="keyword ParameterName RequiredReplaceable">rule_file_name</span>

<span class="keyword ParameterName Required">calibre</span> {-lvs | <span class="keyword ParameterName Required">-perc</span>} [ -cs  ] [ -cl ] [ -nowait | -wait n ]  
  [ -cb ] [ -lmconfig licensing_config_filename ]  
  [ -E svrf_output_from_tvf ] 
<span class="keyword ParameterName RequiredReplaceable">rule_file_name</span></code></pre></div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><div class="note note"><span class="notetitle">Note:</span> <p class="p">Many of the Calibre PERC command
line options are the same as for Calibre nmLVS-H and they behave
similarly (see the “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre nmLVS and Calibre nmLVS-H Command Line', 'calbr_ver_user'); return false;">Calibre nmLVS and Calibre nmLVS-H Command Line</a>” section in the <cite class="cite">Calibre
Verification User’s Manual</cite> for the descriptions). However,
there are some differences in certain options’ behaviors between
Calibre nmLVS-H and Calibre PERC. These differences are discussed
in this section when relevant.</p>
</div>
<dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id38dfeccb-92fc-45a7-b5ea-bcf503d5994b"><span class="keyword ParameterName Required">-perc</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Required to run Calibre PERC.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id8f6f6bef-a5d0-4935-aa64-907bcc2711d6">-hier </dt>
<dd class="dd ArgumentDescription"><p class="p">This option is required to run
Calibre PERC hierarchically. Hierarchical Calibre PERC constructs
its internal cell list differently than Calibre nmLVS-H. When this
option is specified, it triggers the construction of an internal
hcell list using any of these methods: ‑automatch option (the preferred
method), ‑hcell option, <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Hcell', 'svrf_ur'); return false;">Hcell</a> statements,
and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Exclude Hcell', 'svrf_ur'); return false;">LVS Exclude Hcell</a> statements. The tool then runs hierarchically by preserving
the aggregate set of hcells. If this option is specified without
the -hcell option and without any Hcell statements in the rule file
then the -automatch option is used automatically. If -hier is not
used, then the tool runs flat. The -hier option is required when
using -ldl.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id057ee2ae-920c-40ab-bb9d-73e0e4a67f15">-<span class="keyword ParameterName Optional">turbo</span> [<span class="keyword ParameterName OptionalReplaceable">number_of_processors</span>] [{-remote <span class="keyword ParameterName OptionalReplaceable">host1</span>[,<span class="keyword ParameterName OptionalReplaceable">host2</span>,...<span class="keyword ParameterName OptionalReplaceable">hostN</span>]} | {‑<span class="keyword ParameterName OptionalReplaceable">remotefile config_file</span>}] [-hyper [remote]]</dt>
<dd class="dd ArgumentDescription"><p class="p">An
optional argument set that instructs Calibre PERC to use multithreaded
parallel processing. Multithreading is applied to the following
runtime modules:</p>
<ul class="ul"><li class="li" id="id66010820-a085-491a-861c-10ed869138cf__id4a728d67-9086-4c5a-a4cc-49852b5e770a"><p class="p">Circuit extraction module if
the -spice command line option is also used, or if PERC Netlist
LAYOUT and Mask SVDB Directory are specified, and the Layout System is
geometric. MTflex processing is supported for circuit extraction
through the ‑remote and -remotefile options.</p>
</li>
<li class="li" id="id66010820-a085-491a-861c-10ed869138cf__id59c9cdab-a148-4c77-bf65-7ff93988f489"><p class="p">CALIBRE::PERC executive module
if <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> SELECT
PARALLEL is specified in the rule file. Rule checks are multithreaded
in this case. The rule file is examined for issues that adversely
impact parallel runs as discussed under “<a class="xref fm:HeadingAndPage" href="Concept_StaticTclAnalyzer_id9ef28237.html#id9ef28237-ad39-4e02-89a8-a39f7806197e__Concept_StaticTclAnalyzer_id9ef28237.xml#id9ef28237-ad39-4e02-89a8-a39f7806197e" title="The static Tcl analyzer examines rule file Tcl code in TVF Function blocks called by PERC Load SELECT PARALLEL checks. Detected error conditions abort the run. Messages are issued to the transcript.">Static Tcl Analyzer</a>”.</p>
</li>
<li class="li" id="id66010820-a085-491a-861c-10ed869138cf__id750a98da-0a8f-4e76-9c89-4d73074376b0"><p class="p">CALIBRE::PERC executive module
for waiver application when <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Waiver Path', 'svrf_ur'); return false;">PERC Waiver Path</a> is specified in the rule file.</p>
</li>
<li class="li" id="id66010820-a085-491a-861c-10ed869138cf__idc1f9e607-a9e9-4559-a8cf-fd5403075b4e"><p class="p">The Logic-Driven
Layout (LDL) resistance simulation module (calcd) supports MTflex
distributed processing through the -remote and -remotefile command
line options.</p>
<p class="p">In the initial “calibre” invocation, -turbo <span class="keyword ParameterName OptionalReplaceable">n</span> means
that <span class="keyword ParameterName OptionalReplaceable">n</span> CPUs
are used for tasks on the primary host that do not run MTflex.</p>
<p class="p">The MTflex options specify information that
is used for launching remote processes on remote and local hosts.
MTflex configuration is discussed in detail under “<a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre MTflex Processing', 'calbr_admin_gd'); return false;">Calibre MTflex Processing</a>”
in the <cite class="cite">Calibre Administrator’s Guide</cite>, which covers both
-remote and -remotefile usage. Several MTflex -remotefile configuration scripts
are discussed later in the Examples section. </p>
<p class="p">The MTflex remote environment is established by the primary calibre
process waiting for connections from “rcalibre” remote clients to
the primary host. Each rcalibre client represents one physical remote
CPU. The rcalibre clients that make connections in the master process’s
waiting period determine how many remote resources are available.
The rcalibre command is frequently invoked by another MTflex command
in a configuration file, so you do not need to call rcalibre explicitly,
but there are cases where you might.</p>
<p class="p">If you run remote processes on the primary host using -remotefile,
then you can use this in the configuration file:</p>
<p class="p BlockIndent">LAUNCH AUTOMATIC</p>
<p class="p BlockIndent">REMOTE HOST localhost <span class="keyword ParameterName OptionalReplaceable">n</span></p>
<p class="p">where <span class="keyword ParameterName OptionalReplaceable">n</span> is
the number of CPUs, and localhost is either literal, in which case
the local host machine is detected, or it is the actual name of
the local host. The <span class="keyword ParameterName OptionalReplaceable">n</span> argument takes
precedence for a remote host over any -turbo <span class="keyword ParameterName OptionalReplaceable">n</span> specification.
If you omit the processor count, then all CPUs on the primary host
are available for remote processing tasks.</p>
<p class="p">A remote rcalibre process is started using “rsh” by default (ssh
is used if rsh cannot be found). If you do not want to use rsh,
then you can have the following in your configuration script:</p>
<p class="p BlockIndent">LAUNCH AUTOMATIC RSH /bin/ssh</p>
<p class="p">or set either of these environment variables:</p>
<p class="p BlockIndent">CALIBRE_RSH=ssh</p>
<p class="p BlockIndent">CALIBRE_MTFLEX_LAUNCH="RSH /usr/bin/ssh"</p>
<p class="p">Alternatively, you can use commands like this in your configuration
file for a more manual method of launching jobs, or when rsh and
ssh are unavailable:</p>
<p class="p BlockIndent">LAUNCH CLUSTER WAIT 60 COUNT 4</p>
<p class="p BlockIndent">REMOTE COMMAND bash ARGUMENTS [ -c "for n in {1...%C};
do rcalibre ./ 0 -mtflex %H:%P ; done" ]</p>
<p class="p">(The second command should not have a line break in the configuration
file.) The first command’s WAIT and COUNT values can be set as appropriate
for your environment. The “bash” executable must exist on the machine
executing “calibre ‑remotefile,” and $MGC_HOME/bin must be defined
in the user’s $PATH variable.</p>
<p class="p">Some rule files may require additional environment variables
that are passed to the remote machines. If you have such environment
variables, specify them using the following environment variable:</p>
<p class="p BlockIndent">CALIBRE_PERC_SIMULATION_MTFLEX_EXPORT_VARS="<span class="keyword ParameterName OptionalReplaceable">environment_variable_list</span>"</p>
<p class="p">where <span class="keyword ParameterName OptionalReplaceable">environment_variable_list</span> is
a quoted string containing a space-delimited list of your environment
variable definitions to pass to the remote machines.</p>
<p class="p">MTflex employs automated throttling of remote processes for both
the simulation and parasitic extraction modules in order to prevent
memory overruns. By default, remote processes are limited to 800
GB per process, but each remote machine always runs one remote process
even if a machine’s memory is below that limit. (This also applies
to manually specified limits discussed in the subsequent paragraphs.)</p>
<p class="p">Throttle count is defined as the (host memory)/(throttle memory
limit) truncated to an integer, and corresponds to a number of processes
assigned to a remote host. The throttle count is always at least
1. </p>
<p class="p">For example, if a remote has only 500 GB of memory and the default
800 GB limit is used, then (500/800) truncated to an integer is
0. However, the remote machine is always assigned at least one process
so it is not idle. But if a remote has 4 TB of memory, it is assigned
five remote processes by default (throttle count is now 5) because
5 × 800 GB ≤ 4 TB.</p>
<p class="p">Although not generally recommended, you can override the default
memory limit by specifying integral values (in MB) using the environment
variable:</p>
<p class="p BlockIndent">CALIBRE_PERC_MTFLEX_MEMORY_SUGGESTION="<span class="keyword ParameterName OptionalReplaceable">integer1</span> [<span class="keyword ParameterName OptionalReplaceable">integer2</span>]"</p>
<p class="p">(Line break is due to page width and should not appear when defining
the variable.)</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Under normal circumstances, you should allow Calibre PERC
to determine memory allocation. If you decide to override the built-in
behavior, you should only do so if you know how much memory your
machines have, how much they use for your Calibre PERC runs (per-design),
and how much they require for other processes. </p>
</div>
<p class="p">The variable values are quoted. When specified alone, the <span class="keyword ParameterName OptionalReplaceable">integer1</span> parameter
serves as the memory limit for both parasitic extraction and resistance
simulation. If <span class="keyword ParameterName OptionalReplaceable">integer2</span> is
specified, then <span class="keyword ParameterName OptionalReplaceable">integer1</span> applies
to extraction and <span class="keyword ParameterName OptionalReplaceable">integer2</span> applies
to simulation. For example, if only <span class="keyword ParameterName OptionalReplaceable">integer1</span> is
specified as 100000, then the memory limit is 100 GB for both extraction
and simulation. But if <span class="keyword ParameterName OptionalReplaceable">integer2</span> is
additionally specified as 200000, then the 100 GB limit applies
to extraction, and the 200 GB limit applies to simulation.</p>
<p class="p">Assume this remote configuration file:</p>
<pre class="pre codeblock"><code>REMOTE HOST A 8
REMOTE HOST B 16</code></pre><p class="p">Ordinarily, MTflex tasks would be run on up to 24 CPUs with that
configuration. However, parasitic extraction and resistance simulation
CPU allocation is affected by throttling as described previously.
The number of CPUs allocated to parasitic extraction on a remote
host is given by this formula:</p>
<p class="p BlockIndent">min(floor(<span class="keyword ParameterName OptionalReplaceable">remote_host_cpu_count</span> / <span class="keyword ParameterName OptionalReplaceable">throttle_count</span>), <span class="keyword ParameterName OptionalReplaceable">license_count</span>)</p>
<p class="p">where “min” and “floor” are analogous to the Tcl functions of
the same names, <span class="keyword ParameterName OptionalReplaceable">remote_host_cpu_count</span> is
the total count of CPUs on the remote host, <span class="keyword ParameterName OptionalReplaceable">throttle_count</span> is
the number of processes supported by the memory throttle limit,
and <span class="keyword ParameterName OptionalReplaceable">license_count</span> is
the number of available licenses. This is calculated across all remotes,
and the minimum value from that set is used. </p>
<p class="p">The number of CPUs allocated during resistance simulation is
given by this formula:</p>
<p class="p BlockIndent">max(<span class="keyword ParameterName OptionalReplaceable">parasitic_extraction_cpu_count</span>,
8)</p>
<p class="p">where “max” is analogous to the Tcl function of the same name,
and <span class="keyword ParameterName OptionalReplaceable">parasitic_extraction_cpu_count</span> is
calculated as in the previous formula. If eight CPUs are unavailable,
then the simulation runs on what is available.</p>
<p class="p">Other options that limit CPU and memory usage are not observed
by the simulation module. The machines listed must have the resources
necessary for the remote tasks or the process may abort due to memory
overflow.</p>
<p class="p">Calibre PERC LDL CD simulates source-sink pin
pairs as "tests." By default, tests for power supply nets are split
into pools of 25 for MTflex distributed processing. This default
generally produces good performance. However, the default pool size might
require adjustment for optimized performance. To do this, you can
set the following environment variable:</p>
<pre class="pre codeblock"><code>CALIBRE_PERC_CD_CTRL_FILE_TEST_SPLIT=&lt;n&gt;; # n is the number of tests per MTflex pool</code></pre><p class="p">Make such an adjustment in consultation with a
Calibre support engineer. If you want the aforementioned pool splitting
to also apply to signal nets, then set this environment variable:</p>
<pre class="pre codeblock"><code>CALIBRE_PERC_LDL_CD_MTFLEX_ENABLE_SIGNAL_SPLIT=1</code></pre></li>
</ul>
<p class="p">The optional <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> argument
is a positive integer that specifies the number of CPUs to use.
If you do not specify a <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span>,
Calibre PERC runs on the maximum number of CPUs available for which
you have licenses (this is recommended). In general, you should
avoid specifying <span class="keyword ParameterName OptionalReplaceable">number_of_processors </span>in
circuit extraction when ‑hyper is also used. You should never specify
a value of 1. </p>
<p class="p">Calibre PERC runs on the maximum
number of CPUs available if you specify a number greater than the
maximum available. For example:</p>
<pre class="pre codeblock leveled"><code>calibre -perc -hier ... -turbo 3 ... </code></pre><p class="p">operates on two processors for
a 2-CPU machine.</p>
<p class="p">If -turbo is used without the
-hier option, the CALIBRE::PERC executive module uses multithreaded
processing on the flattened design.</p>
<p class="p">When -hyper is used, the primary host should have at least four
CPUs available.</p>
<p class="p">See “<a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', '99License Consumption for Distributed Calibre', 'calbr_admin_gd'); return false;">License Consumption for Distributed Calibre</a>” in the <cite class="cite">Calibre
Administrator’s Guide</cite> for additional information about license
scaling with CPU count. </p>
<p class="p">See the Examples section later
in this topic for use cases.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id9099227d-06a8-4c17-b741-78607ec19557">-turbo_all</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that halts
Calibre tool invocation if the tool cannot obtain the exact number
of CPUs specified by the -turbo option (which requests all currently
available by default).</p>
<p class="p">For example:</p>
<pre class="pre codeblock leveled"><code>calibre -perc -hier -turbo -turbo_all rule_file  </code></pre><p class="p">executed on an 8-CPU machine
for an MT run is the same as specifying this:</p>
<pre class="pre codeblock leveled"><code>calibre -perc -hier -turbo 8 -turbo_all rule_file </code></pre><p class="p">Without -turbo_all, the Calibre
tool normally uses fewer threads than requested if the requested
number of licenses or CPUs is unavailable. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__idf820444d-454d-446d-9a03-8d481a558b7d">-auto[match]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that causes <span class="ph FontProperty emphasis">all cells source</span> to
be treated as hcells when ‑hier is specified. This option is enabled
by default when -hier is specified and does not apply during layout
netlist extraction. It is usually advantageous to preserve all cells
during Calibre PERC rule checks.</p>
<p class="p">Because Calibre PERC operates
only on the layout or source netlist, ‑automatch makes no attempt
to match subcircuit names between the two designs. Any subcircuits
in the input netlist are preserved, except for those listed in an <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'LVS Exclude Hcell', 'svrf_ur'); return false;">LVS Exclude Hcell</a> statement. Excluded hcells get expanded, just as in
Calibre nmLVS‑H.</p>
<p class="p">If ‑hcell or <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Hcell', 'svrf_ur'); return false;">Hcell</a> statements
exist in the rule file and -automatch is not specified, then only the
hcell list is used for cell preservation.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id8c2d6110-23dc-4e87-9a96-94da91758711">-hcell <span class="keyword ParameterName OptionalReplaceable">cell_correspondence_filename</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An
optional argument that specifies a file containing a user-created
list of hcells. Calibre PERC only reads the layout or source column
of the hcell list, depending upon which type of netlist is read
for input. The hcells found in the appropriate list column are preserved
during the run when ‑hier is also specified. Cells not functioning
as hcells get expanded by Calibre PERC, just as in Calibre nmLVS-H.
See “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Hcells', 'calbr_ver_user'); return false;">Hcells</a>”
in the <cite class="cite">Calibre Verification User’s Manual</cite> for more
information.</p>
<p class="p">The -hcell option should generally
be avoided unless you want to check compatibility with Calibre nmLVS-H
(such as the source-based LDL DRC flow). The -hcell option is preferred over
-automatch when using <span class="keyword ParameterName Required">-perc</span> ‑spice,
because ‑automatch is ignored in the circuit extraction (‑spice)
phase. When ‑hcell is used, the specified layout subcircuits are
always preserved when written to the extracted netlist.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id00dc6e8b-2d1e-4212-b977-3ea70bee5530">-ldl</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that runs
Calibre PERC logic driven layout (LDL) applications. It must be
specified with the -hier option. The -turbo option causes most modules
of the run to be multithreaded and uses Calibre PERC licenses accordingly.
The -hyper option and the ‑remote group of options only apply to
the circuit extraction portion of the run, not to the LDL simulation
portion of the run. The -ldl option may not be specified with -spice,
‑layout, ‑siggen, -cs, or -cl.</p>
<p class="p">To use this option, the <span class="keyword ParameterName RequiredReplaceable">rule_file</span> must
include the LVS connectivity extraction rules, the Calibre PERC
rules, and the Calibre xRC calibrated resistance extraction rules
(when needed). There must also be a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Database', 'svrf_ur'); return false;">DFM Database</a> statement
and a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM YS Autostart', 'svrf_ur'); return false;">DFM YS Autostart</a> statement in
the rule file that references a <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'TVF Function', 'svrf_ur'); return false;">TVF Function</a> block
and the proc that contains a <a class="xref fm:HeadingOnly" href="Command_PercexportPinPair_id3e93b80f.html#id3e93b80f-cda0-4d09-b368-1cd9d948f77b__Command_PercexportPinPair_id3e93b80f.xml#id3e93b80f-cda0-4d09-b368-1cd9d948f77b" title="Exports pin pairs on the same net for LDL checks.">perc::export_pin_pair</a> command (for the LDL CD, P2P,
or cell-based flows). For CD and P2P flows, the DFM Database [DEVICES
PINLOC] options must be used.</p>
<p class="p">See <a class="xref fm:HeadingOnly" href="MGCChap_CurrentDensityChecks_id88453e90.html#id88453e90-d242-4ccb-90b2-316955be5abb__MGCChap_CurrentDensityChecks_id88453e90.xml#id88453e90-d242-4ccb-90b2-316955be5abb" title="Calibre PERC Logic Driven Layout Current Density (LDL CD) checking calculates the current flow through layout interconnect layers and outputs polygon-based results that meet the specified constraints. This application uses Calibre PERC, Calibre nmDRC, Calibre nmLVS, Calibre DFM, and Calibre xRC applications in a single package to perform the calculations.">Current Density Checks</a>, <a class="xref fm:HeadingOnly" href="MGCChap_PointToPointResistanceChecks_id96984ad2.html#id96984ad2-5916-4664-bfc8-8b09b01df8b8__MGCChap_PointToPointResistanceChecks_id96984ad2.xml#id96984ad2-5916-4664-bfc8-8b09b01df8b8" title="Calibre PERC Logic Driven Layout Point-to-Point Resistance (LDL P2P) checking calculates the interconnect resistance of layers specified in resistance extraction statements and outputs polygon-based results for analysis. This application uses Calibre PERC, Calibre nmDRC, Calibre nmLVS, DFM, and Calibre xRC applications in a single package to perform the calculations.">Point-to-Point Resistance Checks</a>, <a class="xref fm:HeadingOnly" href="MGCChap_HighLevelChecksTopologicalDrc_idf501a34f.html#idf501a34f-a0e4-4c4a-872f-d65490fc68c0__MGCChap_HighLevelChecksTopologicalDrc_idf501a34f.xml#idf501a34f-a0e4-4c4a-872f-d65490fc68c0" title="Calibre PERC Logic Driven Layout (LDL) checking uses Calibre PERC, Calibre PERC LDL, Calibre nmDRC, Calibre nmLVS, and Calibre YieldServer capabilities to perform specialized layout and netlist checks.">High-Level Checks and Topological DRC</a>, and <a class="xref fm:HeadingOnly" href="MGCChap_CellBasedChecks_id70918c50.html#id70918c50-e3d5-423c-ad95-1fe8c8d9ea7c__MGCChap_CellBasedChecks_id70918c50.xml#id70918c50-e3d5-423c-ad95-1fe8c8d9ea7c" title="The Calibre PERC cell-based checks are part of the Logic Driven Layout (LDL) functionality. These flows assume physical design input instead of SPICE and perform topology checking without considering devices. Hence, these flows are for interconnect layer validation up to the ports of cell placements.">Cell-Based Checks</a> for details on LDL applications.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id4eecb8a8-ea48-4c47-88e1-05d4536134f6">-soc</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that runs
the Calibre PERC LDL cell-based flow. This option must be specified
with the -ldl option. When -soc is used, <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout System', 'svrf_ur'); return false;">Layout System</a> LEFDEF
must be specified in the rule file. See “<a class="xref fm:HeadingAndPage" href="MGCChap_CellBasedChecks_id70918c50.html#id70918c50-e3d5-423c-ad95-1fe8c8d9ea7c__MGCChap_CellBasedChecks_id70918c50.xml#id70918c50-e3d5-423c-ad95-1fe8c8d9ea7c" title="The Calibre PERC cell-based checks are part of the Logic Driven Layout (LDL) functionality. These flows assume physical design input instead of SPICE and perform topology checking without considering devices. Hence, these flows are for interconnect layer validation up to the ports of cell placements.">Cell-Based Checks</a>” for complete details on the
cell-based flow.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__idf496aa2d-ce0a-4150-8b31-d9a857776856">‑cell_info_file <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies
a cell information file, which is used in the cell-based flow. This
option is specified together with the -soc option and is used when
LEF/DEF and GDS inputs are required. The <span class="keyword ParameterName OptionalReplaceable">filename</span> format
is defined under “<a class="xref fm:HeadingAndPage" href="FileRef_CellInformationFileFormat_idc5f21733.html#idc5f21733-e588-40d7-8863-0e7f56b58d26__FileRef_CellInformationFileFormat_idc5f21733.xml#idc5f21733-e588-40d7-8863-0e7f56b58d26" title="This file is used as the argument for the -cell_info_file command line option in Calibre PERC.">Cell Information File Format</a>”. See “<a class="xref fm:HeadingAndPage" href="TaskTop_RunningCellBasedFlowLefdefGdsInput_id52056a89.html#id52056a89-c23b-4660-8366-80f5b13cafc2__TaskTop_RunningCellBasedFlowLefdefGdsInput_id52056a89.xml#id52056a89-c23b-4660-8366-80f5b13cafc2" title="This procedure discusses running the Calibre PERC cell-based flow when the design format is LEF/DEF and you are using GDS for connectivity of certain cells.">Running the Cell-Based Flow with LEF/DEF and GDS Input</a>” for use details.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id34ed783f-89c9-4573-8fa1-a5cf41147c6a">-lvs_supplement [ <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> ] </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that allows
Calibre nmLVS-H license pairs to be used when the ‑turbo option
is also specified. The hierarchical LVS license pairs are used <span class="ph FontProperty emphasis">in the circuit extraction portion of the run only</span>.
This option does not apply to -turbo_all. </p>
<p class="p">When -lvs_supplement is specified,
the -turbo option works in the usual way for MT runs. The -lvs_supplement
option causes Calibre PERC to use up to as many available Calibre nmLVS‑H
license pairs as the -turbo specification reserves from the available Calibre
PERC licenses. In other words, the number of Calibre nmLVS-H license
pairs checked out is always less than or equal to the number of
Calibre PERC licenses. The total number of licenses (Calibre PERC
plus LVS pairs) scales in the usual way for enabling CPUs in MT
processing. See “License Consumption for Distributed Calibre” in
the <a class="xref LinkItalic" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', '99License Consumption for Distributed Calibre', 'calbr_admin_gd'); return false;">Calibre Administrator’s Guide</a> for additional information about license
scaling with CPU count.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> is
an integer corresponding to the number of CPUs in addition to the
-turbo CPUs that you want to enable for circuit extraction. When <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> is
specified, then the number of LVS license pairs that correspond
to the number of CPUs requested is used. But again, the number of
LVS license pairs checked out is limited by the number of PERC licenses
that are checked out with the -turbo option.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__id41f67671-3da3-4049-90e2-b57c5347f363">-hold_lic <span class="keyword ParameterName OptionalReplaceable">license</span>[,<span class="keyword ParameterName OptionalReplaceable">license</span>…]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used with
-ldl that holds the specified licenses for the <span class="ph FontProperty emphasis">entirety</span> of
the run rather than only when the licenses are required by the tool.
The <span class="keyword ParameterName OptionalReplaceable">license</span> argument
is the name of a FlexLM license feature and at least one must be
specified. A list of licenses is comma-delimited. Station licenses
such as Calibre PVS are not supported. See “<a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Licensing Physical Verification Products', 'calbr_admin_gd'); return false;">Licensing: Physical Verification Products</a>” in the <cite class="cite">Calibre Administrator’s
Guide</cite> for further license information. Non-Calibre license
names cause the command to abort.</p>
<p class="p">All licenses specified with
-hold_lic are checked out at the start of the run and checked in when
the run completes, regardless of how they are used during the run,
if at all. Licenses not specified with this option are reserved
and released as in a usual run.</p>
<p class="p">Each specified license feature
is reserved in exactly the same quantity as the Calibre PERC licenses
used in the run except for Calibre LVS, Calibre LVS-H, and Calibre<sup>®</sup> Auto‑Waiver™ licenses. Only one (each) of these is reserved
when specified, even when multiple Calibre PERC licenses are used,
such as in a multithreaded run.</p>
<p class="p">By default, all licenses specified
with -hold_lic must be present when the command line is invoked,
otherwise the command aborts. The “-lmretry loop” option (and its
associated parameters) may be specified to enable loop licensing
to avoid aborting the run. However, remember that any looping happens
in two phases—once for the Calibre PERC license and again for the
‑hold_lic licenses. For example, if loop licensing is enabled and
the -hold_lic licenses are not immediately available, then the Calibre
PERC license is held for the duration of the loop (not released
between loops). On the other hand, if the Calibre PERC licenses
are not immediately available, then the loop waits for them until
acquired. At that point, acquisition of -hold_lic licenses begins.</p>
<p class="p">It is generally bad practice
to specify substitutions with -hold_lic unless you do not have the preferred
licenses. At the moment in the run when the alternate license is
required, the tool attempts to check out the primary license from
FlexNET first, and then the tool will attempt to acquire -hold_lic
substitute.</p>
<p class="p">This option has no effect on
-lvs_supplement behavior and vice-versa.</p>
<p class="p">Non-Calibre licenses specified
with -hold_lic cause a fatal error.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id66010820-a085-491a-861c-10ed869138cf__ide833c094-a9fc-4b75-a2cb-1ba5f940e686">-layout <span class="keyword ParameterName OptionalReplaceable">spice_filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">This option overrides the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout Path', 'svrf_ur'); return false;">Layout Path</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout System', 'svrf_ur'); return false;">Layout System</a> statements
in the rule file, and forces the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Netlist', 'svrf_ur'); return false;">PERC Netlist</a> LAYOUT
option. When using this option, the layout becomes the specified <span class="keyword ParameterName OptionalReplaceable">spice_filename</span> and
the Layout System is SPICE. This option allows you to run circuit
extraction (calibre -spice) and rule checking (calibre ‑perc) separately
with the same rule file. This option may not be specified with -ldl.</p>
<p class="p">For example, assume that the
file rules contains Layout Path and Layout System statements referring
to a geometric layout file. You can run both connectivity extraction
and rule checking in one step as follows:</p>
<pre class="pre codeblock leveled"><code>  calibre -spice lay.net -perc -hier -auto rules </code></pre><p class="p">You can also make the same run
in two steps (without changing the rule file):</p>
<pre class="pre codeblock leveled"><code>  calibre -spice lay.net rules 
  calibre -perc -hier -auto -layout lay.net rules </code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">The remaining
Calibre PERC command-line options not described in the preceding
list are used when <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Netlist', 'svrf_ur'); return false;">PERC Netlist</a> LAYOUT
is specified and circuit extraction is performed (as with -spice).
Such options behave as described for Calibre nmLVS/Calibre nmLVSH-H
in the “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre nmLVS and Calibre nmLVS-H Command Line', 'calbr_ver_user'); return false;">Calibre nmLVS and Calibre nmLVS-H Command Line</a>” section in the <cite class="cite">Calibre
Verification User’s Manual</cite>. </p>
</div>
</dd>
</dl>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">See “<a class="xref fm:HeadingAndPage" href="MGCChap_SetUpRunCalibrePerc_id9012715b.html#id9012715b-fcba-448a-b95b-770b50c8cce2__MGCChap_SetUpRunCalibrePerc_id9012715b.xml#id9012715b-fcba-448a-b95b-770b50c8cce2" title="In order to run Calibre PERC, you must have appropriate licenses, a source netlist or physical layout, and a rule set. There may be additional files required like SPICE pattern templates, waiver description files, UPF files, XML constraint files, and so forth.">Set Up and Run Calibre PERC</a>” for detailed instructions about
running Calibre PERC.</p>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__id25c55d47-d7d6-4672-9bae-aa9b1c4a89e5"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Standalone hierarchical invocation
(the preferred method for topology and voltage checks) is as follows:</p>
<pre class="pre codeblock leveled"><code>calibre -perc -hier -turbo rules  </code></pre><p class="p">This triggers -automatch if there
are no Hcell statements in the rule file. The -turbo option causes
rule checks and waiver application to be multithreaded and is generally
recommended.</p>
<p class="p">If <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Netlist', 'svrf_ur'); return false;">PERC Netlist</a> LAYOUT
(the default) is used, and the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout System', 'svrf_ur'); return false;">Layout System</a> is
geometric, then <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Mask SVDB Directory', 'svrf_ur'); return false;">Mask SVDB Directory</a> must
appear in the rule file in order for circuit extraction to be performed.</p>
</div>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__ide5ed3ecf-756b-4249-914d-5a81ca5e4ca3"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This invokes layout netlist extraction
followed by a hierarchical topology run:</p>
<pre class="pre codeblock leveled"><code>calibre -spice layout.sp -perc -hier -turbo rules</code></pre><p class="p">If the rule file specifies a Mask SVDB Directory and PERC Netlist
LAYOUT is in effect (the default), then the -spice option is not
needed. The extracted layout netlist is written to the Mask SVDB
Directory.</p>
</div>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__id55977fc5-a3d9-4d92-9e66-b98e22070792"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">This example runs on the specified -layout netlist regardless
of what appears in the rule file:</p>
<pre class="pre codeblock leveled"><code>calibre -layout netlist.sp -perc -hier -turbo rules</code></pre><p class="p">The run is hierarchical and multithreaded.</p>
</div>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__id6d6b631a-52d2-4422-8b0b-ea68267666a6"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">The following example invokes Calibre
PERC LDL in MT mode. It also uses Calibre LVS-H licenses for the
circuit extraction portion of the run:</p>
<pre class="pre codeblock leveled"><code>calibre -perc -hier -ldl -turbo -lvs_supplement rules </code></pre><p class="p">In this case, the maximum number of
available LDL licenses is checked out (-turbo) for the available
number of CPUs. A corresponding number of Calibre nmLVS-H license
pairs are checked out (-lvs_supplement). The combined total of licenses
checked out (LDL and LVS) are applied to the circuit extraction
portion of the run.</p>
</div>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__id1b2d1838-10d9-4926-b5f0-f0450bef001f"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">This example assumes you are running Calibre on a primary host
you have already acquired and you want to request remotes automatically
as part of the MTflex startup.</p>
<p class="p">When requesting resources for Calibre PERC MTflex, it is important
that the resources are not acquired exclusively. These jobs will
be submitted multiple times during the run, and these submissions
have to run simultaneously. Due to this behavior, you may see what
appear to be strange requests for resources, but even if additional
jobs are started on a host or on different hosts, only one set of
jobs will be using resources at a time.</p>
<p class="p">This configuration file code sets up the primary to run two remote
processes and requests two remotes to each run two processes. (Line
breaks occur due to page width. Do not include them in your configuration
file.)</p>
<pre class="pre codeblock"><code>LAUNCH CLUSTER WAIT 120 COUNT 6

REMOTE COMMAND bsub ARGUMENTS [-n 2 -R "span[hosts=1] select[linux&amp;&amp;hname!='%H']" run_cluster]

REMOTE COMMAND bsub ARGUMENTS [-n 2 -R "span[hosts=1] select[linux&amp;&amp;hname!='%H']" run_cluster]

REMOTE COMMAND bash ARGUMENTS [-c "for n in {1...2}; do $MGC_HOME/bin/rcalibre ./ 0 -mtflex %H:%P ; done"]</code></pre><p class="p">These lines do the following:</p>
<ul class="ul"><li class="li" id="id66010820-a085-491a-861c-10ed869138cf__id8d4e8f68-4e95-42d0-a1d9-26d176ee9528"><p class="p">LAUNCH
CLUSTER WAIT 120 COUNT 6</p>
<p class="p">This tells Calibre to wait up to 120 seconds for six remote CPUs
to connect (two on the primary, and four on the remote hosts). If
six remote CPUs are not acquired in 120 seconds, there is an error.</p>
</li>
<li class="li" id="id66010820-a085-491a-861c-10ed869138cf__id4fb88cba-2e2f-4dac-97c8-df2e2083ea5e"><p class="p">REMOTE COMMAND
bsub ARGUMENTS [ -n 2 -R "span[hosts=1] select[linux&amp;&amp;hname!='%H']"
run_cluster]</p>
<p class="p">This requests resources from Platform LSF. “-n 2” specifies 2
processes. “span[hosts=1]” requires these processes be on the same
host. This is required for the run_cluster script shown later in
this example.</p>
<p class="p">“select[linux&amp;&amp;hname!='%H']” defines requirements for
the hosts. It is recommended you always use “hname!='%H” to avoid
having remote processes run on the primary host that you want to
have on a remote.</p>
</li>
</ul>
<p class="p">The preceding script is called using the -turbo -remotefile command
line option.</p>
<p class="p">Assuming the “lsgrun” command works (LSF_JOB_ACCEPT_INTERVAL=1),
the run_cluster file can contain this script:</p>
<pre class="pre codeblock"><code>#! /bin/sh
lsgrun -p -m "$LSB_HOSTS" $MGC_HOME/bin/rcalibre ./ 0 \
-mtflex $CALIBRE_REMOTE_CONNECTION -f &amp;</code></pre><p class="p">If you do not have access to the “lsgrun” command, you may use
the following script (this requires you have span[hosts=1] in your
LSF setup):</p>
<pre class="pre codeblock"><code>#! /bin/sh
# Only works if span[hosts=1]
for h in $LSB_HOSTS
do
  $MGC_HOME/bin/rcalibre ./ 0 -mtflex $CALIBRE_REMOTE_CONNECTION -f &amp;
done
wait</code></pre><p class="p">Remember the appropriate environment variables must be set for
MTflex to run LDL jobs.</p>
</div>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__id8cba718f-150d-4887-b07e-5a6da3c8d7db"><h2 class="title Subheading sectiontitle">Example
6</h2><p class="p">This example shows two methods of starting an MTflex job where
primary and remote machines are requested at the same time. When
using this method, it is possible to request these resources exclusively
as long as you can launch the <span class="ph FontProperty emphasis">remote</span> processes
without the use of “bsub”.</p>
<p class="p">This script creates an MTflex configuration file <span class="ph FontProperty emphasis">mtflex.config.lsf.gen</span>.
It assumes “lsgrun” is in your environment:</p>
<pre class="pre codeblock"><code>#! /bin/sh

# Takes arguments from the calling env and passes them to calibre
count () { echo $# ; }

echo "LAUNCH CLUSTER WAIT 120 COUNT `count $LSB_HOSTS`" &gt; \
mtflex.config.lsf.gen
echo "REMOTE COMMAND lsgrun ARGUMENTS [ -p -m '$LSB_HOSTS' $MGC_HOME/bin/\
rcalibre ./ 0 -mtflex %H:%P ]" &gt;&gt; mtflex.config.lsf.gen

$MGC_HOME/bin/calibre -perc -ldl -hier "$@" \
-remotefile mtflex.config.lsf.gen rules &gt;&amp; log</code></pre><p class="p">Assuming the preceding script is named <span class="ph FontProperty emphasis">launch_calibre_cluster</span>,
it can be called as follows:</p>
<pre class="pre codeblock"><code>bsub -R "...resource requirements..." ./launch_calibre_cluster -turbo 8</code></pre><p class="p">If “lsgrun” is not available and you use “rsh” instead, then
the <span class="ph FontProperty emphasis">launch_calibre_cluster</span> script could
be written as follows:</p>
<pre class="pre codeblock"><code>#! /bin/sh

# Takes arguments from the calling env and passes them to calibre

echo "" &gt; mtflex.config.lsf.gen
for host in $LSB_HOSTS ; do
  echo "REMOTE HOST $host 1" &gt;&gt; mtflex.config.lsf.gen
done;

$MGC_HOME/bin/calibre -perc -ldl -hier "$@" \
-remotefile mtflex.config.lsf.gen rules &gt;&amp; log</code></pre><p class="p">It can be called by a “bsub” command as shown previously.</p>
</div>
<div class="section Subsection" id="id66010820-a085-491a-861c-10ed869138cf__id538a4740-657d-4d00-8a73-4dca258125df"><h2 class="title Subheading sectiontitle">Example
7</h2><p class="p">This example assumes “rsh” is used by default to make remote
connections to three hosts. Two of the remote hosts have 2 TB of
memory, and the remaining one has 3 TB. </p>
<p class="p">Assume this is set:</p>
<pre class="pre codeblock"><code># 2 TB limit for PEX, 1.5 TB limit for simulation
CALIBRE_PERC_MTFLEX_MEMORY_SUGGESTION="2000000 1500000"</code></pre><p class="p">The MTflex configuration file <span class="ph FontProperty emphasis">remote.config</span> is
as follows:</p>
<pre class="pre codeblock"><code>LAUNCH AUTOMATIC
REMOTE HOST 3tb 32
REMOTE HOST 2tb 32
REMOTE HOST 2tb 32</code></pre><p class="p">This is the command that starts the job:</p>
<pre class="pre codeblock"><code>calibre -hier -perc -ldl -turbo -remotefile remote.config rules</code></pre><p class="p">All of the remotes use 32 CPUs for operations that can run MTflex.
All three remotes run one parasitic extraction process each (3 ×
1) due to the 2 TB memory suggestion limit. The 2 TB remotes run
one simulation process each, and the remaining remote runs two simulation processes
(2 × 1, 1 × 2) due to the 1.5 TB memory suggestion limit.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_GettingStartedCalibrePerc_idae658a0a.html" title="Calibre PERC uses a Tcl command interface. In order to write rules successfully, significant Tcl knowledge is required. Running Calibre PERC checks is similar to DRC in that there are rule checks, and the results presentation in Calibre RVE is rule check based. However, topological rule checks are based upon circuit topology (netlists) rather than physical layout, so debugging these results has certain similarities to LVS. Debugging mask-layout-based check results, such as those produced by Logic-Driven Layout applications, tends to be very DRC-like in many cases.">Getting Started With Calibre PERC</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "calibre -perc"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_CalibrePercCommandLine_id66010820.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>