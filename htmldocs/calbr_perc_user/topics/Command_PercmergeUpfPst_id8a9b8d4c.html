<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="perc::merge_upf_pst" />
<meta name="abstract" content="Merges Unified Power Format (UPF) Power State Table (PST) data." />
<meta name="description" content="Merges Unified Power Format (UPF) Power State Table (PST) data." />
<meta name="prodname" content="Calibre PERC User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_perc_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® PERC™ User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>perc::merge_upf_pst</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="perc::merge_upf_pst" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11493,product.id.P10099,product.id.P11347,product.id.P10084,product.id.P11427,product.id.P10116,product.id.P10096" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">perc::merge_upf_pst</h1>
<div class="body refbody CommandRefBody-Var1"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Calibre
PERC initialization command</p>
<p class="shortdesc">Merges Unified Power Format
(UPF) Power State Table (PST) data.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">perc::merge_upf_pst -mergedPst</span> <span class="keyword ParameterName RequiredReplaceable">table_name </span>[-voltageTolerance <span class="keyword ParameterName OptionalReplaceable">delta_percent</span>]</p>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Merges all UPF PSTs defined by <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC UPF Path', 'svrf_ur'); return false;">PERC UPF Path</a> into a single PST of the name <span class="keyword ParameterName RequiredReplaceable">table_name</span>. The <span class="keyword ParameterName RequiredReplaceable">table_name</span> can
be specified in a <a class="xref fm:HeadingOnly" href="Command_PercgetUpfPstData_idc3802968.html#idc3802968-59ae-4bb3-b345-3339a4fe1879__Command_PercgetUpfPstData_idc3802968.xml#idc3802968-59ae-4bb3-b345-3339a4fe1879" title="Returns information from Power State Tables (PSTs) defined in a Unified Power Format (UPF) specification.">perc::get_upf_pst_data</a> command. All commands pertaining
to the new PST are written to a <span class="ph filepath">perc.rep.upf</span> file.</p>
<p class="p">Merging occurs according to the
following conditions. (The <span class="keyword ParameterName OptionalReplaceable">delta_percent</span> is
0.001 percent by default.)</p>
<ul class="ul"><li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id9b264056-188b-4699-a910-0ac2a3abd4a4"><p class="p">All PSTs are handled in the
order specified in the rule file.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id81110655-5811-4e53-887e-75a5d7e08d70"><p class="p">For a successful merge, at
least one state from each PST must participate in the final merged
state. In other words, if there is a PST in which none of its states
could be merged, then the merger is empty.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__idb2b48529-4780-4139-b505-9196a2ad2d6b"><p class="p">Two power states from different
PSTs are merged only if the common supplies have a mean percentage
difference in voltage less than or equal to the <span class="keyword ParameterName OptionalReplaceable">delta_percent</span>,
or if “don’t care” is defined in the table. By default, numeric
voltages must match exactly in different states for a merger to
occur.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id52d0a46c-0aea-4d11-91d8-25d2f00b8f2f"><p class="p">The attempt to merge stops
when the first supply voltage outside the <span class="keyword ParameterName OptionalReplaceable">delta_percent</span> tolerance
interval is detected. </p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__idd785d27b-56a1-4c66-bd1f-3515c6ea6e5f"><p class="p">Supplies that are not common
between states are merged as-is and they retain their respective
voltages.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id7e95443c-19e8-4030-9de3-6a22011785d6"><p class="p">A scoped supply can connect
to more than one top-level supply. All top-level supplies are considered.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id4485b013-f011-4257-ad61-0d979aee525b"><p class="p">If a scoped supply does not
connect to any top-level supply, then that supply is not considered
for merging.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id5f68f1d4-1a6a-4080-b015-cd72dc2986e0"><p class="p">UPF data is design independent,
but merging is design dependent. So the newly formed PST has supply
names that match design data. Any rule file case sensitivity settings affect
only the design data names.</p>
</li>
<li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id88183be1-1732-4581-8da3-51cf82ae3bb0"><p class="p">All the newly formed power
states are named by concatenating the state names that are considered
for merging.</p>
<p class="p">Example:</p>
<pre class="pre codeblock leveled"><code>(PST1 STATE1) + (PST2 STATE2) 
Output state = STATE1|STATE2 </code></pre><p class="p">Hence the order of the states
that went into forming the new state is shown explicitly.</p>
</li>
</ul>
<ul class="ul"><li class="li" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id27cb7d2d-139a-4ed6-9fc1-4719f075c1c7"><p class="p">perc::merge_upf_pst can be
called only once during the run. The merge affects all <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'PERC Load', 'svrf_ur'); return false;">PERC Load</a> statements.
The supply net tracing depends on the current PERC Load … XFORM keyword.</p>
</li>
</ul>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id263bfdf2-d662-4123-b69e-f55973b0a899"><span class="keyword ParameterName Required">-mergedPst</span> <span class="keyword ParameterName RequiredReplaceable">table_name</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument set that
defines the name of a merged PST. The <span class="keyword ParameterName RequiredReplaceable">table_name</span> must
not match the name of any input table.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id8a9b8d4c-b079-4b9a-a5bd-e0b5b66dfe2d__id6001dc98-20e8-4809-9c83-5fdb383c87d4">-voltageTolerance <span class="keyword ParameterName OptionalReplaceable">delta_percent</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
defines a mean percentage difference tolerance for comparing supply
voltages. The <span class="keyword ParameterName OptionalReplaceable">delta_percent</span> is
a non-negative real number greater than or equal to 0.001 and is
interpreted as a percent (that is, “2” means a factor of 0.02).
The default is 0.001 percent (or a factor of 1E-05). </p>
<p class="p">For two voltages V1 and V2,
if <span class="keyword ParameterName OptionalReplaceable">delta_percent</span> &gt;=
| (V1 ‑ V2) / ((V1 + V2)/2) | × 100, then the voltages are considered
equivalent.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">None.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Two PSTs have different scopes.
The VSS1 supply from each of the PSTs points to the same port VSS_X_Y. </p>
<pre class="pre codeblock leveled"><code>connect_supply_net X/Y/VSS1 -ports VSS_X_Y  
 
connect_supply_net Y/VSS1 -ports VSS_X_Y </code></pre><p class="p">The voltages are different when
the port states are ON for VSS1. </p>
<pre class="pre codeblock leveled"><code>set_scope Y 
... 
create_pst top_pst -supplies {VDD1_a VDD1_b VSS1} 
add_port_state VSS1 -state {<span class="keyword ParameterName Required">ON</span> 0 0 <span class="keyword ParameterName Required">1.00</span>} -state {OFF 0 0 0} 
add_pst_state YNY -pst top_pst -state {ON OFF <span class="keyword ParameterName Required">ON</span>} 
add_pst_state NYN -pst top_pst -state {OFF ON OFF} 
... 
 
set_scope .. 
set_scope X 
set_scope Y 
create_pst top_pst -supplies {VDD1_a VDD1_b VSS1} 
add_port_state VSS1 -state {<span class="keyword ParameterName Required">ON</span> 0 0 <span class="keyword ParameterName Required">1.01</span>} -state {OFF 0 0 0} 
add_pst_state YYN -pst top_pst -state {ON ON OFF} 
add_pst_state NNY -pst top_pst -state {OFF OFF <span class="keyword ParameterName Required">ON</span>} </code></pre><p class="p">When perc::merge_upf_pst is set,
the power states NYN and YYN are merged because there is no difference
in the OFF port voltages in the final power state condition. However,
power states YNY and NNY are not merged with any power state because
there is a difference in the ON port voltages in the final power
state condition. If the VSS1 port state has this in both cases:</p>
<pre class="pre codeblock leveled"><code>add_port_state VSS1 -state {<span class="keyword ParameterName Required">ON</span> 0 0 <span class="keyword ParameterName Required">0</span>} -state {OFF 0 0 0} </code></pre><p class="p">then the YNY and NNY power states
can merge with other power states, respectively. Specifying -voltageTolerance
1 would also allow merging in this case.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_InitializationCommands_id23266ed9.html" title="Initialization procedure commands appear in an init proc and set up the netlist for checking.">Initialization Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_perc_user"
                DocTitle = "Calibre® PERC™ User’s Manual"
                PageTitle = "perc::merge_upf_pst"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PercmergeUpfPst_id8a9b8d4c.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® PERC™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>