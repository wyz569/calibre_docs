<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Calibre MTflex Network Setup" />
<meta name="abstract" content="The recommended Calibre MTflex network setup, testing, and performance validation is intended to support all Calibre applications that run in an MTflex environment, including DRC, OPC, and MDP tools. Refer to the applicable user’s manual for product-specific details about using the tool in a distributed environment." />
<meta name="description" content="The recommended Calibre MTflex network setup, testing, and performance validation is intended to support all Calibre applications that run in an MTflex environment, including DRC, OPC, and MDP tools. Refer to the applicable user’s manual for product-specific details about using the tool in a distributed environment." />
<meta name="prodname" content="Calibre Administrator's Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_admin_gd" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Administrator’s Guide" />
<meta name="ConditionFiltering" content="XML" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.sys,product.version.v2021.2" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id76312fb5-d8a0-4a6b-90b0-605e6309e624" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Calibre MTflex Network Setup</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Calibre MTflex Network Setup" />
<meta name="attributes" content="doc.type.documentation.sys,product.version.v2021.2" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id76312fb5-d8a0-4a6b-90b0-605e6309e624">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Calibre MTflex Network Setup</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The recommended
Calibre MTflex network setup, testing, and performance validation
is intended to support all Calibre applications that run in an MTflex environment,
including DRC, OPC, and MDP tools. Refer to the applicable user’s
manual for product-specific details about using the tool in a distributed environment.</span>
</div>
<p class="p">The information provided in this section is targeted
at 32nm to 20nm process nodes. Minor adjustments to the specifications
may be recommended for 15nm to 14nm and beyond.</p>
<p class="p">Older network topologies such as “all gigE” are still supported
and provide reasonable performance for smaller Calibre jobs, but
the benefit of having faster networking and file servers increases
with the number of remote hosts and the size of the input and output files.</p>
<div class="section Subsections"><div class="section Subsection" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id02ee9ecb-d47e-4434-be61-40f4e81f7b0b"><h2 class="title Subheading sectiontitle">Topology</h2><p class="p">Calibre MTflex is designed
to be compatible with standard customer compute farm technology
with minimal special requirements. For maximum flexibility and best
performance, Calibre MTflex should be run on a “flat” network topology
with connectivity from any  host to any remote host. Connectivity
is defined using the rsh (or ssh) and ping capabilities. The minimum recommended network
bandwidth is 1 gigabit Ethernet (gigE) for remote hosts and 10 gigabit
Ethernet (10 gigE) between primary hosts, network switches, and
file servers as shown in <a class="xref fm:Figure" href="#id76312fb5-d8a0-4a6b-90b0-605e6309e624__ida965b34c-d097-449c-9652-28ffefde2f3f">Figure 1</a>.</p>
<div class="fig fignone" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__ida965b34c-d097-449c-9652-28ffefde2f3f"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Recommended
Network Topology</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/network_topology.jpg" /></div><br /></div>
</div>
<div class="section Subsection" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id5ea7340d-6718-44ee-b51e-99bd952e028f"><h2 class="title Subheading sectiontitle">Special Considerations</h2><p class="p">There are some special networking considerations
to take into account for the recommended network topology:</p>
<ul class="ul"><li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__ida0007c36-e5e5-4e57-bfc1-9bf075a47a80"><p class="p">For small DRC jobs using less than 80 remote
CPU cores, gigE is sufficient for the primary host.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id66f27294-caaf-4899-af22-a5f719a83133"><p class="p">Faster networks, such as 40 gigE or QDR (40/32
Gbps) Infiniband, do not provide a significant performance benefit.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id8e533d51-c5ab-4bf6-b791-2e86ac3f60d0"><p class="p">File server bandwidth and latency are important
for large MDP jobs and for large post-OPC files for “Cumulative
RDB” time.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id1c4c9495-f1c4-4d2c-a0a9-c43322861bf2"><p class="p">Peer-to-peer connectivity between remote hosts
is typically not needed except for Calibre jobs using “<a class="xref fm:HeadingOnly" href="Concept_RemoteDataServer_idb28e056b.html#idb28e056b-759b-4351-8c21-d31c889c0ac9__Concept_RemoteDataServer_idb28e056b.xml#idb28e056b-759b-4351-8c21-d31c889c0ac9" title="Remote Data Server (RDS) technology is designed to reduce primary host memory requirements and improve Calibre MTflex performance by distributing data across remote hosts. It is supported for 64-bit Calibre and remote host processes. Because of the distributed nature of the data, every remote host used in a Calibre MTflex run must be able to communicate with every other remote host in the run.">Remote Data Server</a>” technology (‑remotedata).</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id0c445e47-7915-47e5-a5d5-01ead925bb91"><p class="p">Isolated clusters with sets of remote hosts
dedicated to individual primary hosts can be used for single Calibre
MTflex jobs but are not compatible with Calibre Cluster Manager
(CalCM), which requires that remote hosts are reassignable between primary
hosts.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id52e64efa-84dc-403c-a8a0-f322bebbaa0e"><p class="p">Wide Area Network (WAN) connectivity is not
recommended during Calibre job execution due to insufficient bandwidth,
latency, or both. However, WAN connectivity is often used for uploading
and downloading a file prior to or following Calibre job execution.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id083debdd-4f7a-4729-a0fa-c1b48d0a725f"><p class="p">Use of 10 gigE primary hosts obviates the
need for RDS network offload.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id40e62f2c-b11b-4dc4-8f06-babf9cb6d681"><p class="p">Peak network traffic per-remote-host is low
for DRC and very low for OPC. Peak traffic for MDP FRACTURE and
MDPverify is up to 35 MB/sec for 8 and 12 CPU remote hosts available
in 2011. Peak MDP traffic for 16/32 CPU remote hosts available in
2012 may reach 70 MB/sec, which is more than half of gigE bandwidth.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id0c26db24-5707-484d-82e9-a187c406dcc9"><p class="p">Network switches should be high quality, non-blocking,
with preferably four (minimum of two) 10 gigE ports. A typical switch
might have 24 gigE ports for remote hosts and four 10 gigE ports:
three for Calibre MTflex primary hosts and one for connection to
the network backbone.</p>
</li>
</ul>
<p class="p">Tiered network switches with gigE interconnects
as shown in <a class="xref fm:Figure" href="#id76312fb5-d8a0-4a6b-90b0-605e6309e624__id42fe39fe-2eab-45de-a5ff-12ff031d6c35">Figure 2</a> are not recommended for
MDP jobs and should be used with caution for other Calibre applications.
For non-MDP jobs, no more than 80 total remote CPUs should be aggregated
on a single gigE link. For example, this would be ten 8-CPU remote
hosts maximum per switch.</p>
<div class="fig fignone" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id42fe39fe-2eab-45de-a5ff-12ff031d6c35"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Recommended
Network Topology - Tiered Switches</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/network_topology_tiered.jpg" /></div><br /></div>
</div>
<div class="section Subsection" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__idf6037371-cdfc-45ac-9695-dae6eb18b7fc"><h2 class="title Subheading sectiontitle">Network
Setup Testing and Performance Validation</h2><p class="p">Network
setup testing and performance validation is recommended any time
hardware changes are made to the network, and periodically thereafter
(for example, once a quarter). For best results, network benchmarking
should be run on idle systems as part of a routine maintenance cycle.</p>
<p class="p">Calibre provides a network benchmark tool for this purpose. To
measure network performance, include the “<a class="xref fm:HeadingOnly" href="Command_MonitorLocal_iddbea601c.html#iddbea601c-8e2d-44ed-a007-efbd9142a97d__Command_MonitorLocal_iddbea601c.xml#iddbea601c-8e2d-44ed-a007-efbd9142a97d" title="Enables monitoring of Calibre MTflex operations on the primary host.">MONITOR LOCAL</a> IO” statement in a Calibre MTflex
remote configuration file and use a dummy or an invalid rule filename.
Upon executing a Calibre run using this setup, Calibre connects
to all remotes specified in the configuration file, runs the network
test (which takes several minutes), and then exits because of an
invalid rule file. This test should be run when the hosts are idle.</p>
<p class="p">MONITOR LOCAL IO tests the network performance
between the primary host and each remote host, in addition to measuring
bandwidth and latency. Bandwidth is expressed in Mbit/s. Latency
is expressed in the number of packets-per-second, which is the inverse
of ping time. Refer to the section “<a class="xref fm:HeadingOnly" href="TaskTop_MonitoringRemoteProcesses_id05a9352b.html#id05a9352b-d4cc-4d04-bfcd-ce7e08070253__TaskTop_MonitoringRemoteProcesses_id05a9352b.xml#id05a9352b-d4cc-4d04-bfcd-ce7e08070253" title="The monitoring utilities allow you to monitor the load and memory usage on individual machines in a cluster, as well as the input and output characteristics between the primary and remote hosts. The following steps describe how to use these capabilities, in addition to providing some debugging methodologies while using Calibre in a cluster environment.">Monitoring Remote Processes</a>” for an example of the output
from the MONITOR LOCAL IO statement.</p>
<p class="p">Typical MONITOR LOCAL IO bandwidth from each
primary host to each remote host is 920 Mbit/s for a 1 Gbit/s network
or 9000 Mbit/s for a 10 Gbit/s network. Typical ping latency is
0.200 ms, which translates to 5,000 packets/s in the MONITOR LOCAL
IO output. Calibre performance is not sensitive to network performance,
but numbers significantly lower than the typical values may indicate
problems requiring further investigation.</p>
<p class="p">Other network benchmark tools, such as Netperf
and Iperf, can be used to perform similar network performance benchmarks.
You can also perform a quick bandwidth test using the ping command
(for example, ping -s 32000 <var class="keyword varname OptionalReplaceable">hostname</var>).
File system benchmark tools such as IOZone, Bonnie++, and SIO (from NetApp<sup>®</sup>) can also be used to extend the basic
network testing to include file server bandwidth and latency.</p>
</div>
<div class="section Subsection" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id70649e70-2cf2-40f8-b245-4e8338f5429f"><h2 class="title Subheading sectiontitle">Private Network Settings</h2><p class="p">To run Calibre using Calibre MTflex
functionality across a private network, where the remote hosts can
only recognize the primary host and not the wider network, you must
alter your configuration. When used on a “shared” network system,
you should ensure that no “hub” points exist between the primary
and remote hosts.</p>
<ul class="ul"><li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__idcb7e8d4c-3f6e-4684-8229-db97cd3cbcdd"><p class="p">Install Calibre on the primary host,
and set your CALIBRE_HOME environment variable to that location.
If the remote hosts are different platforms than the  host, then
you must install Calibre for each different platform on the  host.</p>
</li>
<li class="li" id="id76312fb5-d8a0-4a6b-90b0-605e6309e624__id03836d9a-38a0-4466-b031-e94696f2f8f0"><p class="p">Use the optional NAME keyword on the <a class="xref fm:HeadingOnly" href="Command_LaunchAutomatic_id4a828ce2.html#id4a828ce2-af27-444e-b6d5-0431052eea50__Command_LaunchAutomatic_id4a828ce2.xml#id4a828ce2-af27-444e-b6d5-0431052eea50" title="Sets parameters for the remote hosts and connecting with those servers.">LAUNCH AUTOMATIC</a> or <a class="xref fm:HeadingOnly" href="Command_LaunchCluster_id24c3e5ba.html#id24c3e5ba-cdfb-4e45-95a6-fe5f48b47481__Command_LaunchCluster_id24c3e5ba.xml#id24c3e5ba-cdfb-4e45-95a6-fe5f48b47481" title="Sets parameters for connection of the primary host to the remote hosts.">LAUNCH CLUSTER</a> statement to specify the name
of the primary host or its IP number from the /etc/hosts file. If
the primary host has multiple IP numbers or names, you must specify
an IP address or name that is visible to the remote host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_NetworkConfigurationGuidelines_id7e4f6b67.html" title="The network configuration is an important consideration for a distributed Calibre environment. While the data being transmitted is small, the frequency of transmission between the and remote hosts is high. As a result, a dedicated, high-speed network between the and remote hosts is recommended.">Network Configuration Guidelines</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_admin_gd"
                DocTitle = "Calibre® Administrator’s Guide"
                PageTitle = "Calibre MTflex Network Setup"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CalibreMtflexNetworkSetup_id76312fb5.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Administrator’s Guide, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>