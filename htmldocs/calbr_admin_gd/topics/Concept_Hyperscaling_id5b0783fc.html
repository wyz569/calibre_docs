<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Hyperscaling" />
<meta name="abstract" content="Multithreading (MT) and Calibre MTflex provide a high performance data architecture for faster processing of full chip and other large designs, while hyperscaling provides an architecture for distributing SVRF operations. Hyperscaling can be used with both MT and Calibre MTflex runs, providing designers significant performance improvements while taking simultaneous advantage of large SMP (Shared-memory Processor) servers and low-cost network processors, such as rack-mount systems." />
<meta name="description" content="Multithreading (MT) and Calibre MTflex provide a high performance data architecture for faster processing of full chip and other large designs, while hyperscaling provides an architecture for distributing SVRF operations. Hyperscaling can be used with both MT and Calibre MTflex runs, providing designers significant performance improvements while taking simultaneous advantage of large SMP (Shared-memory Processor) servers and low-cost network processors, such as rack-mount systems." />
<meta name="prodname" content="Calibre Administrator's Guide" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_admin_gd" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Administrator’s Guide" />
<meta name="ConditionFiltering" content="XML" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.sys,product.version.v2021.2" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id5b0783fc-46aa-4028-b24e-8bd2aabc5859" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Hyperscaling</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Hyperscaling" />
<meta name="attributes" content="doc.type.documentation.sys,product.version.v2021.2" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id5b0783fc-46aa-4028-b24e-8bd2aabc5859">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Hyperscaling</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Multithreading
(MT) and Calibre MTflex provide a high performance data architecture
for faster processing of full chip and other large designs, while hyperscaling
provides an architecture for distributing SVRF operations. Hyperscaling
can be used with both MT and Calibre MTflex runs, providing designers
significant performance improvements while taking simultaneous advantage
of large SMP (Shared-memory Processor) servers and low-cost network
processors, such as rack-mount systems.</span>
</div>
<p class="p">While multithreading
distributes computations across multiple CPUs, hyperscaling enables
the concurrent parallel execution of SVRF operations and is only
valid in hierarchical tools that support hyperscaling. Some SVRF
operations, such as those that perform geometric layer operations,
can be hyperscaled, while others cannot. Both hyperscaled and non-hyperscaled
SVRF operations can reside in the same rule file. During the run,
the SVRF operations that do not support hyperscaling will not run
concurrently. Pseudo hierarchical databases are created only on
the primary host, unless ‑hyper remote is specified. Hyperscaling can
perform rule checks in an order different than what appears in the
rule file. Non‑hyperscaling runs follow the rule file order.</p>
<p class="p">Hyperscaling counts hierarchical objects
differently from objects in a traditional Calibre run. Specifically,
hyperscaling selectively flattens internally-recognized, very small
cells, such as vias and contacts. Hyperscaling also selectively
flattens internally-recognized top-level cells that are identified
based upon your Layout Base Layer statement (or Layout Top Layer
statement, if applicable). This means object counts can differ for
the same job run in hyperscaling mode versus a traditional Calibre
run.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">To reduce memory
requirements, any operations in which the inputs are exclusively
flat are restricted to HDB 0. As a result, excessive flattening
can significantly impact scaling. </p>
</div>
<p class="p">Only use hyperscaling, enabled with the ‑hyper
command line option, in an MT or Calibre MTflex environment. Do
not use hyperscaling for single CPU runs. This option can only be
specified with the -turbo, ‑turbo_litho, or both options, which
are supported in MT and Calibre MTflex modes. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The -hyper switch
should not be specified for a single-threaded run. If you specify
-hyper and do not specify -turbo, Calibre exits with an error message.
If you specify -hyper and ‑turbo 1, Calibre issues a warning and
continues:</p>
<pre class="pre codeblock"><code>WARNING: HYPERSCALING requested but only 1 cpu available, continuing without it.</code></pre></div>
<p class="p"><a class="xref fm:Figure" href="#id5b0783fc-46aa-4028-b24e-8bd2aabc5859__id774ccb59-d0f2-4c7d-91f4-2b5a306851e9">Figure 1</a> illustrates how hyperscaling
distributes both the design and operations across multiple CPUs
through the use of pseudo hierarchical databases, or pseudo HDBs.
For more information on using hyperscaling, refer to “<a class="xref fm:HeadingOnly" href="TaskTop_RunningMtCalibreMtflexHyperscaling_id45c7f773.html#id45c7f773-093a-4372-a536-d1078909397f__TaskTop_RunningMtCalibreMtflexHyperscaling_id45c7f773.xml#id45c7f773-093a-4372-a536-d1078909397f" title="Hyperscaling is a mode of running Calibre in either Multithreaded (MT) or Multithreaded Distributed (Calibre MTflex) environments. Hyperscaling mode enables the parallel execution of SVRF operations, allowing operations to execute concurrently thereby increasing the utilization of CPUs and improving scalability. Hyperscaling is not used for single-threaded environments.">Running MT and Calibre MTflex with Hyperscaling</a>.” Refer to <a class="xref fm:TableAndPage" href="General_HardwareConfigurationGuidelines_idae59f4d2.html#idae59f4d2-04de-4770-bb58-551428e2fb53__id5bfd64cd-11a5-4554-a9e8-3bb103c1e4cd">Table 1</a> for information
on processing requirements and recommendations. For information
on hyperscaling and the SHARED memory statistic, refer to the section
on “<a class="xref fm:HeadingOnly" href="Concept_SharedMemoryGuidelinesDistributedCalibre_id02958d00.html#id02958d00-7804-4906-aa32-5f06f2b8a538__Concept_SharedMemoryGuidelinesDistributedCalibre_id02958d00.xml#id02958d00-7804-4906-aa32-5f06f2b8a538" title="When Calibre runs an operation, it needs some memory for computation and some memory to hold data. When hyperscaling is used, sometimes an operation on one HDB uses the same memory as an operation on a separate HDB. To reduce the overall memory footprint in such cases, data is transferred from the first HDB to the second HDB, and the amount of data transferred is written to the SHARED component. The SHARED statistic output to the transcript is the amount of memory in megabytes that was transferred between HDBs for a particular operation. For example:">Shared Memory Guidelines for Distributed Calibre</a>.” </p>
<div class="fig fignone" id="id5b0783fc-46aa-4028-b24e-8bd2aabc5859__id774ccb59-d0f2-4c7d-91f4-2b5a306851e9"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Distribution
of a Design and SVRF Operations in Hyperscaling Mode</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/license_overview6.jpg" /></div><br /></div>
<p class="p">Hyperscaling creates four pseudo HDBs as shown
in <a class="xref fm:Figure" href="#id5b0783fc-46aa-4028-b24e-8bd2aabc5859__id774ccb59-d0f2-4c7d-91f4-2b5a306851e9">Figure 1</a>. The number four has been
found to provide optimal performance across a wide variety of inputs.</p>
<p class="p"><a class="xref fm:Table" href="#id5b0783fc-46aa-4028-b24e-8bd2aabc5859__idfa8523d6-07f4-4cb7-a5b0-a4cd0200e248">Table 1</a> identifies the number
of HDBs created when running hyperscaling in multithreaded mode
and a value is not specified for ‑turbo. The same numbers apply
when you specify a value for ‑turbo that is greater than the number
of CPU cores. When specifying both ‑turbo and ‑remote, only four
pseudo HDBs are created on the primary host except in the case when
‑hyper remote is specified.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id5b0783fc-46aa-4028-b24e-8bd2aabc5859__idfa8523d6-07f4-4cb7-a5b0-a4cd0200e248" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>HDBs Created
for Hyperscaling Runs in Multithreaded Mode</span></caption><colgroup><col style="width:1.687in" /><col style="width:4.487in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55930e202"><p class="p">CPU Cores</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55930e205"><p class="p">HDBs Created</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e202 "><p class="p">&lt; 32</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e205 "><p class="p">Defaults to ‑hyper 5 (primary + 4 pseudo
HDBs)</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e202 "><p class="p">&gt;= 32 &lt; 60</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e205 "><p class="p">Defaults to ‑hyper 7 (primary + 6 pseudo
HDBs)</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e202 "><p class="p">&gt;= 60</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e205 "><p class="p">Defaults to ‑hyper 9 (primary + 8 pseudo
HDBs)</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">On small Calibre MTflex clusters, Calibre Remote
Compute Server (RCS) processes are connected to each pseudo HDB:
four additional RCS processes on each remote CPU. On larger Calibre
MTflex clusters, the total number of RCS processes is limited as
shown in <a class="xref fm:Table" href="#id5b0783fc-46aa-4028-b24e-8bd2aabc5859__idbd1ed171-faf2-41b5-9d24-5884af1fe596">Table 2</a>.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id5b0783fc-46aa-4028-b24e-8bd2aabc5859__idbd1ed171-faf2-41b5-9d24-5884af1fe596" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>Remote Compute Servers (RCS) per CPU
for Calibre MTflex Clusters Using Hyperscaling</span></caption><colgroup><col style="width:1.687in" /><col style="width:4.487in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55930e245"><p class="p">CPU Cores</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d55930e248"><p class="p">Number of Additional
RCS Processes</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e245 "><p class="p">&lt; 200</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e248 "><p class="p">Each CPU is attached
to all pseudo HDBs (4).</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e245 "><p class="p">&gt;= 200 &lt; 400</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e248 "><p class="p">Each CPU is attached
to half of the pseudo HDBs (2).</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e245 "><p class="p">&gt;= 400</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d55930e248 "><p class="p">Each CPU is attached
to one quarter of the pseudo HDBs (1).</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DistributedCalibreModes_id21052f8e.html" title="There are several different multithreaded processing modes available for distributing your design data or Calibre processes across multiple CPUs in order to speed up the processing of a Calibre job.">Multithreaded Processing Modes</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_admin_gd"
                DocTitle = "Calibre® Administrator’s Guide"
                PageTitle = "Hyperscaling"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_Hyperscaling_id5b0783fc.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Administrator’s Guide, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>