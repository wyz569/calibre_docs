<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="PEX BA Mapfile" />
<meta name="abstract" content="Specifies a file containing the device and pin name mappings used to backannotate the extracted parasitics to a pre-layout simulation netlist." />
<meta name="description" content="Specifies a file containing the device and pin name mappings used to backannotate the extracted parasitics to a pre-layout simulation netlist." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="iddcfcd23b-abb5-48ca-8357-12b097566c9b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>PEX BA Mapfile</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="PEX BA Mapfile" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">PEX BA Mapfile</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Parasitic
extraction</p>
<p class="shortdesc">Specifies a file containing
the device and pin name mappings used to backannotate the extracted parasitics
to a pre-layout simulation netlist.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">PEX BA MAPFILE</span> <span class="keyword ParameterName RequiredReplaceable">mapfilename</span> [<span class="keyword ParameterName Optional">CALIBREVIEW]</span></p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id9202e1d2-5075-45d8-b9e8-ab4c0e74d073"><span class="keyword ParameterName RequiredReplaceable">mapfilename</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required
backannotation mapfile name. The mapfile contents are described
in the sub-section “<a class="xref fm:HeadingOnly" href="#iddcfcd23b-abb5-48ca-8357-12b097566c9b__idfa79e119-65a0-4d5a-80b3-49803e678746">Mapfile Contents</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idfb97b60d-c25f-4b85-bcc3-35988e7979a7"><span class="keyword ParameterName Optional">CALIBREVIEW</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that instructs
the formatter to suppress the automatically generated LPE values
from the CalibreView netlist output. With this option, only LPE
values specified in the mapfile are written to the netlist.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Specifies
a file containing the device, pin name, and model mappings used
to map the extracted intentional devices in a parasitic netlist
to their corresponding simulation models. This is used in backannotation
post-layout analysis. The mapfile has this structure:</p>
<pre class="pre codeblock"><code>//version: 2</code></pre><pre class="pre codeblock"><code>%Devices
SourceDev NumRepChar Ins/RepString OptNetlistModel //OptComments
...
%Pins
SourceDev SourcePin RepString OptSrcPin OptRepString //OptComments
...
%Models
ReqOrigM ReqRepM OptIns/Rep OptPinChange OptParmChange OptLPE //OptComment
...
%P_Devices
SourceDev NumRepChar Ins/RepString //OptComments
...
%P_Models
ParasiticType OptRepValue OptParmChange //OptComment
...
</code></pre><p class="p">where each section may have multiple
lines, and “Opt” indicates an optional entry. The sections can appear
in any order, but the models section is processed last. Use the
model mappings for most changes, and use the pins and devices mappings
for device-specific transformations. The commented version line
must be the first line in the file and must be a value of 2 with
a space between the colon and 2. Any value other than 2 given for
version implies that the mapfile format is the old format and OptLPE
syntax will be ignored. The CalibreView netlist format output contains
the LPE parameters by default. Use the CALIBREVIEW option to override
this default and only include the LPE parameters specified in the
mapfile in the generated netlist. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Intentional
devices in CalibreView always need model names. When generating
CalibreView output, if the mapfile deletes the model name or replaces
it with a blank name the formatter uses the original model name.</p>
</div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idfa79e119-65a0-4d5a-80b3-49803e678746"><h2 class="title Subheading sectiontitle">Mapfile
Contents</h2><p class="p">The mapfile consists of five
sections: devices, pins, models, parasitic devices, and parasitic models.
The rules in the sections are executed from the beginning of the
section to the end, so the first match in each section is applied.
Order the rules with the most specific rules at the beginning of
the file and the most general rules at the end. You can insert comments
in the mapfile using a double-slash (//). The first line in the
mapfile must be the comment //version: 2, with a space provided
between the colon and 2. The value given for version must be 2.
Any other value given for version implies that the mapfile format
is an old format and any LPE syntax used is ignored.</p>
<p class="p"><span class="keyword ParameterName Required">Devices</span> —
The device map section begins with the required keyword “%Devices”.
Entries have this syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName RequiredReplaceable">SourceDev NumRepChar Ins/RepString</span> [<span class="keyword ParameterName OptionalReplaceable">OptNetlistModel</span>] [//<span class="keyword ParameterName OptionalReplaceable">OptComments</span>]</code></pre><ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2045de3e-9c34-4d6b-8549-b2ed09dfe856"><p class="p"><span class="keyword ParameterName RequiredReplaceable">SourceDev</span> —
Specifies the device to be backannotated. All the devices with matching names
have the same rule applied to them. You can use an asterisk character
(*) for device name wildcards. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idc525e71c-6e54-475e-b5ba-bbe03e97192d"><p class="p"><span class="keyword ParameterName RequiredReplaceable">NumRepChar</span> —
Specifies the number of characters to replace. To insert characters,
set the number to 0. Characters are inserted or replaced from the
first letter of the SourceDev. See the “Examples” section.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id3b65ac5f-a965-45a8-902b-4eee2a0d1b5d"><p class="p"><span class="keyword ParameterName RequiredReplaceable">Ins/RepString</span> —
Specifies the new characters to insert or use to replace the original name.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id7f0e7cfc-7974-4faf-845f-ba6b513a20dd"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptNetlistModel</span> —
Specifies the optional netlist model. This column can be empty if you
do not want to replace the model. You can use two double-quotes
(“”) to delete the model name entirely.</p>
</li>
</ul>
<p class="p"><span class="keyword ParameterName Required">Pins</span> —
The pin map section begins with the required keyword “%Pins”. The
pin map section only has replace mode. Entries have this syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName RequiredReplaceable">SourceDev SourcePin RepString</span> [<span class="keyword ParameterName OptionalReplaceable">OptSrcPin</span>] [<span class="keyword ParameterName OptionalReplaceable">OptRepString</span>] [//<span class="keyword ParameterName OptionalReplaceable">OptComments</span>] </code></pre><ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id3cb809d5-e173-4809-92e6-2b61275977c0"><p class="p"><span class="keyword ParameterName RequiredReplaceable">SourceDev</span> —
Specifies the device to be backannotated. You can use an asterisk
to match more than one device at a time. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idc6bbd7e8-73f4-44fe-bbdd-0247fe330422"><p class="p"><span class="keyword ParameterName RequiredReplaceable">SourcePin</span> —
Specifies the pin to be backannotated.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id16a82920-8f20-4932-811c-57a17bff3718"><p class="p"><span class="keyword ParameterName RequiredReplaceable">RepString</span> —
Specifies the new string to replace the original name.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2c63acf2-e50b-4f89-b9db-70a3d96da782"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptSrcPin</span> —
An optional entry for a subsequent pin to be backannotated. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id476057be-e4b6-4a7a-a198-534bfd57ce82"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptRepString</span> —
An optional entry that specifies the new string to replace the original name.</p>
</li>
</ul>
<p class="p"><span class="keyword ParameterName Required">Models</span> —
The model map section begins with the required keyword “%Models”.
Entries have this syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName RequiredReplaceable">ReqOrigM ReqRepM</span> [<span class="keyword ParameterName OptionalReplaceable">OptIns/Rep</span>] [<span class="keyword ParameterName OptionalReplaceable">OptPinChange</span>] [<span class="keyword ParameterName OptionalReplaceable">OptParmChange</span>] [<span class="keyword ParameterName OptionalReplaceable">OptLPE...</span>] 
   [<span class="keyword ParameterName Optional">//</span><span class="keyword ParameterName OptionalReplaceable">OptComment</span>] </code></pre><ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id39d4d7dd-ab21-4367-b02a-dd51b440101e"><p class="p"><span class="keyword ParameterName RequiredReplaceable">ReqOrigM</span> —
Specifies the original model name to which one of the following
BA mapfile enhancements are applied: </p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id333f63e1-2bb6-4102-b031-f5a6a9f7d3c9"><p class="p">Replace this model name
with a new name.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id1410527f-7a07-4abe-8735-eb7dafdb32ee"><p class="p">Change the pin names.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__ida2993530-758a-4014-93b5-c95398ae9a14"><p class="p">Output LPE values to the
netlist.</p>
</li>
</ul>
<p class="p">Use netlist model names for layout-based
extraction. Use source device model, subtype, or device element
name [subtype model name] for source-based extraction. When using device
element name [subtype model name], you must enclose the subtype
model name in either parentheses, ( ), or brackets, [ ]. You can
use an asterisk (*) to match more than one model at a time. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idff2f9a76-5869-44f9-a722-4d0f93e62718"><p class="p"><span class="keyword ParameterName RequiredReplaceable">ReqRepM</span> —
Specifies the replacement model name. Use “” to delete the model
name. This entry is required; if you do not want to replace the
model name, use the same name as in ReqOrigM.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id073c33bb-c385-40b6-8cf9-43b9fe21481d"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptIns/Rep</span> —
An optional section for modifying the instance name. The section consists
of the keyword INST followed by the number of characters to replace
at the beginning of the name and the text to replace those characters
with. Set the number of characters to 0 for inserting a prefix;
for example, INST 0 pre_ to insert “pre_” before all instance names.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id0b7d442f-8632-4877-b3d5-27176564882d"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptPinChange</span> —
An optional section for renaming or remapping pins. The section consists
of the keyword PIN (for renaming) or PINORDER (for remapping) and
then the change pairs, original pin name then new pin name. There
can be any number of changes in the section but both the original
and the new name must be specified. </p>
<p class="p">PIN and PINORDER are mutually
exclusive. Use PIN for replacing pin names; use PINORDER for mapping
device pin names and placing the pins in the specified order in the
parasitic netlist.</p>
<p class="p">When using PINORDER, all required
pins for a device must be specified or the formatter will issue
a warning. List the pins in the desired order with new names. A device’s
required pins are defined in the Device statement. The default order
is that of the SPICE model. For example, a MOS transistor’s pins
are listed in the Device statement in the order G, S, D, B; and
B is optional. The SPICE model’s order is D, G, S, B. To swap the
S and D pins, the PINORDER section would look as follows:</p>
<pre class="pre codeblock"><code>PINORDER S new_s_name G new_g_name D new_d_name </code></pre><p class="p">Notice that B, being an optional
pin, does not need to appear unless it is being remapped. The original
pin name (G, D, and S in the example) should match the pin names
in the device statement. </p>
<p class="p">To add a new pin to a device
include the @ADD keyword subsection for PINORDER:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName Required">PINORDER</span> [<span class="keyword ParameterName OptionalReplaceable">old_pname</span> <span class="keyword ParameterName OptionalReplaceable">new_pname</span>]… [<span class="keyword ParameterName Optional">@ADD</span> <span class="keyword ParameterName OptionalReplaceable">old_pname</span> <span class="keyword ParameterName OptionalReplaceable">added_pname</span> <span class="keyword ParameterName OptionalReplaceable">pos</span>]</code></pre><p class="p">where</p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idcf548af4-881b-4231-a729-b8b59756275b"><p class="p"><span class="keyword ParameterName Required">PINORDER</span> is
a required keyword indicating the beginning of the optional section that
remaps the pins on the device.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id72c61db9-4e97-4c2d-8ec5-3d70d3f201ea"><p class="p"><span class="keyword ParameterName OptionalReplaceable">old_pname</span> <span class="keyword ParameterName OptionalReplaceable">new_pname</span> are
the old pin name and the new pin name. The number of pairs of pins
should map to the existing pins for the device.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id97afa524-438a-49bd-97b7-3b416a1735ea"><p class="p"><span class="keyword ParameterName Optional">@ADD </span><span class="keyword ParameterName OptionalReplaceable">old_pname</span> <span class="keyword ParameterName OptionalReplaceable">added_pname pos</span> is
an optional section that takes an existing pin and copies it to
create a new pin in a specified position. The old pin name, <span class="keyword ParameterName OptionalReplaceable">old_pname</span>,
represents the pin that will be duplicated. The added pin, <span class="keyword ParameterName OptionalReplaceable">added_pname</span>, represents
an existing pin on the device that may not be netlisted. The <span class="keyword ParameterName OptionalReplaceable">pos</span> represents the
position in the list of pins. If the position specified is greater
than the pin count, then pin count is increased by 1.</p>
</li>
</ul>
<p class="p">For example,</p>
<pre class="pre codeblock"><code>PINORDER S snew G gnew D dnew @ADD G Bnew 4</code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">The
rules in the Devices and Pins sections are applied before the rules
in the Models section. This may transform the expected model name
or pin name and cause a mismatch.</p>
</div>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__ida9503a64-c0f8-4422-80bf-7c8564dc3e83"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptParmChange</span> —
An optional section for modifying parameter names and adding or deleting
parameters. This section has the syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName Required">PARM</span> [<span class="keyword ParameterName OptionalReplaceable">old</span> <span class="keyword ParameterName OptionalReplaceable">new</span>]… [<span class="keyword ParameterName Optional">@ADD</span> <span class="keyword ParameterName OptionalReplaceable">parm</span>=<span class="keyword ParameterName OptionalReplaceable">value</span> [<span class="keyword ParameterName OptionalReplaceable">parm</span>=<span class="keyword ParameterName OptionalReplaceable">value</span>]…] [@DEL <span class="keyword ParameterName OptionalReplaceable">parm</span>…]</code></pre><p class="p">where</p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2665a074-4bd2-442d-a028-3168b9fd9e6c"><p class="p"><span class="keyword ParameterName Required">PARM</span> is
a required keyword indicating the beginning of the optional section.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idb02e0209-eae0-4dd4-b280-6e784d5e311e"><p class="p"><span class="keyword ParameterName OptionalReplaceable">old</span> <span class="keyword ParameterName OptionalReplaceable">new</span> are
the old parameter name and the new one. Any number of pairs can
be specified.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idc5b5208a-e3dc-4086-beac-f09cce4e5edb"><p class="p"><span class="keyword ParameterName Optional">@ADD</span> <span class="keyword ParameterName OptionalReplaceable">parm</span>=<span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional section that adds parameters to the device definition.
Any number of parameters can be added.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id16a0d3ad-4360-4c0a-b0ca-a36b21f08df1"><p class="p">@DEL <span class="keyword ParameterName OptionalReplaceable">parm</span> is
an optional section that deletes parameters from the device definition.
If <span class="keyword ParameterName OptionalReplaceable">parm</span> does
not match any device parameters it is ignored.</p>
</li>
</ul>
<p class="p">There must be at least one change
(renaming, adding, or deleting) in the section. Adding and deleting
parameters occurs before renaming. For example,</p>
<pre class="pre codeblock"><code>      PARM weff W leff L @DEL L W</code></pre><p class="p">deletes parameters L and W, and
then renames leff to L and weff to W.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idc488c3f2-728d-40e4-8ee5-de84b17ca443"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptLPE</span> —
An optional section for adding layout parasitic extraction (LPE)
parameters to device instance statements for specific intentional
device models in a parasitic netlist. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The
CalibreView netlist format output contains the LPE parameters by
default. To only include the LPE parameters specified in the mapfile,
use the CALIBREVIEW option.</p>
</div>
<p class="p">One or more LPE sections can
be defined for a given model. An LPE section has the syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName Required">LPE</span> [<span class="keyword ParameterName OptionalReplaceable">lpe_name</span>][<span class="keyword ParameterName Optional">NORC</span> <span class="keyword ParameterName OptionalReplaceable">value</span>][<span class="keyword ParameterName Optional">C</span> <span class="keyword ParameterName OptionalReplaceable">value</span>][<span class="keyword ParameterName Optional">R</span> <span class="keyword ParameterName OptionalReplaceable">value</span>][<span class="keyword ParameterName Optional">RC</span> <span class="keyword ParameterName OptionalReplaceable">value</span>] \
   [<span class="keyword ParameterName Optional">SKIPCELL</span> <span class="keyword ParameterName OptionalReplaceable">value</span>] [<span class="keyword ParameterName Optional">PINEXCEPT</span> <span class="keyword ParameterName OptionalReplaceable">pinids</span>][<span class="keyword ParameterName Optional">PINOPERATION</span> <span class="keyword ParameterName Optional">{</span><span class="keyword ParameterName OptionalDefault">AND</span><span class="keyword ParameterName Optional">|OR}</span>]</code></pre><p class="p">where</p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id8ac6cc2c-afe4-4df2-94d4-45e787439c74"><p class="p"><span class="keyword ParameterName Required">LPE</span> is
a required keyword indicating the beginning of the optional section.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idae641949-e337-410c-aa3e-2ca44ef09214"><p class="p"><span class="keyword ParameterName OptionalReplaceable">lpe_name</span> is
an optional name which can be specified for the LPE and will appear
in the output netlist in place of the LPE keyword.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id14c68479-2624-48cd-bcc5-af6f9131f1c1"><p class="p"><span class="keyword ParameterName Optional">NORC </span><span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional keyword value pair used to specify that a net that has
no R or C associated with it, otherwise referred to as an ideal
net.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id76f5c8a8-de98-42f2-aa0d-99e615216ae4"><p class="p"><span class="keyword ParameterName Optional">C </span><span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional keyword value pair used to specify that lumped or coupled capacitance
should be controlled.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__ida8716c40-dcaa-4768-82e4-72e395fbc77c"><p class="p"><span class="keyword ParameterName Optional">R </span><span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional keyword value pair used to specify that distributed
resistance should be controlled.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2208b43a-aac8-4851-96d1-646b3ba4cf68"><p class="p"><span class="keyword ParameterName Optional">RC </span><span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional keyword value pair used to specify that distributed
resistance and capacitance or distributed resistance and coupled
capacitance should be controlled.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2f509947-a976-4b59-952c-e98433f7118a"><p class="p"><span class="keyword ParameterName Optional">SKIPCELL </span><span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional keyword value pair used to overrides the other LPE values
mentioned in the model entry and set the LPE_FLAG to the specified <span class="keyword ParameterName OptionalReplaceable">value</span> in the
generated netlist.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2261ee0c-2c23-497f-aff3-8d4858cddafa"><p class="p"><span class="keyword ParameterName OptionalReplaceable">value</span> specified
for C, R, RC, NORC, or SKIPCELL must be an integer and is derived
from the device model simulation.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idfbca0f42-1598-465b-a2a0-8bf5ce3f6528"><p class="p"><span class="keyword ParameterName Optional">PINEXCEPT </span><span class="keyword ParameterName OptionalReplaceable">pinids </span>is
an optional keyword value set used to specify which pins should
be excluded when calculating LPE values. When considering the mode
of the device, some pins should be excluded because they have nothing
to do with this parameter. You can specify one or more <span class="keyword ParameterName OptionalReplaceable">pinids</span> to
exclude. For Calibre xRC, acceptable pinid numeric values are shown
in the following table. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id63762497-80e7-4df1-a9f4-321494d6c307" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Pinids</span></caption><colgroup><col style="width:1.063in" /><col style="width:0.563in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e635"><p class="p">MOS PIN</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e638"><p class="p">ID</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e635 "><p class="p">DRN</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e638 "><p class="p">0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e635 "><p class="p">GATE</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e638 "><p class="p">1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e635 "><p class="p">SRC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e638 "><p class="p">2</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e635 "><p class="p">BULK</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e638 "><p class="p">3</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"> </p>
<p class="p">For the Calibre xACT direct netlisting flow, <span class="keyword ParameterName OptionalReplaceable">pinids</span> can
be specified numerically or by pin name. Pin names must be enclosed
in quotes (“ ”). For MOS devices, numeric <span class="keyword ParameterName OptionalReplaceable">pinids</span> follow
the order shown in <a class="xref fm:Table" href="#iddcfcd23b-abb5-48ca-8357-12b097566c9b__id63762497-80e7-4df1-a9f4-321494d6c307">Table 1</a>. For all
other devices including built-in or user-defined devices, the numeric <span class="keyword ParameterName OptionalReplaceable">pinid</span> uses
the device pin order as defined by the <a class="xref fm:HeadingOnly" href="Command_Device_id89f67149.html#id89f67149-593d-4a42-bf07-d2052c906774__Command_Device_id89f67149.xml#id89f67149-593d-4a42-bf07-d2052c906774" title="Defines devices and calculates properties for circuit extraction.">Device</a> statement declaration.</p>
<p class="p">If PINOPERATION is not specified
with PINEXCEPT, the default value for PINOPERATION is AND. </p>
<p class="p">Note that the <a class="xref fm:HeadingOnly" href="Command_PexNetlistLpeIgnoreIdealnet_id4bd2e3c5.html#id4bd2e3c5-3b1f-42c6-9ac4-876e69b0e9cf__Command_PexNetlistLpeIgnoreIdealnet_id4bd2e3c5.xml#id4bd2e3c5-3b1f-42c6-9ac4-876e69b0e9cf" title="Specifies whether or not the netlist formatter accounts for the nets that have been excluded from extraction when determining the worst case parasitic model.">PEX Netlist LPE Ignore Idealnet</a> statement
can also affect which pins are ignored during extraction. Also,
bulk or substrate pins are always ignored for default (not user-defined)
devices. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idca33059c-62b5-458d-8d9e-4960c442119e"><p class="p"><span class="keyword ParameterName Optional">PINOPERATION {AND | OR}</span> is
an optional keyword value set used to determine the worst case parasitic
values for LPE. When AND is specified, then if any one of the pins
does not extract RC, the extraction mode is NORC; this is the default.
If OR is specified, then if any one of the pins does extract RC,
the extraction mode is RC. If all of the pins do not extract RC
and OR is specified, then the extraction mode is NORC (<a class="xref fm:Table" href="#iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2dacc307-4b3c-410a-938f-999f17e6b7b8">Table 2</a>).</p>
</li>
</ul>
<p class="p">There must be at least one type
of parasitic (C, R, RC, or NORC) specified in a given LPE section.
For example,</p>
<pre class="pre codeblock"><code>cmim5_2p cmim5_2p INST 1 X PINORDER pos minus neg plus LPE NORC 0</code></pre><p class="p">There are two ways to control
which LPE parameters are written to the netlist:</p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__ide2bbbff9-8747-4bad-9017-fc6b78eebb5d"><p class="p">Use the <a class="xref fm:HeadingOnly" href="Command_PexNetlistLpeUsingExtmode_id16f1a92e.html#id16f1a92e-78ab-4287-9a94-29de28fdd17d__Command_PexNetlistLpeUsingExtmode_id16f1a92e.xml#id16f1a92e-78ab-4287-9a94-29de28fdd17d" title="Instructs the netlist formatter to obtain LPE values from the mapfile based on the command line extraction mode.">PEX Netlist LPE Using Extmode</a> statement to control the addition
of LPE parameters using the extraction mode specified in the PDB
stage.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idac3957e6-acac-4175-a3b5-88f09c16f323"><p class="p">For incremental or selected
net extraction, device terminals can be connected to nets with differing
parasitic models. In that case, the device shall be assigned a worst
case LPE value based on the following table:</p>
</li>
</ul>
</li>
</ul>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2dacc307-4b3c-410a-938f-999f17e6b7b8" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>“Worst Case” Parasitic Values for LPE</span></caption><colgroup><col style="width:1.000in" /><col style="width:1.000in" /><col style="width:1.500in" /><col style="width:1.500in" /><col style="width:1.500in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e745"><p class="p">Parasitic Model A</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e748"><p class="p">Parasitic Model B</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e751"><p class="p">Used for LPE Setting
Without PINEXCEPT or PINOPERATION</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e754"><p class="p">Used for LPE Setting
With PINOPERATION AND</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d40570e757"><p class="p">Used for LPE Setting
With PINOPERATION OR</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" rowspan="4" style="vertical-align:top;" headers="d40570e745 "><p class="p">No parasitics</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">No parasitics</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="4" style="vertical-align:top;" headers="d40570e751 "><p class="p">No parasitics</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="4" style="vertical-align:top;" headers="d40570e754 "><p class="p">No parasitics</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">No parasitics</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">C</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">C</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">R</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">R</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">RC</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" rowspan="3" style="vertical-align:top;" headers="d40570e745 "><p class="p">C</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">C</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e751 "><p class="p">C</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e754 "><p class="p">C</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">C</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">R</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e751 "><p class="p">No parasitics</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="2" style="vertical-align:top;" headers="d40570e754 "><p class="p"><span class="ph FontProperty P8"></span>No
parasitics</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="2" style="vertical-align:top;" headers="d40570e757 "><p class="p"><span class="ph FontProperty P8"></span>RC</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e751 "><p class="p">C</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" rowspan="2" style="vertical-align:top;" headers="d40570e745 "><p class="p">R</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">R</p>
</td>
<td class="entry cellrowborder default-entry" rowspan="2" style="vertical-align:top;" headers="d40570e751 "><p class="p"><span class="ph FontProperty P8"></span>R</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e754 "><p class="p">R</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">R</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e754 "><p class="p">No parasitics</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">RC</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e745 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e748 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e751 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e754 "><p class="p">RC</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d40570e757 "><p class="p">RC</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"> </p>
<p class="p"><span class="ph FontProperty HeadingLabel">P_Devices </span>—
The parasitic device map section begins with the required keyword “%P_Devices”.
Entries have this syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName RequiredReplaceable">SourceDev</span> <span class="keyword ParameterName RequiredReplaceable">NumRepChar</span> <span class="keyword ParameterName RequiredReplaceable">Ins/RepString</span> [//<span class="keyword ParameterName OptionalReplaceable">OptComments</span>]</code></pre><ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id0308f3cd-df1e-4fc5-b2a1-780c4859c259"><p class="p"><span class="keyword ParameterName RequiredReplaceable">SourceDev</span> —
Specifies the device to be backannotated. All the devices with matching names
have the same rule applied to them. You can use an asterisk character
(*) for device name wildcards. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idfd6d5907-a26f-4f73-a8ef-b101d4ca3329"><p class="p"><span class="keyword ParameterName RequiredReplaceable">NumRepChar</span> —
Specifies the number of characters to replace. To insert characters,
set the number to 0. Characters are inserted or replaced from the
first letter of the SourceDev. </p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id93df27aa-cffa-4136-a8a1-f4c545bccbd9"><p class="p"><span class="keyword ParameterName RequiredReplaceable">Ins/RepString</span> —
Specifies the new characters to insert or use to replace the original name.</p>
</li>
</ul>
<p class="p"><span class="ph FontProperty HeadingLabel">P_Models </span>—
The parasitic models map section begins with the required keyword “%P_Models”.
Entries have this syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName RequiredReplaceable">ParasiticType</span> [<span class="keyword ParameterName OptionalReplaceable">OptRepValue</span>] [<span class="keyword ParameterName OptionalReplaceable">OptParmChange</span>] [//<span class="keyword ParameterName OptionalReplaceable">OptComments</span>]</code></pre><ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id840e14f9-50a5-41f2-8d7b-4cc05bb383cc"><p class="p"><span class="keyword ParameterName RequiredReplaceable">ParasiticType</span> —
Specifies the type of parasitics to be backannotated (R,C,CC,L,K).
All the parasitic devices with matching types have the same rule
applied to them.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id07eb403e-42be-4a2b-844d-714f6f8f4ae7"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptRepValue</span> —
An optional entry that removes the parasitic value and replaces
it with a model name. This section has the syntax/options: [@REPVALUE
value]</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__iddc5b3086-8d86-4dee-b20f-b637cd1245f1"><p class="p"><span class="keyword ParameterName OptionalReplaceable">OptParmChange</span> —
An optional entry used to modify parameter names and ad or delete parameters.
This section has the syntax:</p>
<pre class="pre codeblock"><code><span class="keyword ParameterName Required">PARM</span> [<span class="keyword ParameterName OptionalReplaceable">old</span> <span class="keyword ParameterName OptionalReplaceable">new</span>]… [<span class="keyword ParameterName Optional">@ADD</span> <span class="keyword ParameterName OptionalReplaceable">parm</span>=<span class="keyword ParameterName OptionalReplaceable">value</span> [<span class="keyword ParameterName OptionalReplaceable">parm</span>=<span class="keyword ParameterName OptionalReplaceable">value</span>]…] [@DEL <span class="keyword ParameterName OptionalReplaceable">parm</span>…]</code></pre><p class="p">where</p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id05d50757-b462-4459-b3cc-f370bb48faa8"><p class="p"><span class="keyword ParameterName Required">PARM</span> is
a required keyword indicating the beginning of the optional section.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id55f5289c-0c60-4a8c-83a0-8440e3818308"><p class="p"><span class="keyword ParameterName OptionalReplaceable">old</span> <span class="keyword ParameterName OptionalReplaceable">new</span> are
the old parameter name and the new one. Any number of pairs can
be specified.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2ba61118-2043-4476-94b1-e11a5fee3e38"><p class="p"><span class="keyword ParameterName Optional">@ADD</span> <span class="keyword ParameterName OptionalReplaceable">parm</span>=<span class="keyword ParameterName OptionalReplaceable">value</span> is
an optional section that adds parameters to the device definition.
Any number of parameters can be added.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id3abf2dfa-959b-4df9-ab7e-9c71c1307c65"><p class="p">@DEL <span class="keyword ParameterName OptionalReplaceable">parm</span> is
an optional section that deletes parameters from the device definition.
If <span class="keyword ParameterName OptionalReplaceable">parm</span> does
not match any device parameters it is ignored.</p>
</li>
</ul>
<p class="p">There must be at least one change
(renaming, adding, or deleting) in the section. Adding and deleting
parameters occurs before renaming. For example,</p>
<pre class="pre codeblock"><code>      PARM weff W leff L @DEL L W</code></pre><p class="p">deletes parameters L and W, and
then renames leff to L and weff to W.</p>
</li>
</ul>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id0287fbd9-eb23-4cf1-8fce-733a1f42f2ce"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">This is a MAPFILE example. Explanations
are included in the comments section of each line.</p>
<pre class="pre codeblock"><code>//version: 2</code></pre><pre class="pre codeblock"><code>%Devices
MN0   0  X_   mp_model //for all MNO devices, insert X_; MN0 -&gt; X_MN0
C4    1  X  c_model  //replace 1st char C with X; C4 -&gt; X4
R3    1  B  r_model  //replace 1st char R in R3 with B; R3 -&gt; B3
R*    1  X           //replace all Rs with X (except for R3); R2 -&gt; X2
MP_*  2  X  modsf    //replace 2 chars MP with X; MP_I$4 -&gt; X_I$4</code></pre><pre class="pre codeblock"><code>%Models
// The example below acts on the model NS to replace the first 
// character of the instance name with "X_", rename the neg and pos pins
// to minus and plus, and add an LPE value of 1, 2, or 3 depending 
// on extraction type.
NS  NS  INST 1 X_   PIN neg minus pos plus  LPE C 1 R 2 RC 3</code></pre><pre class="pre codeblock"><code>%Pins
C4 neg  minus p2  plus2      //replace C4:neg with C4:minus and 
                             // C4:p2 with C4:plus2
R2 pos  plus      neg  minu2 //replace R2:pos with R2:plus and 
                             // R2:neg with R2:minu2
R* neg  minus                //for all other R, replace neg with minus
M* d    drain                //for all MOS devices, replace d with drain</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id581892dd-f399-4e13-b2e3-efaf16e6d940"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This example shows how the models
section differs between layout-based and source-based extraction.
The layout-based flow uses the netlist model name; this is specified
in the Device statement. The source-based flow uses the LVS model
name.</p>
<pre class="pre codeblock"><code>///////// This set is for layout based flow 
%Models
RPO1SAM1 "" INST 1  X   PINORDER  neg jukn pos ksfplus PARM w  WTT \\1
enllgp_bs3ju enllgp_bs3ju INST 0  X_  parm L  length               \\2 
enllgn_bs3ju foo2         INST 0  X_  parm l  length WADF  W       \\3</code></pre><pre class="pre codeblock"><code>/////// This set is for source based flow
ns      ""      INST 1  X   PINORDER  neg jukn pos ksfplus PARM w  WTT 
p       p       INST 0  X_  parm L  length                         \\2
N       foo2    INST 0  X_  parm l  length WADF  W 	                \\3</code></pre><p class="p">These two cases do the same thing;
only the model names differ. The first mapping deletes the model
name; changes the first character of the device name to X; remaps
and renames the pins; and in the parameters, replaces w with WTT
in the output. The second and third mappings in both sections replaces
the model name, puts an X_ before the device name, and replaces parameters.</p>
</div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idff95f4c9-94b2-4905-8260-70c6e00b1495"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">This is a portion of a MAPFILE containing
various LPE usage examples.</p>
<pre class="pre codeblock"><code>//version: 2</code></pre><pre class="pre codeblock"><code>%Models
// The example below acts on the model NS to replace the first 
// character of the instance name with "X_", rename the neg and pos pins
// to minus and plus, and add an LPE value of 1, 2, or 3 depending 
// on extraction type.
rhiporpo rhiporpo INST 1 X PINORDER pos plus neg minus sub b LPE NORC 0 C 100 R 200 RC 300 LPE foo2 NORC 0 C 100 R 200 RC 300</code></pre><pre class="pre codeblock"><code>cmim5_sh cmim5_sh INST 1 X PINORDER pos minus neg plus sub sh LPE C 1 R 2 RC 3</code></pre><pre class="pre codeblock"><code>cmim5_2p cmim5_2p INST 1 X PINORDER pos minus neg plus //no LPE given</code></pre><pre class="pre codeblock"><code>cmim5 cmim5 INST 1 X PINORDER pos minus neg plus sub psub LPE foo3 NORC 0 C 10 R 22 RC 38</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id14842928-fc0e-46ca-8293-f9090ac1be7c"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">This example shows how the models
section uses device element names together with device model names
for source-based extraction.</p>
<pre class="pre codeblock"><code>/////// This set is for source based flow
M[ND] nch3
R[ND] rnodrpo
M[PD] pch3
R[PD] rpodrpo</code></pre><p class="p">Where M and R represent the device
element names, and ND and PD represent the device model names. The
replacement model names are nch3, rnodrpo, pch3 and rpodrpo.</p>
</div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id152990f9-edf3-4a94-b6f5-11c1891c6943"><h2 class="title Subheading sectiontitle">Example 5</h2><p class="p">To use the CALIBREVIEW keyword to
control the output of LPE values do the following.</p>
<ul class="ul"><li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id132eee00-b6e2-4b6e-994b-1019ab12d147"><p class="p">Add the following statements
to your rule file:</p>
<pre class="pre codeblock"><code>PEX NETLIST mynetlistfile CALIBREVIEW
PEX BA MAPFILE mymapfile CALIBREVIEW</code></pre></li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idb394dd59-663a-4610-8148-10aa3408640a"><p class="p">Add LPE specifications to your
mapfile. For example:</p>
<pre class="pre codeblock"><code>%Models
N N LPE <span class="ph FontProperty HeadingLabel">foo</span> NORC 0 C 100 R 200 RC 300
P P LPE NORC 0 C 1 R 2 RC 3</code></pre></li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idd5d12346-cdbe-496c-a679-6c0a37ce10ea"><p class="p">Run extraction for your design.</p>
</li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id76ec5ac3-406a-40da-a31d-9114b79623ea"><p class="p">Create the cell mapfile, adding
the corresponding LPE information from the mapfile:</p>
<pre class="pre codeblock"><code>...
(n
	( mgc_n4 nmos4 symbol)
	( (b B) (d D) (g G) (s S) )
	(1 1) (w w) (m m)
		(w wscale1 (w*7))
		(w wscale2 (w*15))
		(lpe flag1 (if <span class="ph FontProperty HeadingLabel">foo</span>==0 || <span class="ph FontProperty HeadingLabel">foo</span>==200 then flag1=1 else flag1=0))
		(lpe flag2 (if <span class="ph FontProperty HeadingLabel">foo</span>==0 || <span class="ph FontProperty HeadingLabel">foo</span>==100 then flag2=1 else flag2=0))
	)
)</code></pre><pre class="pre codeblock"><code>(p
	( mgc_p4 pmos4 symbol)
	( (b B) (d D) (g G) (s S) )
	(1 1) (w w) (m m)
		(w wscale1 (w*17))
		(w wscale2 (w*125))
		(lpe lpe_a (if lpe==0 || lpe==1 then lpe_a=1 else lpe_a=0))
	)
)
...</code></pre></li>
<li class="li" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idd8190f95-fd70-4fcc-972e-d2b41c059bf7"><p class="p">Load the extracted netlist into
Cadence Virtuoso.</p>
</li>
</ul>
<p class="p">See the “<a class="xref Link" href="../../calbr_interactive_n_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Syntax for Cellmap Statements', 'calbr_interactive_n_user'); return false;">Syntax for Cellmap Statements</a>” section of the <cite class="cite">Calibre Interactive
(New GUI) User’s Manual </cite>for more information and additional
examples. </p>
</div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id736ef2e7-78ef-4685-b54b-9022b6f04818"><h2 class="title Subheading sectiontitle">Example 6</h2><p class="p">The following example MAPFILE entries
demonstrate how to modify parasitic device and model names:</p>
<pre class="pre codeblock"><code>//version: 2

%P_Devices
C4   0  X_ //for C4 device, insert X_; C4 -&gt; X_C4
R*   1  X  //replace all Rs with X; R10 -&gt; X10

%P_Models
R PARAM $count $N //replace $count with $N if found
</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idc4617042-df67-4114-b1fc-eb0432bd2b17"><h2 class="title Subheading sectiontitle">Example 7</h2><p class="p">Consider the following sample netlist
line:</p>
<pre class="pre codeblock"><code>...
R1  pin1  pin2  0.0003
...</code></pre><p class="p">The following entry in a MAPFILE:.</p>
<pre class="pre codeblock"><code>%P_Models
R @REPVALUE rpoly // replace numerical value with modelname</code></pre><p class="p">produces the following output in the extracted netlist:</p>
<pre class="pre codeblock"><code>...
R1  pin1  pin2  rpoly
...</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id2f031fb6-489a-4764-a96f-5921b835425a"><h2 class="title Subheading sectiontitle">Example 8</h2><p class="p">Consider the following sample netlist
line:</p>
<pre class="pre codeblock"><code>...
R1  pin1  pin2  0.0001 $count=5
...</code></pre><p class="p">The following entry in a MAPFILE:</p>
<pre class="pre codeblock"><code>%P_Models
// remove the parasitic resistance value, 
// replace it with the new model name rpoly, 
// and add a new parameter Tcoff
R @REPVALUE rpoly PARM $count $N @ADD STcoff</code></pre><p class="p">Produces the following output in the extracted netlist:</p>
<pre class="pre codeblock"><code>...
R1  pin1  pin2  rpoly $N=5 STcoff=27
...</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id84a5bbfc-33c6-4cf5-892d-c6f5c6f4d212"><h2 class="title Subheading sectiontitle">Example 9</h2><p class="p">Consider the following sample netlist
line:</p>
<pre class="pre codeblock"><code>...
R1  pin1  pin2  0.0002 $count=7
...</code></pre><p class="p">The following entry in a MAPFILE:.</p>
<pre class="pre codeblock"><code>//%P_Devices
R* 0 X_  // Add string X_ before R*; R* -&gt; X_R*

%P_Models
// remove the parasitic resistance value, 
// replace it with the new model name rpoly, 
// and add a new parameter Tcoff
R @REPVALUE rpoly PARM $count $N @ADD STcoff=27</code></pre><p class="p">Produces the following output in the extracted netlist:</p>
<pre class="pre codeblock"><code>...
X_R1  pin1  pin2  rpoly $N=5 STcoff=27
...</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id958feab0-6319-4b0a-8ef2-421a6c0666a3"><h2 class="title Subheading sectiontitle">Example
10</h2><p class="p">In this example, the following entry
in the MAPFILE:</p>
<pre class="pre codeblock"><code>%Models
cfmom_wo_p80 cfmom_wo_p80 LPE LPE_Flag NORC 1 C 0 R 1 RC 0 SKIPCELL 9</code></pre><p class="p">and the following line in the xcell
file:</p>
<pre class="pre codeblock"><code>...
cfmom_wo*       cfmom_wo
...</code></pre><p class="p">produces the following output in the extracted netlist:</p>
<pre class="pre codeblock"><code>...
xX0_noxref 22 23 1 cfmom_wo_p80 nr=72 lr=6.7e-06 stm=3 spm=7 dmflag=1 
+ vapmod=2 n_mxa=1 mxd_flag=2 shield=2 LPE_FLAG=9
.ends</code></pre><p class="p">Specifying the SKIPCELL 9 entry overrides the other LPE values
mentioned in the model entry and sets the LPE_FLAG field equal to
9. </p>
</div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__id58f4e5b1-e26a-4276-84a9-b0ba42f2faa4"><h2 class="title Subheading sectiontitle">Example
11</h2><p class="p">The following
example demonstrates how to use the LPE option PINEXCEPT with pin
names when generating a DSPF netlist using the Calibre xACT direct
netlisting flow. Given the following user-defined device:</p>
<pre class="pre codeblock"><code>DEVICE K6pin KGATE MT2(p1) MT2(p2) MT2(p3) MT2(p4) MT2(p5) MT2(p6)</code></pre><p class="p">Consider the following sample DSPF
netlist line:</p>
<pre class="pre codeblock"><code>...
*
* Instance Section
*
...
X4 k5 X4:p2 k1 k6 X4:p5 X4:p6 K6pin
...</code></pre><p class="p">The following entry in a MAPFILE:.</p>
<pre class="pre codeblock"><code>%Models
...
K6pin K6pin LPE lp1 NORC 1 C 2 R 3 RC 4 PINEXCEPT "p2" "p3" "p4" "p5" "p6"
   LPE lp2 NORC 1 C 2 R 3 RC 4 PINEXCEPT "p1" "p3" "p4" "p5" "p6" 
   LPE lp3 NORC 1 C 2 R 3 RC 4 PINEXCEPT "p1" "p2" "p4" "p5" "p6" 
   LPE lp4 NORC 1 C 2 R 3 RC 4 PINEXCEPT "p1" "p2" "p3" "p5" "p6" 
   LPE lp5 NORC 1 C 2 R 3 RC 4 PINEXCEPT "p1" "p2" "p3" "p4" "p6" 
   LPE lp6 NORC 1 C 2 R 3 RC 4 PINEXCEPT "p1" "p2" "p3" "p4" "p5" </code></pre><p class="p">Produces the following output in the extracted netlist:</p>
<pre class="pre codeblock"><code>...
*
* Instance Section
*
...
X4 k5 X4:p2 k1 k6 X4:p5 X4:p6 K6pin lp1=1 lp2=4 lp3=2 lp4=1 lp5=4 lp6=3
...</code></pre></div>
<div class="section Subsection" id="iddcfcd23b-abb5-48ca-8357-12b097566c9b__idab2b8405-28ea-4640-94d6-9d9db04cdbaa"><h2 class="title Subheading sectiontitle">Example 12</h2><p class="p">This example
demonstrates how to use the LPE option PINEXCEPT with numeric pin
ids when generating a DSPF netlist using the Calibre xACT direct
netlisting flow. Given the following user-defined device:</p>
<pre class="pre codeblock"><code>DEVICE K6pin KGATE MT2(p1) MT2(p2) MT2(p3) MT2(p4) MT2(p5) MT2(p6)</code></pre><p class="p">Consider the following sample DSPF
netlist line:</p>
<pre class="pre codeblock"><code>...
*
* Instance Section
*
...
X4 k5 X4:p2 k1 k6 X4:p5 X4:p6 K6pin
...</code></pre><p class="p">The following entry in a MAPFILE:.</p>
<pre class="pre codeblock"><code>%Models
...
K6pin K6pin LPE lp1 NORC 1 C 2 R 3 RC 4 PINEXCEPT 1 2 3 4 5
   LPE lp2 NORC 1 C 2 R 3 RC 4 PINEXCEPT 0 2 3 4 5
   LPE lp3 NORC 1 C 2 R 3 RC 4 PINEXCEPT 0 1 3 4 5
   LPE lp4 NORC 1 C 2 R 3 RC 4 PINEXCEPT 0 1 2 4 5
   LPE lp5 NORC 1 C 2 R 3 RC 4 PINEXCEPT 0 1 2 3 5
   LPE lp6 NORC 1 C 2 R 3 RC 4 PINEXCEPT 0 1 2 3 4</code></pre><p class="p">Produces the following output in the extracted netlist:</p>
<pre class="pre codeblock"><code>...
*
* Instance Section
*
...
X4 k5 X4:p2 k1 k6 X4:p5 X4:p6 K6pin lp1=1 lp2=4 lp3=2 lp4=1 lp5=4 lp6=3
...</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PexCommands_id5a637066.html" title="The commands in this section start with “PEX.”">PEX … Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "PEX BA Mapfile"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_PexBaMapfile_iddcfcd23b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>