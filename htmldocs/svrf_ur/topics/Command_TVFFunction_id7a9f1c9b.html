<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="TVF Function" />
<meta name="abstract" content="Defines a function block of Tcl code." />
<meta name="description" content="Defines a function block of Tcl code." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>TVF Function</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="TVF Function" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">TVF Function</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Defines
a function block of Tcl code. </span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">TVF FUNCTION</span> [EDGE | ERROR] <span class="keyword ParameterName RequiredReplaceable">tvf_name</span><span class="keyword ParameterName Required"> ‘[’/*<br />
</span>   <span class="keyword ParameterName RequiredReplaceable">inline</span> <span class="keyword ParameterName RequiredReplaceable">TVF</span><span class="keyword ParameterName RequiredReplaceable"> runtime</span> <span class="keyword ParameterName RequiredReplaceable">script</span> <span class="keyword ParameterName RequiredReplaceable">or</span> <span class="keyword ParameterName RequiredReplaceable">Tcl</span> <span class="keyword ParameterName RequiredReplaceable">procs</span><span class="keyword ParameterName Required"><br />
*/‘]’</span></p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id02c22b01-2d96-418d-b8dc-52cdf40f5f00"><span class="keyword ParameterName Required">TVF FUNCTION</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword that begins
the TVF function block.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id74539728-0490-4c53-924c-56643ebbf7bd">EDGE | ERROR </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword used when
defining a procedure for a TVF layer operation. By default, the
output is a derived polygon layer, and no additional keyword is
needed. For other output types, you can specify one of the following:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id0e1f6812-8a8d-402c-87b6-0ddbd23b4e41"><p class="p Opt">EDGE
— Specifies the output of the function is a derived edge layer.</p>
</li>
<li class="li ArgOption" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id9455845c-8b04-4dfe-905d-37510848132f"><p class="p Opt">ERROR
— Specifies the output of the function is a derived error layer.
Only the Enclosure, External, and Internal layer operations produce
this type of output for runtime TVF.</p>
</li>
</ul>
<p class="p">When defining TVF layer operations,
the type of layer output generated by the function must match what
you specify for the output type. This is checked at runtime.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__idde3d71d0-827c-4462-af4c-f4ee1a16f291"><span class="keyword ParameterName RequiredReplaceable">tvf_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required parameter that specifies
the name of the function, which must be unique. The <span class="keyword ParameterName RequiredReplaceable">tvf_name</span> is
a string that follows the same conventions as the name of a SVRF
rule check.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id2fc32d96-6180-4705-84a8-615ff1ccb4af"><span class="keyword ParameterName Required">[</span>/*</dt>
<dd class="dd ArgumentDescription"><p class="p"><span class="keyword ParameterName RequiredReplaceable">        inline TVF runtime script or Tcl procs</span> </p>
<p class="p"><span class="keyword ParameterName Required">*/]</span></p>
<p class="p">A required function block that
contains a runtime script or Tcl procedures. The function block
must contain valid Tcl code. The brackets must appear on separate
lines from the function block. The /* and */ characters are present
to prevent conflicts with embedded Tcl code.</p>
<p class="p">The TVF commands that can appear
in this function block for DRC-style checks are described under “<a class="xref fm:HeadingAndPage" href="Contain_RuntimeTvfCommands_id274925cb.html#id274925cb-a281-4ee0-be9b-47e94e49558d__Contain_RuntimeTvfCommands_id274925cb.xml#id274925cb-a281-4ee0-be9b-47e94e49558d" title="Runtime TVF commands consist of layer functions, supported layer operations, variable functions, and application specific functions.">Runtime TVF Commands</a>”.</p>
<p class="p">TVF commands used for device
recognition are described under “<a class="xref fm:HeadingAndPage" href="General_TvfFunctionalInterfaceDevicePropertyCalculation_idea8bad97.html#idea8bad97-46ea-48f8-aec1-7ee829d325cb__General_TvfFunctionalInterfaceDevicePropertyCalculation_idea8bad97.xml#idea8bad97-46ea-48f8-aec1-7ee829d325cb" title="The TVF functional interface calculates advanced device properties. The Device property computation and annotation languages call Tcl procedures defined in TVF Function statements in the SVRF rule file in order to calculate the properties.">TVF Functional Interface for Device Property Calculation</a>”.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The TVF Function statement defines Tcl code for
two main purposes:</p>
<ul class="ul"><li class="li" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id71f209e6-24bc-462c-8072-aa08bd490f3d"><p class="p">To define a
function called by the <a class="xref" href="Command_TVFLayerOperation_id3bb4b77d.html#id3bb4b77d-2954-4860-97f9-d1c392da5ccb__Command_TVFLayerOperation_id3bb4b77d.xml#id3bb4b77d-2954-4860-97f9-d1c392da5ccb" title="Calls a TVF Function and passes layer parameters to it, then generates a single output layer based upon one or more input layers.">TVF</a> layer operation. The function block is Tcl code that
returns layer data. </p>
</li>
<li class="li" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id7f12b3f3-361a-45b4-bccb-38565d122541"><p class="p">To define
a Tcl procedure or set of procedures called by other Calibre processes.
For example, the following applications use Tcl procedures defined
within a TVF Function block:</p>
<ul class="ul"><li class="li" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id5db876f9-a356-4315-9e2f-d0fd6935db81"><p class="p">The Device
property computation language — See “<a class="xref fm:HeadingAndPage" href="General_TvfFunctionalInterfaceDevicePropertyCalculation_idea8bad97.html#idea8bad97-46ea-48f8-aec1-7ee829d325cb__General_TvfFunctionalInterfaceDevicePropertyCalculation_idea8bad97.xml#idea8bad97-46ea-48f8-aec1-7ee829d325cb" title="The TVF functional interface calculates advanced device properties. The Device property computation and annotation languages call Tcl procedures defined in TVF Function statements in the SVRF rule file in order to calculate the properties.">TVF Functional Interface for Device Property Calculation</a>”. </p>
</li>
<li class="li" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id0ed78eaf-1646-487a-8f7d-43c404b02990"><p class="p">Calibre PERC
— See the <a class="xref LinkItalic" href="../../calbr_perc_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_perc_user'); return false;">Calibre PERC User’s Manual</a>.</p>
</li>
<li class="li" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id78771e10-e6fc-435c-93c2-1389703d5af0"><p class="p">DFM applications
— Some DFM applications support user-defined functions that are
defined by a <a class="xref fm:HeadingOnly" href="Command_DfmFunction_id879454b1.html#id879454b1-404a-412a-8094-fb480f5c3a9f__Command_DfmFunction_id879454b1.xml#id879454b1-404a-412a-8094-fb480f5c3a9f" title="Specifies a user-defined function that can be referenced within expressions for DFM Analyze, DFM Property, or other DFM Function statements.">DFM Function</a> statement.
When used to define a function for the DFM Function statement, the
TVF Function block cannot contain built-in functions, such as functions
in the tvf:: or device:: namespace. </p>
</li>
<li class="li" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id00d7dcc1-0f27-4140-8104-1c4a75a0bb41"><p class="p">Calibre YieldServer script — The <a class="xref fm:HeadingOnly" href="Command_DfmYsAutostart_idfc28a157.html#idfc28a157-db14-4ae9-892a-1621fc2617d0__Command_DfmYsAutostart_idfc28a157.xml#idfc28a157-db14-4ae9-892a-1621fc2617d0" title="Specifies a Calibre YieldServer script to be executed immediately after the calibre -dfm module completes.">DFM YS Autostart</a> statement specifies a Calibre YieldServer script that is
executed immediately after the calibre -dfm module completes execution. </p>
</li>
</ul>
</li>
</ul>
<p class="p">Each TVF Function is independent
of any other TVF Function in the same rule file; hence, there is
no communication between separate TVF function blocks.</p>
<div class="section Subsection" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__idbf11c560-3e24-4ac6-99d2-df9fea50b37f"><h2 class="title Subheading sectiontitle">Accessing Arguments for a TVF Layer Operation</h2><p class="p">The command <a class="xref fm:HeadingOnly" href="Command_TvfgetLayerArgs_ida0f9cdde.html#ida0f9cdde-3acb-4fe2-9f81-7161538244f8__Command_TvfgetLayerArgs_ida0f9cdde.xml#ida0f9cdde-3acb-4fe2-9f81-7161538244f8" title="Imports the layers passed to a TVF Function by a TVF layer operation, and sets up the layer handles. This command must be used once in a TVF Function statement that is called by a TVF layer operation.">tvf::GET_LAYER_ARGS</a> accesses
the layer arguments passed to a TVF function block used for a TVF
layer operation. </p>
</div>
<div class="section Subsection" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__id0b738808-f317-41bc-ba09-7a8f9f153998"><h2 class="title Subheading sectiontitle">Accessing Arguments for a Tcl Procedure</h2><p class="p">Some applications support passing arguments
to the Tcl procedure that is defined by the TVF Function block.
In this case, the function arguments are passed to the procedure
as TVF objects, with one object per argument. To access an argument,
the corresponding object must be evaluated by placing the object
within brackets ([ ]) and the result assigned to a variable. </p>
<p class="p">For example, a numeric object is evaluated with
this Tcl code, where num_arg is the function argument:</p>
<pre class="pre codeblock"><code>set num [$num_arg]</code></pre><p class="p">The value of the Tcl variable num is accessed
with $num, as usual. </p>
<p class="p">Vector objects and other application-specific
objects support subcommands that return specific information or
data about the object. The handling of string objects depends on
the calling application. See the calling application for more information
and examples.</p>
</div>
<div class="section Subsection" id="id7a9f1c9b-4b64-4768-8e1a-ca6b448bb1a7__idecec6c50-4098-4bba-9a9b-9061656b7fd3"><h2 class="title Subheading sectiontitle">Performance
Notes and Multithreading</h2><p class="p">In multithreaded runtime TVF
execution, only one Tcl interpreter is created and all access to
the interpreter is sequential (single-threaded). This means TVF
Function blocks are processed one at a time. This does not apply
to SVRF portions of a rule file that contain elements that support multithreading.
Be sure to use standard Tcl performance coding practices such as
the use of {} in expr statements. Also be aware that operations
like list lookup, list sorting, and management of complex data structures
may take significant time.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Here is an example of using TVF Function,
but without a specific function block:</p>
<pre class="pre codeblock"><code>TVF FUNCTION my_test_func [/*
	<span class="keyword ParameterName OptionalReplaceable">Tcl_code</span>
*/]</code></pre><p class="p">The example shows the use of C-style
comment characters with the opening and closing brackets of TVF
Function. This is necessary to avoid collisions between the SVRF
and Tcl interpretation of brackets within the Tcl code block. This
is explained in more detail in “<a class="xref fm:HeadingAndPage" href="Concept_CodingGuidelinesRuntimeTvf_id5e1140bb.html#id5e1140bb-9c55-4f36-ba7c-6ee553811a14__Concept_CodingGuidelinesRuntimeTvf_id5e1140bb.xml#id5e1140bb-9c55-4f36-ba7c-6ee553811a14" title="Embedded brackets [ ] in Tcl commands within a TVF Function block cause the SVRF compiler to report a syntax error (SYN2) at the initial line number of the TVF Function. A similar error occurs for embedded brackets in a TVF layer operation. This is because the brackets are special characters in SVRF. This error can be avoided in several ways.">Coding Guidelines for Runtime TVF</a>”.</p>
<p class="p">For a complete example of using TVF
Function with a TVF layer operation, see “<a class="xref fm:HeadingAndPage" href="Concept_RuntimeTvfExample_idf7d51292.html#idf7d51292-0e39-451b-a16a-64361485ddea__Concept_RuntimeTvfExample_idf7d51292.xml#idf7d51292-0e39-451b-a16a-64361485ddea" title="This is a simple example to introduce the forms of the SVRF elements supporting runtime TVF.">Runtime TVF Example</a>”. Also see “<a class="xref fm:HeadingAndPage" href="General_TvfFunctionalInterfaceDevicePropertyCalculation_idea8bad97.html#idea8bad97-46ea-48f8-aec1-7ee829d325cb__General_TvfFunctionalInterfaceDevicePropertyCalculation_idea8bad97.xml#idea8bad97-46ea-48f8-aec1-7ee829d325cb" title="The TVF functional interface calculates advanced device properties. The Device property computation and annotation languages call Tcl procedures defined in TVF Function statements in the SVRF rule file in order to calculate the properties.">TVF Functional Interface for Device Property Calculation</a>” for use of TVF Function in
the LVS context.</p>
<p class="p">See “<a class="xref Link" href="../../calbr_perc_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre PERC Example Rule Files', 'calbr_perc_user'); return false;">Calibre PERC Example Rule Files</a>” in the <cite class="cite">Calibre PERC User’s
Manual</cite> for Calibre PERC examples using TVF Function.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuntimeTvf_idb3774edb.html" title="Runtime TVF is Tcl code that appears within a special SVRF element called TVF Function. Runtime TVF allows you to access data generated during a Calibre run.">Runtime TVF</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "TVF Function"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_TVFFunction_id7a9f1c9b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>