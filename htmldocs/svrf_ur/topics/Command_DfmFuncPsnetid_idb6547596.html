<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="PSNETID" />
<meta name="abstract" content="Generates string properties corresponding to node IDs on input layer shapes. When an input shape is promoted, the output string contains the prefix Xm/Xn/.../&lt;ID&gt;, where n, m, and so forth are placement numbers of the instances in the hierarchy where the associated net shape originates. The returned netID is valid in the context of the cell in which the geometry originates. This function supports all layer clustering modes. Used only in DFM Property or DFM Function." />
<meta name="description" content="Generates string properties corresponding to node IDs on input layer shapes. When an input shape is promoted, the output string contains the prefix Xm/Xn/.../&lt;ID&gt;, where n, m, and so forth are placement numbers of the instances in the hierarchy where the associated net shape originates. The returned netID is valid in the context of the cell in which the geometry originates. This function supports all layer clustering modes. Used only in DFM Property or DFM Function." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb6547596-48dd-46aa-af7c-c6a48336c1f7" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>PSNETID</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="PSNETID" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">PSNETID</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">String function for DFM expressions</p>
<p class="shortdesc">Generates string properties corresponding to node IDs
on input layer shapes. When an input shape is promoted, the output
string contains the prefix Xm/Xn/.../&lt;ID&gt;, where n, m, and so forth
are placement numbers of the instances in the hierarchy where the
associated net shape originates. The returned netID is valid in
the context of the cell in which the geometry originates. This function
supports all layer clustering modes. Used only in DFM Property or DFM
Function.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">PSNETID</span><span class="keyword ParameterName Required">(</span><span class="keyword ParameterName RequiredReplaceable">layer</span> [, <span class="keyword ParameterName OptionalReplaceable">ordinal</span>]<span class="keyword ParameterName Required">)</span></p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7__ide073a793-2db4-48ed-9ef4-505d9280902c"><span class="keyword ParameterName RequiredReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required name of a connectivity layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7__idc03e0fba-b0fd-4feb-8a02-4456951bdc8d"><span class="keyword ParameterName OptionalReplaceable">ordinal</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that refers to the
numeric index of a <span class="keyword ParameterName RequiredReplaceable">layer</span> shape.
The <span class="keyword ParameterName OptionalReplaceable">ordinal</span> numbers start
with 1. The numbering sequence of all secondary layer geometries
clustered with a given primary layer is arbitrary, but is consistent
for all expressions within a DFM Property operation. If the <span class="keyword ParameterName OptionalReplaceable">ordinal</span> number
exceeds the number of geometries in the cluster, the expression
evaluation fails; evaluation failure also occurs if the primary
layer object has no secondary layer objects clustered with it. </p>
<p class="p">If <span class="keyword ParameterName OptionalReplaceable">ordinal</span> is
specified and <span class="keyword ParameterName RequiredReplaceable">layer</span> is
the primary layer, the value of <span class="keyword ParameterName OptionalReplaceable">ordinal</span> must
be 1.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">String.</p>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This function is useful when a string type property is needed
rather than a netID type property when processing net IDs and when
information about the instance hierarchy is needed.</p>
<p class="p">If PSNETID is an argument to a <a class="xref fm:HeadingOnly" href="Command_DfmFuncVstring_id53f5f8f0.html#id53f5f8f0-faef-4cb0-9466-9e928de315eb__Command_DfmFuncVstring_id53f5f8f0.xml#id53f5f8f0-faef-4cb0-9466-9e928de315eb" title="Creates a vector of string type properties. Used only in DFM Property and DFM Function.">VSTRING</a> function,
a secondary layer may be referenced without providing an <span class="keyword ParameterName OptionalReplaceable">ordinal</span>.
In this case, the net IDs from secondary layer objects interacting with
primary layer objects are converted to strings and concatenated
into the resulting vector. If there are no secondary layer objects
clustered with a primary layer object, then the vector is empty.</p>
<p class="p">PSNETID is incompatible with the DFM Property INSIDE OF keyword.
Properties generated by PSNETID are ignored if BY CELL or BY NET
are used. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Beginning with the 2016.4 Calibre release, the returned
netID is valid in the context of the cell in which the geometry
originates. In 2016.3 and prior releases, the returned netID was
valid in the context of the cell in which the property expression
is evaluated. To revert to the earlier behavior, set the environment
variable CALIBRE_DFMPROP_OLD_PSNETID to 1. </p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7__ideacc1e29-250f-4d3a-8968-fe5813931b15"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">The following operations return node IDs as string properties
for ngate and pgate polygons:</p>
<pre class="pre codeblock"><code>ngate  = poly and ndiff
pgate  = poly and pdiff

connect metal1 poly by contact

ngate_prop = DFM PROPERTY ngate [id_str = PSNETID(ngate)]
pgate_prop = DFM PROPERTY pgate [id_str = PSNETID(pgate)]</code></pre></div>
<div class="section Subsection" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7__id20a99384-cc8b-4ccc-8d86-8102bfac2be0"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example illustrates the different results that are returned
when a shape is promoted as a result of clustering. </p>
<p class="p">Consider the following layout with three instances of CellA.
Seed layer polygons in the top cell overlap m1 layer shapes in the
rightmost two instances of CellA. </p>
<div class="fig fignone" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7__id49dfbf01-f276-48c4-be7c-49bdce7a9cbc"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/dfm_func_figs/PSNETID_layout.png" /></div><br /></div>
<p class="p">The first DFM Property operation in the following code saves
the NETID and PSNETID values for the m1 shapes to the m1_nets output
layer. No promotion is required for this operation. The second DFM
Property operation clusters shapes on the m1_nets layer with seed
layer polygons and creates the output layer M1_OVERLAP_SEED. Promotion
is required for the two m1 shapes that are clustered with seed layer
polygons at the top level (middle and right instances of CellA).
The operation uses NETPROPERTY to read the m1_net property and saves
it as the seed_m1_net property to the output layer. The operation
uses PSPROPERTY to read the m1_psnet property and saves it as the
seed_m1_psnet property. </p>
<pre class="pre codeblock"><code>LAYER seed   1
LAYER m1     2
CONNECT m1

net_check {
   m1_nets = DFM PROPERTY m1  
		[m1_psnet = PSNETID(m1)] 
		[m1_net = NETID(m1)]

// Create derived seed layer that overlaps with m1 shapes and annotate  
// the derived seed shape with node number from m1 shape
   M1_OVERLAP_SEED = DFM PROPERTY seed m1_nets OVERLAP MULTI
      [seed_m1_net = NETPROPERTY(m1_nets, m1_net, 1)]
      [seed_m1_psnet = PSPROPERTY(m1_nets, m1_psnet,1)]
      [m1_psnet_overlap = PSNETID(m1_nets, 1)]

   DFM RDB m1_nets "net_check.rdb" ALL CELLS CHECKNAME "%_l_"
   DFM RDB M1_OVERLAP_SEED "net_check.rdb" ALL CELLS CHECKNAME "%_l_"
}</code></pre><p class="p">Results are shown in the following figure, where only the original
layers are shown for simplicity:</p>
<div class="fig fignone" id="idb6547596-48dd-46aa-af7c-c6a48336c1f7__iddff3280f-abeb-4ff2-84d3-84f2ec7adb97"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/dfm_func_figs/PSNETID_results.png" /></div><br /></div>
<p class="p"><span class="ph FontProperty HeadingLabel">Calculation details</span>:</p>
<p class="p">[m1_psnet = PSNETID(m1)] and [m1_net = NETID(m1)]</p>
<p class="p BlockIndent">No promotion is required for these two property calculations.
The functions return net IDs as determined in cellA. The property
m1_psnet is a string value. </p>
<p class="p">[seed_m1_net = NETPROPERTY(m1_nets, m1_net, 1)]</p>
<p class="p BlockIndent">Promotion to the top cell is required for the middle
and right instances of CellA. The <a class="xref fm:HeadingOnly" href="Command_DfmFuncNetProperty_id6a0fcec5.html#id6a0fcec5-2f79-41c5-ab02-e7990dcc1917__Command_DfmFuncNetProperty_id6a0fcec5.xml#id6a0fcec5-2f79-41c5-ab02-e7990dcc1917" title="Accesses DFM properties of type netID from objects on the input layer. Supported only in DFM Property and DFM Function.">NETPROPERTY</a> function
translates the m1_net property so that it is meaningful in the current
(top) cell context, resulting in net ID values of 2 and 3. </p>
<p class="p">[seed_m1_psnet = PSPROPERTY(m1_nets, m1_psnet,1)]</p>
<p class="p BlockIndent">Promotion to the top cell is required for the middle
and right instances of CellA. The <a class="xref fm:HeadingOnly" href="Command_DfmFuncPSProperty_id6dcb6ed0.html#id6dcb6ed0-81ba-45d3-860d-17197588e9b3__Command_DfmFuncPSProperty_id6dcb6ed0.xml#id6dcb6ed0-81ba-45d3-860d-17197588e9b3" title="Accesses a string type property from an object on the input layer. The returned string is prefixed by Xn/Xm/.../ to indicate placement hierarchy. Supported only for DFM Property and DFM Function.">PSPROPERTY</a> function
reads the string value m1_psnet and prefixes it with the placement hierarchy
through which the geometry was promoted. The string value m1_psnet
is not affected by promotion. </p>
<p class="p">[m1_psnet_overlap = PSNETID(m1_nets, 1)]</p>
<p class="p BlockIndent">Promotion to the top cell is required for the middle
and right two instances of CellA. The PSNETID function determines
the net ID in the context of the cell of origin and prefixes the result
with the placement hierarchy through which the geometry was promoted.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ReferenceForDfmFunctions_id42c1fcb0.html" title="This section contains the command reference pages for the DFM functions that are valid in DFM Expressions.">Reference for DFM Functions</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/General_NetBasedFunctions_id1340d42b.html" title="Depending on the function, the net based functions access node IDs either from connectivity layers or from derived layers containing properties of type netID. Some functions determine maxima or minima from numeric vectors associated with netID vectors, possibly with summation of tuple values. Net based functions rely on connectivity information being present in the referenced layer. The functions are used in DFM expressions.">Net Based Function Summary</a></div>
<div><a class="link" href="../topics/General_StringFunctions_id7b7971d8.html" title="String functions create or access string properties in DFM expressions.">String Function Summary</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "PSNETID"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmFuncPsnetid_idb6547596.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>