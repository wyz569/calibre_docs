<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Error Reporting in Runtime TVF" />
<meta name="abstract" content="Runtime TVF errors are reported by the Tcl preprocessor in all applications except Device TVF, which reports errors at compilation time." />
<meta name="description" content="Runtime TVF errors are reported by the Tcl preprocessor in all applications except Device TVF, which reports errors at compilation time." />
<meta name="DC.subject" content="TVF, runtime, error reporting with TVF" />
<meta name="keywords" content="TVF, runtime, error reporting with TVF" />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ideb7be51c-c1e1-4d45-a348-f2c9914c3a7f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Error Reporting in Runtime TVF</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Error Reporting in Runtime TVF" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ideb7be51c-c1e1-4d45-a348-f2c9914c3a7f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Error Reporting in Runtime TVF</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Runtime TVF
errors are reported by the Tcl preprocessor in all applications
except Device TVF, which reports errors at compilation time.</span>
</div>
<p class="p">A runtime error is reported
like this:</p>
<pre class="pre codeblock leveled"><code>ERROR: TVF runtime script - &lt;message&gt;
&lt;error details&gt;
while executing run-time TVF script, line &lt;n&gt;</code></pre><p class="p">The line number of the TVF Function or TVF
layer operation initialization section with the error is reported,
not the line number of the SVRF rule file. The SVRF compiler does
not check the TVF code, so the compiler does not have a means of
determining which line in the rule file has the Tcl error. However,
using the error line number issued by the preprocessor, you can trace
the exact line of TVF code where the error is located. </p>
<p class="p">The line number reported by this error is
with respect to the non-blank lines of a given TVF script. Each
script has its lines sequentially numbered, starting from 1. The
text of the error message should give you some idea which TVF Function
generated the error. With that knowledge, you can count the non-blank
lines of the script until you reach the line number shown in the
error message. Or you can simply search your rule file for text
matching the error text.</p>
<p class="p">Coding errors in Device TVF FUNCTION blocks
are reported at compilation time. The error is reported based upon
the line number of the rule file, like this:</p>
<pre class="pre codeblock leveled"><code>*** Error in TVF FUNCTION at line &lt;n&gt; in &lt;rules&gt;
invalid command name "&lt;command&gt;"
    while executing
"&lt;command&gt; ..."</code></pre><pre class="pre codeblock leveled"><code>ERROR: Error TRT4 - This TVF FUNCTION failed to compile: &lt;tvf function&gt;.</code></pre><p class="p">For runtime errors involving layer operation
calls, if you have called “tvf<span class="ph fmvar:double_colon">::</span>echo_svrf
1”, as shown in the “<a class="xref fm:HeadingAndPage" href="Concept_EchoingLayerOperationCallsStdout_id66985ac8.html#id66985ac8-28b6-4b04-add0-a0f6885aeee4__Concept_EchoingLayerOperationCallsStdout_id66985ac8.xml#id66985ac8-28b6-4b04-add0-a0f6885aeee4" title="Calibre normally prints the SVRF lines that are specified by the rule file after they are loaded into the SVRF compiler. However, runtime TVF code is not processed by the SVRF compiler; therefore, calls to layer operations made from a TVF Function are not output by default. To enable the echoing of all layer operation calls to stdout, add the following line to the TVF Function script:">Echoing Layer Operation Calls to stdout</a>”, you can determine
where an error occurs by calling a Tcl proc to set a traceback line
number. You can do so in a TVF Function to get a trace for the output
line. Here is an example of setting the trace line: </p>
<pre class="pre codeblock leveled"><code>tvf<span class="ph fmvar:double_colon">::</span>set_traceback_line 7; # layer operation trace</code></pre><p class="p">You will then see output in the run transcript
like this:</p>
<pre class="pre codeblock leveled"><code>--- TVF:1 tvf<span class="ph fmvar:double_colon">::</span>SETLAYER one_not_two =  @0 NOT @1
--- TVF:2 Calling Drc_new_edge_collection 1 keep
--- TVF:3 Calling Drc_NOT @3 @0 @1
--- TVF:4 Calling Drc_object_count @3
--- TVF:5 tvf<span class="ph fmvar:double_colon">::</span>OUTLAYER  COPY @3
--- TVF:6 Calling Drc_COPY @2 @3
--- TVF:7 Calling Drc_clear_edge_collection 0x2735d30 1
 Traceback forced at TVF layer operation number 7
2: traceLayerOperation Calling Drc_clear_edge_collection 0x2735d30 1
1: tvf<span class="ph fmvar:double_colon">::</span>epilog</code></pre><p class="p">Here you can see where the traceback was
forced and the operations that were performed.</p>
<p class="p">The following command prints a trace of all
TVF layer operation calls during runtime:</p>
<pre class="pre codeblock leveled"><code>tvf<span class="ph fmvar:double_colon">::</span>print_call_stack 1; # trace all layer operation calls</code></pre><p class="p">Using this command can generate many lines
of output; setting “tvf<span class="ph fmvar:double_colon">::</span>print_call_stack
0” after a given number of loop iterations may be helpful in reducing
unwanted traces. The output looks like this:</p>
<pre class="pre codeblock leveled"><code>--- TVF:1 tvf<span class="ph fmvar:double_colon">::</span>SETLAYER one_not_two =  @0 NOT @1
 Traceback forced at TVF layer operation number 0
2: traceLayerOperation {tvf<span class="ph fmvar:double_colon">::</span>SETLAYER one_not_two =  @0 NOT @1}
1: tvf<span class="ph fmvar:double_colon">::</span>SETLAYER one_not_two = {@0 NOT @1}
--- TVF:2 Calling Drc_new_edge_collection 1 keep
 Traceback forced at TVF layer operation number 0
7: traceLayerOperation Calling Drc_new_edge_collection 1 keep
6: getNewLayer type_1
5: NOT @0 @1
4: LeafLayerOperation { @0 NOT @1}
3: parseImplicitLayerDefinition { @0 NOT @1} false top-level
2: tvf<span class="ph fmvar:double_colon">::</span>parseLayerDefinition { @0 NOT @1}
1: tvf<span class="ph fmvar:double_colon">::</span>SETLAYER one_not_two = {@0 NOT @1}</code></pre><div class="section Subsections"><div class="section Subsection" id="ideb7be51c-c1e1-4d45-a348-f2c9914c3a7f__id6bcd8079-68e6-469b-9cc4-590cceefd195"><h2 class="title Subheading sectiontitle">Previous
Runtime TVF Error Message Format</h2><p class="p">For 2014.2 and earlier releases, the runtime
TVF error message was formatted as follows, starting with “***”:</p>
<pre class="pre codeblock leveled"><code>*** Error in TVF runtime script
&lt;error details&gt;
while executing run-time TVF script, line &lt;n&gt;</code></pre><p class="p">The message format was standardized in 2014.3
to start with “ERROR:” or “WARNING:”. To use the earlier message
format, set the following environment variable:</p>
<pre class="pre codeblock leveled"><code>setenv CALIBRE_ENABLE_TRT_OLD_MESSAGING 1</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_RuntimeTvf_idb3774edb.html" title="Runtime TVF is Tcl code that appears within a special SVRF element called TVF Function. Runtime TVF allows you to access data generated during a Calibre run.">Runtime TVF</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Error Reporting in Runtime TVF"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ErrorReportingInRuntimeTvf_ideb7be51c.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>