<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="Rectangle Enclosure" />
<meta name="abstract" content="Constructs a derived polygon layer consisting of rectangles from one layer enclosed by another layer. Intended for complex enclosure checks." />
<meta name="description" content="Constructs a derived polygon layer consisting of rectangles from one layer enclosed by another layer. Intended for complex enclosure checks." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Rectangle Enclosure</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Rectangle Enclosure" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Rectangle Enclosure</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="shortdesc">Constructs a derived polygon
layer consisting of rectangles from one layer enclosed by another
layer. Intended for complex enclosure checks.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">RECTANGLE ENCLOSURE </span><span class="keyword ParameterName RequiredReplaceable">layer1</span> <span class="keyword ParameterName RequiredReplaceable">layer2 </span>[<span class="keyword ParameterName OptionalReplaceable">intersection_filter</span>] <br />
[OUTSIDE ALSO] [ORTHOGONAL ONLY] <span class="keyword ParameterName RequiredReplaceable">rectangle_rule</span> [<span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> …]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__ide07eb4f5-8e5a-443b-b878-a500a72fb9a0"><span class="keyword ParameterName RequiredReplaceable">layer1</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An original layer or a derived
polygon layer. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id597ff7cf-2376-4a56-b423-3d5de13f746a"><span class="keyword ParameterName RequiredReplaceable">layer2</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An original layer or a derived
polygon layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idff8c7296-a7a9-46e9-973e-922628b23eff"><span class="keyword ParameterName OptionalReplaceable">intersection_filter</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional parameter group
that permits intersecting edge pairs to be measured. The value of <span class="keyword ParameterName OptionalReplaceable">intersection_filter</span> takes
the following form:</p>
<p class="p">ABUT [<span class="keyword ParameterName OptionalReplaceable">constraint</span>]
[SINGULAR]</p>
<p class="p">You may specify any combination
of the optional keywords ABUT and SINGULAR in one operation:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idabb2db74-f1b2-4e84-9c65-afc0712d9f64"><p class="p Opt"><span class="keyword ParameterName Optional">ABUT</span> [<span class="keyword ParameterName OptionalReplaceable">constraint</span>]
— Specifies to measure the separation between intersecting edges
in addition to non-intersecting edges (the default). Intersecting
edges are measured only if the appropriate angle between them conforms
to the optional constraint (interpreted in degrees).</p>
<p class="p">The
optional constraint must contain non-negative real numbers less
than 180. Single-operator constraints such as &lt; 90 and &gt; 135
are interpreted as &gt;= 0 &lt; 90 and &gt; 135 &lt; 180. The default
value if you do not specify a constraint is &gt;= 0 &lt; 180.</p>
<p class="p">If the constraint includes
zero in its range (for example, &lt; 90, == 0, &gt;= 0 &lt; 45), then
any edges A of X and B of Y that are coincident inside (see <a class="xref fm:HeadingOnly" href="Command_CoincidentInsideEdge_idf8242b5f.html#idf8242b5f-ea6d-4956-abef-0c4f1a022c3d__Command_CoincidentInsideEdge_idf8242b5f.xml#idf8242b5f-ea6d-4956-abef-0c4f1a022c3d" title="Selects edges or portions of edges that coincide with an edge from a second layer and having the same interior side.">Coincident Inside Edge</a> for a description), are also output. This
is because the angle between the exterior side of A and the interior
side of B is zero. There is no measurement involved in this event,
and polygon containment criteria are not applied.</p>
</li>
<li class="li ArgOption" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id93cc6400-3220-48c9-b0a2-4a3cfe1818c7"><p class="p Opt">SINGULAR
— Instructs dimensional check operations to measure the separation
between the corresponding sides of intersecting edges at points
of polygon singularity. Singularities are point-to-edge or point-to-point polygon
intersections or self-intersections, and are normally design rule
errors. <a class="xref fm:FigureAndPage" href="Command_Enclosure_id9928c11b.html#id9928c11b-e12e-4a3e-8ac9-99ce99c28758__idca068153-480b-4432-8744-c1c9d3a60350">Figure 15</a> shows examples of singularities detected
by an Enclosure operation.</p>
<p class="p">When a dimensional check operation
detects a point of singularity, all edges forming the point of singularity
are measured as if an unconstrained ABUT parameter were specified
in the operation. This overrides any specified ABUT parameter, but
only at the point of singularity.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__ida9558396-0625-4119-8303-d302b6f9fe52">OUTSIDE ALSO</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword that outputs
rectangles from <span class="keyword ParameterName RequiredReplaceable">layer1</span> that
are not enclosed by <span class="keyword ParameterName RequiredReplaceable">layer2</span>.
When you specify OUTSIDE ALSO, rectangles from <span class="keyword ParameterName RequiredReplaceable">layer1</span> outside
or coincident outside with <span class="keyword ParameterName RequiredReplaceable">layer2</span> are
output by the operation (<a class="xref fm:FigureAndPage" href="Command_Enclosure_id9928c11b.html#id9928c11b-e12e-4a3e-8ac9-99ce99c28758__id7b2aabf1-20dc-4741-adb4-f2a27d4855c9">Figure 16</a>). See <a class="xref fm:HeadingOnly" href="Command_OutsideEdge_idc36920a3.html#idc36920a3-9bd9-4649-b177-3f80411d1009__Command_OutsideEdge_idc36920a3.xml#idc36920a3-9bd9-4649-b177-3f80411d1009" title="Selects edges or portions of layer1 edges that are completely outside of polygons from layer2.">Outside Edge</a> or <a class="xref fm:HeadingOnly" href="Command_CoincidentOutsideEdge_id95274bbd.html#id95274bbd-f596-4d59-87e4-b3e496a175ba__Command_CoincidentOutsideEdge_id95274bbd.xml#id95274bbd-f596-4d59-87e4-b3e496a175ba" title="Selects edges or portions of edges that coincide with an edge from a second layer and having the opposite interior side.">Coincident Outside Edge</a> for explanations of related ideas.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id3baff36d-e3f3-4dc1-ac8d-d480788a7e13">ORTHOGONAL ONLY</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword that specifies
only rectangles with edges parallel (respectively) to the database
coordinate axes are processed by the Rectangle Enclosure operation.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id5e478abe-0b7a-400e-a5ca-88ae2678a14e"><span class="keyword ParameterName RequiredReplaceable">rectangle_rule</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">This parameter specifies how <span class="keyword ParameterName RequiredReplaceable">layer1</span> rectangles
enclosed by <span class="keyword ParameterName RequiredReplaceable">layer2</span> are
to be measured. At least one <span class="keyword ParameterName RequiredReplaceable">rectangle_rule</span> must
be provided using the following form:</p>
<p class="p">{<span class="keyword ParameterName Required">GOOD</span> | <span class="keyword ParameterName Required">BAD</span>} {<span class="keyword ParameterName RequiredReplaceable">value1</span> [<span class="keyword ParameterName OptionalReplaceable">metric</span>] <span class="keyword ParameterName RequiredReplaceable">value2</span> [<span class="keyword ParameterName OptionalReplaceable">metric</span>] <span class="keyword ParameterName RequiredReplaceable">value3</span> [<span class="keyword ParameterName OptionalReplaceable">metric</span>] <span class="keyword ParameterName RequiredReplaceable">value4</span> [<span class="keyword ParameterName OptionalReplaceable">metric</span>]}</p>
<p class="p">You must specify either <span class="keyword ParameterName Required">GOOD</span> or <span class="keyword ParameterName Required">BAD</span> followed
by the four <span class="keyword ParameterName RequiredReplaceable">value</span> arguments
shown. The metric argument is optional.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id3a0fd99e-c300-4ffb-a90d-1abba625aeaa"><p class="p Opt"><span class="keyword ParameterName Required">GOOD</span> | <span class="keyword ParameterName Required">BAD</span> —
Controls the type of <span class="keyword ParameterName RequiredReplaceable">rectangle_rule</span> you
are specifying. GOOD-type rectangle rules do not output rectangles
that satisfy them. BAD-type rectangle rules output rectangles that
satisfy them. Under typical circumstances, there should be at least
one GOOD rule in a rule check, otherwise everything on <span class="keyword ParameterName RequiredReplaceable">layer1</span> is
output. This is discussed in detail in the Description section.</p>
</li>
<li class="li ArgOption" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id61920fc2-5b60-4564-938d-6df58c22a1e5"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">value1</span> … <span class="keyword ParameterName RequiredReplaceable">value4</span> —
Non-negative, floating-point numbers used to check edge extensions
of enclosed rectangles. Enclosure spacing is measured as &lt; <span class="keyword ParameterName RequiredReplaceable">valueN</span> for
BAD-type rules and &gt;= <span class="keyword ParameterName RequiredReplaceable">valueN</span> for
GOOD-type rules. Spacing &lt; 0 is not considered. Values of 0 are
incompatible with the OPPOSITE, OPPOSITE EXTENDED, or SQUARE metric.</p>
</li>
<li class="li ArgOption" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id2cfef1b4-c060-44f7-9659-bffb66ee31e7"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">metric</span> —
Controls the measurement metric used within the <span class="keyword ParameterName RequiredReplaceable">rectangle_rule</span>.
(Euclidean with PERPENDICULAR ALSO is the default). This parameter
must be used in conjunction with a <span class="keyword ParameterName RequiredReplaceable">value1</span> … <span class="keyword ParameterName RequiredReplaceable">value4</span> argument.
OPPOSITE, OPPOSITE EXTENDED value, and SQUARE are the other possible
metrics. See “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Metrics', 'calbr_ver_user'); return false;">Metrics</a>”
in the <cite class="cite">Calibre Verification User’s Manual</cite> for a complete
discussion of metrics.</p>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Measures the enclosures of rectangular polygons according to <span class="keyword ParameterName Required">GOOD</span> and <span class="keyword ParameterName Required">BAD</span> rules, <span class="keyword ParameterName Required">GOOD</span> meaning
the polygon is not output when the rule is satisfied and <span class="keyword ParameterName Required">BAD</span> meaning
it is. Once a polygon has been classified as either good or bad,
it is processed by no other <span class="keyword ParameterName RequiredReplaceable">rectangle_rule</span>.
If a polygon is not classified by any <span class="keyword ParameterName Required">GOOD</span> rule,
it is output. For most applications, it is sufficient to specify
all of the possible <span class="keyword ParameterName Required">GOOD</span> rectangle
configurations and let the tool decide which polygons are bad. </p>
<p class="p">Rectangle Enclosure is used for
efficient enclosure checking of rectangles when multiple rules may
apply to the enclosed rectangles. Complex enclosure rules involving
rectangular polygons are handled more efficiently by this operation
than by multiple applications of the <a class="xref fm:HeadingOnly" href="Command_Enclosure_id9928c11b.html#id9928c11b-e12e-4a3e-8ac9-99ce99c28758__Command_Enclosure_id9928c11b.xml#id9928c11b-e12e-4a3e-8ac9-99ce99c28758" title="Measures the separation between the exterior sides of edges from one layer and the interior sides of edges from another layer. Measured edge pairs which satisfy the given constraint are output. Intersecting edge pairs are never measured, by default.">Enclosure</a> operation. An example of such
an enclosure rule follows:</p>
<p class="p BlockIndent">Rule: Contacts must be enclosed by metal by 0.15. However,
two opposite sides can each be as close as 0 if the other two sides
are at least 0.5. Two opposite sides can each be as close as 0.05
if the other two sides are at least 0.4. Two opposite sides can
be as close as 0.1 if the other two sides are at least 0.3. Finally,
if all sides are at least 0.15, then the contact is OK.</p>
<p class="p">You can check this rule as follows
(assuming the contacts must be fully enclosed, and that singularities
and acute abutments are errors):</p>
<pre class="pre codeblock"><code>RECTANGLE ENCLOSURE contact metal ABUT &gt; 0 &lt; 90 SINGULAR OUTSIDE ALSO
          GOOD 0.00  0.50  0.00  0.50
          GOOD 0.05  0.40  0.05  0.40
          GOOD 0.10  0.30  0.10  0.30
          GOOD 0.15  0.15  0.15  0.15</code></pre><p class="p">The tool checks each enclosure
of contact by metal against the four rules in the order they appear.
All four edges of a contact must meet the measurement criteria of
a rule in order for the contact to be classified as GOOD. Any contact
that does not satisfy at least one of the four GOOD rules is output.
Note that you do not need to explicitly specify any BAD conditions
in order for a contact to be classified as BAD.</p>
<p class="p">The following figure shows some
examples of possible results from this check:</p>
<div class="fig fignone" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id47f0a344-d986-45f0-950f-4a0d81b7e93f"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Rectangle Enclosure
Check</span><br /><div class="imagecenter"><img class="image imagecenter" height="385" src="../graphics/rectangle_enclosure_1.png" width="461" /></div><br /></div>
<div class="section Subsection" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__ida83f9d24-9260-4fce-97c7-b1a8a2bb7561"><h2 class="title Subheading sectiontitle">Basic Algorithm
Used for Rectangle Enclosure</h2><p class="p">The operation’s process is as
follows. For each polygon R in <span class="keyword ParameterName RequiredReplaceable">layer1</span> (contact
in the preceding rule check) and enclosing layer Y (metal in the
preceding rule check), do the following:</p>
<ol class="ol"><li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id164d4a42-1903-4cd8-a79d-2df2d80cefcf"><p class="p">If R is not a rectangle, then
it is output and the algorithm continues to the next polygon in <span class="keyword ParameterName RequiredReplaceable">layer1</span>.</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id42fc08f8-8c0b-4221-b241-5bfa15b4344f"><p class="p">If ORTHOGONAL ONLY is specified
and R is not orthogonal to the database axes, the algorithm continues
to the next polygon in <span class="keyword ParameterName RequiredReplaceable">layer1</span>.</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id2ebce691-d02a-4713-9b7f-55e3efa1035e"><p class="p">If OUTSIDE ALSO is specified and
R is <a class="xref fm:HeadingOnly" href="Command_NotInside_id7b73e89c.html#id7b73e89c-ec71-4b3e-9d52-470855632c69__Command_NotInside_id7b73e89c.xml#id7b73e89c-ec71-4b3e-9d52-470855632c69" title="Selects all polygons that do not share all of their area with a polygon from a second layer.">Not Inside</a> of layer Y, then it is output
and the algorithm continues to the next polygon in <span class="keyword ParameterName RequiredReplaceable">layer1</span>.</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idffd7d1fc-79d0-466c-a84e-e80b7b9ceec4"><p class="p">If R satisfies any GOOD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> using
the <a class="xref fm:HeadingOnly" href="#id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id83de23b9-9646-4158-8f87-785c35d21ba7">Material Enclosure Criterion</a>, then it is
not output and the algorithm continues to the next polygon in <span class="keyword ParameterName RequiredReplaceable">layer1</span>.</p>
<p class="p">The Material Enclosure Criterion
minimizes the counterintuitive possibility of additional output
when adding geometry to the second input layer. It is applied to
all fully-enclosed rectangles on <span class="keyword ParameterName RequiredReplaceable">layer1</span>,
as discussed in Example 2, but only when all rules are GOOD.</p>
<div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">A
rectangle R that satisfies Step <a class="xref fm:NumberOnlyBlack" href="#id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idffd7d1fc-79d0-466c-a84e-e80b7b9ceec4">4</a> causes the conditions
in Step <a class="xref fm:NumberOnlyBlack" href="#id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idd92fba21-24e2-43d3-b4b6-0c19685a79ce">5</a> not to be checked.
In such a situation, use the Enclosure operation with the ABUT or
SINGULAR keywords instead.</p>
</div>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idd92fba21-24e2-43d3-b4b6-0c19685a79ce"><p class="p">If ABUT or SINGULAR is specified,
then R is measured according to this operation in Step <a class="xref fm:NumberOnlyBlack" href="#id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id4b22e780-9600-4dc0-975a-77725858b995">6</a> instead of the
default:</p>
<p class="p">ENCLOSURE R Y &lt; delta [ABUT [<span class="keyword ParameterName OptionalReplaceable">constraint</span>]]
[SINGULAR]</p>
<p class="p">The delta is a small positive
value.</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id4b22e780-9600-4dc0-975a-77725858b995"><p class="p">Each individual <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> from
first to last is then examined. A relation satisfies a GOOD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> if
all four components of that relation are satisfied. Likewise, a
relation satisfies a BAD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> if
all four components are satisfied. Determination of whether a specific
component (edge,<span class="keyword ParameterName RequiredReplaceable">value</span> [<span class="keyword ParameterName OptionalReplaceable">metric</span>])
is GOOD or BAD proceeds as follows:</p>
<ol class="ol" type="a"><li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id7940cef3-c69e-4bf5-9ed8-ad7d89ff1fea"><p class="p">Let I = edge NOT OUTSIDE EDGE
Y</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id21c6721c-6931-47e5-bbf2-a9d0be2dfa30"><p class="p">Measure I to Y according to the
operation:</p>
<p class="p">ENCLOSURE I Y &lt; <span class="keyword ParameterName RequiredReplaceable">value</span> ABUT ==
0 [<span class="keyword ParameterName OptionalReplaceable">metric</span>]
MEASURE ALL</p>
<p class="p">If the default Euclidean metric
is used, then the PERPENDICULAR ALSO option (as in <a class="xref fm:HeadingOnly" href="Command_Enclosure_id9928c11b.html#id9928c11b-e12e-4a3e-8ac9-99ce99c28758__Command_Enclosure_id9928c11b.xml#id9928c11b-e12e-4a3e-8ac9-99ce99c28758" title="Measures the separation between the exterior sides of edges from one layer and the interior sides of edges from another layer. Measured edge pairs which satisfy the given constraint are output. Intersecting edge pairs are never measured, by default.">Enclosure</a>, <a class="xref fm:HeadingOnly" href="Command_External_id74082460.html#id74082460-5a3b-4657-afe8-b3b077cb24e5__Command_External_id74082460.xml#id74082460-5a3b-4657-afe8-b3b077cb24e5" title="Measures the separation between the exterior sides of edges from one or two input layers. Measured edge pairs which satisfy the given constraint are output. Intersecting edge pairs are never measured, by default.">External</a>, and <a class="xref fm:HeadingOnly" href="Command_Internal_idbad07e99.html#idbad07e99-116a-4a41-942f-bf038cdcf221__Command_Internal_idbad07e99.xml#idbad07e99-116a-4a41-942f-bf038cdcf221" title="Measures the separation between the interior sides of edges from the input layers. Measured edge pairs that satisfy the given constraint are output. Intersecting edge pairs are not measured by default.">Internal</a> operations) is used.</p>
<p class="p">For a BAD rule, if just a portion of an edge is output by this
operation, then that edge is flagged as BAD.</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__iddd822dbe-caa3-45dc-8fc0-4e51403f8a20"><p class="p">If the <span class="keyword ParameterName RequiredReplaceable">value</span> is
0, then the component is defined to be GOOD in a GOOD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule </span>and
BAD in a BAD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>.</p>
</li>
</ol>
<p class="p">If R satisfies the <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>,
then processing of R is complete. If it is a BAD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>,
then R is output. If it is a GOOD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>,
then R is not output. If R does not satisfy a GOOD <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>,
then it is output (that is, it is considered BAD). The implication
of this step is there must be at least one GOOD <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> in
a given rule check, or all R will be output as bad.</p>
</li>
</ol>
<p class="p">To determine if a rectangle R
satisfies a <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>,
an arbitrary edge on R is chosen and named A. The next edges, in
clockwise order, are named B, C, and D. Eight relations are then constructed,
each with four (edge,value [metric]) components. For example:</p>
<ol class="ol"><li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idcf13a002-9190-4db5-a7b2-a78768d9dde7"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value1</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value2</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value3</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value4</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idc40fc18b-fa2a-435a-9f58-0d80265db67d"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value4</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value1</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value2</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value3</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id4abae597-c675-447d-873a-b1e9cdaea994"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value3</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value4</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value1</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value2</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id65ff9ca6-bca0-4c8b-badb-9f4c65fb2ae2"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value2</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value3</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value4</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value1</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id5e501c50-1060-4e0c-9c69-a289d0591b8c"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value1</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value4</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value3</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value2</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__idad01c48a-063f-4bda-9edc-a577f933d5de"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value4</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value3</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value2</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value1</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__ide5d5e20e-a6f6-4343-ae10-64790c3f090e"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value3</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value2</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value1</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value4</span>)}</p>
</li>
<li class="li" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id65435548-62e0-4634-8359-4f24dd0b92fb"><p class="p">{(A,<span class="keyword ParameterName RequiredReplaceable">value2</span>), (B,<span class="keyword ParameterName RequiredReplaceable">value1</span>), (C,<span class="keyword ParameterName RequiredReplaceable">value4</span>), (D,<span class="keyword ParameterName RequiredReplaceable">value3</span>)}</p>
</li>
</ol>
<p class="p">If any of these relations satisfies
the <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> then
R itself is said to satisfy the <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> and
processing of R is complete. You may specify measurement <span class="keyword ParameterName OptionalReplaceable">metric</span> with
any <span class="keyword ParameterName RequiredReplaceable">value</span> argument
and it would be taken into account in each of these relations as
an (edge,value metric) component.</p>
<p class="p">An orthogonal rectangle R may
be defined on <span class="keyword ParameterName RequiredReplaceable">layer1</span> to
satisfy a GOOD-type <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> prior
to invoking the normal edge measurement procedures. If R is inside
of <span class="keyword ParameterName RequiredReplaceable">layer2</span>,
then the <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span> is
satisfied and no further processing of R is required. Using this
feature minimizes the possibility of introducing errors when adding
geometry on the second input layer, eliminates flat and hierarchical
discrepancies, and improves performance. This situation applies
only when all rules are of the GOOD-type. Refer to <a class="xref fm:HeadingOnly" href="#id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id83de23b9-9646-4158-8f87-785c35d21ba7">Material Enclosure Criterion</a>.</p>
<p class="p">Using all BAD conditions in a
rule check results in all rectangles on <span class="keyword ParameterName RequiredReplaceable">layer1</span> being
output as BAD because a rectangle can either satisfy a BAD condition,
or no condition; in either case, the rectangle is output. This is normally
not useful. Therefore, there should be at least one GOOD condition
a rectangle can satisfy in a rule check. </p>
<p class="p">If you have only a few BAD configurations
to check, specify them first in your rule check followed by a fall-through
GOOD condition (“GOOD 0 0 0 0” classifies any polygon as good). For
example:</p>
<pre class="pre codeblock"><code>RECTANGLE ENCLOSURE contact metal ABUT &gt; 0 &lt; 90 SINGULAR
	BAD 0.1 0.1 0.1 0.1
	GOOD 0 0 0 0</code></pre><p class="p">This example finds contacts that
have less than 0.1 user units of enclosing metal on all four sides.
(Or, if any contact edge has at least 0.1 user units of enclosing
metal, then it is GOOD.) Whatever contacts satisfy the BAD condition
are output, everything else is GOOD. </p>
<p class="p">Returning to the enclosure rule
at the beginning of this section, if “opposite sides” were replaced
by “adjacent sides,” the following applies:</p>
<pre class="pre codeblock"><code>RECTANGLE ENCLOSURE contact metal ABUT &gt; 0 &lt; 90 SINGULAR OUTSIDE ALSO
          GOOD 0.00  0.00  0.50  0.50
          GOOD 0.05  0.05  0.40  0.40
          GOOD 0.10  0.10  0.30  0.30
          GOOD 0.15  0.15  0.15  0.15</code></pre><p class="p">If “opposite sides” were replaced
by “sides,” all possible cases must be considered:</p>
<pre class="pre codeblock"><code>RECTANGLE ENCLOSURE contact metal ABUT &gt; 0 &lt; 90 SINGULAR OUTSIDE ALSO
          GOOD 0.00  0.50  0.00  0.50
          GOOD 0.05  0.40  0.05  0.40
          GOOD 0.10  0.30  0.10  0.30
          GOOD 0.15  0.15  0.15  0.15
          GOOD 0.00  0.00  0.50  0.50
          GOOD 0.05  0.05  0.40  0.40
          GOOD 0.10  0.10  0.30  0.30
          GOOD 0.15  0.15  0.15  0.15</code></pre><p class="p">The default behavior of Rectangle
Enclosure dictates that non-rectangles are not output by the operation
without any further processing. The ORTHOGONAL ONLY keyword causes any
polygon that is not an orthogonal rectangle to be output without
further processing.</p>
</div>
<div class="section Subsection" id="id29fb2ef4-f0d6-4b94-a9ca-76cfd3ddb843__id83de23b9-9646-4158-8f87-785c35d21ba7"><h2 class="title Subheading sectiontitle">Material
Enclosure Criterion</h2><div class="p">Consider the following situation:<br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/rectangle_enclosure_2.png" /></div><br /></div>
<p class="p">The figure on the right has additional
layer Y area surrounding layer X, so it is intuitive that both figures
are classified as GOOD.</p>
<p class="p">However, in the figure on the
right, there are edge pairs (marked in red) that fall within the
OPPOSITE EXTENDED measurement region around the layer X shape; so,
one might expect an error. However, such a result would contradict
the intent of the rule. If the orientation on the left is good,
certainly the orientation on the right should be also.</p>
<p class="p">To allow the right figure to
pass the check, the Material Enclosure Criterion is added internally
by the operation, which ensures that the polygon orientation on
the right passes the check.</p>
<p class="p">This measurement rule expands
X by the dimensions specified in the <span class="keyword ParameterName OptionalReplaceable">rectangle_rule</span>.
There are eight possible configurations for such an expanded rectangle
in a general case. If any of the eight configurations fit inside
the layer Y polygon, then X is considered GOOD and the OPPOSITE
EXTENDED metric is not applied. </p>
<p class="p">The Material
Enclosure Criterion does not apply to 45‑degree rectangles.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Consider the rule:</p>
<p class="p BlockIndent">Contacts must be enclosed by metal1 by at least 0.005.
However, any contact corner must be enclosed by metal at 0.06; that
is, no two portions of contact edges enclosed at less than 0.06,
in an OPPOSITE metric sense, can intersect.</p>
<p class="p">This rule can be checked as follows:</p>
<pre class="pre codeblock"><code>rule {
	X = RECTANGLE ENCLOSURE contact metal1 ABUT &lt; 90 SINGULAR
	OUTSIDE ALSO
	GOOD 0.005 OPPOSITE .06 OPPOSITE 0.005 OPPOSITE .06 OPPOSITE

	ENC X metal1 &lt; 0.005 ABUT &lt; 90 SINGULAR OVERLAP OUTSIDE ALSO

	Y = ENC [X] metal1 &lt; .06 OPPOSITE

	INT Y &lt; 0.01 ABUT == 90 INTERSECTING ONLY 
	// 0.01 is arbitrary.
}</code></pre><p class="p">The Rectangle Enclosure operation
is used here for efficiency. In most designs, errors are the exception
rather than the norm and you expect that almost all contacts would
satisfy the GOOD portion of the Rectangle Enclosure operation. Hence,
X would be very small, or empty. The remainder of the rule would
be very fast. </p>
<p class="p">If Rectangle Enclosure were not
used and, assuming most contacts were constructed as close as possible
to metal1, then</p>
<pre class="pre codeblock"><code>ENC [X] metal1 &lt; 0.06 OPPOSITE</code></pre><p class="p">would generate vast numbers of edges
in layer Y and consume a great deal of time and memory. It would
be much slower than if most contacts were removed with Rectangle Enclosure
first.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceDictionaryPartFour_iddc7b0f44.html" title="This chapter contains descriptions for the statements and operations that can be used in a rule file. These appear in alphabetical order and this chapter contains those starting with letters P through Z.">Reference Dictionary P - Z</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Rectangle Enclosure"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_RectangleEnclosure_id29fb2ef4.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>