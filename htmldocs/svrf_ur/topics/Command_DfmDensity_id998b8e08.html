<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM Density" />
<meta name="abstract" content="Measures the density of the input layer(s) within a user-specified window. The density value is attached as a DFM Property to an output polygon for each window where the density value meets a specified constraint. A user-defined expression may be specified instead of the default density calculation." />
<meta name="description" content="Measures the density of the input layer(s) within a user-specified window. The density value is attached as a DFM Property to an output polygon for each window where the density value meets a specified constraint. A user-defined expression may be specified instead of the default density calculation." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id998b8e08-3e20-424e-a418-7c680f4a0aeb" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM Density</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM Density" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM Density</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="p ContextMGC">License: <a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre YieldEnhancer', 'calbr_admin_gd'); return false;">Calibre YieldEnhancer</a> </p>
<p class="shortdesc">Measures the density of the input layer(s) within a user-specified
window. The density value is attached as a DFM Property to an output
polygon for each window where the density value meets a specified
constraint. A user-defined expression may be specified instead of
the default density calculation. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">DFM Density is similar to the <a class="xref fm:HeadingOnly" href="Command_Density_id9b1d1a3c.html#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__Command_Density_id9b1d1a3c.xml#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b" title="Constructs a derived polygon layer by measuring the density of an input layer within a user-specified window over a specified region of the design.">Density</a> operation,
except that the output layer includes the density value as an attached
DFM Property with the name DV. By default the output polygons are
1 dbu squares. </p>
<p class="p">The arguments for DFM Density are the same as those for the Density
operation, although not all Density arguments are supported. However,
the behavior with INSIDE OF LAYER is different than in Density.
The argument descriptions here are basic; see Density for more detail.</p>
</div>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM DENSITY</span> <span class="keyword ParameterName RequiredReplaceable">layer</span> [<span class="keyword ParameterName OptionalReplaceable">layer</span> ...]  [ ‘[’<span class="keyword ParameterName OptionalReplaceable">expression</span> ‘]’ ] [<span class="keyword ParameterName OptionalReplaceable">constraint</span> ]<br />
   [INSIDE OF { {<span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span>} | EXTENT | {LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span>} }] <br />
   [WINDOW {<span class="keyword ParameterName OptionalReplaceable">wxy</span> | <span class="keyword ParameterName OptionalReplaceable">wx</span> <span class="keyword ParameterName OptionalReplaceable">wy</span>} [STEP {<span class="keyword ParameterName OptionalReplaceable">sxy</span> | <span class="keyword ParameterName OptionalReplaceable">sx</span> <span class="keyword ParameterName OptionalReplaceable">sy</span>}] ]<br />
   [CENTERS <span class="keyword ParameterName OptionalReplaceable">size</span>]<br />
   [GRADIENT [MAX ONLY]]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id2b776f91-e799-4a24-86d9-05f1e4b793a9"><span class="keyword ParameterName RequiredReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">One ore more required polygon layers. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id21992e0d-7779-4b95-b9ee-8f2878a14f7b">‘[’<span class="keyword ParameterName OptionalReplaceable">expression</span> ‘]’</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional expression enclosed in brackets
that performs a calculation involving layer data. The value (based
in user units) of the <span class="keyword ParameterName OptionalReplaceable">expression</span> is
computed within each data capture window. </p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">expression</span> support
is the same as that for the Density operation. The <span class="keyword ParameterName OptionalReplaceable">expression</span> can include
numbers (including numeric variables), operators, parentheses, and
these functions: AREA, SQRT, EXP, LOG, SIN, COS, TAN, MIN, MAX.
See the Density documentation for details. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
If no <span class="keyword ParameterName OptionalReplaceable">expression</span> is
provided, then the density is calculated as the ratio of the area
of the input layer(s) in a data capture window to the area of the
data capture window itself. For one layer input, the default density
calculation returns values between 0 and 1. </p>
<p class="p">The value of the density calculation is attached to the output
layer polygons as a DFM property with the name DV.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__ide1f2e04c-24a9-4a71-87ef-0f46fb94b507"><span class="keyword ParameterName OptionalReplaceable">constraint</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A constraint
that is required unless GRADIENT is specified. The <span class="keyword ParameterName OptionalReplaceable">constraint</span> is
one of those listed in the “Constraint Notation” column of <a class="xref fm:TableAndPage" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__idf28cb715-136e-454e-81a1-e050ea37b1a7">Table 1</a> in the “<a class="xref fm:HeadingOnly" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__Concept_Constraints_id4b42a9dc.xml#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458" title="Certain SVRF layer operations are measurement-oriented and therefore carry constraints. Constraints are ranges of non-negative real numbers; input data that falls within the specified constraint of an operation is generally output as result data.">Constraints</a>” topic. The
constraint “&lt; 0” is not allowed. If GRADIENT is specified, the
constraint “&gt;=0” is used and a constraint is not specified. </p>
<p class="p">If the value of the <span class="keyword ParameterName OptionalReplaceable">expression</span> or
the default density calculation satisfies the <span class="keyword ParameterName OptionalReplaceable">constraint</span>,
then output is generated for the data capture window.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__idf9deb08e-08a9-469f-be50-9c9800f3ccfa">INSIDE OF { {<span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span>} | EXTENT | {LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span>} }</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that defines the data
capture extent within which data capture windows are tiled. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
If INSIDE OF is not specified, the default data capture extent is
the database extent read in at run time. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id84834ba3-ef84-47b8-8e14-cc288e95c2a9"><p class="p Opt">INSIDE
OF <span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span> —
Specifies the lower-left and upper-right corners of a rectangular
data capture extent, in user units. If a coordinate is negative,
it must be enclosed in parentheses ( ). The rectangle should be
orthogonal to the database axes.</p>
</li>
<li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id9a99efe4-210c-475a-b8b1-2b7a883c614e"><p class="p Opt">INSIDE
OF EXTENT — Specifies that the data capture extent is the rectangular
extent of the input <span class="keyword ParameterName RequiredReplaceable">layer</span> arguments.</p>
</li>
<li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id1634086e-0997-4fac-9801-249033c46d04"><p class="p Opt">INSIDE
OF LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span> —
Specifies that data capture extents are the rectangular <span class="keyword ParameterName OptionalReplaceable">extents</span> of
polygons from <span class="keyword ParameterName OptionalReplaceable">layerB</span>.
The <span class="keyword ParameterName OptionalReplaceable">layerB</span> argument
must be an original or derived polygon layer and may not be a <span class="keyword ParameterName RequiredReplaceable">layer</span> argument. </p>
<p class="p">If WINDOW is specified, the data capture windows tile across
the extents of the <span class="keyword ParameterName OptionalReplaceable">layerB</span> polygons.
If WINDOW is not specified, the data capture windows are the extents
of the <span class="keyword ParameterName OptionalReplaceable">layerB</span> polygons. </p>
<div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">It is important that the extents of the
shapes on <span class="keyword ParameterName OptionalReplaceable">layerB</span> do
not overlap—if the extents overlap, the overlapping windows are
merged on output, resulting in incorrect output. </p>
</div>
<p class="p">“INSIDE OF LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span>”
in DFM Density is comparable to “INSIDE OF LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span> BY
EXTENT” in the Density operation. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id21a16216-5ce5-4842-8f18-46fdfbc05196">WINDOW {<span class="keyword ParameterName OptionalReplaceable">wxy</span> | <span class="keyword ParameterName OptionalReplaceable">wx</span> <span class="keyword ParameterName OptionalReplaceable">wy</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that specifies the
dimensions of the data capture window within which the density calculation
is made. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
If you do not specify WINDOW, the default window size is the data capture
extent. See the INSIDE OF keyword set. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id03dd346e-434c-4b3e-ae69-59250803173d"><p class="p Opt">WINDOW <span class="keyword ParameterName OptionalReplaceable">wxy</span> —
Specifies a square window with a height and width of <span class="keyword ParameterName OptionalReplaceable">wxy</span> user
units. The argument <span class="keyword ParameterName OptionalReplaceable">wxy</span> must
evaluate to a positive real number.</p>
</li>
<li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id4e369d2a-c674-48d6-85e2-a48398babf59"><p class="p Opt">WINDOW <span class="keyword ParameterName OptionalReplaceable">wx</span> wy
— Specifies a rectangular window with a width of <span class="keyword ParameterName OptionalReplaceable">wx</span> user
units and a height of <span class="keyword ParameterName OptionalReplaceable">wy</span> user
units. The arguments <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">wy</span> must
evaluate to positive real numbers.</p>
</li>
</ul>
<p class="p">The windows are tiled across a data capture extent, which is
determined by the INSIDE OF keyword set. If the WINDOW is larger
than the data capture extent in the x- or y-direction, then the
WINDOW is truncated at the data capture extent.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id9b32683d-988a-443e-88cd-5ca73a30cbb1">STEP {<span class="keyword ParameterName OptionalReplaceable">sxy</span> | <span class="keyword ParameterName OptionalReplaceable">sx</span> <span class="keyword ParameterName OptionalReplaceable">sy</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that specifies the
grid increment by which data capture windows are tiled within the
data capture extent. STEP can only be used with WINDOW.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
If you do not specify STEP, the default STEP size is the WINDOW dimensions.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id7bf33a02-af77-4e61-b822-dfc2418b7278"><p class="p Opt">STEP <span class="keyword ParameterName OptionalReplaceable">sxy</span> —
Specifies that the windows are tiled to the right and up in increments
of <span class="keyword ParameterName OptionalReplaceable">sxy</span> user
units. The argument <span class="keyword ParameterName OptionalReplaceable">sxy</span> must
evaluate to a positive real number.</p>
</li>
<li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__idf76405fa-d617-411e-8c0b-6e51af3b6fcb"><p class="p Opt">STEP <span class="keyword ParameterName OptionalReplaceable">sx</span> <span class="keyword ParameterName OptionalReplaceable">sy</span> —
Specifies that the windows are tiled incrementally to the right <span class="keyword ParameterName OptionalReplaceable">sx</span> user units
and up <span class="keyword ParameterName OptionalReplaceable">sy</span> user
units. The arguments <span class="keyword ParameterName OptionalReplaceable">sx</span> and <span class="keyword ParameterName OptionalReplaceable">sy</span> must
evaluate to a positive real numbers.</p>
</li>
</ul>
<p class="p">If you specify STEP, the WINDOW size(s) must be integer multiples
of the respective STEP size(s).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__idaa05fcfe-f807-4f02-b1ea-4ffe7b289df2">CENTERS <span class="keyword ParameterName OptionalReplaceable">size</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that specifies the
size of the output polygons. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
By default, the output layer has a 1 dbu square polygon at the center
of each data capture window that satisfies the <span class="keyword ParameterName OptionalReplaceable">constraint</span>. </p>
<p class="p">When CENTERS is specified, the output polygons are squares of <span class="keyword ParameterName OptionalReplaceable">size</span> × <span class="keyword ParameterName OptionalReplaceable">size</span> dimensions, where <span class="keyword ParameterName OptionalReplaceable">size</span> is
a positive floating-point number in user units. The <span class="keyword ParameterName OptionalReplaceable">size</span> must
be smaller than the smallest STEP dimension. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id370f18ad-e904-4b5d-be84-8a29e468be44">GRADIENT [MAX ONLY]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that causes gradient
properties for each data capture window to be attached to the output
layer. Eight gradient values are calculated for each data capture window,
one for each neighboring window of the window being considered.
The maximum gradient value is also calculated. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__idc49cdc48-4019-49b0-8c79-06787180a76a"><p class="p Opt">MAX
ONLY — Optional keyword that specifies to attach only the maximum
gradient value to the output layer. </p>
</li>
</ul>
<p class="p">When GRADIENT is specified, a <span class="keyword ParameterName OptionalReplaceable">constraint</span> cannot
be specified. The constraint “&gt;=0” is used, so that all data capture
windows are output. </p>
<p class="p">The properties GV0 through GV8 are calculated; see “<a class="xref fm:HeadingAndPage" href="#id998b8e08-3e20-424e-a418-7c680f4a0aeb__id17a42ebe-76a3-4110-bca3-209d64c7f1f0">Gradient Property Output</a>”. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Generates a derived polygon layer with an attached DFM Property
containing the value of the <span class="keyword ParameterName OptionalReplaceable">expression</span> or
the default density calculation. The density calculation is performed
in a specified window grid over a specified region of the design.
Output is generated for data capture windows in which the calculated
density value satisfies the <span class="keyword ParameterName OptionalReplaceable">constraint</span>. </p>
<p class="p">DFM Density is similar to the <a class="xref fm:HeadingOnly" href="Command_Density_id9b1d1a3c.html#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__Command_Density_id9b1d1a3c.xml#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b" title="Constructs a derived polygon layer by measuring the density of an input layer within a user-specified window over a specified region of the design.">Density</a> operation,
but has these differences:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id05497b93-c3ca-46c5-86c8-10c62bfcd68a" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.011in" /><col style="width:2.619in" /><col style="width:2.869in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d22622e563"><p class="p">Behavior</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d22622e566"><p class="p">DFM Density</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d22622e569"><p class="p">Density</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e563 "><p class="p">Default output polygon</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e566 "><p class="p">1 dbu square at the center of each data
capture window that satisfies the constraint.</p>
<p class="p">Use the CENTERS keyword to change the size of the output shape.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e569 "><p class="p">Each data capture window that satisfies the
constraint. </p>
<p class="p">Use the CENTERS keyword to get square marker output. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e563 "><p class="p">Attached properties</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e566 "><p class="p">The density value is attached to each output
polygon as a DFM Property with the name DV. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e569 "><p class="p">Properties are not attached to the output layer. </p>
<p class="p">Properties are included in the RDB generated by the RDB keyword. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e563 "><p class="p">INSIDE OF LAYER</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e566 "><p class="p">Data capture extent is the extent of polygons
on <span class="keyword ParameterName OptionalReplaceable">layerB</span>,
comparable to “INSIDE OF LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span> BY EXTENT”
in the Density operation. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e569 "><p class="p">The default INSIDE OF LAYER limits output
so that it is coincident with polygons on <span class="keyword ParameterName OptionalReplaceable">layerB</span>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e563 "><p class="p">GRADIENT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e566 "><p class="p">Attaches gradient properties to the output
layer, where the value is the difference in densities. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d22622e569 "><p class="p">The gradient calculation uses the magnitude
of the density difference, and is therefore always non-negative.
The gradient is used as a constraint in selecting windows that are
output. </p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section Subsection" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id17a42ebe-76a3-4110-bca3-209d64c7f1f0"><h2 class="title Subheading sectiontitle">Gradient
Property Output</h2><p class="p">When the GRADIENT keyword is specified, eight gradient values
are calculated for each data capture window, one for each neighboring
window of the window being considered. The maximum gradient value
is also calculated. The properties GV0 through GV8 are calculated, with
these definitions: </p>
<p class="p BlockIndent">GV0 = MAX(GV1, GV2, GV3, GV4, GV5, GV6, GV7, GV8)</p>
<p class="p BlockIndent">GV&lt;<span class="keyword ParameterName OptionalReplaceable">i</span>&gt;
= Density(W) - Density(W&lt;<span class="keyword ParameterName OptionalReplaceable">i</span>&gt;)</p>
<ul class="ul"><li class="li" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id94e4819a-b954-4b5a-b7b7-c1887407c89b"><p class="p">W is the
window being considered.</p>
</li>
<li class="li" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id7a02c71c-eb40-4019-81fe-fa22d9d40c7f"><p class="p">&lt;<span class="keyword ParameterName OptionalReplaceable">i</span>&gt;
is an integer from 1 to 8. </p>
</li>
<li class="li" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id1fece5c1-caae-49cc-97e3-6ef6352a43ad"><p class="p">W&lt;<span class="keyword ParameterName OptionalReplaceable">i</span>&gt;
is the neighboring window according to <a class="xref fm:Figure" href="#id998b8e08-3e20-424e-a418-7c680f4a0aeb__id033e7831-077c-4ff3-93f3-62863e094448">Figure 1</a>. </p>
</li>
<li class="li" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id4821eed7-21cc-413a-a620-fec8ba05d68f"><p class="p">Density(W)
returns the density of the window, using either the default density calculation
or the density <span class="keyword ParameterName OptionalReplaceable">expression</span>.
Density(W&lt;<span class="keyword ParameterName OptionalReplaceable">i</span>&gt;)
is zero if the window W&lt;<span class="keyword ParameterName OptionalReplaceable">i</span>&gt;
is outside the data capture extent. </p>
</li>
</ul>
<p class="p">If MAX ONLY is specified, only the maximum gradient value GV0
is attached to the output layer. </p>
<div class="fig fignone" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id033e7831-077c-4ff3-93f3-62863e094448"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Density
Gradient for DFM Density</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFM_general/dfm_density_gradientC.png" /></div><br /></div>
<p class="p">The individual gradient values can be positive or negative, therefore
it is possible for the maximum gradient value GV0 to be a positive
value even when a large negative gradient has the largest absolute
value.</p>
<p class="p">If INSIDE OF LAYER is specified, it is important that the polygon
extents on <span class="keyword ParameterName OptionalReplaceable">layerB</span> do
not overlap. If the extents overlap, all gradient properties for
those regions are returned as “nan”, for “not a number”. </p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id92055334-bce2-4510-9dc5-2e6d9cb8b733"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">This example calculates the default density ratio for the combined
layers M3_drawn and M3_fill for the default database extent. The
WINDOW size is square of 100 user units, and the output polygon
is a square of 99 user units, to avoid merging. </p>
<p class="p">The output of the DFM Density operation is used in a DFM Property
operation to select polygons on the region2 layer that overlap any
area with a density ratio less than 0.3. </p>
<pre class="pre codeblock"><code>dfm_density_out = DFM DENSITY  M3_drawn M3_fill &gt;= 0 
                  WINDOW 100 
                  CENTERS 99 

low_R3 = DFM Property region2 dfm_density_out OVERLAP MULTI 
            [ dens = MIN(PROPERTY(dfm_density_out, DV))] &lt; 0.3 </code></pre></div>
<div class="section Subsection" id="id998b8e08-3e20-424e-a418-7c680f4a0aeb__id56aa8b32-6f2f-428e-957f-df7a2283597a"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example includes gradient property values on the output
layer. No constraint is specified when the GRADIENT keyword is used.
The shapes on the output layer are the default: a 1 dbu square polygon
at the center of each data capture window. </p>
<p class="p">A DFM Property operation selects output that has a gradient value
greater than 0.5. </p>
<pre class="pre codeblock"><code>dfm_density_grad = DFM DENSITY  M3_fill WINDOW 100 GRADIENT 

high_grad = DFM Property dfm_density_grad
         [ Ghigh = PROPERTY(dfm_density_grad, GV0)] &gt; 0.5</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmCommands_ide62291e8.html" title="The commands in this section begin with “DFM.”">DFM … Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "DFM Density"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmDensity_id998b8e08.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>