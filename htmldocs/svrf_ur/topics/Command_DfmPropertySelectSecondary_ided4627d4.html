<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM Property Select Secondary" />
<meta name="abstract" content="Creates a derived layer containing those geometries from the specified select layer that meet specified criteria. The select layer may be a secondary layer or the result of an edge or extent layer derivation from the secondary or primary layer. DFM properties are calculated and attached to the output layer." />
<meta name="description" content="Creates a derived layer containing those geometries from the specified select layer that meet specified criteria. The select layer may be a secondary layer or the result of an edge or extent layer derivation from the secondary or primary layer. DFM properties are calculated and attached to the output layer." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ided4627d4-cfb5-4f20-83c6-2e31d793a882" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM Property Select Secondary</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM Property Select Secondary" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM Property Select Secondary</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="p ContextMGC">License: <a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre nmDRC-H', 'calbr_admin_gd'); return false;">Calibre nmDRC-H</a></p>
<p class="shortdesc">Creates a derived layer containing those geometries from
the specified select layer that meet specified criteria. The select
layer may be a secondary layer or the result of an edge or extent layer
derivation from the secondary or primary layer. DFM properties are
calculated and attached to the output layer. </p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><h2 class="title Subheading sectiontitle">Multilayer Operation</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM PROPERTY SELECT SECONDARY</span> <span class="keyword ParameterName RequiredReplaceable">primary_layer</span>  <span class="keyword ParameterName RequiredReplaceable">secondary_layer</span> … <br />
 [<span class="keyword ParameterName OptionalDefault">INTERSECTING</span> <br />
  | { OVERLAP [ABUT ALSO [SINGULAR]] [EXACT] [MULTI | NOMULTI]<br />
    [NOPUSH] [REGION] [<span class="keyword ParameterName Optional">UNMERGED</span>] }<br />
] <br />
[<span class="keyword ParameterName Optional">PRESERVE</span>] <br />
[<span class="keyword ParameterName OptionalReplaceable">per-cluster-property-definition</span> …]<br />
<span class="keyword ParameterName Required">SELECT</span> <span class="keyword ParameterName RequiredReplaceable">input_layer</span>[:EDGE | :EXTENT | :EXTENT_EDGE] [NOMULTI]<br />
[<span class="keyword ParameterName OptionalReplaceable">per-select-geometry-property-definition</span> …]</p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">Single Layer Operation</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM PROPERTY SELECT SECONDARY</span> <span class="keyword ParameterName RequiredReplaceable">primary_layer</span>  <br />
[UNMERGED] <br />
[CORNER]<br />
[<span class="keyword ParameterName OptionalReplaceable">per-cluster-property-definition</span> …]<br />
<span class="keyword ParameterName Required">SELECT</span> <span class="keyword ParameterName RequiredReplaceable">primary_layer</span>{<span class="keyword ParameterName Required">:EDGE</span> | <span class="keyword ParameterName Required">:EXTENT</span> | <span class="keyword ParameterName Required">:EXTENT_EDGE</span>} [NOMULTI]<br />
[<span class="keyword ParameterName OptionalReplaceable">per-select-geometry-property-definition</span> …]</p>
<p class="lines UsageLine">where  all property definitions have the following syntax:<br />
 '[' <span class="keyword ParameterName OptionalReplaceable">property_name</span> = <span class="keyword ParameterName OptionalReplaceable">expression</span> ']' [ ['!'] <span class="keyword ParameterName OptionalReplaceable">constraint</span>] …</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idad175b13-87e9-4940-898f-da233f44216b"><span class="keyword ParameterName RequiredReplaceable">primary_layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument specifying the primary
layer for creating clusters. Each primary layer object is clustered
with zero or more secondary layer objects. The allowed layer types depend
on the mode of operation and the clustering method:</p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id53c27cda-debf-41e8-809d-ec639426b97f"><p class="p">Multilayer
operation — The allowed layer types depend on the clustering mode.
For <span class="keyword ParameterName OptionalDefault">INTERSECTING</span> clustering
(the default), <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> must
be a merged polygon layer. For OVERLAP clustering, <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> can
be a merged or unmerged polygon layer, an edge layer, or an error
layer edge cluster. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id52e7d355-df74-48cb-855b-7175af5678a7"><p class="p">Single layer
operation — The <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> can
be a merged or unmerged polygon layer or an error layer edge cluster.
A secondary layer is created by layer derivation from the primary
layer; see the SELECT keyword and “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__ida90e6f18-f512-4219-a349-ef36771acf13">Single Layer Operation</a>” for details. </p>
</li>
</ul>
<p class="p">If the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> is
an unmerged polygon layer, the UNMERGED keyword is required. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idef6f28fd-6474-4f89-8437-6dd59b538ec0"><span class="keyword ParameterName RequiredReplaceable">secondary_layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument for multilayer operation
that specifies one or more secondary layers. </p>
<p class="p">The allowed layer types are
governed by the method used for assembling clusters:</p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__ida03cdb6a-064f-4579-b325-37962ea760c3"><p class="p">For <span class="keyword ParameterName OptionalDefault">INTERSECTING</span> (the
default), all <span class="keyword ParameterName RequiredReplaceable">secondary_layer</span>s
must be merged polygon layers.</p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id150a15a6-f7cd-4206-8567-c00f82f8cc59"><p class="p">For OVERLAP clustering, the <span class="keyword ParameterName RequiredReplaceable">secondary_layer</span>s
can be any combination of merged or unmerged polygon layers, edge
layers, or error layers. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id5b5306e9-d0a4-468d-a13e-0119f2b7b186"><span class="keyword ParameterName OptionalDefault">INTERSECTING</span> | {OVERLAP [ABUT ALSO [SINGULAR]] [EXACT] [MULTI | NOMULTI] [NOPUSH] [REGION] [UNMERGED]}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword
set used to control how the operation assembles clusters associating
data on <span class="keyword ParameterName RequiredReplaceable">secondary_layer</span>s
with data on the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span>.
These keywords have the same definition as in DFM Property, however,
NODAL is not supported. </p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id635fe123-0e5b-4de7-9639-69b965c1977a"><p class="p">INTERSECTING — A cluster
is defined to be a polygon on the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span>,
plus all <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> polygons
that overlap that polygon. <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> polygons that
partially overlap the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> polygon
are clipped by the primary layer so that only the portions that
overlap the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> are
used in the calculations. This clustering method applies only to
polygon layers, and is the default behavior.</p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id1536f574-c595-4e58-b11f-02003b5c13e0"><p class="p">OVERLAP — A cluster is defined
to be a layout object on the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> plus all
layout objects on a <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> with
which it has a non-zero area of overlap. The <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> layout
objects that partially overlap the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> layout object
are not clipped. </p>
<p class="p">For edge layers, secondary layer edges that are collinear with
the primary layer object are considered part of the cluster. For
error layer edge clusters, if any edge is collinear with the primary
layer object, the error edge cluster is considered part of the cluster.
See the section “<a class="xref fm:HeadingAndPage" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__id16da92f9-09f9-4b07-9f84-06f1fa94b96b">Measurement Function Behavior at Boundaries in DFM Property</a>”.</p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id28ba483b-4174-44db-a670-d891496f708e"><p class="p">ABUT ALSO — Optional secondary
keyword that includes <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> layout
objects that abut the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> layout
object, as well as those that overlap it.</p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idbe112a98-c077-4bc2-aefa-01b07776876a"><p class="p">SINGULAR — Optional secondary
keyword that instructs the operation to consider point interaction
of edges when grouping geometries on primary and secondary layers.
This keyword can only be specified with ABUT ALSO. If SINGULAR is
specified, then two edges, primary and secondary, that share only a
single point that is the end point of one or both edges, are considered interacting.
Similarly, a primary layer polygon and an edge that share only a single
point are considered interacting if this keyword is specified. The
results of this keyword are not valid for polygon-to-polygon interactions.</p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id667383ba-4271-46dc-9ae7-d849666f5f13"><p class="p">EXACT — Optional
secondary keyword that causes only identical geometries to be clustered
together. Identical geometries must be pointwise equivalent—edges must
match, have the same orientation, and be in the same location. </p>
<p class="p">All input layers must be the same type if EXACT is specified.
If the output layer from a DFM Property Singleton operation is used
as a <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span>,
the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> must
be a polygon layer. </p>
<p class="p">EXACT cannot be specified with REGION. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id4e961136-52ce-4f36-85c6-3c5ce1384644"><p class="p">MULTI and NOMULTI — Optional
secondary keywords that control how the operation treats a layout
object on the <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> that
overlaps or abuts more than one <span class="keyword ParameterName RequiredReplaceable">primary_layer</span> layout
object. By default, when a polygon on the <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> can
be grouped into several clusters, the operation assigns the layout
object to one of these clusters arbitrarily and a warning is issued
in the transcript. Specifying either MULTI or NOMULTI overrides
the default behavior as follows:</p>
<p class="p">MULTI — When specified, the operation
assigns such a <span class="keyword ParameterName OptionalReplaceable">secondary_layer</span> layout object
to the cluster for each polygon it overlaps or abuts.</p>
<p class="p">NOMULTI — When specified, the
layout object is assigned to one of these clusters arbitrarily but
no warning is issued in the transcript. That is, NOMULTI suppresses
the ambiguous clustering warning.</p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id998e87b3-12b4-4256-aead-553432e90a8a"><p class="p">NOPUSH — Optional
secondary keyword that instructs the operation to report the DFM
Property results in the cell where the clustering occurred and the property
values were calculated. See “<a class="xref fm:HeadingAndPage" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__idb965aab7-ffea-4bcf-8825-ba06689af4e2">Promotion and Push-Down</a>” with the
DFM Property operation. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id6d8d5ec1-e02d-49c2-873c-d755d4672b27"><p class="p">REGION — Optional secondary
keyword that controls how the operation treats error edge cluster
data for the purpose of forming clusters. This keyword provides
a more flexible interpretation of “overlap”. Without it, only the
overlap of edges is considered. When specified, the operation treats
error data as if the error clusters formed polygons: </p>
<p class="p">Error clusters with two parallel
edges are treated as if they formed trapezoids with vertices located
in the endpoints of the edges. </p>
<p class="p">All other error clusters are treated
as if they were a polygon formed by their convex hulls.</p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idb02f7f9d-229b-4c63-b54d-fc829e76526e"><p class="p">UNMERGED —
Optional keyword that specifies at least one input layer is an unmerged
polygon layer. </p>
<p class="p">If the SELECT layer is an unmerged polygon layer and no layer
derivation is used on the SELECT layer, the output of the operation
is also an unmerged polygon layer. </p>
<p class="p">Unmerged derived polygon layers are supported by a limited number
of operations; see “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Unmerged Polygon Layers', 'calbr_ver_user'); return false;">Unmerged Polygon Layers</a>”
in the <cite class="cite">Calibre Verification User’s Manual</cite>. </p>
</li>
</ul>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id1e691237-0a28-44d5-902a-168c0178be4c">PRESERVE</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that causes DFM properties
on the <span class="keyword ParameterName Required">SELECT</span> layer
to be copied to the output layer. However, a property from the <span class="keyword ParameterName Required">SELECT</span> layer
is not copied if a property of the same name is created in a property
definition. </p>
<p class="p">PRESERVE can only be used in a multilayer operation and when
the :EDGE, :EXTENT, or :EXTENT_EDGE keywords are not used. </p>
<p class="p">When all properties from the <span class="keyword ParameterName Required">SELECT</span> layer
need to be copied to the output layer, PRESERVE is more efficient
than explicitly copying each property with the property access functions,
such as PROPERTY, NETPROPERTY, and so forth. For an example, see “<a class="xref fm:HeadingAndPage" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__id62748f88-19d8-4803-991d-c9c0aaf26079">Example 10</a>” in DFM
Property—the usage in DFM Property Select Secondary is similar. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id5a2ff26e-5ac1-43bf-9fb1-196a34ef0c01">CORNER</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword used to
control how the operation treats edge clusters produced by Calibre
nmDRC measurements between corners of rectangles aligned to the
x and y axes. Because Calibre nmDRC measurements operate on edges,
measurement between corners produces two errors, that is two pair
of edges, rather than one. This can result in faulty error counts
because each corner is counted twice.</p>
<p class="p">Using this keyword instructs
the operation to retain only one of the edge clusters produced from
Calibre nmDRC measurements of corners of rectangles. The operation
selects the edge pair to retain that, if converted to a polygon,
would have the larger area.</p>
<div class="fig fignone" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__d12e360"><span class="figcap"><span class="fig--title-label">Figure 1. </span>DFM Property CORNER</span><br /><div class="imagecenter"><img class="image imagecenter" height="140" src="../graphics/DFM_Property/dfm_property_corner.png" width="327" /></div><br /></div>
<p class="p">This keyword is meaningful
only when used with edge clusters, and is valid only with a single
layer operation. It affects only parallel edge clusters as shown
in the preceding figure. Perpendicular edge clusters are unaffected.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__ide769eb84-4d83-45ee-8eeb-e8764d5665e5"><span class="keyword ParameterName OptionalReplaceable">per-cluster-property-definition</span> …</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies one
or more property definitions that are evaluated for the cluster.
If a constraint is specified, only clusters that satisfy the constraint
are selected for continued processing. The calculated properties
are associated with objects on the select layer. See “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id9659b2e8-81f8-4611-83c0-fc4149f069b7">Per-Cluster Property Definition</a>” for details. </p>
<p class="p">The syntax is the same as <a class="xref fm:HeadingOnly" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__idd7aa9ca8-3dbd-4111-bf8a-52d1bb910bfd">property_definition</a> for the DFM
Property operation. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id94248500-c032-4f77-b127-5720932092e6"><span class="keyword ParameterName Required">SELECT</span> <span class="keyword ParameterName RequiredReplaceable">input_layer</span>[:EDGE | :EXTENT | :EXTENT_EDGE] [NOMULTI]</dt>
<dd class="dd ArgumentDescription"><p class="p">The <span class="keyword ParameterName Required">SELECT</span> keyword
and arguments specify the layer from which objects are selected
for output. See the “Description” section for details about multilayer
and single layer operation. </p>
<p class="p">:EDGE, :EXTENT, and :EXTENT_EDGE indicate that a derivation of
the <span class="keyword ParameterName RequiredReplaceable">input_layer</span>  is used
as the select layer. For example, if the <span class="keyword ParameterName RequiredReplaceable">input_layer</span>  is
gate, gate:EDGE specifies that the edges of the gate layer are output
by the operation. </p>
<p class="p">One of :EDGE, :EXTENT, or :EXTENT_EDGE is required in single
layer operation or if the <span class="keyword ParameterName RequiredReplaceable">input_layer</span> is
the <span class="keyword ParameterName RequiredReplaceable">primary_layer</span>  in
a multilayer operation. The layer derivation keywords are optional
if <span class="keyword ParameterName RequiredReplaceable">input_layer</span> is
a secondary layer. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id2280240f-c8a3-45ad-9bf2-b95c6e42572c"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">input_layer</span> —
A primary or secondary layer. </p>
</li>
</ul>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idce33c63f-584c-4e4d-b7dc-95370067732f"><p class="p Opt"><span class="keyword ParameterName Required">:EDGE</span> —
Returns a layer containing the edges of the objects on the <span class="keyword ParameterName RequiredReplaceable">input_layer</span>.
The <span class="keyword ParameterName RequiredReplaceable">input_layer</span> may
be a merged polygon layer, an error cluster layer, or an unmerged polygon
layer in single layer operation. The type of the returned layer
depends on the <span class="keyword ParameterName RequiredReplaceable">input_layer</span> type
as given in the following table.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id63a8425a-2eb1-43af-915a-73262d0cf76b" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:2.228in" /><col style="width:1.917in" /><col style="width:2.030in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d166256e548"><p class="p"><span class="keyword ParameterName RequiredReplaceable">input_layer</span> type</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d166256e553"><p class="p"><span class="keyword ParameterName RequiredReplaceable">input_layer</span>:EDGE
type</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d166256e558"><p class="p">Output layer type</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e548 "><p class="p">Merged polygon layer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e553 "><p class="p">Edge layer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e558 "><p class="p">Edge layer</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e548 "><p class="p">Unmerged polygon layer</p>
<p class="p">(UNMERGED must be specified)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e553 "><p class="p">Error cluster layer with one edge per cluster</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e558 "><p class="p">Error cluster layer with one edge per cluster</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e548 "><p class="p">Error cluster layer</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e553 "><p class="p">Error cluster layer with one edge per cluster</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e558 "><p class="p">Error cluster layer with one edge per cluster</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li ArgOption" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id38eb66b4-e67e-4f2c-8e29-2fb6e6cf2563"><p class="p Opt"><span class="keyword ParameterName Required">:EXTENT</span> —
Returns a layer containing the bounding boxes of the objects on
the <span class="keyword ParameterName RequiredReplaceable">input_layer</span>.
The <span class="keyword ParameterName RequiredReplaceable">input_layer</span>  may
be any layer type that is supported for the clustering method. The
returned layer is an unmerged polygon layer with one bounding box
polygon per object on the <span class="keyword ParameterName RequiredReplaceable">input_layer</span>. </p>
<p class="p">Degenerate bounding boxes are not returned by the :EXTENT derivation.
Degenerate bounding boxes have a width and/or height of zero, and
result from vertical or horizontal edge input from an edge layer
or an error layer with horizontal or vertical single-edge clusters.
The COUNT function returns zero for such input layer objects, and
measurement functions such as AREA and PERIMETER return zero.</p>
</li>
<li class="li ArgOption" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__ida1a5e784-0329-4501-a3b4-c6d1f1993f1a"><p class="p Opt"><span class="keyword ParameterName Required">:EXTENT_EDGE</span> —
Returns the edges corresponding to the bounding boxes of the objects
on the <span class="keyword ParameterName RequiredReplaceable">input_layer</span>.
The <span class="keyword ParameterName RequiredReplaceable">input_layer</span> may
be any layer type that is supported for the clustering method. The
returned layer is an error cluster layer with one edge per cluster.</p>
<p class="p">The returned layer from :EXTENT_EDGE always contains four edges
for each input object, including objects that result in a degenerate
bounding box. For example, :EXTENT_EDGE operating on a vertical
edge returns two vertical edges with length equal to the edge length,
and two zero-length horizontal edges.</p>
</li>
<li class="li ArgOption" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id51db85aa-1813-435b-a0a5-8d81a183b6bc"><p class="p Opt">NOMULTI
— An optional keyword specifying that at most one select layer geometry
in each cluster is written to the output. </p>
</li>
</ul>
<p class="p">See the “<a class="xref fm:HeadingAndPage" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__id9fa0a6e6-bf13-4e27-b180-10b040b01b04">:EDGE, :EXTENT, and :EXTENT_EDGE Layer Derivation Indicators</a>” with the
DFM Property operation for illustrations of the different derivations.
The section also describes how the layer derivation notation can
be used as the input layer for functions in property expressions.</p>
<p class="p">Also see “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id73634c0f-17f0-4ac4-a190-8b8981867eb0">Clustering with :EDGE, :EXTENT, and :EXTENT_EDGE Layer Derivations</a>”. </p>
<p class="p">The layer derivation keywords :EDGE, :EXTENT, and :EXTENT_EDGE
cannot be used within a DMACRO, but must be passed in as an argument.
See “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id6cdfd761-1574-4608-9fa8-490a34f8ef97">Example 8</a>”. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idcb8656c2-8001-4f08-9b1d-5f257b97b3bf"><span class="keyword ParameterName OptionalReplaceable">per-select-geometry-property-definition</span> …</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies one
or more property definitions that are evaluated on a per-geometry
basis for geometries on the select layer. See “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id203947b1-bcd9-49d7-9cf8-5be3f1a0a068">Per-Select Geometry Property Definition</a>” for details.
If a constraint is specified, only select layer objects that satisfy
the constraint are output. </p>
<p class="p">The syntax is given by <a class="xref fm:HeadingOnly" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__idd7aa9ca8-3dbd-4111-bf8a-52d1bb910bfd">property_definition</a> in the DFM Property
command reference, although the evaluation method is not the same
as for DFM Property.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The operation creates a derived layer containing those geometries
from the select layer that meet the specified criteria. In multilayer
operation the select layer is one of the secondary layers or an
:EDGE, :EXTENT, or :EXTENT_EDGE layer derivation from the primary
layer or a secondary layer. In single layer operation the select
layer is a layer derivation of the primary layer. Properties are
calculated according to the specified property definitions and attached
to each of the geometries on the output layer as DFM Properties. </p>
<p class="p">Unlike <a class="xref fm:HeadingOnly" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__Command_DfmProperty_idf1f176c5.xml#idf1f176c5-0d5a-4406-95d0-b54438157ae8" title="Associates user-defined properties to individual objects on the input layer and creates a derived layer containing only those objects that meet the specified criteria.">DFM Property</a>, DFM
Property Select Secondary does not output geometries from the primary
layer, but instead outputs geometries from the designated select
layer. Properties can be calculated both on a cluster-wide basis
or for the individual geometries on the select layer. </p>
<p class="p">These are the general processing steps. For details on property
calculations, refer to “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id9659b2e8-81f8-4611-83c0-fc4149f069b7">Per-Cluster Property Definition</a>” and “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id203947b1-bcd9-49d7-9cf8-5be3f1a0a068">Per-Select Geometry Property Definition</a>”. </p>
<ol class="ol"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idb2d6b87a-310e-4797-97ed-9d37d3abf5e5"><p class="p">For each
geometry P on the primary layer:</p>
<ol class="ol" type="a"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id8530fc41-2a07-4a6c-9944-65c295c49ab9"><p class="p">Find the
secondary layer objects clustered with P. See “<a class="xref fm:HeadingOnly" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__idc7493d8e-9736-436b-bf69-3342a2fbf7db">Multilayer Operation</a>” and “<a class="xref fm:HeadingOnly" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__ida90e6f18-f512-4219-a349-ef36771acf13">Single Layer Operation</a>” for details. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id67bcc7a9-bdc4-4de7-895c-272a663dea7f"><p class="p">Process the
per-cluster property definition(s). If any property definition includes
a constraint, select only those clusters that satisfy the constraint
for continued processing. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id76fc5fe3-0cf3-470c-92b2-ea153ebfe6bd"><p class="p">Process the
per-select geometry property definition(s). The <span class="keyword ParameterName OptionalReplaceable">per-select-geometry-property-definition</span> allows
for calculation of both per-cluster properties and per-geometry
properties for objects on the select layer. If any property definition includes
a constraint, select only the objects on the select layer that satisfy
the constraint for output. </p>
</li>
</ol>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id9a223545-f04c-4b71-846c-45e3c783af00"><p class="p">If a select
layer object is clustered with more than one primary layer object,
sum each calculated property value over all the clusters that the
object belongs to. A select layer object may be clustered with more
than one primary layer geometry in multilayer operation if OVERLAP
MULTI is specified as the clustering method. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idef182044-f6a9-4d74-ae23-4c84514ed85e"><p class="p">Write the selected
objects to the output layer, including the calculated properties.
The output layer has the following type:</p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__iddc55ea4e-15f7-42f3-902f-8ebff75e4861"><p class="p">For single
layer or multilayer operation with an :EDGE, :EXTENT, or :EXTENT_EDGE
layer derivation for the select layer, the output layer type is described
with the SELECT keyword. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id0befce96-5453-4527-bcd2-bd8dc35e2a23"><p class="p">For multilayer
operation without a layer derivation for the select layer, the output layer
is the same type as the <span class="keyword ParameterName RequiredReplaceable">input_layer</span> specified
with the SELECT keyword.</p>
</li>
</ul>
<p class="p">Geometries on the select layer are written to the output layer
only if these conditions are met: </p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id596bee03-9181-453f-8797-53d734d06490"><p class="p">The select
layer geometry is part of a cluster. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id0833c470-5fdf-4fb3-89b5-11d9b48f0667"><p class="p">All per-cluster-property-definition
constraints, if specified, are met for the cluster. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id97d269e1-c338-4bbc-817f-755e3b6091de"><p class="p">All per-select-geometry-property-definition
constraints, if specified, are met for the select layer geometry. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id0721da09-b8eb-4557-bc7d-d1b315a39b60"><p class="p">All property
expressions evaluate successfully.</p>
</li>
</ul>
<p class="p">A select layer object is only written once to the output layer.
If SELECT … NOMULTI is specified, only one select layer object in
each cluster is written to the output. If a select layer object
is clustered with more than one primary layer geometry, the select
layer object is still only written once to the output layer, even
when OVERLAP MULTI is specified as the clustering method. </p>
</li>
</ol>
<p class="p">See the following sections for important details about the processing
steps.</p>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idc7493d8e-9736-436b-bf69-3342a2fbf7db"><h2 class="title Subheading sectiontitle">Multilayer
Operation</h2><p class="p">In multilayer operation the select layer is one of the secondary
layers or an :EDGE, :EXTENT, or :EXTENT_EDGE layer derivation from
the primary layer or a secondary layer.</p>
<p class="p">Each primary layer object is clustered with one or more secondary
layer objects according to the clustering mode (<span class="keyword ParameterName OptionalDefault">INTERSECTING</span> (default)
or OVERLAP) and associated keywords. The clustering process is the
same as that used for the DFM Property operation. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__ida90e6f18-f512-4219-a349-ef36771acf13"><h2 class="title Subheading sectiontitle">Single
Layer Operation</h2><p class="p">In single layer operation the select layer is one of <span class="keyword ParameterName RequiredReplaceable">primary_layer</span><span class="keyword ParameterName Required">:EDGE</span>, <span class="keyword ParameterName RequiredReplaceable">primary_layer</span><span class="keyword ParameterName Required">:EXTENT</span>,
or <span class="keyword ParameterName RequiredReplaceable">primary_layer</span><span class="keyword ParameterName Required">:EXTENT_EDGE</span>.
The type of the output layer depends on the whether :EDGE, :EXTENT,
or :EXTENT_EDGE is used, and on the primary layer type in the case
of :EDGE. The output layer type is described with the SELECT keyword in
the preceding “Arguments” section. </p>
<p class="p">See the next section for a description of clustering in single
layer operations. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id73634c0f-17f0-4ac4-a190-8b8981867eb0"><h2 class="title Subheading sectiontitle">Clustering
with :EDGE, :EXTENT, and :EXTENT_EDGE Layer Derivations</h2><ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idb01f8a3b-39e1-4029-9f90-59e6a4459455"><p class="p"><span class="ph FontProperty HeadingLabel">Single Layer Operation</span></p>
<p class="p">Each primary layer geometry is clustered with all the shapes
derived from that geometry, and only with those shapes. For example,
with <span class="keyword ParameterName RequiredReplaceable">primary_layer</span><span class="keyword ParameterName Required">:EDGE</span>,
each primary layer geometry is clustered with its own edges. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idd6ddd275-ebbe-468a-b611-8c1c8db2b1a1"><p class="p"><span class="ph FontProperty HeadingLabel">Multilayer Operation</span></p>
<p class="p">Secondary layer objects cluster with primary layer objects as
usual. All derived geometries (:EDGE, :EXTENT, or :EXTENT_EDGE)
for each secondary layer object cluster with the same primary layer
object as the originating secondary layer object. </p>
<div class="fig fignone" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idd208ef39-c3eb-450a-904c-856eb13fbf70"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFM_Property_SS/colon_edge_cluster.png" /></div><br /></div>
</li>
</ul>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id9659b2e8-81f8-4611-83c0-fc4149f069b7"><h2 class="title Subheading sectiontitle">Per-Cluster
Property Definition</h2><p class="p">The per-cluster-property-definition is evaluated in the same
manner as for the DFM Property operation; see <a class="xref fm:HeadingOnly" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__idd7aa9ca8-3dbd-4111-bf8a-52d1bb910bfd">property_definition</a>, “<a class="xref fm:HeadingAndPage" href="Command_DfmProperty_idf1f176c5.html#idf1f176c5-0d5a-4406-95d0-b54438157ae8__id4ba42bba-985b-471c-b73d-80dfae92f5b7">Primary and Secondary Layers and Measurement Function Evaluation</a>” in the
DFM Property command reference, and “<a class="xref fm:HeadingAndPage" href="General_PerShapeFunctionsMeasurements_idd84ea573.html#idd84ea573-94e6-457c-a624-db2594b5b4c6__General_PerShapeFunctionsMeasurements_idd84ea573.xml#idd84ea573-94e6-457c-a624-db2594b5b4c6" title="The arithmetic functions SUM, MIN, MAX, and PRODUCT provide per-shape evaluation of the measurement functions in a DFM expression. Per-shape functions are available in DFM Property, DFM Analyze, and DFM Spec Fill Optimizer, with some restrictions depending on the command. Per-shape evaluation applies to the secondary layers in DFM Property and to any layer in DFM Analyze and DFM Spec Fill Optimizer; without a per-shape function the default behavior for those layers is to sum each measurement over all shapes before evaluating the overall expression.">Per-Shape Evaluation for DFM Measurement Functions</a>”. Expressions
are evaluated in the context of the primary layer object or the
cluster. </p>
<p class="p">The per-cluster property definition enables selection of clusters
based on cluster or primary layer object measurements when a constraint
is included. If the per-cluster-property-definition does not satisfy
the constraint, the cluster is not selected for further processing.</p>
<p class="p">In multilayer operation it is possible for a select layer object
to be clustered with more than one primary layer object if OVERLAP
MULTI is specified. In this case the property values are summed
over each cluster the select layer object belongs to; vectors from
each cluster are concatenated. This summation or concatenation occurs
after the property value has been calculated for each cluster. If
a property type cannot be summed, such as a string or netID, one of
the return values is chosen arbitrarily. See the example and <a class="xref fm:Figure" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__idbef5857b-475b-4981-bcad-5980ee8d6b93">Figure 2</a> in the next section. Note
that this summation of the final property value over clusters is
different from the implicit summation of measurement functions over
secondary layer geometries. </p>
<p class="p">The functions <a class="xref fm:HeadingOnly" href="Command_DfmFuncVTUPLE_ida593b163.html#ida593b163-f89e-4de9-af1c-b626938b2955__Command_DfmFuncVTUPLE_ida593b163.xml#ida593b163-f89e-4de9-af1c-b626938b2955" title="Creates a vector of numeric type properties. It is most useful in DFM Property Select Secondary, where it creates one tuple for each cluster that is grouped with the select geometry.">VTUPLE</a>, <a class="xref fm:HeadingOnly" href="Command_DfmFuncSVTUPLE_id5c1b93ff.html#id5c1b93ff-0903-486f-9add-4019e172fa96__Command_DfmFuncSVTUPLE_id5c1b93ff.xml#id5c1b93ff-0903-486f-9add-4019e172fa96" title="Creates a vector of string type properties. It is most useful in DFM Property Select Secondary, where it creates one tuple for each cluster that is grouped with the select geometry.">SVTUPLE</a>, and <a class="xref fm:HeadingOnly" href="Command_DFMFuncNETVTUPLE_id2d315301.html#id2d315301-7bfa-4726-abc6-5600cbe78a10__Command_DFMFuncNETVTUPLE_id2d315301.xml#id2d315301-7bfa-4726-abc6-5600cbe78a10" title="Creates a vector of netID values. It is most useful in DFM Property Select Secondary, where it creates one tuple for each cluster that is grouped with the select geometry.">NETVTUPLE</a> create
vectors of numeric, string, and netID properties respectively. These
functions are especially useful in DFM Property Select Secondary,
as each function in the argument expression that references a secondary
layer is summed over the cluster when used in the per-cluster property
definition. The tuple count is equal to the number of clusters associated
with the select layer geometry. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id203947b1-bcd9-49d7-9cf8-5be3f1a0a068"><h2 class="title Subheading sectiontitle">Per-Select
Geometry Property Definition</h2><p class="p">The <span class="keyword ParameterName OptionalReplaceable">per-select-geometry-property-definition</span> is
evaluated in the context of each select layer geometry and allows
for calculation of properties for each geometry on the select layer.
Implicit summation of measurement functions that reference the select
layer does not occur, but does still occur for measurement functions
that reference secondary layers that are not the select layer. </p>
<p class="p">Specifically, the per-select-geometry-property-definition is
evaluated as follows:</p>
<ol class="ol"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__ide870774f-f682-4456-b030-761017fd6bfb"><p class="p">Per-cluster
values are calculated for the following function calls:</p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id23c1271c-d7d1-45db-9a68-951fbd8716e4"><p class="p">Calls to
per-shape functions and vector functions referencing any layer,
including the select layer. For example: MAX, MIN, PROD, SUM, VECTOR,
VNETID, VSTRING. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id11fb9773-1d56-4760-8123-aed26cfb79e6"><p class="p">Measurement
functions referencing any layer <span class="ph FontProperty emphasis">except</span> the
select layer. For example: AREA, PERIMETER, LENGTH, EC, EW. </p>
</li>
</ul>
<p class="p">The per-cluster value of these function calls is determined by
iterating over all geometries on the referenced layers. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idf0b8cd9b-8601-43b2-8b36-19461d6ca3b1"><p class="p">Per-select-layer
geometry values are calculated by iterating over all geometries
in the cluster that are on the select layer. Measurement functions
that reference the select layer return a per-geometry value when
used within a per-select-geometry-property-definition.</p>
</li>
</ol>
<p class="p">As with the per-cluster-property-definition, if a select layer
geometry is clustered with more than one primary layer object, the
property values are summed over each cluster the select layer object
belongs to and vectors from each cluster are concatenated. In multilayer
operation it is possible for a select layer object to be clustered
with more than one primary layer object if OVERLAP MULTI is specified.</p>
<p class="p">The following example illustrates how the property definitions
are calculated. Assume the following layer definitions and rule
check: </p>
<pre class="pre codeblock"><code>LAYER layer1 1
LAYER layer2 2
LAYER layer3 3</code></pre><pre class="pre codeblock"><code>areas123 {

   area_l23 = DFM PROPERTY SELECT SECONDARY layer1 layer2 layer3 
         OVERLAP MULTI
         [cluster_area2 = AREA(layer2)]
         [count_1 = COUNT(layer1)]
      SELECT layer2
         [select_area2 = AREA(layer2)] 
         [area3 = AREA(layer3)]
         [count_2 = COUNT(layer2)]
         [count_3 = COUNT(layer3)]
         [vector_area2 = VECTOR(AREA(layer2))]
   
   DFM RDB area_l23 areal23.rdb CHECKNAME "%_l_" 
}</code></pre><p class="p">The following figure shows the layout and a view of the properties
as displayed by Calibre RVE. The primary layer is layer1 and the
select layer is layer2. The topmost layer2 polygon overlaps both
primary layer polygons; this polygon is clustered with both primary
layer polygons due to the presence of the OVERLAP MULTI keywords.
Although the topmost layer2 polygon is included in two clusters,
only one geometry is written to the output layer. The table following
the figure explains each of the property calculations. </p>
<div class="fig fignone" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idbef5857b-475b-4981-bcad-5980ee8d6b93"><span class="figcap"><span class="fig--title-label">Figure 2. </span>DFM Property
Select Secondary Property Calculations</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/dfm_prop_select_sec.png" /></div><br /></div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id4de1d0b7-ae02-4bf2-a587-f7f409f79891" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.411in" /><col style="width:0.970in" /><col style="width:4.120in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d166256e901"><p class="p">Property</p>
<p class="p">[function call]</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d166256e906"><p class="p">Context</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d166256e909"><p class="p">Comments</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">cluster_area2 </p>
<p class="p">[area(layer2)]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">cluster</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Calculates the total area of layer2 objects
for the cluster. For Result 1, the area of the topmost polygon is
counted twice because the polygon is included in two clusters. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">select_area2</p>
<p class="p">[AREA(layer2)]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">select geometry</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Calculates the area of each layer2 object.
For Result 1, the polygon is part of two clusters, so the value
of select_area2 is summed over those two clusters. For Result 2
and Result 3, the polygons belong to only one cluster, so the individual
area is reported. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">vector_area2</p>
<p class="p">[VECTOR(AREA(layer2))]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">select geometry</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Creates a vector consisting of the areas
of the layer2 objects in the cluster. For Result 1, the topmost
layer2 polygon is part of two clusters, so the vector results from
each cluster are concatenated, resulting in the area of the topmost polygon
appearing twice. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">area3</p>
<p class="p">[AREA(layer3)]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">select geometry</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Calculates the total area of layer3 polygons
in the cluster. The AREA measurement function is automatically summed over
the cluster because layer3 is not the select layer. For Result 1
the area3 property for both clusters is summed. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">count_1</p>
<p class="p">[COUNT(layer1)]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">cluster</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Counts the number of layer1 (the primary
layer) polygons in the cluster. For Result 1 the count_1 value from
both clusters is summed. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">count_2</p>
<p class="p">[COUNT(layer2)]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">select geometry</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Counts the number of layer2 (the select
layer) polygons for each select layer object. For Result 1 the count_2
value from both clusters is summed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e901 "><p class="p">count_3</p>
<p class="p">[COUNT(layer3)]</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e906 "><p class="p">select geometry</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d166256e909 "><p class="p">Counts the number of layer3 polygons in
the cluster. The value is summed over the cluster because layer3
is not the select layer. For Result 1 the count_3 value from both clusters
is summed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"> </p>
<p class="p">The functions <a class="xref fm:HeadingOnly" href="Command_DfmFuncVTUPLE_ida593b163.html#ida593b163-f89e-4de9-af1c-b626938b2955__Command_DfmFuncVTUPLE_ida593b163.xml#ida593b163-f89e-4de9-af1c-b626938b2955" title="Creates a vector of numeric type properties. It is most useful in DFM Property Select Secondary, where it creates one tuple for each cluster that is grouped with the select geometry.">VTUPLE</a>, <a class="xref fm:HeadingOnly" href="Command_DfmFuncSVTUPLE_id5c1b93ff.html#id5c1b93ff-0903-486f-9add-4019e172fa96__Command_DfmFuncSVTUPLE_id5c1b93ff.xml#id5c1b93ff-0903-486f-9add-4019e172fa96" title="Creates a vector of string type properties. It is most useful in DFM Property Select Secondary, where it creates one tuple for each cluster that is grouped with the select geometry.">SVTUPLE</a>, and <a class="xref fm:HeadingOnly" href="Command_DFMFuncNETVTUPLE_id2d315301.html#id2d315301-7bfa-4726-abc6-5600cbe78a10__Command_DFMFuncNETVTUPLE_id2d315301.xml#id2d315301-7bfa-4726-abc6-5600cbe78a10" title="Creates a vector of netID values. It is most useful in DFM Property Select Secondary, where it creates one tuple for each cluster that is grouped with the select geometry.">NETVTUPLE</a> can also
be used in the per-select layer property definition. The behavior
depends on whether the layer (if any) referenced in the argument
expression is the select layer or a secondary layer that is not
the select layer. See the function descriptions for details. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id96c97c4a-f671-4f8f-8e91-13ac86da0064"><h2 class="title Subheading sectiontitle">Debugging
Compiler Errors</h2><p class="p">Some compiler errors are not specific as to the exact cause of
the error. Always check that input layers and keywords obey the
syntax rules and input restrictions. Some common problems that cause
a compiler error are the following:</p>
<ul class="ul"><li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id4318e99a-cd55-4a14-a2c2-cad69d84449f"><p class="p">The UNMERGED
keyword is not specified with unmerged layer input. </p>
</li>
<li class="li" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id12bcf01b-8182-4e28-8c6e-6cdeb9ef9509"><p class="p">With INTERSECTING
clustering, a <span class="keyword ParameterName RequiredReplaceable">secondary_layer</span> is
not a merged polygon layer. </p>
</li>
</ul>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id3db3be0b-38b3-468b-a6c4-64646ef386d7"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">Assume SL is an edge layer. The operation copies to the output
layer the longest edge on SL that is clustered with each primary
layer object. </p>
<pre class="pre codeblock"><code>output = DFM PROPERTY SELECT SECONDARY PL SL OVERLAP MULTI SELECT SL
         [- = ( LENGTH( SL ) == MAX( LENGTH( SL ) ) ) ? 1 : 0 ] == 1</code></pre><p class="p">Only SL geometries clustered with a PL layer object are processed.
MAX( LENGTH(SL) ) is processed first to determine the per-cluster
maximum edge length for SL. Next, the property expression is evaluated
for each select layer geometry, using the already computed value
for MAX( LENGTH(SL) ). Only edges that are equal to the maximum
edge length for the cluster are written to the output layer. No
properties are written to the output layer because “-” is used as
the property name to indicate a temporary property (see “<a class="xref fm:HeadingAndPage" href="Concept_NonpersistentDfmProperties_id8ab0f6ff.html#id8ab0f6ff-7157-4b24-9502-2959e7f708fe__Concept_NonpersistentDfmProperties_id8ab0f6ff.xml#id8ab0f6ff-7157-4b24-9502-2959e7f708fe" title="Non-persistent properties are properties that are not saved to the output layer created by the DFM Property operation. Non-persistent properties are used to filter the input layer(s) when satisfying the constraint is important, but the exact value is not.">Non-Persistent DFM Properties</a>”). </p>
<p class="p">Specify “SELECT SL NOMULTI” in order to write only one select
layer edge per cluster to the output. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id453a6e1d-9016-4a75-83a8-6446d32aeb81"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">Assume that L1, L2, and L3 are polygon layers, where L1 is the
primary layer and L2 is the select layer. </p>
<pre class="pre codeblock"><code>output = DFM PROPERTY SELECT SECONDARY L1 L2 L3 OVERLAP MULTI SELECT L2
         [ X = AREA( L2 ) + AREA( L3 ) ]</code></pre><p class="p">Only L2 geometries clustered with an L1 layer polygon are processed.
For each such polygon P on L2, AREA(L2) returns the area of P in
the cluster because L2 is the select layer, while AREA(L3) returns
the sum of areas of all geometries on L3 in the cluster. </p>
<p class="p">Each polygon P on L2 that is part of a cluster is written once
to the output layer, even if the polygon belongs to more than one
cluster. If P is clustered with more than one primary layer geometry,
the value of X is summed for each cluster that P belongs to. For
this example, X is the area of P times the number of clusters to
which P belongs, plus the sum over those clusters of the total area
of L3 polygons in each cluster.</p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id6a089e68-6c4d-4377-9027-910847e93c8e"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">For each primary layer object that is clustered with at least
five objects on the select layer, output all the select layer geometries
with the largest area:</p>
<pre class="pre codeblock"><code>output = DFM PROPERTY SELECT SECONDARY L1 L2
           [ - = COUNT(L2) ] &gt; 4
         SELECT L2
           [ - = ( AREA( L2 ) == MAX( AREA( L2 ) ) ) ? 1 : 0 ] == 1</code></pre><p class="p">The default clustering method (INTERSECTING) is used, so secondary
layer (L2) polygons are clipped at the boundary of the primary layer
(L1) object. No properties are written to the output geometries. </p>
<p class="p">Use SELECT L2 NOMULTI to output only one select layer object
per cluster. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id4366101a-2da6-429b-aa7e-43f208ee0570"><h2 class="title Subheading sectiontitle">Example
4</h2><p class="p">This example demonstrates single layer operation with merged
polygon input (layer3). The property definition finds a longest
edge on each polygon. </p>
<pre class="pre codeblock"><code>max_edge = DFM PROPERTY SELECT SECONDARY layer3
           SELECT layer3:EDGE NOMULTI
             [len = LENGTH(layer3:EDGE)]
  [ - = (LENGTH(layer3:EDGE) == MAX(LENGTH(layer3:EDGE))) ? 1 : 0 ] == 1</code></pre><p class="p">The edge length is attached to each output edge as property “len.”
The NOMULTI keyword is used so that only one edge per polygon is
written to the output layer, otherwise two edges would be written
for a rectangle, four edges for a square, and so on. </p>
<p class="p">LENGTH is used to measure the length because layer3:EDGE is an
edge layer. See the next example for a case in which the primary
layer is an unmerged polygon layer and EC must be used to measure
the length. </p>
<p class="p">For an example of how to construct a DMACRO for this operation,
see “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id6cdfd761-1574-4608-9fa8-490a34f8ef97">Example 8</a>”. The :EDGE
notation cannot be used within the DMACRO, but must be passed in
as an argument. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id704eeeaf-b6ce-4f82-ab25-98a0fa8ab20c"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">This example demonstrates single layer operation with unmerged
polygon input (poly_unm); the UNMERGED keyword is required. The
property definition finds the longest edge on each polygon. </p>
<pre class="pre codeblock"><code>layer3_ext = EXT layer3 &lt;= .2
poly_unm = DFM COPY layer3_ext REGION UNMERGED

max_edge = DFM PROPERTY SELECT SECONDARY poly_unm UNMERGED 
           SELECT poly_unm:EDGE NOMULTI
             ["len" = EC(poly_unm:EDGE)]
       [ - = (EC(poly_unm:EDGE) == MAX( EC(poly_unm:EDGE))) ? 1 : 0 ] == 1</code></pre><p class="p">The edge length is attached to each output edge as property “len.”
The NOMULTI keyword is used so that only one edge per polygon is
written to the output layer, otherwise two edges would be written
for a rectangle, four edges for a square, and so on. </p>
<p class="p">EC is used to measure the length because poly_unm:EDGE is an
error cluster layer with one edge per cluster. See the previous
example for a case in which the primary layer is a merged polygon
layer and LENGTH must be used to measure the length. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__ideecc9c1d-8eec-4eb5-b5a0-31fa444f55c8"><h2 class="title Subheading sectiontitle">Example
6</h2><p class="p">This example demonstrates single layer operation with error layer
input. The property definition finds the longest edges in each error
cluster. </p>
<pre class="pre codeblock"><code>layer3_ext = EXT layer3 &lt;= 1.9
max_edge = DFM PROPERTY SELECT SECONDARY layer3_ext 
           SELECT layer3_ext:EDGE
             ["len" = EC(layer3_ext:EDGE)]
   [ - = (EC(layer3_ext:EDGE) == MAX(EC(layer3_ext:EDGE))) ? 1 : 0 ] == 1</code></pre><p class="p">EC is used to measure the length because layer3_ext:EDGE is an
error cluster layer with one edge per cluster. </p>
</div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__idf48c1312-19e0-4ce8-a776-6fc64346bc5b"><h2 class="title Subheading sectiontitle">Example
7</h2><p class="p">This example checks polygon extents in the x direction. The output
is an unmerged layer consisting of the extent shapes that meet the
condition. Unlike the Extents operation, the extents output is unmerged. </p>
<pre class="pre codeblock"><code>X_extent {
DFM PROPERTY SELECT SECONDARY layer1
      [ - = ECX(layer1:EXTENT_EDGE) ] &lt; 8
      SELECT layer1:EXTENT
}</code></pre></div>
<div class="section Subsection" id="ided4627d4-cfb5-4f20-83c6-2e31d793a882__id6cdfd761-1574-4608-9fa8-490a34f8ef97"><h2 class="title Subheading sectiontitle">Example
8</h2><p class="p">This example demonstrates how to write a DMACRO using a :EDGE
layer derivation keyword. The :EDGE notation cannot be used within
the DMACRO but must be passed in as an argument. This is also true
for the :EXTENT and :EXTENT_EDGE layer derivation keywords. The
example outputs the long edges of a polygon and is a slightly different
implementation of “<a class="xref fm:HeadingAndPage" href="#ided4627d4-cfb5-4f20-83c6-2e31d793a882__id4366101a-2da6-429b-aa7e-43f208ee0570">Example 4</a>”. </p>
<pre class="pre codeblock"><code>// input_poly is layer
// input_poly_edge is layer:EDGE
DMACRO GET_LONG_EDGE <span class="ph CodeHighlight green">input_poly</span> <span class="ph CodeHighlight orange">input_poly_edge</span> output_edge_layer {
output_edge_layer = DFM PROPERTY SELECT SECONDARY <span class="ph CodeHighlight green">input_poly</span> 
      [maxlen = MAX(LENGTH(<span class="ph CodeHighlight orange">input_poly_edge</span>))]
      SELECT <span class="ph CodeHighlight orange">input_poly_edge</span>
      [- = (LENGTH(<span class="ph CodeHighlight orange">input_poly_edge</span>) == PROPERTY_REF(maxlen)) ? 1 : 0] == 1
}
CMACRO GET_LONG_EDGE <span class="ph CodeHighlight green">MET1</span> <span class="ph CodeHighlight orange">MET1:EDGE</span> long_edges</code></pre><p class="p">The following DMACRO incorrectly uses the :EDGE notation within
the DMACRO. The error “Error RES2 on line 38 of rules - undefined
layer name parameter: input_poly_layer:EDGE” is issued. </p>
<pre class="pre codeblock"><code>// wrong way 
DMACRO ERROR_LONG_EDGE <span class="ph CodeHighlight red">input_poly_layer</span> output_edge_layer {
output_edge_layer = DFM PROPERTY SELECT SECONDARY <span class="ph CodeHighlight red">input_poly_layer</span> 
            [maxlen = MAX(LENGTH(<span class="ph CodeHighlight red">input_poly_layer</span>:EDGE))]
            SELECT <span class="ph CodeHighlight red">input_poly_layer</span>:EDGE
            [- = (LENGTH(<span class="ph CodeHighlight red">input_poly_layer</span>:EDGE) == PROPERTY_REF(maxlen)) ? 
1 : 0] == 1
}
CMACRO ERROR_LONG_EDGE <span class="ph CodeHighlight red">MET1</span> long_edges_error</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmCommands_ide62291e8.html" title="The commands in this section begin with “DFM.”">DFM … Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "DFM Property Select Secondary"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmPropertySelectSecondary_ided4627d4.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>