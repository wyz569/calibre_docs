<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM RDB DEF" />
<meta name="abstract" content="Backannotates objects (such as VIA, NET, and FILL enhancement shapes) from Calibre layer operations to a new incremental or full DEF layout. You directly merge backannotation enhancement shapes with an existing DEF or generate an incremental DEF to read in a place and route tool." />
<meta name="description" content="Backannotates objects (such as VIA, NET, and FILL enhancement shapes) from Calibre layer operations to a new incremental or full DEF layout. You directly merge backannotation enhancement shapes with an existing DEF or generate an incremental DEF to read in a place and route tool." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM RDB DEF</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM RDB DEF" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM RDB DEF</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="p ContextMGC">License: <a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre RealTime Digital', 'calbr_admin_gd'); return false;">Calibre RealTime Digital</a></p>
<p class="shortdesc">Backannotates objects (such as VIA, NET, and FILL enhancement
shapes) from Calibre layer operations to a new incremental or full
DEF layout. You directly merge backannotation enhancement shapes
with an existing DEF or generate an incremental DEF to read in a
place and route tool. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">See “<a class="xref Link" href="../../calbr_lvl_fdi_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Directly Backannotating to DEF Using SVRF', 'calbr_lvl_fdi_gd'); return false;">Directly Backannotating to DEF Using SVRF</a>” in the <cite class="cite">Calibre Layout Comparison
and Translation Guide</cite> for usage information.</p>
</div>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM RDB DEF</span> <span class="keyword ParameterName RequiredReplaceable">filename</span> { <span class="keyword ParameterName RequiredReplaceable">layer_name</span>  … }<br />
   {<span class="keyword ParameterName Required">LAYERMAP</span> {<span class="keyword ParameterName RequiredReplaceable">lefdef_layer_name</span> <span class="keyword ParameterName RequiredReplaceable"> object_type</span>[:<span class="keyword ParameterName OptionalReplaceable">mask_num</span>]  <span class="keyword ParameterName RequiredReplaceable">input_layer_name</span>}}…<br />
   [<span class="keyword ParameterName Optional">ANNOTATEOBJECT</span> [<span class="keyword ParameterName OptionalDefault">ALL</span>] [<span class="keyword ParameterName Optional">FILLS</span>] [<span class="keyword ParameterName Optional">BLOCKAGES</span>] [<span class="keyword ParameterName Optional">NETS</span>] [<span class="keyword ParameterName Optional">SPECIALNETS</span>]<br />
      [<span class="keyword ParameterName Optional">VIAS</span>]]<br />
   [<span class="keyword ParameterName Optional">DEFMODE</span> {<span class="keyword ParameterName OptionalDefault">ENH</span> | <span class="keyword ParameterName Optional">FULL</span> | <span class="keyword ParameterName Optional">ECO</span>}]<br />
   [DETECTARRAYVIAS {<span class="keyword ParameterName OptionalDefault">NO</span> | YES} [ARRAYVIASPACING <span class="keyword ParameterName OptionalReplaceable">layer</span> <span class="keyword ParameterName OptionalReplaceable">spacing</span>] …]<br />
   [DIEAREA {ENH | DEF | {(<span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span>) (<span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span>) [( <span class="keyword ParameterName OptionalReplaceable">xn</span> <span class="keyword ParameterName OptionalReplaceable">yn</span> ) …]} | NONE}]<br />
   [<span class="keyword ParameterName Optional">INCOMPLETEVIAMODE</span> {<span class="keyword ParameterName OptionalDefault">FIX</span> |<span class="keyword ParameterName Optional"> IGNORE</span> | <span class="keyword ParameterName Optional">AS_NET</span>}]<br />
   [INPUTDEF <span class="keyword ParameterName OptionalReplaceable">filename</span>]<br />
   [INPUTLEF <span class="keyword ParameterName OptionalReplaceable">filename</span>]<br />
   [<span class="keyword ParameterName Optional">NETPROPERTYNAME</span> <span class="keyword ParameterName OptionalReplaceable">net_property_name</span>]<br />
   [<span class="keyword ParameterName Optional">NEWNETMODE</span> {<span class="keyword ParameterName OptionalDefault">IGNORE</span> | <span class="keyword ParameterName Optional">NETS</span> | <span class="keyword ParameterName Optional">SPECIALNETS</span>} {[<span class="keyword ParameterName OptionalDefault">SIGNAL</span>] [<span class="keyword ParameterName Optional">ANALOG</span>] <br />
      [<span class="keyword ParameterName Optional">CLOCK]</span> [<span class="keyword ParameterName Optional">GROUND]</span> [<span class="keyword ParameterName Optional">POWER</span>] [<span class="keyword ParameterName Optional">RESET</span>] [<span class="keyword ParameterName Optional">SCAN]</span> [<span class="keyword ParameterName Optional">TIEOFF</span>]} ]<br />
   [<span class="keyword ParameterName Optional">OUTPUTDEFPRECISION</span> <span class="keyword ParameterName OptionalReplaceable">precision</span>]<br />
   [<span class="keyword ParameterName Optional">OUTPUTLEF</span> <span class="keyword ParameterName OptionalReplaceable">filename</span>]<br />
   [<span class="keyword ParameterName Optional">RDBPATH</span> <span class="keyword ParameterName OptionalReplaceable">filename</span>]<br />
   [<span class="keyword ParameterName Optional">SUMMARYREPORT</span> <span class="keyword ParameterName OptionalReplaceable">filename</span>]<br />
   [<span class="keyword ParameterName Optional">VIAMODE</span> {<span class="keyword ParameterName OptionalDefault">DEF</span> | <span class="keyword ParameterName Optional">LEF</span> | <span class="keyword ParameterName Optional">NEWLEF</span>}]<br />
   [<span class="keyword ParameterName Optional">VIANAMEPREFIX</span> <span class="keyword ParameterName OptionalReplaceable">via_name_prefix</span>] <br />
   [<span class="keyword ParameterName Optional">VIASTACK</span> {<span class="keyword ParameterName OptionalReplaceable">bottom_layer_name</span>  <span class="keyword ParameterName OptionalReplaceable">cut_layer_name</span>  <span class="keyword ParameterName OptionalReplaceable">top_layer_name</span>}]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id44ac55af-6f6b-4e1d-9ac1-23b7aa499d68"><span class="keyword ParameterName RequiredReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Required path to a new output DEF file.
For incremental DEF output, the generated file contains the standard
DEF header and backannotated VIA, NET, SPECIALNET, FILL, BLOCKAGE
sections. For full DEF output, the file includes all objects and
statements from the original DEF file and the merged enhancement
shapes. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The specified file must not exist. To compress the file,
include <span class="ph filepath">.gz</span> in the <span class="keyword ParameterName RequiredReplaceable">filename</span>.</p>
</div>
<p class="p">The header in the generated file contains required DEF data,
such as the DEF version, design name, units, and die area info.
For example: </p>
<pre class="pre codeblock"><code>VERSION DEF_version;
DIVIDERCHAR "/";
BUSBITCHARS "[]";
DESIGN design_name;
UNITS DISTANCE MICRONS units;
DIEAREA diearea_coordinates;</code></pre><div class="note note"><span class="notetitle">Note:</span> <p class="p">The DESIGN field uses the value specified by the Layout
Primary statement. The tool currently outputs LEF/DEF version 5.8.</p>
</div>
<p class="p">To explicitly control the precision of the generated DEF file,
specify the OUTPUTDEFPRECISION option.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id4ab01bea-e26e-47ad-b545-ec2865d9674d"><span class="keyword ParameterName RequiredReplaceable">layer_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Required list of derived or original layer
names that contain enhancement shapes. You must specify at least
one layer. The layer names must be the same as those specified in
the LAYERMAP option, otherwise the tool issues an error. The same
layer name cannot be specified for different operations using the
same output filename. In order to backannotate net objects, the
objects must have an attached net name property (see the NETPROPERTYNAME
option) in order to be added to the appropriate net.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ide0f84a52-2674-49f4-ad55-3dd1759ee07b"><span class="keyword ParameterName Required">LAYERMAP</span> {<span class="keyword ParameterName RequiredReplaceable">lefdef_layer_name</span> <span class="keyword ParameterName RequiredReplaceable">object_type</span>[:<span class="keyword ParameterName OptionalReplaceable">mask_num</span>] <span class="keyword ParameterName RequiredReplaceable">input_layer_name</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">Required keyword group that specifies layer
correspondence between the Calibre layers and LEF/DEF layers. You
can specify the LAYERMAP keyword multiple times. You can map multiple
input layers to a single LEF/DEF layer, but you cannot map a single
input layer to more than one output layer. The arguments are defined
as follows:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id4bae7510-93e5-476e-b7ea-b4fdbe2a3121"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">lefdef_layer_name</span> —
The layer in the LEF/DEF database. For example, METAL4.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id62df1e3c-2e6e-4bb6-95d9-3563395e86f8"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">object_type</span> —
The LEF/DEF object type. You must specify one of the following object types:</p>
<ul class="ul" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id08975340-9080-4ea3-9e83-eab2a1b33fa1"><li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idc02459ac-27c6-452b-8614-657c542cabba"><p class="p">NET:ROUTING
— Objects on SPECIALNET and NET routing layers.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id2fc90021-6dee-43b5-8f1e-bfa35b8c4fb5"><p class="p">NET:VIA_BOT
— Objects on SPECIALNET and NET bottom via layers.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id02eca0d1-2e52-4860-821e-0131a0224abd"><p class="p">NET:VIA_TOP
— Objects on SPECIALNET and NET top via layers.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idad38ccaa-075c-4858-85f9-7e2ebd683740"><p class="p">NET:VIA_CUT
— Objects on SPECIALNET and NET cut via layers.</p>
<div class="fig fignone" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ida8e774a9-8131-48c4-816e-db58e555b20b"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFM_general/dfm_rdb_def_viastack.png" /></div><br /></div>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id6cfe4436-8075-4338-879e-dc890eb4fc5a"><p class="p">FILL — FILL
objects.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id7f95f41e-4af0-40bf-9a1e-6553cb2cac36"><p class="p">FILLOPC — FILLOPC
objects.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ide6efe19c-d979-4b0a-9e78-6759f0933f41"><p class="p">BLOCKAGE —
BLOCKAGE objects.</p>
</li>
</ul>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id07e8b62c-c224-4621-99c5-34902effd20a"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">mask_num</span> —
Optionally specifies a non-negative integer that represents the
mask color layer. If this value is not specified, the default is
0. </p>
<p class="p">For NET:VIA_CUT types, the <span class="keyword ParameterName OptionalReplaceable">mask_num</span> is
specified as a set of three abutted integer values that represent
the mask layers for each component of the via:</p>
<pre class="pre codeblock"><code><var class="keyword varname OptionalReplaceable">top_mask_num</var><var class="keyword varname">cut_mask_num</var><var class="keyword varname">bottom_mask_num</var></code></pre><p class="p">Specifying 0 for a mask value indicates that the layer is not
colored. For example:</p>
<pre class="pre codeblock"><code>LAYERMAP V12 NET:VIA_CUT:013 VIA12</code></pre><p class="p">specifies that the top layer of the via is not colored, the middle
layer is on mask 1, and the bottom layer is on mask 3. </p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id8b70a954-35cd-4745-bb0f-6668359cf818"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">input_layer_name</span> —
Specifies the name of the layers from operations such as DFM Transition.</p>
</li>
</ul>
<p class="p">The following is an example:</p>
<pre class="pre codeblock"><code>LAYERMAP METAL2 NET:VIA_TOP:1 via12_top_METAL1
LAYERMAP METAL4 FILL METAL4</code></pre></dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id628db8fa-9759-4175-a4d1-18af4089995e"><span class="keyword ParameterName Optional">ANNOTATEOBJECT</span> [<span class="keyword ParameterName OptionalDefault">ALL</span>] [<span class="keyword ParameterName Optional">FILLS</span>] [<span class="keyword ParameterName Optional">BLOCKAGES</span>] [<span class="keyword ParameterName Optional">NETS</span>] [<span class="keyword ParameterName Optional">SPECIALNETS</span>] [<span class="keyword ParameterName Optional">VIAS</span>] </dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
object types to backannotate. The options are defined as follows:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ida627bfc5-67c0-4c33-938e-1b9c2723147c"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">ALL</span> —
Backannotate all object types that are included by the layer mapping
statements. This is the default.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id568338c9-b491-4e76-aec6-7cc85543b3d9"><p class="p Opt">FILLS
— Backannotate FILL and FILLOPC objects.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ide7011e39-31dd-41f5-934c-d12b46c05eec"><p class="p Opt">BLOCKAGES
— Backannotate blockage objects.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idb21aa78e-1243-4d24-86ab-61b17e81cc79"><p class="p Opt">NETS
— Backannotate net objects.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id6deb13b1-152e-423d-8e19-f8492ed9299e"><p class="p Opt">SPECIALNETS
— Backannotate special net objects</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idac5bb727-9f31-4e29-b402-974154b77263"><p class="p Opt">VIAS
— Backannotate via objects.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id0870d7c4-a48c-470c-a547-5f75125f41b2"><span class="keyword ParameterName Optional">DEFMODE</span> {<span class="keyword ParameterName OptionalDefault">ENH</span> | <span class="keyword ParameterName Optional">FULL</span> | <span class="keyword ParameterName Optional">ECO</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
objects from the input DEF to preserve in the output DEF. The options
are defined as follows:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id7b7f723e-e95b-48c6-a772-58aafb10a451"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">ENH</span> —Specifies
that the output DEF will only contain enhancements from the hierarchical
database (HDB). The vias from the input DEF are not used in the
output DEF. This is the default mode. </p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id741b7876-750a-42e4-abbe-e92687aeb559"><p class="p Opt">FULL
— Specifies that the output DEF includes all the data from the input
DEF, including unsupported statements such as SLOTS or HISTORY.
The new back-annotated objects are merged with existing objects
from input DEF.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ida8af1566-fc26-4578-bfbd-13fd50ae90ed"><p class="p Opt">ECO
— Specifies that only nets and used vias are preserved from the
input DEF. In this mode, all of the original net routing and vias
for nets with enhancement objects are output to the incremental
DEF.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id6c675678-511f-4f40-b800-510b75fc7ecc">DETECTARRAYVIAS {<span class="keyword ParameterName OptionalDefault">NO</span> | YES}</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies whether
to automatically detect arrays of vias and handle them as a single
via object. If you specify YES, the tool automatically detects via arrays
and creates an array reference for the vias. If specify NO (the
default behavior), each via is treated as a separate via object. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id037eccf5-5f25-4d5c-ae30-3977cfef2829">DIEAREA {ENH | DEF | {(<span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span>) (<span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span>) [( <span class="keyword ParameterName OptionalReplaceable">xn</span> <span class="keyword ParameterName OptionalReplaceable">yn</span> ) …]} | NONE }</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group
that specifies the DIEAREA value for the generated DEF output file.
The usage of this keyword depends on the input layout and how you
want the DIEAREA to be output. The DIEAREA statement is written
to the generated DEF based on one of the following options:</p>
<ul class="ul"><li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id0b0fdcae-d9e6-4ab1-ab5b-b3217884d85f"><p class="p">ENH — The DIEAREA is calculated from the extents
of the specified enhancement design (see DEFMODE ENH).</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idf395c515-a224-473a-accd-daf4e5340c69"><p class="p">DEF
— The DIEAREA is used from the specified input DEF. If no DEF file
was specified, the tool issues an error message.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__ide22517c6-9067-40e9-ba25-e423ef2b2a6c"><p class="p">(<span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span>)
(<span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span>)
[( <span class="keyword ParameterName OptionalReplaceable">xn</span> <span class="keyword ParameterName OptionalReplaceable">yn</span> )
…] — The DIEAREA is specified manually by coordinate pairs. You
must specify at least two pairs of coordinates to define a rectangle.
If the design is rectilinear, additional coordinate pairs are supported.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idb48a507a-d0ff-48aa-8514-44b4b58a131c"><p class="p">NONE
— The DIEAREA is not written to the output DEF.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idb5b058f9-f5c4-4931-ae91-32924e1e7a9f">ARRAYVIASPACING <span class="keyword ParameterName OptionalReplaceable">layer</span> <span class="keyword ParameterName OptionalReplaceable">spacing</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
spacing value for via arrays as a non-negative floating-point number
in microns. Use this keyword to explicitly define the spacing between arrayed
vias. The tool uses this value to determine whether the structure
is a via array when you specify DETECTARRAYVIAS YES. This keyword
cannot be used with DETECTARRAYVIAS NO. You can specify this keyword
multiple times, but only once per layer.</p>
<p class="p">If you do not specify this keyword, the tool automatically determines
a spacing value based on cut shape sizes and the value of the CALIBRE_DFMRDBDEF_ARRAY_SPACING_FACTOR
environment variable. The CALIBRE_DFMRDBDEF_ARRAY_SPACING_FACTOR
behaves as a multiplication factor for the automatically calculated
via spacing:</p>
<p class="p"><span class="ph FontProperty P10">ARRAY_SPACING = CALIBRE_DFMRDBDEF_ARRAY_SPACING_FACTOR × automatic_spacing</span></p>
<p class="p">The default multiplication factor is 2. The environment variable
value must be a positive floating-point number greater than or equal
to 1.0.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id624b2dca-d80a-4a03-a0ee-41b15dbf3041"><span class="keyword ParameterName Optional">INCOMPLETEVIAMODE</span> { <span class="keyword ParameterName OptionalDefault">FIX</span> | <span class="keyword ParameterName Optional">IGNORE</span> | <span class="keyword ParameterName Optional">AS_NET</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies how
to handle incomplete VIA definitions. An incomplete via is a via
that does not contain all of the required objects with the correct attributes
(for example, a cut layer that is missing a top and bottom metal).
You can choose whether incomplete vias are fixed, ignored, or handled
as nets. By default, they are fixed. Regardless of the specified
value, information about incomplete VIAs shapes is reported in the
output RDB if the RDBPATH keyword is specified. </p>
<p class="p">The options are defined as follows:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id1f344ac8-521d-45f1-ad6e-32d413ebc2e6"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">FIX</span> —
Fixes all missing shapes of incomplete VIAs required to build complete
vias. This is the default value. </p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idc380f52e-8eb5-4590-8777-21d1f37919a5"><p class="p Opt">IGNORE
— Performs no actions for incomplete VIA shapes (incomplete vias
are left untouched). </p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id660f9350-719a-4481-903d-78863af7bd7f"><p class="p Opt">AS_NET
— Treats incomplete vias as net shapes.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id5194d858-eb3e-4e15-997c-00b698a1d55e">INPUTDEF <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword that specifies a design
DEF file used with DEFMODE FULL. All DEF objects are used from this
file when merging backannotation layers. This keyword takes precedence
over the DEF specified by Layout Path.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idd25becf7-84ed-4812-92c8-f78abb49b7ac">INPUTLEF <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword that specifies a technology
LEF file. Layers and via definitions are used from this file when
using the VIAMODE LEF option. This keyword takes precedence over the
LEF specified by Layout Path.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idae8656be-ec03-497d-bb8c-77efb146bc5c"><span class="keyword ParameterName Optional">NETPROPERTYNAME</span> <span class="keyword ParameterName OptionalReplaceable">net_property_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
property names for nets to which the inputs are annotated. This
keyword is required for via and net backannotation flows.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id5644cb3d-f29c-443a-9bb5-d80200605001"><span class="keyword ParameterName Optional">NEWNETMODE</span> {<span class="keyword ParameterName OptionalDefault">IGNORE</span> | <span class="keyword ParameterName Optional">NETS</span> | <span class="keyword ParameterName Optional">SPECIALNETS</span>} {[<span class="keyword ParameterName OptionalDefault">SIGNAL</span>] [<span class="keyword ParameterName Optional">ANALOG</span>] [<span class="keyword ParameterName Optional">CLOCK]</span> [<span class="keyword ParameterName Optional">GROUND]</span> [<span class="keyword ParameterName Optional">POWER</span>] [<span class="keyword ParameterName Optional">RESET</span>] [<span class="keyword ParameterName Optional">SCAN]</span> [<span class="keyword ParameterName Optional">TIEOFF</span>]}</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group
that defines how to handle net names that were not found in the input
DEF database. The options specify the input shapes that are marked
as nets (based on object types in the layer mapping) and how they
should be backannotated to the NETS or SPECIALNETS sections. The
following arguments are supported:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id383c974d-3730-4d24-9396-b3a6ef882e86"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">IGNORE</span> —
Specifies not to create new nets and to skip net shapes. This is
the default.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idb4bc875d-5ffc-45b9-a2d8-eaa5490d55eb"><p class="p Opt">NETS
— Creates new nets in the NETS section of the DEF output.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id252688f0-45f3-4552-8365-53d280a0e6ed"><p class="p Opt">SPECIALNETS
— Creates new nets in the SPECIALNETS section of the DEF output.</p>
</li>
</ul>
<p class="p">You can filter the list of applied nets by specifying one or
more of the following net types:</p>
<p class="p BlockIndent"><span class="keyword ParameterName OptionalDefault">SIGNAL</span> ANALOG
CLOCK GROUND POWER RESET SCAN TIEOFF </p>
<p class="p">The default is SIGNAL.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idd60de0bb-0ad8-41a6-85ab-e961db2602dd"><span class="keyword ParameterName Optional">OUTPUTDEFPRECISION</span> <span class="keyword ParameterName OptionalReplaceable">precision</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies a
positive integer precision value for the backannotated DEF file.
If the precision from the input DEF does not match the specified precision
value, and the DEFMODE is FULL or ECO, then the precision from the
DEF specified by the Layout Path statement is used.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id7bd50c8a-730a-42db-8063-f53add55cdc6"><span class="keyword ParameterName Optional">OUTPUTLEF</span> <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
path to an output LEF file containing via definitions. This statement
must be omitted if the VIAMODE is DEF.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id99555ec2-9cd8-47e8-b3d0-76a141e7f7ca"><span class="keyword ParameterName Optional">RDBPATH</span> <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that outputs invalid
geometries to a results database at the specified path.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idcd11e9bf-442e-45dc-9921-da11592ccfb8"><span class="keyword ParameterName Optional">SUMMARYREPORT</span> <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
path of an output file that contains the following information: </p>
<ul class="ul"><li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id07f6a7fb-111c-41fb-a10f-ed21a033ad9d"><p class="p"><span class="ph FontProperty HeadingLabel">Performance</span> —
Memory usage, total real time, and total elapsed time.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idc179f833-d45c-4895-8bb6-14590c988ee2"><p class="p"><span class="ph FontProperty HeadingLabel">Options Applied</span> —
Arguments that were specified at run time, such as the enhancement
system information and the output DEF path.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id1fb8d136-740e-4259-a2c1-ded79fe4cf45"><p class="p"><span class="ph FontProperty HeadingLabel">HDB Layers</span> —
Layer names, layer numbers, datatypes, rectangles, count of polygons,
and more.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id6cc11bd9-3dde-4e3e-9f6f-a2eec7a3df67"><p class="p"><span class="ph FontProperty HeadingLabel">VIA stack information</span> —
Information on the defined via layers.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id96193fc3-c7be-416b-a665-32c1f4e7c210"><p class="p"><span class="ph FontProperty HeadingLabel">Backannotation count</span> —
Shape counts for the NETS, SPECIALNETS, VIAS, FILLS, and BLOCKAGES
DEF objects.</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id983e7318-e046-4b3a-bfeb-54d7bbd5336a"><p class="p"><span class="ph FontProperty HeadingLabel">Total Backannotation summary</span> —
Total count of VIA definitions, VIA references, NETS, SPECIALNETS,
FILLS, and BLOCKAGES. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id4d0dcacf-276e-4588-b3a6-71c64cb70d4c"><span class="keyword ParameterName Optional">VIAMODE</span> {<span class="keyword ParameterName OptionalDefault">DEF</span> | <span class="keyword ParameterName Optional">LEF</span> | <span class="keyword ParameterName Optional">NEWLEF</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
file in which to store newly generated vias.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idf803f987-2ae9-4402-a5bc-93e7dc1fb062"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">DEF</span> —
All newly generated vias are stored in the output DEF. This is the
default.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id98ddee76-fb82-474c-8b95-818823cc22ba"><p class="p Opt">LEF
— All newly generated vias are stored in the output LEF and the
content from the input LEF (specified by Layout Path or INPUTLEF)
is preserved. </p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id92af254a-cb89-473f-995b-2b1a2855d2fa"><p class="p Opt">NEWLEF
— All newly generated vias are stored in the output LEF. The tool
creates a new LEF file and does not preserve input data from the
Layout Path LEF.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id30760ce9-f5d8-4e5c-ab87-346def7f501c"><span class="keyword ParameterName Optional">VIANAMEPREFIX</span> <span class="keyword ParameterName OptionalReplaceable">via_name_prefix</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies the
via name prefix for enhanced vias. The keyword can be a string that
specifies the prefix name or a variable that is defined as the prefix
string. White space in the prefix name is <span class="ph FontProperty emphasis">not</span> allowed.
The tool generates a via name using the specified prefix and an
internally generated ID number. If this keyword is not specified,
the tool uses the default “MGC_CAL” prefix. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id1a7a7734-f8c2-4122-9bba-7fc89f9ceaad"><span class="keyword ParameterName Optional">VIASTACK</span> { <span class="keyword ParameterName OptionalReplaceable">bottom_layer_name</span> <span class="keyword ParameterName OptionalReplaceable">cut_layer_name</span> <span class="keyword ParameterName OptionalReplaceable">top_layer_name</span> }</dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keyword group that specifies LEF/DEF
layer triplets that form the via shapes. The following keywords
must be specified:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id8b1274e4-3924-49b1-9ce4-1aa02806e25a"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">bottom_layer_name — </span>Bottom
metal LEF/DEF layer name.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idfc10b27c-d380-4cbb-a533-c562e20b2c76"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">cut_layer_name</span> —
Middle via (cut) LEF/DEF layer name.</p>
</li>
<li class="li ArgOption" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id90a31a73-5e98-4969-a794-b5d713ab0edf"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">top_layer_name</span> —
Top metal LEF/DEF layer name.</p>
</li>
</ul>
<p class="p">All layers specified in this keyword group must also be defined
in the LAYERMAP keyword using the NET object type. If this is not
done, the tool issues a warning and ignores the triplet layers.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Via stacks for all operations are merged and checked for
violations.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This command enables you to create a single-run solution for
backannotating Calibre layers to a LEF/DEF design. With this new
integrated flow, you can read in a LEF/DEF design using the direct
read functionality in the Layout Path statement, generate enhancement
shapes with DFM or other statements, and then export the enhancement
shapes back to the DEF design, all within a single rule file. The
following figure illustrates the flow:</p>
<div class="fig fignone" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idc5ed62d3-032f-4c54-b445-b0d39a67ba6c"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Workflow
for Direct Backannotation to LEF/DEF</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFM_general/dfm_rdb_def_flow.png" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">This statement must occur inside a rule check. </p>
</div>
<p class="p">This statement supports three DEF output modes that are controlled
by the DEFMODE option:</p>
<ul class="ul"><li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id603aa0d4-e7f3-4f1f-a55d-eb9fce18d84a"><p class="p"><a class="xref fm:HeadingOnly" href="#id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id6dd13d70-ac39-4963-b456-a4fc670447f4">Incremental Backannotation Flow</a> (DEFMODE ENH)</p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id3ed6701b-559f-4edf-b743-4a5ef287c2b6"><p class="p"><a class="xref fm:HeadingOnly" href="#id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id779e2a69-5274-4de8-b96b-d98fdb78b0e6">Full Backannotation Flow</a> (DEFMODE FULL) </p>
</li>
<li class="li" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id31c80f1a-a7f5-4c27-90ec-63e2e96737da"><p class="p"><a class="xref fm:HeadingOnly" href="#id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id3de5a642-ab12-45ac-bdd1-79fe44ddbd9b">ECO Backannotation Flow</a> (DEFMODE ECO) </p>
</li>
</ul>
<div class="section Subsection" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id6dd13d70-ac39-4963-b456-a4fc670447f4"><h2 class="title Subheading sectiontitle">Incremental
Backannotation Flow</h2><p class="p">The incremental backannotation mode generates a new DEF file
that only contains specified enhancement layers. The generated DEF
output does <span class="ph FontProperty emphasis">not</span> include
data from the input DEF file (specified by the Layout Path statement).
The generated DEF file can be merged with your original design by
reading it as an incremental DEF into your place and route tool.</p>
<p class="p">This is the default mode and no additional statement options
are required. To explicitly enable this mode, specify the DEFMODE
ENH option. If the precisions differ between the DEF files, specify
the OUTPUTDEFPRECISION option, as necessary.</p>
<p class="p">The following example demonstrates the high-level flow for generating
an incremental DEF file with Calibre enhancement shapes:</p>
<div class="fig fignone" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idc2f1b3e2-a6b3-4ced-bef6-bb815d8da0bf"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Incremental
DEF Rule File Example Flow</span><pre class="pre codeblock"><code>//Read in the LEF/DEF design
LAYOUT SYSTEM LEFDEF
LAYOUT PATH "tech.lef cells.lef blocks.lef" "top.def"

//Generate enhancement shapes using Calibre layer operations
<span class="keyword ParameterName OptionalReplaceable">DFM_STATEMENTS</span> …
…

BA_FLOW {
 //Backannotate the layers a new DEF file
 DFM RDB DEF <span class="ph CodeHighlight Bold">enhancements.def</span> M1_CAL VIA12_CAL M2_CAL VIA23_CAL M3_CAL …

   //Assume the output of the DFM operations create layers named &lt;lay&gt;_CAL
   //Map the Calibre layers to the DEF layers and objects
   LAYERMAP METAL1 NET:VIA_BOT M1_CAL
   LAYERMAP VIA12 NET:VIA_CUT VIA12_CAL
   LAYERMAP METAL2 NET:VIA_TOP M2_CAL
   …

   //Write enhancements to a new DEF file containing a DEF header and the 
   //enhancement layers only. This is the default.
   <span class="ph CodeHighlight Bold">DEFMODE ENH</span>

   //Generate a report of the operation
   SUMMARYREPORT summary.log
}</code></pre></div>
</div>
<div class="section Subsection" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id779e2a69-5274-4de8-b96b-d98fdb78b0e6"><h2 class="title Subheading sectiontitle">Full
Backannotation Flow</h2><p class="p">The full backannotation mode preserves all data from the DEF
file (specified by the Layout Path statement) in the generated DEF
output. Any enhancement shapes are merged with the original DEF
data. Via definitions from the LEF/DEF data are reused wherever
possible. The generated DEF file is a complete design (not incremental)
and can be imported directly into your place and route tool.</p>
<p class="p">To enable this mode, specify the DEFMODE FULL
keyword and include your original LEF/DEF design data in the Layout
Path statement. If the precisions differ between the DEF files, specify
the OUTPUTDEFPRECISION option, as necessary. Only one DEF file can
be specified in the Layout Path statement; additional DEF files
are ignored with a warning.</p>
<p class="p">The following example demonstrates the high-level flow for generating
a complete DEF with Calibre enhancement shapes and design data:</p>
<div class="fig fignone" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id19deec80-f65d-4b3f-99af-7ccc772ed5ac"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Full DEF
Rule File Example Flow</span><pre class="pre codeblock"><code>//Read in the LEF/DEF design
LAYOUT SYSTEM LEFDEF
<span class="ph CodeHighlight Bold">LAYOUT PATH "tech.lef cells.lef blocks.lef" "top.def"</span>

//Generate enhancement shapes using Calibre layer operations
<span class="keyword ParameterName OptionalReplaceable">DFM_STATEMENTS</span> …
…

BA_FLOW {
 //Backannotate the layers a new DEF file
 DFM RDB DEF <span class="ph CodeHighlight Bold">top_with_enh.def</span> M1_CAL VIA12_CAL M2_CAL VIA23_CAL M3_CAL …

   //Assume the output of the DFM operations create layers named &lt;lay&gt;_CAL
   //Map the Calibre layers to the DEF layers and objects
   LAYERMAP METAL1 NET:VIA_BOT M1_CAL
   LAYERMAP VIA12 NET:VIA_CUT VIA12_CAL
   LAYERMAP METAL2 NET:VIA_TOP M2_CAL
   …

   //Merge enhancements with original design to create a complete DEF
   <span class="ph CodeHighlight Bold">DEFMODE FULL</span>

   //Generate a report of the operation
   SUMMARYREPORT summary.log
}</code></pre></div>
</div>
<div class="section Subsection" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id3de5a642-ab12-45ac-bdd1-79fe44ddbd9b"><h2 class="title Subheading sectiontitle">ECO
Backannotation Flow</h2><p class="p">This flow is used to generate an incremental DEF for engineering
change order (ECO) changes to a layout that already has fixed device
layers. Only nets and vias are preserved from the input DEF in the
generated DEF. All of the original net routing and vias for nets
with enhancement objects are written to the incremental DEF.</p>
<p class="p">To enable this mode, specify the DEFMODE ECO keyword and include
your original LEF/DEF design data in the Layout Path statement.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__idbe5b6ac9-cc1f-49c5-8fff-f02144e35d65"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">Backannotate SPECIALNETS for routing layers in the <span class="ph filepath">with_enh.def</span> file
with Calibre enhancement layers. The rules also create a LEF with
via definitions.</p>
<pre class="pre codeblock"><code>DFM RDB DEF w_enh.def M1_CAL V12_CAL M2_CAL V23_CAL M3_CAL V34_CAL M4_CAL

  NEWNETMODE specialnets
  VIAMODE LEF
  DEFMODE FULL
  OUTPUTLEF with_enh.lef

  LAYERMAP METAL1 NET:VIA_BOT M1_CAL
  LAYERMAP VIA12 NET:VIA_CUT V12_CAL
  LAYERMAP METAL2 NET:VIA_TOP M2_CAL
  LAYERMAP VIA23 NET:ROUTING V23_CAL
  LAYERMAP METAL3 NET:ROUTING M3_CAL
  LAYERMAP VIA34 NET:ROUTING V34_CAL
  LAYERMAP METAL4 NET:ROUTING M4_CAL

  VIASTACK METAL1 VIA12 METAL2

  NETPROPERTYNAME "net"
  SUMMARYREPORT sum.log</code></pre></div>
<div class="section Subsection" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id22ea4a1c-1339-463d-9df9-9306534e4a70"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">Backannotate SPECIALNETS for via layers in the <span class="ph filepath">with_via.def</span> file
with Calibre enhancement layers. </p>
<pre class="pre codeblock"><code>DFM RDB DEF with_via.def M1 V12 M2 V23 M3 V34 M4 M5_ M6_

  DEFMODE ENH

  NEWNETMODE specialnets
  ANNOTATEOBJECT VIAS

  LAYERMAP M1 NET:VIA_BOT M1
  LAYERMAP V12 NET:VIA_CUT V12
  LAYERMAP M2 NET:VIA_TOP M2
  LAYERMAP V23 NET:ROUTING V23
  LAYERMAP M3 NET:ROUTING M3
  LAYERMAP V34 NET:ROUTING V34
  LAYERMAP M4 NET:ROUTING M4
  LAYERMAP M5 FILL M5_
  LAYERMAP M6 BLOCKAGE M6_

  VIASTACK M1 V12 M2

  NETPROPERTYNAME "Cell"  
  SUMMARYREPORT sum.log
  RDBPATH my_rdb</code></pre></div>
<div class="section Subsection" id="id62a8dc3d-2d29-4576-b1ad-d5049e6420fe__id9c810ee4-a7e1-4ab8-9d65-47968f6a92b1"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">The following example shows two DFM RDB DEF statements in the
same rule file:</p>
<pre class="pre codeblock"><code>DFM RDB DEF with_blck.def M1 V12 M2 V23 M3 V34 M4 M5_ M6_

  DEFMODE ENH
  NEWNETMODE specialnets
  ANNOTATEOBJECT BLOCKAGES

  LAYERMAP M1 NET:VIA_BOT M1
  LAYERMAP V12 NET:VIA_CUT V12
  LAYERMAP M2 NET:VIA_TOP M2
  LAYERMAP V23 NET:ROUTING V23
  LAYERMAP M3 NET:ROUTING M3
  LAYERMAP V34 NET:ROUTING V34
  LAYERMAP M4 NET:ROUTING M4
  LAYERMAP M5 FILL M5_
  LAYERMAP M6 BLOCKAGE M6_

  VIASTACK M1 V12 M2
  NETPROPERTYNAME "Cell" 
  SUMMARYREPORT sum.log

//================================================
//Second DFM RDB DEF statement
//================================================
DFM RDB DEF with_net.def M1 V12 M2 V23 M3 V34 M4 M5_ M6_
  DEFMODE ENH
  NETMODE nets
  ANNOTATEOBJECT NETS

  LAYERMAP M1 NET:VIA_BOT M1
  LAYERMAP V12 NET:VIA_CUT V12
  LAYERMAP M2 NET:VIA_TOP M2
  LAYERMAP V23 NET:ROUTING V23
  LAYERMAP M3 NET:ROUTING M3
  LAYERMAP V34 NET:ROUTING V34
  LAYERMAP M4 NET:ROUTING M4
  LAYERMAP M5 FILL M5_
  LAYERMAP M6 BLOCKAGE M6_

  VIASTACK M1 V12 M2

  NETPROPERTYNAME "Cell" 
  SUMMARYREPORT sum.log </code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmCommands_ide62291e8.html" title="The commands in this section begin with “DFM.”">DFM … Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "DFM RDB DEF"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmRdbDef_id62a8dc3d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>