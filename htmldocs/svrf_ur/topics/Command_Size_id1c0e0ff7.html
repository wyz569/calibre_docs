<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="Size" />
<meta name="abstract" content="Constructs a derived layer by expanding or contracting polygons by the amount specified." />
<meta name="description" content="Constructs a derived layer by expanding or contracting polygons by the amount specified." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Size</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Size" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Size</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="shortdesc">Constructs a derived layer by
expanding or contracting polygons by the amount specified.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">SIZE</span> <span class="keyword ParameterName RequiredReplaceable">layer1</span> <span class="keyword ParameterName Required">BY</span> <span class="keyword ParameterName RequiredReplaceable">size_value</span> <br />
[<span class="keyword ParameterName Optional">OVERLAP ONLY</span> | <span class="keyword ParameterName Optional">OVERUNDER</span> | <span class="keyword ParameterName Optional">UNDEROVER </span><br />
| {<span class="keyword ParameterName Optional">INSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span>]}<br />
| {<span class="keyword ParameterName Optional">OUTSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span>]}]<br />
[<span class="keyword ParameterName Optional">TRUNCATE</span> <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> [<span class="keyword ParameterName Optional">MAXANGLE</span> <span class="keyword ParameterName OptionalReplaceable">value</span>]] <br />
[BEVEL <span class="keyword ParameterName OptionalReplaceable">value</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id1e88edbf-62d4-4d3f-a817-04624fea9ca0"><span class="keyword ParameterName RequiredReplaceable">layer1</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required original layer or
layer set, or a derived polygon layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id99cb5499-90d9-4654-b611-02ca2e175563"><span class="keyword ParameterName Required">BY</span> <span class="keyword ParameterName RequiredReplaceable">size_value</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword set, where <span class="keyword ParameterName RequiredReplaceable">size_value</span> is
a floating-point value in user units, which specifies how much to
expand or shrink <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygons.
Positive numbers expand polygons, negative numbers shrink them.
This value must be an integral multiple of the <span class="ph FontProperty emphasis">database precision</span>.
The <span class="keyword ParameterName RequiredReplaceable">size_value</span> must
be a positive number if you include the OVERLAP ONLY, OVERUNDER,
UNDEROVER, BEVEL, INSIDE OF, or OUTSIDE OF keywords.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id96d9068a-1b8a-42a7-801a-601b46badbee"><span class="keyword ParameterName Optional">OVERLAP ONLY</span> | <span class="keyword ParameterName Optional">OVERUNDER</span> | <span class="keyword ParameterName Optional">UNDEROVER</span> | {<span class="keyword ParameterName Optional">INSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span>]} | {<span class="keyword ParameterName Optional">OUTSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span>]}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword choice that affects
the output. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id58e5fbee-cba6-4805-b7bd-76186a68397a"><p class="p Opt"><span class="keyword ParameterName Optional">OVERLAP ONLY</span> —
Outputs only the regions where the oversized polygons overlap (not
the oversized polygons themselves). This is overlap of distinct
oversized polygons. The <span class="keyword ParameterName RequiredReplaceable">size_value</span> must
be a positive number. This keyword cannot be specified with the
BEVEL keyword.</p>
<p class="p">In Calibre nmLVS-H, specifying OVERLAP ONLY can cause hierarchical degradation;
it is not recommended for use with hcells.</p>
</li>
<li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__ida0d41662-aa8e-4771-820b-b9de134dc6d9"><p class="p Opt"><span class="keyword ParameterName Optional">OVERUNDER</span> —
Instructs the tool to perform two consecutive Size operations. The <span class="keyword ParameterName RequiredReplaceable">layer1</span> is
first expanded, then contracted, based on <span class="keyword ParameterName RequiredReplaceable">size_value</span>,
where <span class="keyword ParameterName RequiredReplaceable">size_value</span> must be
a positive number. This keyword cannot be specified with the BEVEL
keyword.</p>
</li>
<li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id860e7f90-483e-4050-9e86-0f4a0ab18eb8"><p class="p Opt"><span class="keyword ParameterName Optional">UNDEROVER</span> —
Instructs the tool to perform two consecutive Size operations. The <span class="keyword ParameterName RequiredReplaceable">layer1</span> is
first contracted, then expanded, based on <span class="keyword ParameterName RequiredReplaceable">size_value</span>,
where <span class="keyword ParameterName RequiredReplaceable">size_value</span> must be
a positive number. This keyword cannot be specified with the BEVEL
keyword.</p>
</li>
<li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id544d8dc5-0c41-45d0-93d1-134e6bba6a81"><p class="p Opt"><span class="keyword ParameterName Optional">INSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span>]
— Causes <span class="keyword ParameterName RequiredReplaceable">layer1</span> to
expand inside of <span class="keyword ParameterName OptionalReplaceable">layer2</span>, which
is an original layer or a derived polygon layer. The <span class="keyword ParameterName RequiredReplaceable">size_value</span> must
be a positive number.</p>
</li>
<li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id89ecc221-0957-4b36-b002-e9eb9848ee2b"><p class="p Opt"><span class="keyword ParameterName Optional">OUTSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span>]
— Causes <span class="keyword ParameterName RequiredReplaceable">layer1</span> to
expand outside of <span class="keyword ParameterName OptionalReplaceable">layer2</span>, which
is an original layer or a derived polygon layer. The <span class="keyword ParameterName RequiredReplaceable">size_value</span> must
be a positive number. </p>
</li>
<li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id911516f5-ded2-4f3e-aa79-c518f1f3f56c"><p class="p Opt"><span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">step_value</span> —
Causes the expansion of <span class="keyword ParameterName RequiredReplaceable">layer1</span> to
occur incrementally in steps of size <span class="keyword ParameterName OptionalReplaceable">step_value</span>.
The <span class="keyword ParameterName OptionalReplaceable">step_value</span> is
a positive real number that must be an integral multiple of the <span class="ph FontProperty emphasis">database precision</span>.
This optional keyword set can only be specified with INSIDE OF or
OUTSIDE OF. </p>
</li>
</ul>
<p class="p">See the “<a class="xref fm:HeadingAndPage" href="#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__idb7da62a8-b2eb-4349-b96e-dd155b0ed29a">INSIDE OF and OUTSIDE OF Keywords</a>” for a detailed
description of those keywords.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id228ec6b4-b2d0-45e8-9651-7ca6c300e0b5"><span class="keyword ParameterName Optional">TRUNCATE</span> <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> [MAXANGLE <span class="keyword ParameterName OptionalReplaceable">value</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
controls spike truncation. See “<a class="xref fm:HeadingAndPage" href="#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id937f3528-8bbd-4b77-bb80-3e860ca8c1d2">TRUNCATE Keyword</a>” for details.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id094ca1ee-e449-4135-b80c-68738d1f61d8"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> —
Anon-negative floating-point value in user units. </p>
</li>
<li class="li ArgOption" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id0f87a958-400b-47cd-bb8f-b2cb47494ea3"><p class="p Opt">MAXANGLE <span class="keyword ParameterName OptionalReplaceable">value</span> —
An optional keyword set with TRUNCATE that alters the truncation
process. The specified <span class="keyword ParameterName OptionalReplaceable">value</span> is
an undimensioned floating-point numeric in the range [0,135]; expressions
are supported. MAXANGLE extends explicit truncation to apply to
angles that are less than or equal to the specified <span class="keyword ParameterName OptionalReplaceable">value</span> for expansion
and angles that are greater than or equal to 360 minus the specified <span class="keyword ParameterName OptionalReplaceable">value</span> for
shrinking, as long as both edges forming the angle are non-orthogonal.
There is no change in the current behavior for angles less than
90 (expand) and greater than 270 (shrink) if MAXANGLE is specified.
The truncation, if applied due to MAXANGLE, is perpendicular to
the bisector. MAXANGLE cannot be specified with the BEVEL keyword.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id81f224a7-2588-49f2-a69c-8e94eb4bca5a">BEVEL <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and positive
integer that allows <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygons
to be approximated by <span class="keyword ParameterName OptionalReplaceable">value</span> segmented
arcs in the output layer. Only convex 90-degree corners with edges orthogonal
to the database axes are affected. A BEVEL <span class="keyword ParameterName OptionalReplaceable">value</span> of
4 is normally sufficient, and 16 should be considered a practical
maximum. See <a class="xref fm:HeadingOnly" href="#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id7367967c-f047-4527-ba10-e02a9a3324bf">BEVEL Keyword</a> for more details. BEVEL may not
be specified with OVERLAP ONLY, OVERUNDER, UNDEROVER, or MAXANGLE.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Expands or shrinks all <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygons
by <span class="keyword ParameterName RequiredReplaceable">size_value</span>.
A positive <span class="keyword ParameterName RequiredReplaceable">size_value</span> expands <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygon
edges outward by that amount. A negative <span class="keyword ParameterName RequiredReplaceable">size_value</span> shrinks <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygon
edges inward by the absolute value of that amount. When <span class="keyword ParameterName RequiredReplaceable">size_value</span> equals
zero, then the output layer is a copy of <span class="keyword ParameterName RequiredReplaceable">layer1</span>.</p>
<p class="p">This is a node-preserving operation
if you specify <span class="keyword ParameterName RequiredReplaceable">size_value</span> as
less than or equal to zero.</p>
<p class="p">Size can be used in some cases
with a negative <span class="keyword ParameterName RequiredReplaceable">size_value</span> to
reduce the layer data that other layer operations have to manipulate.
This is done to increase rule file efficiency. See “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Efficient Width and Spacing Checks', 'calbr_ver_user'); return false;">Efficient Width and Spacing Checks</a>” in the <cite class="cite">Calibre Verification
User’s Manual</cite>.</p>
<p class="p">The following figure shows operations
that expand and shrink the <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygon
by one user unit.</p>
<div class="fig fignone" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__idf1abe599-618b-4c9d-b1b2-312bf211f3d4"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Expanding and Shrinking
a Polygon</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/size_general.png" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Size is not designed as
a generic polygon width measurement operation. Using Size to derive polygons
of specified width can lead to excessively complicated layer derivations,
especially where angled geometry is involved. The <a class="xref fm:HeadingOnly" href="Command_WithWidth_id0b736a32.html#id0b736a32-417c-43e4-babe-1b2c8f120dab__Command_WithWidth_id0b736a32.xml#id0b736a32-417c-43e4-babe-1b2c8f120dab" title="Constructs a layer containing polygons meeting the specified width constraint.">With Width</a> and <a class="xref fm:HeadingOnly" href="Command_NotWithWidth_id3babeaea.html#id3babeaea-7d94-43d3-ac38-3313065c892b__Command_NotWithWidth_id3babeaea.xml#id3babeaea-7d94-43d3-ac38-3313065c892b" title="Constructs a layer containing polygons not meeting the specified width constraint.">Not With Width</a> operations
are more efficient than Size at finding polygons of specified widths
and should be used instead of Size where width measurements are
needed.</p>
</div>
<p class="p">For applications involving
finding wide metal polygons, or similar types of applications where width
is a concern, consider using the <a class="xref fm:HeadingOnly" href="Command_WithWidth_id0b736a32.html#id0b736a32-417c-43e4-babe-1b2c8f120dab__Command_WithWidth_id0b736a32.xml#id0b736a32-417c-43e4-babe-1b2c8f120dab" title="Constructs a layer containing polygons meeting the specified width constraint.">With Width</a> and <a class="xref fm:HeadingOnly" href="Command_NotWithWidth_id3babeaea.html#id3babeaea-7d94-43d3-ac38-3313065c892b__Command_NotWithWidth_id3babeaea.xml#id3babeaea-7d94-43d3-ac38-3313065c892b" title="Constructs a layer containing polygons not meeting the specified width constraint.">Not With Width</a> operations
instead of SIZE with OVERUNDER or UNDEROVER.</p>
<p class="p">See also <a class="xref fm:HeadingOnly" href="Command_Grow_ida6fcb991.html#ida6fcb991-f377-4083-b4b5-260f209b504c__Command_Grow_ida6fcb991.xml#ida6fcb991-f377-4083-b4b5-260f209b504c" title="Constructs a derived polygon layer where outward expansion of polygons from the input layer occurs in specified directions.">Grow</a>, <a class="xref fm:HeadingOnly" href="Command_Shrink_id39963a22.html#id39963a22-83d3-4bda-abd4-37f33b5aa44d__Command_Shrink_id39963a22.xml#id39963a22-83d3-4bda-abd4-37f33b5aa44d" title="Constructs a derived layer by contracting polygons in the specified directions.">Shrink</a>, and <a class="xref fm:HeadingOnly" href="Command_ExpandEdge_id1a5ef7b5.html#id1a5ef7b5-bc8f-4359-bf15-f190d015c501__Command_ExpandEdge_id1a5ef7b5.xml#id1a5ef7b5-bc8f-4359-bf15-f190d015c501" title="Expands edges into rectangles in the specified directions and amounts.">Expand Edge</a>.</p>
<div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__idb7da62a8-b2eb-4349-b96e-dd155b0ed29a"><h2 class="title Subheading sectiontitle">INSIDE
OF and OUTSIDE OF Keywords</h2><p class="p">The Size operation with the INSIDE
OF or OUTSIDE OF keywords and the STEP keyword may produce differences
between flat and hierarchical results. The differences observed
in hierarchical mode are dependent on the hierarchy of <span class="keyword ParameterName RequiredReplaceable">layer1</span> and
the INSIDE OF/OUTSIDE OF layer. As different versions of Calibre
may optimize the internal hierarchical representation differently,
this may manifest itself as differences in hierarchical Size results,
depending on the selection of the <span class="keyword ParameterName OptionalReplaceable">step_value</span>.</p>
<p class="p">The INSIDE OF and OUTSIDE OF
keywords allow checking of latch-up rules without having to enter
long sequences of Size and <a class="xref fm:HeadingOnly" href="Command_AND_id9924a2c5.html#id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__Command_AND_id9924a2c5.xml#id9924a2c5-07cd-4fea-b7b9-971b273fa2ef" title="Boolean operation that constructs the polygon area from the input layers intersected by multiple polygonal areas.">AND</a> (or <a class="xref fm:HeadingOnly" href="Command_Not_idd00cf06e.html#idd00cf06e-6a90-4432-9331-d86946d31b74__Command_Not_idd00cf06e.xml#idd00cf06e-6a90-4432-9331-d86946d31b74" title="Two-layer Boolean operation that selects polygon areas not common to polygons from a second layer. This is a node-preserving layer constructor.">NOT</a>) operations. Both <span class="keyword ParameterName RequiredReplaceable">size_value</span> and <span class="keyword ParameterName OptionalReplaceable">step_value</span> parameters
must be positive if INSIDE OF or OUTSIDE OF is specified. </p>
<p class="p">Here is an example:</p>
<pre class="pre codeblock"><code>bad_pdevice { 
		// Worm rule to check tap-to-pgate spacing inside of enclosing 
		// nwell polygons. Gates farther than 100 um from a tap inside the 
		// same nwell polygon are bad.
		// The STEP increment is marginally less than minimum nwell 
		// spacing, which is 5 um for this process. 
		// This keeps the sizing inside of the enclosing nwell polygons.
		x = SIZE ntap BY 100 INSIDE OF nwell STEP 4.9
		pgate NOT x
}</code></pre><p class="p">The following figure shows how
the layer x expands through its first two STEP increments. For larger
nwell polygons, the expansion would continue out to 100 um.</p>
<div class="fig fignone" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id52209ba8-8004-4696-93a9-fb3ddcd40769"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Worm Rule Check</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/size_worm_rule.png" /></div><br /></div>
<p class="p">When INSIDE OF is used, a <span class="keyword ParameterName OptionalReplaceable">step_value</span> less
than or equal to √2/2 × minimum spacing of <span class="keyword ParameterName OptionalReplaceable">layer2</span> is
recommended. A <span class="keyword ParameterName OptionalReplaceable">step_value</span> larger
than the minimum spacing of <span class="keyword ParameterName OptionalReplaceable">layer2</span> should
typically not be used because that may cause the expanded polygon
layer to extend into adjacent polygons from <span class="keyword ParameterName OptionalReplaceable">layer2</span>.
Also, if you choose a <span class="keyword ParameterName OptionalReplaceable">step_value</span> that
is larger than the minimum spacing for <span class="keyword ParameterName OptionalReplaceable">layer2</span>,
then flat and hierarchical run results may differ. If <span class="keyword ParameterName OptionalReplaceable">layer2</span> is
sparse and has relatively large minimum spacing, then you should
consider a <span class="keyword ParameterName OptionalReplaceable">step_value</span> that
would suffice for active or well regions in the design, within the
constraints just mentioned.</p>
<p class="p">If the intent is to allow the expanded polygon layer to extend
from a <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygon
into adjacent <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygons,
then do not use the INSIDE OF keyword.</p>
<p class="p">If OUTSIDE OF is used, <span class="keyword ParameterName OptionalReplaceable">step_value</span> should
be less than or equal to the minimum design width for <span class="keyword ParameterName RequiredReplaceable">layer1</span>.</p>
<p class="p">If skew edges are present on <span class="keyword ParameterName RequiredReplaceable">layer1</span>,
or if this operation returns results for an OUTSIDE OF <span class="keyword ParameterName OptionalReplaceable">layer2</span> parameter
for any delta:</p>
<pre class="pre codeblock"><code>EXT layer2 &lt; delta SINGULAR</code></pre><p class="p">then flat and hierarchical run
results can differ. The differences are due to multiple optimizations
within the operation that favor performance improvement over consistency
of results presentation based on the run mode. </p>
<p class="p">As shown in <a class="xref fm:Figure" href="#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id52209ba8-8004-4696-93a9-fb3ddcd40769">Figure 2</a>, the algorithm for bounded size causes
the first input layer to crawl through the inside of the second
input layer (INSIDE OF <span class="keyword ParameterName OptionalReplaceable">layer2</span>).
More precisely, assume this:</p>
<pre class="pre codeblock"><code>Z = SIZE A BY V INSIDE OF B [ STEP S ]</code></pre><p class="p">The algorithm proceeds as follows.
Explanatory comments are interspersed with the steps. The values
from the bad_pdevice rule check example shown previously appear
in the comments.</p>
<ol class="ol"><li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id0a335638-3b80-42b0-9e11-e8cb98be400c"><p class="p">If STEP is omitted or if S &gt; V,
then set S = V</p>
<p class="p">In bad_pdevice, STEP is specified,
S = 4.9, and V = 100.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__idfd04dd72-4f71-41fc-a4db-6bb644d44d05"><p class="p">Let D = FLOOR(V / S) and R = V
- (D * S)</p>
<p class="p">For the example, D = 20 and R
= 2. D is an integer quotient. R is a remainder value.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__ida9aca1d9-4c6d-453e-b929-9c2d9bfb9d1a"><p class="p">Initialize TEMP = A</p>
<p class="p">TEMP = ntap</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id6542cdb6-e620-4df7-9fb8-ae9604a2cd20"><p class="p">Do steps 5 and 6 recursively D
times</p>
<p class="p">Steps 5 and 6 are done recursively
20 times for the example.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__idd45cbd34-e0fc-4f44-a9cc-e6a223d26029"><p class="p">TEMP1 = SIZE TEMP BY S</p>
<p class="p">The TEMP layer is sized by 4.9.
For the first iteration, TEMP is the ntap layer. For subsequent
iterations, TEMP is an expanded ntap layer.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__ide6464d00-7427-4366-bf62-80ff050c64c5"><p class="p">TEMP = TEMP1 AND B</p>
<p class="p">The TEMP layer is the logical
intersection of TEMP1 and nwell. When the step size is marginally
less than minimum nwell spacing, this keeps TEMP1 inside the enclosing nwell
polygon.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id741a4ffe-f508-4afc-8876-32015591b3b6"><p class="p">If R is 0, then go to step 10.</p>
<p class="p">R = 2 for the example, so continue.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id3b14ec88-03aa-4681-807d-886b07c2a777"><p class="p">TEMP = SIZE TEMP BY R</p>
<p class="p">Expand TEMP by 2.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id644cf41c-f2ea-4e9f-80b2-65a7f618f9b4"><p class="p">TEMP = TEMP AND B</p>
<p class="p">TEMP is the intersection of TEMP
and nwell.</p>
</li>
<li class="li" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id09623484-48b5-4832-9128-48920ec39d89"><p class="p">Set Z = TEMP</p>
<p class="p">The output layer is the final
geometry of TEMP.</p>
</li>
</ol>
<p class="p">The corresponding algorithm for
OUTSIDE OF replaces AND by NOT in Steps 6 and 9.</p>
</div>
<div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id937f3528-8bbd-4b77-bb80-3e860ca8c1d2"><h2 class="title Subheading sectiontitle">TRUNCATE
Keyword</h2><p class="p">The Size operation can result
in spike formation in the output polygon. The Size operation includes
a truncation process by default, or you can control the truncation
process with the TRUNCATE <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> keyword
and argument. The formation of spikes and the default truncation
process are described first.</p>
<p class="p">The Size operation constructs
expanded or contracted polygons with edges parallel to the original
polygons. If two edges of the <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygon
intersect at an angle smaller than 45 degrees (called a spike),
and the Size operation pulls the intersecting edges in the direction
of the spike when it expands or shrinks the <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygon,
then the resulting spike is truncated to a distance of 1/cosine
67.5 (approximately 2.61) times the absolute value of the <span class="keyword ParameterName RequiredReplaceable">size_value</span>.
The absolute value of <span class="keyword ParameterName RequiredReplaceable">size_value</span> multiplied
by 1/cosine 67.5 is the distance that a 45-degree corner would be
moved by the Size operation along the direction—toward or away from—a
spike. </p>
<p class="p">If the <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> is
greater than or equal to the absolute value of <span class="keyword ParameterName RequiredReplaceable">size_value</span>,
which is true by default, then the behavior in the following discussion
applies. </p>
<p class="p">The truncation consists of constructing
a new edge perpendicular to the bisector of the angle between the
original intersecting edges. However, if one of the polygon edges
contributing to the spike is orthogonal to the database axes, then
the truncating segment is placed perpendicular to the orthogonal
edge, rather than perpendicular to the bisector of the spike. In
this case, the truncation distance is measured along the orthogonal
edge.</p>
<p class="p">The next figure shows the default
truncation process with the truncating segment placed at the bisector
of the spike. In the figure, the 25 degree spike is truncated, but
the 45 degree spike is not. The default truncation distance of 1/cosine
67.5 times <span class="keyword ParameterName RequiredReplaceable">size_value </span>means
that only angles of less than 45 degrees ever result in spike truncation.</p>
<div class="fig fignone" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__iddf73a0bd-b2b8-4164-8eba-5e4ba69d6adf"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Handling of Polygon
Spike</span><br /><div class="imagecenter"><img class="image imagecenter" height="319" src="../graphics/size_polygon_spike.png" width="437" /></div><br /></div>
<p class="p">You can specify the truncation
distance using the TRUNCATE <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> keyword
and value, where <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> is
a non-negative floating point number in user units that specifies
the truncation distance. For example, <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> values
smaller than the default (2.61 times <span class="keyword ParameterName RequiredReplaceable">size_value</span>)
can cause truncation of acute angles greater than 45 degrees. When
the TRUNCATE keyword is used, <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> is
not used as a multiplier of <span class="keyword ParameterName RequiredReplaceable">size_value</span>.</p>
<p class="p">You can use the TRUNCATE keyword
set to inhibit excessive spike growth when attempting to find areas
of well-behaved geometry (only orthogonal and 45-degree edges) by
using undersizing followed by oversizing. In some instances, the
undersize can produce 45-degree angles which grow excessively when
expanded. Setting <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> to
the absolute value of <span class="keyword ParameterName RequiredReplaceable">size_value</span> may
limit the spike growth and provide more accurate results. This is
demonstrated in the last figure of <a class="xref fm:HeadingOnly" href="#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__ideec4c4e6-2919-420e-a469-6f4d456e1a6d">Example 3</a>.</p>
<p class="p">If the <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> is
less than the absolute value of <span class="keyword ParameterName RequiredReplaceable">size_value</span>,
then the behavior described previously is modified as in the following
discussion.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">It is
not recommended to use a <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> that
is less than the absolute value of <span class="keyword ParameterName RequiredReplaceable">size_value</span>.</p>
</div>
<p class="p">If an interior angle exceeds
60 degrees (for oversizing), or is less than 300 degrees (for undersizing),
and one edge at the angle is orthogonal to a database axis, then
truncation is perpendicular to the bisector of the angle, as in
the general case. This is true even if one of the edges forming
the angle is orthogonal to the database axes.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">trunc_dist</span> may
be adjusted upward toward the absolute value of <span class="keyword ParameterName RequiredReplaceable">size_value</span> as
a function of the interior angle between the edges. In most cases,
changes are only apparent if the interior angle is close 90 degrees
for oversizing and 270 degrees for undersizing.</p>
</div>
<div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id7367967c-f047-4527-ba10-e02a9a3324bf"><h2 class="title Subheading sectiontitle">BEVEL Keyword</h2><p class="p">BEVEL is primarily useful for
high-accuracy worm rule checking in conjunction with the INSIDE
OF <span class="keyword ParameterName OptionalReplaceable">layer2</span> option.
If BEVEL is used, then a quarter-circle arc with a radius of the <span class="keyword ParameterName RequiredReplaceable">size_value</span> and
with a center at the vertex of the perpendicular edges is constructed
first, internally. The actual output edges are then formed by inscribing
a segmented path in the arc. The edge count of the segmented path
is equal to the BEVEL <span class="keyword ParameterName OptionalReplaceable">value</span>.
The endpoints of the edges that form this path are spaced equidistant
along the arc.</p>
<div class="fig fignone" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id352086ea-826c-4b41-8b76-360811181963"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Size BEVEL</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/size_bevel.png" /></div><br /></div>
<p class="p">The greater the BEVEL <span class="keyword ParameterName OptionalReplaceable">value</span>,
the slower the Size operation will be (especially when using INSIDE
OF for small STEP values). This is because the number of constructed
edges can be very large and Size is careful with skew edge handling.
A BEVEL <span class="keyword ParameterName OptionalReplaceable">value</span> of
4 is normally sufficient, and 16 should be considered a practical
maximum.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id4f00a48a-34d2-482a-9cd7-d666f69054ae"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">This example finds vias within a
minimum spacing.</p>
<pre class="pre codeblock"><code>bad_via {
	// find overlaps of vias expanded by minimum spacing distance.
	x = SIZE via BY min_via_space OVERLAP ONLY
	// vias that cut the overlap regions are output
	via CUT x
}</code></pre></div>
<div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id407ba1d3-909c-4c38-b5c9-acda25d3c7a8"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">The following Size operation, using
OVERUNDER:</p>
<pre class="pre codeblock"><code>new_layerA = SIZE metal1 BY 2 OVERUNDER</code></pre><p class="p">is equivalent to the following rule
file statements:</p>
<pre class="pre codeblock"><code>layer_a = SIZE metal1 BY 2
new_layerA = SIZE layer_a BY -2</code></pre></div>
<div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__ideec4c4e6-2919-420e-a469-6f4d456e1a6d"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">This shows some basic sizing examples
using non-rectangular regions. The angled edge of the original polygon
is nearly 45 degrees.</p>
<div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/size_example.png" /></div><br /></div>
</div>
<div class="section Subsection" id="id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id17edec91-0825-490f-8b66-a3cba145c413"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">The “<a class="xref fm:HeadingAndPage" href="#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__id52209ba8-8004-4696-93a9-fb3ddcd40769">Figure 2</a>” shows a typical layer derivation
for latch-up checks. In certain cases, a rule using a derivation
like that one can take many iterations, which can have an adverse
performance impact:</p>
<pre class="pre codeblock"><code>bad_pdevice { 
   // this is iterated 100 times due to the STEP size!
	x = SIZE ntap BY 25 INSIDE OF nwell STEP 0.25
	pgate NOT x
}</code></pre><p class="p">For cases like this, you can break
the rule down into steps to reduce the number of shapes the tool
must analyze:</p>
<pre class="pre codeblock"><code>// size initially by 10 rather than by 25
x1 = SIZE ntap BY 10 INSIDE OF nwell STEP 0.25
// filter out unnecessary nwell shapes
x2 = ntap OUTSIDE x1
x3 = nwell INTERACT x2
// now size by the remaining 15
x4 = SIZE x1 BY 15 INSIDE OF x3 STEP 0.25
pgate NOT x4</code></pre><p class="p">Experimenting with the number of
intermediate derivations such as the ones shown or adjusting the
sizing intervals can help optimize the performance.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceDictionaryPartFour_iddc7b0f44.html" title="This chapter contains descriptions for the statements and operations that can be used in a rule file. These appear in alphabetical order and this chapter contains those starting with letters P through Z.">Reference Dictionary P - Z</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Size"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Size_id1c0e0ff7.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>