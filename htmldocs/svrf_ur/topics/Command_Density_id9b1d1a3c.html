<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="Density" />
<meta name="abstract" content="Constructs a derived polygon layer by measuring the density of an input layer within a user-specified window over a specified region of the design." />
<meta name="description" content="Constructs a derived polygon layer by measuring the density of an input layer within a user-specified window over a specified region of the design." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Density</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Density" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Density</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="shortdesc">Constructs a derived polygon
layer by measuring the density of an input layer within a user-specified
window over a specified region of the design.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">DENSITY</span> <span class="keyword ParameterName RequiredReplaceable">layer1 </span>[<span class="keyword ParameterName OptionalReplaceable">layerN </span>…] [‘[’<span class="keyword ParameterName OptionalReplaceable">density_expression</span> ‘]’] <span class="keyword ParameterName RequiredReplaceable">constraint<br />
</span>[<span class="keyword ParameterName Optional">WINDOW</span> {<span class="keyword ParameterName OptionalReplaceable">wxy </span>| <span class="keyword ParameterName OptionalReplaceable">wx</span> <span class="keyword ParameterName OptionalReplaceable">wy</span>} [<span class="keyword ParameterName Optional">STEP</span> {<span class="keyword ParameterName OptionalReplaceable">sxy </span>| <span class="keyword ParameterName OptionalReplaceable">sx</span> <span class="keyword ParameterName OptionalReplaceable">sy</span>}]]<br />
[<span class="keyword ParameterName OptionalDefault">TRUNCATE</span> | <span class="keyword ParameterName Optional">BACKUP | IGNORE | WRAP</span>]<br />
[<span class="keyword ParameterName Optional">INSIDE OF</span> <span class="keyword ParameterName Optional">EXTENT</span> | INSIDE OF <span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span> | <br />
     <span class="keyword ParameterName Optional">{ INSIDE OF LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layerB </span>[ {BY EXTENT [<span class="keyword ParameterName OptionalReplaceable">size_value</span>]} | BY POLYGON <br />
         | {BY RECTANGLE [EXTENDED]} | CENTERED<span class="keyword ParameterName OptionalReplaceable"> value</span>] }<br />
]<br />
[ {GRADIENT <span class="keyword ParameterName OptionalReplaceable">constraint</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE] [CORNER [<span class="keyword ParameterName OptionalReplaceable">value</span>]]} <br />
   | {MAGNITUDE <span class="keyword ParameterName OptionalReplaceable">constraint</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE]}]<br />
[CENTERS <span class="keyword ParameterName OptionalReplaceable">value</span>]<br />
[<span class="keyword ParameterName Optional">PRINT [ONLY]</span> <span class="keyword ParameterName OptionalReplaceable">filename</span>] <br />
[RDB [ONLY] <span class="keyword ParameterName OptionalReplaceable">filename</span> [MAG <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
   [{MAXIMUM <span class="keyword ParameterName OptionalReplaceable">value</span>} | {COMBINE <span class="keyword ParameterName OptionalReplaceable">constraint </span>[<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE]}] ]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id886ca877-f269-4baa-ad8c-989ccb8c1030"><span class="keyword ParameterName RequiredReplaceable">layer1</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies
the name of an original or derived polygon layer. Multiple original
or derived polygon layers can be specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id2b5d363e-fc38-4113-91a6-e58786549717">‘[’<span class="keyword ParameterName OptionalReplaceable">density_expression</span>‘]’</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument specifying an expression enclosed in brackets that performs
a calculation involving layer data. The value (based in user units)
of the <span class="keyword ParameterName OptionalReplaceable">density_expression</span> is computed
within each data capture window. If the value of the expression
satisfies the <span class="keyword ParameterName RequiredReplaceable">constraint</span>,
then the window is output as usual. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span>:
If no <span class="keyword ParameterName OptionalReplaceable">density_expression</span> is
provided, then the density is calculated as the ratio of the area
of the input layers in a data capture window to the area of the
data capture window itself.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">density_expression</span> may
involve numbers (including numeric variables), operators, parentheses
( ), and the functions given in the following table:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id79c5e602-e300-42a9-aa6d-e0c2466c1ac0" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Density Math Functions</span></caption><colgroup><col style="width:2.512in" /><col style="width:3.012in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e328"><p class="p">Function</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e331"><p class="p">Definition</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">AREA(<span class="keyword ParameterName OptionalReplaceable">input_layer</span>)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Area of <span class="keyword ParameterName OptionalReplaceable">input_layer</span> in
user units of length squared. AREA() gives the area of the data capture
window.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">SQRT(x)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Square root of x</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">EXP(x)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Exponential (base e)
of x</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">LOG(x)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Natural logarithm of
x</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">SIN(x)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Sine of x radians</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">COS(x)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Cosine of x radians</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">TAN(x)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Tangent of x radians</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">MIN(<span class="keyword ParameterName OptionalReplaceable">expression1</span>,<span class="keyword ParameterName OptionalReplaceable">expression2</span>)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Returns the lesser value of the two expressions.
The expressions must be of the same form as the primary Density <span class="keyword ParameterName OptionalReplaceable">density_expression</span>,
without the brackets.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e328 "><p class="p">MAX(<span class="keyword ParameterName OptionalReplaceable">expression1</span>,<span class="keyword ParameterName OptionalReplaceable">expression2</span>)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e331 "><p class="p">Returns the maximum value
of the two expressions. The expressions must be of the same form
as the primary Density <span class="keyword ParameterName OptionalReplaceable">density_expression</span>,
without the brackets.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">In <a class="xref fm:Table" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id79c5e602-e300-42a9-aa6d-e0c2466c1ac0">Table 1</a>, x is a numeric argument
(including numeric variables and other numeric-valued expressions).
There is no compile-time or runtime exception checking on the arguments
of these functions, and unreasonable or undefined values may result
from certain arguments.</p>
<p class="p">The expression must not result
in strictly negative values because such values cannot be checked
by a <span class="keyword ParameterName RequiredReplaceable">constraint</span>.
Division by zero is defined <span class="ph FontProperty emphasis">not</span> to
satisfy any <span class="keyword ParameterName RequiredReplaceable">constraint</span>.</p>
<p class="p">Parentheses have the highest
precedence for the calculation of numeric values and may be used
for grouping of terms.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">Operators</span> —
Unary operators (+,  -, !, ~) require only one numerical argument
and all such operators have the same precedence. The unary + and
- operators are the usual positive and negative signs. The other
unary operators do the following:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id928e0f84-abf2-4b3f-a132-f0fe4268023b"><p class="p Opt">!
operator — Returns 0 (or false) if its argument is non-zero and
1 (or true) if its argument is 0. </p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id2bc3cc8a-5c8b-4934-8ed9-5cc07fe091cc"><p class="p Opt">~
operator — Returns 0 (or false) if the argument is positive and
1 (or true) if the argument is non-positive.</p>
</li>
</ul>
<p class="p">The ! and ~ operators treat the argument x as zero if x &lt;= 1E‑8.</p>
<p class="p">The following table
shows some useful combinations of the ~ and ! operators.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id61f06f93-1d85-4b54-abd9-095658a98573" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>! and ~ Operator Combinations</span></caption><colgroup><col style="width:0.433in" /><col style="width:0.573in" /><col style="width:0.545in" /><col style="width:0.703in" /><col style="width:0.703in" /><col style="width:0.703in" /><col style="width:0.703in" /><col style="width:0.703in" /><col style="width:0.783in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e476"><p class="p">x</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e479"><p class="p">!(x)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e482"><p class="p">!!(x)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e485"><p class="p">!(x-1)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e488"><p class="p">!!(x-1)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e491"><p class="p">~(x)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e494"><p class="p">~~(x)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e497"><p class="p">~(x-1)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e500"><p class="p">~~(x-1)</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">-1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">-2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e476 "><p class="p">-3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e479 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e482 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e485 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e488 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e491 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e494 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e497 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e500 "><p class="p">0</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Here is a summary of interpretations
of the ! and ~ operators:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id61f55b22-d5d3-42b9-af65-c98bb8eb4f28" class="table" frame="void" border="0" rules="none"><colgroup><col style="width:0.762in" /><col style="width:4.762in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">!(x) </p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects whether something
is absent (here, 0 means absent).</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">!!(x)</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects whether something
is present (not 0 means present).</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">!(x-r)</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects the value r.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">!!(x-r)</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects everything except
r.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">~(x) </p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects whether something
is absent (here, x &lt;= 0 means absent).</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">~~(x)</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects whether something
is present (x &gt; 0 means present).</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">~(x-r) </p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects everything &lt;=
r.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">~~(x-r) </p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">detects everything &gt;
r.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"><a class="xref fm:Table" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id61f06f93-1d85-4b54-abd9-095658a98573">Table 2</a> does not show these relations
explicitly, but they can be verified from the table: </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id7b7c544d-0259-4ab9-940a-c1ce02a8512b"><p class="p Opt">!~(x)
= ~~(x) and ~!(x) = !!(x).</p>
</li>
</ul>
<p class="p">The binary operators ^, *,
/, +, - require two numerical arguments. The ^ operator is the same
as the C language pow( ) function, where x ^ y means x raised to
the y power. The *, /, +, and - operators are multiplication, division,
addition, and subtraction, respectively, and have the customary
precedence. The ^ operator has the same precedence as * and /.</p>
<p class="p">The binary operators
|| (OR) and &amp;&amp; (AND) are the same as the C language operators
of the same type, except that they have the same precedence as binary
+ and -. They expect numeric-valued inputs. For example:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idb4a35c37-c9b9-4a97-8fed-f22931481b8a"><p class="p Opt">AREA(via)
&amp;&amp; AREA(met) returns 1 if both inputs are non-zero and 0
otherwise.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idfbf98e47-3484-4da1-abb9-f2bdc3c2aefd"><p class="p Opt">AREA(via)
|| AREA(met) returns 1 if either input is non-zero and 0 otherwise.</p>
</li>
</ul>
<p class="p">Here is an example of a Density
operation using a <span class="keyword ParameterName OptionalReplaceable">density_expression</span>:</p>
<pre class="pre codeblock"><code>DENSITY L1 L2 L3 [ ( AREA(L1) + AREA(L2) + AREA(L3) ) / AREA() ] ...</code></pre><p class="p">This is equivalent to the default
density calculation used without a <span class="keyword ParameterName OptionalReplaceable">density_expression</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id977d1d24-234c-4d32-8121-30fa14396753"><span class="keyword ParameterName RequiredReplaceable">constraint</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument specifying
a constraint listed in the “Constraint Notation” column of <a class="xref fm:TableAndPage" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__idf28cb715-136e-454e-81a1-e050ea37b1a7">Table 1</a> in the “<a class="xref fm:HeadingOnly" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__Concept_Constraints_id4b42a9dc.xml#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458" title="Certain SVRF layer operations are measurement-oriented and therefore carry constraints. Constraints are ranges of non-negative real numbers; input data that falls within the specified constraint of an operation is generally output as result data.">Constraints</a>” topic.
The <span class="keyword ParameterName RequiredReplaceable">constraint</span> “&lt;
0” is not allowed.</p>
<p class="p">Data capture windows whose <span class="keyword ParameterName OptionalReplaceable">density_expression</span> values
meet the <span class="keyword ParameterName RequiredReplaceable">constraint</span> are
output. The default expression (the density ratio of the window)
is used if a <span class="keyword ParameterName OptionalReplaceable">density_expression</span> is
not specified.</p>
<p class="p">When used without a <span class="keyword ParameterName OptionalReplaceable">density_expression</span>,
the <span class="keyword ParameterName RequiredReplaceable">constraint</span> should
contain numbers between 0 and 1. A percentage constraint should
be divided by 100; for example, 20% is entered as 0.20. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id62c559ce-b7be-4327-a504-c9bfa351383b"><span class="keyword ParameterName Optional">WINDOW</span> {<span class="keyword ParameterName OptionalReplaceable">wxy</span> | <span class="keyword ParameterName OptionalReplaceable">wx</span> <span class="keyword ParameterName OptionalReplaceable">wy</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
specifies the dimensions of the data capture window within which
the density check is to occur. The choices are:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3292d2bb-ca74-422d-9248-040781dc1556"><p class="p Opt"><span class="keyword ParameterName Optional">WINDOW</span> <span class="keyword ParameterName OptionalReplaceable">wxy </span>—
Specifies a square window with a height and width of <span class="keyword ParameterName OptionalReplaceable">wxy</span> user
units. The argument <span class="keyword ParameterName OptionalReplaceable">wxy</span> must
evaluate to a positive real number.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id284e53b7-79c6-4ad8-b6a8-7c9737fbac2f"><p class="p Opt"><span class="keyword ParameterName Optional">WINDOW</span> <span class="keyword ParameterName OptionalReplaceable">wx</span> <span class="keyword ParameterName OptionalReplaceable">wy </span>—
Specifies a rectangular window with a height of <span class="keyword ParameterName OptionalReplaceable">wy</span> user
units and a width of <span class="keyword ParameterName OptionalReplaceable">wx</span> user
units. The arguments <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">wy</span> must
evaluate to positive real numbers.</p>
</li>
</ul>
<p class="p">The windows are tiled across
a data capture extent, which is determined by the keywords specified
with the operation. Windows that meet the <span class="keyword ParameterName RequiredReplaceable">constraint</span> are
output. Windows that are written to the DRC Results Database are
merged.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
If you do not specify this keyword set in the statement, the default window
size is either the extent of the layout database read in at runtime,
or is defined by the INSIDE OF condition when one is specified. <span class="ph FontProperty emphasis">Calibre does not read in database layers if they are not required for calculating outputs during the run</span>.
If the window is larger than the boundary in the x-direction or
y-direction, the behavior is determined by the TRUNCATE, BACKUP,
IGNORE, or WRAP keyword, with TRUNCATE being the default.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id804e4738-edc9-4138-b0e5-eda13eb6a46a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Density WINDOW</span><br /><div class="imagecenter"><img class="image imagecenter" height="180" src="../graphics/Density/density_window.png" width="468" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id5bbda662-1bc7-49fc-82c8-71e9bc196836"><span class="keyword ParameterName Optional">STEP</span> {<span class="keyword ParameterName OptionalReplaceable">sxy</span> | <span class="keyword ParameterName OptionalReplaceable">sx</span> <span class="keyword ParameterName OptionalReplaceable">sy</span>} </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
is specified with WINDOW. Specifies the grid increment for which
data capture windows are tiled within the data capture extent. The
choices are:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf733e1a8-aa7c-4c92-86fd-b085a65ee885"><p class="p Opt"><span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">sxy </span>—
Specifies that the windows are tiled to the right and up in increments
of <span class="keyword ParameterName OptionalReplaceable">sxy</span> user
units. The argument <span class="keyword ParameterName OptionalReplaceable">sxy</span> must
evaluate to a positive real number.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3a729107-83cd-48d1-97dc-edfe964aeb54"><p class="p Opt"><span class="keyword ParameterName Optional">STEP</span> <span class="keyword ParameterName OptionalReplaceable">sx</span> <span class="keyword ParameterName OptionalReplaceable">sy </span>—
Specifies that the windows are tiled incrementally to the right <span class="keyword ParameterName OptionalReplaceable">sx</span> user units
and up <span class="keyword ParameterName OptionalReplaceable">sy</span> user
units. The arguments <span class="keyword ParameterName OptionalReplaceable">sx</span> and <span class="keyword ParameterName OptionalReplaceable">sy</span> must
evaluate to a positive real numbers.</p>
</li>
</ul>
<p class="p">The values <span class="keyword ParameterName OptionalReplaceable">sxy</span>, <span class="keyword ParameterName OptionalReplaceable">sx</span>,
and <span class="keyword ParameterName OptionalReplaceable">sy</span> must
evenly divide into the WINDOW values <span class="keyword ParameterName OptionalReplaceable">wxy</span>, <span class="keyword ParameterName OptionalReplaceable">wx</span>,
and <span class="keyword ParameterName OptionalReplaceable">wy</span>, respectively.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span> —
If you do not specify STEP in the statement, the default STEP size
is defined by the WINDOW dimensions. </p>
<p class="p">Note that STEP 3 -1 is interpreted
as STEP 2, and STEP 3 (-1) is a compiler error.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf0ee87c4-edf0-4a38-acbb-37742ab8b748"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Density WINDOW STEP</span><br /><div class="imagecenter"><img class="image imagecenter" height="159" src="../graphics/Density/density_window_step.png" width="468" /></div><br /></div>
<p class="p">The stepped data capture windows
start in the lower-left corner of the data capture extent and initially
are tiled in <span class="keyword ParameterName OptionalReplaceable">sxy</span> or <span class="keyword ParameterName OptionalReplaceable">sx</span> increments
to the right. Upon arriving at the right edge of the data capture
extent, the capture windows are tiled upward by the <span class="keyword ParameterName OptionalReplaceable">sxy</span> or <span class="keyword ParameterName OptionalReplaceable">sy</span> increment
and are tiled again starting from the left edge of the data capture
extent.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1007fb61-ce04-40ab-bd0f-c5fd9dc52688"><span class="keyword ParameterName OptionalDefault">TRUNCATE</span> | BACKUP |  IGNORE | WRAP</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword choice specifying the conditions
applied to the data capture windows at the boundaries of the data
capture extent. The algorithms for these keywords are discussed
in the section “<a class="xref fm:HeadingAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id9821a1d0-fc43-451a-bbc8-960d442b511f">Functional Details</a>”. TRUNCATE is the default behavior if you do not specify a keyword
from this group.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4117932e-fa4b-4373-b7da-1f18273b1dd2"><p class="p Opt">TRUNCATE — Specifies
that data capture windows are truncated at their capture extent.
The output of the operation is then based upon the dimensions of
the truncated window. </p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6f0f0605-23b9-402e-a520-c828c6f97e0a"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Density WINDOW TRUNCATE</span><br /><div class="imagecenter"><img class="image imagecenter" height="159" src="../graphics/Density/density_window_truncate.png" width="468" /></div><br /></div>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id568e54a7-10d9-4bf8-be02-f7a42465ef05"><p class="p Opt">BACKUP — Specifies that if a window
overlaps the right-hand or top edges of the data capture extent,
the window is shifted left or down until it is no longer overlapping
the data capture extent. The output of the operation is calculated
after the window has been shifted.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf62e73b5-2284-4085-993e-032474090782"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Density WINDOW BACKUP</span><br /><div class="imagecenter"><img class="image imagecenter" height="162" src="../graphics/Density/density_window_backup.png" width="468" /></div><br /></div>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id153f91d3-011a-47f8-aa04-2158df918fc6"><p class="p Opt">IGNORE — Specifies that if a window overlaps the right-hand
or top edges of the data capture extent, then the window is ignored
and no data for that window location is output.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id14998ba4-8dca-4058-87ff-b87d77f0b547"><span class="figcap"><span class="fig--title-label">Figure 5. </span>Density WINDOW IGNORE</span><br /><div class="imagecenter"><img class="image imagecenter" height="172" src="../graphics/Density/density_window_step_ignore.png" width="468" /></div><br /></div>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idfb263cb1-beea-435c-accb-1cd9d37b8a3d">WRAP</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
if a window overlaps the right-hand or top edges of the data capture
extent, then the data capture extent and its data are duplicated
and added to the right-hand side or top side of the original bounding
box. The output of the operation is calculated in the window that
intersects the duplicated data capture extent regions.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc5f37254-e911-4718-bc9e-d3ab27c244da"><span class="figcap"><span class="fig--title-label">Figure 6. </span>Density WINDOW WRAP</span><br /><div class="imagecenter"><img class="image imagecenter" height="142" src="../graphics/Density/density_window_step_wrap.png" width="468" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd20d4c5e-8832-4846-a89d-bde279a6141a"><span class="keyword ParameterName Optional">INSIDE OF EXTENT</span> | INSIDE OF <span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span> | <span class="keyword ParameterName Optional">{INSIDE OF LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layerB</span> [ {BY EXTENT [<span class="keyword ParameterName OptionalReplaceable">size_value</span>]} | BY POLYGON | {BY RECTANGLE [EXTENDED]} | CENTERED <span class="keyword ParameterName OptionalReplaceable">value</span> ]}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword choice
that defines a data capture extent within which data capture windows
are tiled. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Default behavior</span>:
If you do not specify any of these keywords in the operation, the
default data capture extent is the database extent read in at run
time. <span class="ph FontProperty emphasis">Calibre does not read in database layers if they are not required for calculating outputs during the run</span>.
Layers that are not read in do not contribute to the Calibre database
extent.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1171c449-4e6d-4443-865e-551d064098e3"><p class="p Opt">INSIDE OF EXTENT — Specifies
that the data capture extent is the rectangular extent of the input <span class="keyword ParameterName RequiredReplaceable">layer</span> arguments.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd402d638-1f7d-40cf-8740-139783eb15d6"><span class="figcap"><span class="fig--title-label">Figure 7. </span>Density
INSIDE OF EXTENT</span><br /><div class="imagecenter"><img class="image imagecenter" height="164" src="../graphics/Density/density_inside_of_extent.png" width="468" /></div><br /></div>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id2eaa600e-523b-4fde-bdad-c57b95d8c287"><p class="p Opt">INSIDE OF <span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span> —
Specifies the lower‑left and upper‑right corners of a rectangular
data capture extent, orthogonal to the database axes, in user units.
If a coordinate is negative, it must be enclosed in parentheses
( ).</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idee1ec621-9ff6-45ad-a52e-9b309be85a3a"><span class="figcap"><span class="fig--title-label">Figure 8. </span>Density
INSIDE OF x1 y1 x2 y2</span><br /><div class="imagecenter"><img class="image imagecenter" height="164" src="../graphics/Density/density_inside_of_x1y1x2y2.png" width="468" /></div><br /></div>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idcb9c9411-dfe7-47d6-abc9-9e7fec52ceba"><p class="p Opt"><span class="keyword ParameterName Optional">INSIDE OF LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layerB</span> [ {BY EXTENT [<span class="keyword ParameterName OptionalReplaceable">size_value</span>]}
| BY POLYGON | {BY RECTANGLE [EXTENDED]}| CENTERED <span class="keyword ParameterName OptionalReplaceable">value</span>] </p>
<p class="p">If none of the optional keywords are included,
specifies that the output of data capture windows is coincident
with polygons from <span class="keyword ParameterName OptionalReplaceable">layerB</span>. <span class="keyword ParameterName OptionalReplaceable">layerB</span> must
be an original or derived polygon layer and may not be a layer that
is specified with the <span class="keyword ParameterName OptionalReplaceable">layerN</span> argument.
The data capture extents are the rectangular extents of polygons
from <span class="keyword ParameterName OptionalReplaceable">layerB</span>.</p>
<p class="p">The optional keywords modify the INSIDE OF LAYER
results output and data capture extents. The exact algorithms for
all of these keywords are in the “Functional Details” section.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The INSIDE OF LAYER keyword reduces performance and should
generally be avoided.</p>
</div>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4c83fd59-6395-4c8c-ad00-f50932567f3a"><span class="figcap"><span class="fig--title-label">Figure 9. </span>Density
INSIDE OF LAYER</span><br /><div class="imagecenter"><img class="image imagecenter" height="326" src="../graphics/Density/density_inside_of_layer.png" width="468" /></div><br /></div>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc38566db-0918-4b54-8e4a-4c9f57c0ef76"><p class="p Opt">BY EXTENT [<span class="keyword ParameterName OptionalReplaceable">size_value</span>]
— Specifies the output of data capture windows is coincident with
the extents of polygons from <span class="keyword ParameterName OptionalReplaceable">layerB</span>,
not the polygons themselves. The optional <span class="keyword ParameterName OptionalReplaceable">size_value</span> is
a non-negative floating-point value in user units that causes the
extents of the polygons from <span class="keyword ParameterName OptionalReplaceable">layerB</span> to
be expanded by the specified amount. The expanded extents are then
used. <a class="xref fm:Figure" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id8f91581a-8de1-44f0-98d0-5b67844bde77">Figure 10</a> shows example
results output. Compare this to <a class="xref fm:Figure" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4c83fd59-6395-4c8c-ad00-f50932567f3a">Figure 9</a>.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id8f91581a-8de1-44f0-98d0-5b67844bde77"><span class="figcap"><span class="fig--title-label">Figure 10. </span>Density
INSIDE OF LAYER BY EXTENT</span><br /><div class="imagecenter"><img class="image imagecenter" height="141" src="../graphics/Density/density_inside_of_layer_by_extent.png" width="468" /></div><br /></div>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id92e82baa-4e41-43da-869b-a7a8ada8a6ad"><p class="p Opt">BY POLYGON — Specifies to modify the input polygons to be the
intersections (Boolean AND) of polygons from the input <span class="keyword ParameterName RequiredReplaceable">layer</span> arguments
with polygons from <span class="keyword ParameterName OptionalReplaceable">layerB</span>.
These modified input polygons are then used for the density calculations. The
output is coincident with polygons from <span class="keyword ParameterName OptionalReplaceable">layerB</span>.
May not be specified with COMBINE. The following figure shows example
results output. </p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id15c5952e-1e36-4ec5-867b-8bc5706caace"><span class="figcap"><span class="fig--title-label">Figure 11. </span>Density INSIDE OF LAYER BY POLYGON</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/Density/density_inside_of_layer_by_polygon.png" /></div><br /></div>
</li>
</ul>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idb4654770-cfd2-41fa-a572-b9738812ba03"><p class="p Opt">BY RECTANGLE [EXTENDED] — Specifies
to modify polygons on <span class="keyword ParameterName OptionalReplaceable">layerB</span> by segmenting
them vertically into trapezoids and triangles. Then the BY POLYGON
algorithm is used with the segmented <span class="keyword ParameterName OptionalReplaceable">layerB</span> polygons.
May not be specified with COMBINE.</p>
<p class="p">The following figure shows the
initial steps of the BY RECTANGLE algorithm. After these steps,
the operation proceeds as with BY POLYGON.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id0b5e2397-f99e-4f7b-8200-2fdea243a69e"><span class="figcap"><span class="fig--title-label">Figure 12. </span>Density
INSIDE OF LAYER BY RECTANGLE</span><br /><div class="imagecenter"><img class="image imagecenter" height="284" src="../graphics/Density/density_inside_of_layer_by_rectangle.png" width="468" /></div><br /></div>
<p class="p">The optional EXTENDED keyword causes trapezoidal segmented shapes
in certain configurations to be extended horizontally into adjacent
segmented shapes, such that the shapes overlap. In certain cases,
a new trapezoid is created that overlaps adjacent shapes. See <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4a328307-34f3-414e-bbd0-c016ef1dcf65">Figure 18</a>.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idfb521433-cd5c-4c40-a89b-4a959c1d2e32"><p class="p Opt">CENTERED <span class="keyword ParameterName OptionalReplaceable">value</span> —
Specifies that the data capture extents are squares with a side length
of <span class="keyword ParameterName OptionalReplaceable">value</span> in
user units. The center of each square data capture extent is the center
of the extent of each <span class="keyword ParameterName OptionalReplaceable">layerB</span> polygon.
As shown in the following figure, the data capture extent may extend
beyond the <span class="keyword ParameterName OptionalReplaceable">layerB</span> extent,
depending on the <span class="keyword ParameterName OptionalReplaceable">value</span> argument.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idb241c8a3-2ed8-4ecb-b20e-63b23ce0078a"><span class="figcap"><span class="fig--title-label">Figure 13. </span>Density
INSIDE OF LAYER CENTERED</span><br /><div class="imagecenter"><img class="image imagecenter" height="166" src="../graphics/Density/density_inside_of_layer_centered.png" width="468" /></div><br /></div>
</li>
</ul>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id5e6c30ff-2487-422b-a700-64c1fa745553">GRADIENT <span class="keyword ParameterName OptionalReplaceable">constraint</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE] [CORNER [<span class="keyword ParameterName OptionalReplaceable">value</span>]] </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
the gradient value a window must satisfy in order to be output.
The gradient is a measure of density value change from one window
to adjacent non‑overlapping windows. (Overlapping windows occur
when a STEP value differs from a corresponding WINDOW value or when
BACKUP is used and data capture windows exceed the data capture
extent. In either case, gradient values are calculated for abutting windows
only, not for overlapping windows. See <a class="xref fm:HeadingOnly" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id182f62bc-2fc4-4232-a057-9120014a929a">Example 7</a>.)</p>
<p class="p">In order for a data capture
window to be output, it must satisfy both the usual Density <span class="keyword ParameterName RequiredReplaceable">constraint</span> and
the GRADIENT <span class="keyword ParameterName OptionalReplaceable">constraint</span>. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id184a30ea-dcf6-4397-904a-a2714ad82569"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE
— Specifies whether to use the relative or absolute calculation
for GRADIENT. See the following discussion for the definition of
the gradient function. The default is RELATIVE.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idfd988f2a-175e-4bf7-b568-45a5ed802d0e"><p class="p Opt">CORNER [<span class="keyword ParameterName OptionalReplaceable">value</span>]
— Specifies that the set of windows in the GRADIENT calculation
is extended to include the four windows touching the window being
considered on each corner, which may not exist at certain window
locations. If <span class="keyword ParameterName OptionalReplaceable">value</span> is
specified, then for each corner window, the gradient is multiplied
by the <span class="keyword ParameterName OptionalReplaceable">value</span>.
The <span class="keyword ParameterName OptionalReplaceable">value</span> is
a dimensionless, non-negative floating-point number. </p>
</li>
</ul>
<p class="p">The GRADIENT
function G depends on the RELATIVE or ABSOLUTE keyword choice:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3d5aec6f-259f-4bcb-91f1-c34bb9cff10c"><p class="p Opt">G(A,
B) = | | V<span class="ph FontProperty LiteralSubScript">A</span> |
- | V<span class="ph FontProperty LiteralSubScript">B</span> |
| / max( | V<span class="ph FontProperty LiteralSubScript">A</span> |,
| V<span class="ph FontProperty LiteralSubScript">B</span> |
)     (RELATIVE equation, default)</p>
</li>
</ul>
<p class="p">or</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6240c4e5-47ff-4b6d-9732-e99760bb9097"><p class="p Opt">G(A,
B) = | | V<span class="ph FontProperty LiteralSubScript">A</span> |
- | V<span class="ph FontProperty LiteralSubScript">B</span> |
|                                       (ABSOLUTE equation)</p>
</li>
</ul>
<p class="p">for windows A and B being compared,
where V<span class="ph FontProperty LiteralSubScript">A</span> is
the density value of window A and V<span class="ph FontProperty LiteralSubScript">B</span> is
the density value of window B. </p>
<p class="p">The following table shows the
possible GRADIENT values for given values of V<span class="ph FontProperty LiteralSubScript">A</span> and
V<span class="ph FontProperty LiteralSubScript">B</span>.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1690c82c-c2c9-4909-8263-3348e4dd2be3" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 3. </span>GRADIENT Values</span></caption><colgroup><col style="width:1.544in" /><col style="width:1.544in" /><col style="width:1.544in" /><col style="width:1.544in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e1361"><p class="p">|V<span class="ph FontProperty LiteralSubScript">A</span>|</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e1367"><p class="p">|V<span class="ph FontProperty LiteralSubScript">B</span>|</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e1373"><p class="p">G(A, B)</p>
<p class="p">RELATIVE</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d212033e1378"><p class="p">G(A, B)</p>
<p class="p">ABSOLUTE</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1361 "><p class="p">equals |V<span class="ph FontProperty LiteralSubScript">B</span>|</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1367 "><p class="p">equals |V<span class="ph FontProperty LiteralSubScript">A</span>|</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1373 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1378 "><p class="p">0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1361 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1367 "><p class="p">&gt;0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1373 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1378 "><p class="p">|V<span class="ph FontProperty LiteralSubScript">B</span>|</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1361 "><p class="p">&gt;0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1367 "><p class="p">0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1373 "><p class="p">1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1378 "><p class="p">|V<span class="ph FontProperty LiteralSubScript">A</span>|</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1361 "><p class="p">&gt;0, not equal |V<span class="ph FontProperty LiteralSubScript">B</span>|</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1367 "><p class="p">&gt;0, not equal |V<span class="ph FontProperty LiteralSubScript">A</span>|</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1373 "><p class="p">| |V<span class="ph FontProperty LiteralSubScript">A</span>|
- |V<span class="ph FontProperty LiteralSubScript">B</span>|
| / </p>
<p class="p">max( |V<span class="ph FontProperty LiteralSubScript">A</span>|,
|V<span class="ph FontProperty LiteralSubScript">B</span>|
)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d212033e1378 "><p class="p">| |V<span class="ph FontProperty LiteralSubScript">A</span>|
- |V<span class="ph FontProperty LiteralSubScript">B</span>|
|</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The gradient value of a window
W is the maximum of this set:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6d749774-31dc-4102-90c3-9d1ee35f989c"><p class="p Opt">{G(W,
W<span class="ph FontProperty LiteralSubScript">L</span>),
G(W, W<span class="ph FontProperty LiteralSubScript">R</span>),
G(W, W<span class="ph FontProperty LiteralSubScript">T</span>),
G(W, W<span class="ph FontProperty LiteralSubScript">B</span>)}</p>
</li>
</ul>
<p class="p">where W<span class="ph FontProperty LiteralSubScript">L</span> is
the window immediately to the left of W, W<span class="ph FontProperty LiteralSubScript">R</span> is
the window immediately to the right of W, W<span class="ph FontProperty LiteralSubScript">T</span> is
the window immediately above W, W<span class="ph FontProperty LiteralSubScript">B</span> is
the window immediately below W. See <a class="xref fm:Figure" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6a00b05a-283f-4a3b-ba55-9fb74a831580">Figure 14</a>. The CORNER keyword adds
the four corner windows to the calculation, as shown in the lower
half of the figure. </p>
<p class="p">Any window W that satisfies
both the Density operation’s primary <span class="keyword ParameterName RequiredReplaceable">constraint</span> and
the GRADIENT <span class="keyword ParameterName OptionalReplaceable">constraint</span> is
output.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6a00b05a-283f-4a3b-ba55-9fb74a831580"><span class="figcap"><span class="fig--title-label">Figure 14. </span>GRADIENT Windows</span><br /><div class="imagecenter"><img class="image imagecenter" height="215" src="../graphics/Density/density_gradient_windows.png" width="468" /></div><br /></div>
<p class="p">G(W, W<span class="ph FontProperty LiteralSubScript">L</span>)
is 0 if W is a leftmost window, G(W, W<span class="ph FontProperty LiteralSubScript">R</span>)
is 0 if W is a rightmost window, and so forth. </p>
<p class="p">Data capture windows at the boundaries of the data capture region
can be truncated (by default, or when TRUNCATE is explicitly specified).
A truncated window is processed as a W window in the preceding figure,
but it does not participate as one of the surrounding windows when
calculating a gradient.</p>
<p class="p">If GRADIENT and PRINT are both
specified, then each line in the PRINT output file has an additional
(sixth) numeric entry, which is the GRADIENT value of the window.</p>
<p class="p">GRADIENT
may not be specified with MAGNITUDE or RDB COMBINE. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idcc89012f-385b-4078-b2ee-5a76048a0991">MAGNITUDE <span class="keyword ParameterName OptionalReplaceable">constraint</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set
that determines if there is at least one data capture window within the
data capture extent that satisfies a specified gradient value (see
the GRADIENT description for the definition), which is given by
the MAGNITUDE constraint. In order for a data capture window to
be output, it must satisfy both the usual Density constraint and
the MAGNITUDE constraint.</p>
<p class="p">The optional RELATIVE and ABSOLUTE keywords have
the same meaning as for the GRADIENT keyword. </p>
<p class="p">Let A be
a given data capture window. Let C(A) be the number (or magnitude
count) of other windows, B, such that the gradient value, denoted
G(A, B), satisfies the MAGNITUDE <span class="keyword ParameterName OptionalReplaceable">constraint</span>.
Hence, C(A) is always a non-negative integer representing the count
of other windows that satisfy this condition. If C(A) &gt; 0, then
window A is output (this implies B will also be output because it
will satisfy the MAGNITUDE condition with A). A window B whose ratio
values does not satisfy the Density operation’s primary <span class="keyword ParameterName RequiredReplaceable">constraint</span> does
not contribute to C(A).</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ida7e9b345-d319-4bfa-99ab-1ed9e63642cf"><span class="figcap"><span class="fig--title-label">Figure 15. </span>MAGNITUDE Windows</span><br /><div class="imagecenter"><img class="image imagecenter" height="128" src="../graphics/Density/density_magnitude_windows.png" width="468" /></div><br /></div>
<p class="p"><a class="xref fm:Table" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1690c82c-c2c9-4909-8263-3348e4dd2be3">Table 3</a> shows the possible gradients
in the RELATIVE and ABSOLUTE modes for all combinations of V<span class="ph FontProperty LiteralSubScript">A</span> and
V<span class="ph FontProperty LiteralSubScript">B</span> values,
which are the Density values of windows A and B respectively. The
RELATIVE calculation is the default; the ABSOLUTE equation is used
if the keyword ABSOLUTE is specified.</p>
<p class="p">Note that, whereas the calculation
used by the GRADIENT keyword compares only windows adjacent to A,
the MAGNITUDE keyword performs the gradient calculation for <span class="ph FontProperty emphasis">all</span> data
capture windows other than A within the INSIDE OF data capture extent,
which satisfy the Density operation’s primary condition.</p>
<p class="p">Given the preceding definitions,
any window A that generates a G(A, B) value that satisfies the MAGNITUDE <span class="keyword ParameterName OptionalReplaceable">constraint</span> is
output.</p>
<p class="p">When you specify MAGNITUDE,
the PRINT [ONLY] file and the RDB [ONLY] file have different formats
from the default Density output for these files. See “PRINT Output”
or “RDB Output” for details on file formats.</p>
<p class="p">The MAGNITUDE option processing
time increases proportionally to the square of the number of windows.
The number of data capture windows should not be large when using MAGNITUDE.</p>
<p class="p">MAGNITUDE may not be specified
with GRADIENT, COMBINE, or MAXIMUM.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idaebe00b5-6fed-4c2e-b6c2-80b9d9d9cfd0">CENTERS <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and positive
floating-point number in user units that cause the geometric output
of Density to be squares of <span class="keyword ParameterName OptionalReplaceable">value</span> × <span class="keyword ParameterName OptionalReplaceable">value</span> dimensions
located at the centers of rectangles that would be output by default.
May not be specified with COMBINE.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ida0bd09df-fe9e-4def-8f47-5ea9b3564b0c"><span class="keyword ParameterName Optional">PRINT</span> [<span class="keyword ParameterName Optional">ONLY</span>] <span class="keyword ParameterName OptionalReplaceable">filename</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
specifies that all processed window data are printed to the desired
files. The choices are these:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ide6f4edd0-ef4e-432e-a1f7-51e8abab6689"><p class="p Opt"><span class="keyword ParameterName Optional">PRINT</span> <span class="keyword ParameterName OptionalReplaceable">filename</span> —
Specifies that the tool prints the density window data in ASCII
form to the specified filename in addition to the usual results
output.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1e9dc1e4-90fb-4f70-bae3-2c62393e175f"><p class="p Opt"><span class="keyword ParameterName Optional">PRINT ONLY</span> <span class="keyword ParameterName OptionalReplaceable">filename</span> —
Specifies that the tool prints the density window data in ASCII
form to the specified filename only. The PRINT ONLY keyword leaves
the results database layer empty. This saves operation time if you
are not interested in the geometric result. This keyword cannot
be specified with RDB [ONLY] and is only supported in Calibre nmDRC
applications. All other applications issue a warning and do not
generate the printed output; however, they do generate the standard
output of the operation.</p>
</li>
</ul>
<p class="p">File names are case-sensitive.
Subdirectories in a <span class="keyword ParameterName OptionalReplaceable">filename</span> are
created as required. The filename argument can contain environment
variables. For information regarding the use of environment variables
in the filename argument, refer to “<a class="xref fm:HeadingAndPage" href="Concept_EnvironmentVariablesInPathnameParameters_id227f5401.html#id227f5401-c3e0-428d-97cb-cc1872c793cc__Concept_EnvironmentVariablesInPathnameParameters_id227f5401.xml#id227f5401-c3e0-428d-97cb-cc1872c793cc" title="When specifying a pathname parameter in a rule file statement, you can use an environment variable as a component of the filename (this does not apply to ICverify). The environment variable is signified by preceding it with a dollar sign ($). The tool evaluates the environment variable at compilation time and substitutes it into the filename string.">Environment Variables in Pathname Parameters</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ide0cdca56-44f7-4fbe-af61-dd68270cae8c"><span class="keyword ParameterName Optional">RDB</span> [<span class="keyword ParameterName Optional">ONLY</span>] <span class="keyword ParameterName OptionalReplaceable">filename</span> [MAG <span class="keyword ParameterName OptionalReplaceable">value</span>] [{MAXIMUM <span class="keyword ParameterName OptionalReplaceable">value</span>} | {COMBINE <span class="keyword ParameterName OptionalReplaceable">constraint </span>[<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE]}]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
keyword set that instructs the tool to create an ASCII results database
(RDB) with the specified <span class="ph filepath">filename</span>.
File names are case-sensitive. Subdirectories in a pathname are created
as required. The RDB includes geometry and detailed statistics for
the operation. </p>
<p class="p">The RDB keyword is for use
in Calibre nmDRC-related applications only. If used in Calibre nmLVS
or PEX applications, a warning is issued and the Density operation
continues as if RDB were not specified.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3b9e5214-aa2c-479a-b848-14a18c8a83db"><p class="p Opt">RDB <span class="keyword ParameterName OptionalReplaceable">filename</span> —
Specifies a filename for outputting the RDB results. This database
is in addition to the usual results database (see <a class="xref fm:HeadingOnly" href="Command_DrcResultsDatabase_id0b88b629.html#id0b88b629-f401-46e8-8ea0-51794e5c34cc__Command_DrcResultsDatabase_id0b88b629.xml#id0b88b629-f401-46e8-8ea0-51794e5c34cc" title="Specifies the filename and type of the DRC results database. Used only in Calibre nmDRC and Calibre nmDRC-H.">DRC Results Database</a>) and can be loaded into Calibre RVE
or Pyxis Layout.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1ae032e5-682e-4459-9328-fcf1b67b0192"><p class="p Opt">RDB ONLY <span class="keyword ParameterName OptionalReplaceable">filename</span> —
Specifies a filename for outputting the RDB results. The ONLY keyword
specifies that no geometric data is sent to the usual DRC Results Database.
Any results sent to the RDB in this mode <span class="ph FontProperty emphasis">are not reported</span> in
either the run transcript or the DRC Summary Report. This argument
cannot be specified with PRINT [ONLY].</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id65b6e460-bfd0-4f34-8360-be11d213a51d"><p class="p Opt">MAG <span class="keyword ParameterName OptionalReplaceable">value</span> —
Specifies the results sent to the RDB <span class="keyword ParameterName OptionalReplaceable">filename</span> are
magnified by the specified <span class="keyword ParameterName OptionalReplaceable">value</span>.
The <span class="keyword ParameterName OptionalReplaceable">value</span> must
be a positive floating point number, which is dimensionless. When
specified, the MAG keyword overrides a <a class="xref fm:HeadingOnly" href="Command_DrcMagnifyDensity_idd0894bd1.html#idd0894bd1-f6f6-43a4-b51b-4a342c3ea750__Command_DrcMagnifyDensity_idd0894bd1.xml#idd0894bd1-f6f6-43a4-b51b-4a342c3ea750" title="Specifies a default magnification value for Density RDB databases. Used only in Calibre nmDRC and Calibre nmDRC-H.">DRC Magnify Density</a> statement.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1a0041de-9003-4526-bfac-60caf4d75ce2"><p class="p Opt">MAXIMUM <span class="keyword ParameterName OptionalReplaceable">value</span> —
Limits the number of geometric objects output to the RDB to the specified <span class="keyword ParameterName OptionalReplaceable">value</span>.
The <span class="keyword ParameterName OptionalReplaceable">value</span> must
be numeric or a numeric expression (potentially containing variables)
that resolves to an integer greater than or equal to 1. The default is
unlimited for hierarchical and flat applications.</p>
<p class="p">You can optionally use the <a class="xref fm:HeadingOnly" href="Command_DrcMaximumResultsDensity_id2c72a661.html#id2c72a661-6c1e-49bc-a3db-d5fc1a81c4f2__Command_DrcMaximumResultsDensity_id2c72a661.xml#id2c72a661-6c1e-49bc-a3db-d5fc1a81c4f2" title="Specifies a default value for the MAXIMUM keyword in the Density operation.">DRC Maximum Results Density</a> statement
to specify the maximum. The DRC Maximum Results Density limit applies
when MAXIMUM, COMBINE, or MAGNITUDE are unspecified.</p>
<p class="p">This keyword may not be used with the COMBINE or MAGNITUDE keywords. When
COMBINE or MAGNITUDE is specified, then there is no results limit.</p>
</li>
<li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idfe61a144-caf6-46e4-b994-d9b25043f175"><p class="p Opt">COMBINE <span class="keyword ParameterName OptionalReplaceable">constraint</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> |
ABSOLUTE] — Specifies to combine
adjacent windows whose difference in <span class="keyword ParameterName OptionalReplaceable">density_expression</span> values
satisfies the <span class="keyword ParameterName OptionalReplaceable">constraint</span> when writing
results to the RDB. See “<a class="xref fm:HeadingAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idbe066fe0-bf35-43d7-9f4e-31b1918a4d4e">COMBINE Output</a>” for details of the resulting RDB structure.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id59b8f592-bf29-4814-8ac6-6bf97825b6d9"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE
— Specifies whether to use the relative or absolute equation when
calculating the difference in <span class="keyword ParameterName OptionalReplaceable">density_expression</span> values.
See the following discussion for the definition of the difference
function D(A,B). The default is RELATIVE.</p>
</li>
</ul>
<p class="p">When you
specify the COMBINE keyword set, the following algorithm is applied.</p>
<p class="p">Let { W<span class="ph FontProperty LiteralSubScript">m</span>,
…, W<span class="ph FontProperty LiteralSubScript">n</span> }
be any set of output windows (that is, windows whose ratio value satisfies
the primary Density constraint) such that the following are true:</p>
<ul class="ul"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3557d3b5-5dc8-4cb7-94b3-6817478afc25"><p class="p">Each window
W<span class="ph FontProperty LiteralSubScript">i</span> in
the set touches or overlaps some window W<span class="ph FontProperty LiteralSubScript">j</span> in
the set (that is, the set of windows is contiguous). Touching windows
must share edge length. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id5d35a0fc-34c5-458c-9475-1fad8883cf71"><p class="p">For each
W<span class="ph FontProperty LiteralSubScript">i </span>in
the set, the difference between its ratio value and that of all
other windows W<span class="ph FontProperty LiteralSubScript">k </span>in
the set satisfies the COMBINE <span class="keyword ParameterName OptionalReplaceable">constraint</span>.</p>
</li>
</ul>
<p class="p">For each such set, group the W<span class="ph FontProperty LiteralSubScript">i</span> windows
in the RDB as a single polygon.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idb8ee32c3-0d09-46af-8c6f-81ff4a5acced"><span class="figcap"><span class="fig--title-label">Figure 16. </span>COMBINE Output</span><br /><div class="imagecenter"><img class="image imagecenter" height="99" src="../graphics/Density/density_combine_output.png" width="468" /></div><br /></div>
<p class="p">The density value difference
function D(A, B) between any two windows in the set { W<span class="ph FontProperty LiteralSubScript">1</span>, …,
W<span class="ph FontProperty LiteralSubScript">n</span> }
must satisfy the COMBINE <span class="keyword ParameterName OptionalReplaceable">constraint</span> for
the set of windows to be combined. The function D is defined as
follows:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idfa5bdb53-9396-4692-b936-67123076b6fd"><p class="p Opt">D(A,
B) = | | V<span class="ph FontProperty LiteralSubScript">A</span> |
- | V<span class="ph FontProperty LiteralSubScript">B</span> |
| / max(| V<span class="ph FontProperty LiteralSubScript">A</span> |,
| V<span class="ph FontProperty LiteralSubScript">B</span> |)             
(RELATIVE equation, default)</p>
</li>
</ul>
<p class="p">or</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ida34811eb-6310-4f91-b1c5-22eb11765288"><p class="p Opt">D(A,
B) = | | V<span class="ph FontProperty LiteralSubScript">A</span> |
- | V<span class="ph FontProperty LiteralSubScript">B</span> |
|                                              (ABSOLUTE equation)</p>
</li>
</ul>
<p class="p">for windows W<span class="ph FontProperty LiteralSubScript">A</span> and
W<span class="ph FontProperty LiteralSubScript">B</span>,
where V<span class="ph FontProperty LiteralSubScript">A</span> is
the density value of W<span class="ph FontProperty LiteralSubScript">A</span> and
V<span class="ph FontProperty LiteralSubScript">B</span> is
the density value of W<span class="ph FontProperty LiteralSubScript">B</span>.</p>
<p class="p">D(A, B) is defined to be 0
in RELATIVE mode if both V<span class="ph FontProperty LiteralSubScript">A</span> and
V<span class="ph FontProperty LiteralSubScript">B</span> are
0.</p>
<p class="p">The COMBINE keyword may not
be specified with GRADIENT, MAGNITUDE, CENTERS, BY POLYGON, BY RECTANGLE,
or MAXIMUM. </p>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Generates a derived polygon layer
by measuring the density of input layers in a specified window grid
over a specified region of the design.</p>
<p class="p">If a <span class="keyword ParameterName OptionalReplaceable">density_expression</span> is
not supplied, then Density outputs rectangles of a specified WINDOW
size whose density ratio meets the <span class="keyword ParameterName RequiredReplaceable">constraint</span>.
That is, if the ratio of the total area of input layers in a data
capture window to the area of the window itself satisfies the <span class="keyword ParameterName RequiredReplaceable">constraint</span>, then
the window is output. A <span class="keyword ParameterName RequiredReplaceable">constraint</span> value
that is intended as a percentage, such as 20%, should be entered
as 0.20, not 20. </p>
<p class="p">Density operations are performed
concurrently if all arguments, except <span class="keyword ParameterName RequiredReplaceable">constraint</span> and
PRINT [ONLY], are the same.</p>
<p class="p">See “<a class="xref Link" href="../../calbr_solns_pv_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density Best Practices', 'calbr_solns_pv_user'); return false;">Density Best Practices</a>” in the <cite class="cite italic">Calibre
Solutions for Physical Verification</cite> manual for some common
Density uses.</p>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id9821a1d0-fc43-451a-bbc8-960d442b511f"><h2 class="title Subheading sectiontitle">Functional
Details</h2><p class="p">Density works as follows.</p>
<p class="p">A bounding box with corners (BX1,BY1),
(BX2,BY2), which corresponds to the data capture extent for the
operation, is first established. </p>
<p class="p">If INSIDE OF <span class="keyword ParameterName OptionalReplaceable">x1</span> <span class="keyword ParameterName OptionalReplaceable">y1</span> <span class="keyword ParameterName OptionalReplaceable">x2</span> <span class="keyword ParameterName OptionalReplaceable">y2</span> is
specified (see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idee1ec621-9ff6-45ad-a52e-9b309be85a3a">Figure 8</a>),
the data capture extent is given by the four numeric arguments,
which must designate a valid rectangle orthogonal to the database
axes. Numeric arguments are in user units. </p>
<p class="p">If INSIDE OF EXTENT is specified
(see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd402d638-1f7d-40cf-8740-139783eb15d6">Figure 7</a>),
the data capture extent is the extent of the input layers to the
Density operation. </p>
<p class="p">If neither of the preceding keyword
sets is specified, then the data capture extent is the database extent
read in at runtime (this may not properly contain the input layer
due to oversizing with Size and so forth, if applicable). Remember
that Calibre only reads in the layers that are actually required
to produce output for the run, which may not be the entire set of
database layers.</p>
<p class="p">The WINDOW argument specifies
the minimum rectangle size in which the density check is to occur
(see <a class="xref fm:Figure" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id804e4738-edc9-4138-b0e5-eda13eb6a46a">Figure 1</a>). This rectangle size is <span class="keyword ParameterName OptionalReplaceable">wx</span> by <span class="keyword ParameterName OptionalReplaceable">wy</span>.
If only one value is specified, <span class="keyword ParameterName OptionalReplaceable">wxy</span>,
the rectangle is assumed to be a square where <span class="keyword ParameterName OptionalReplaceable">wx</span> = <span class="keyword ParameterName OptionalReplaceable">wy</span>.
If WINDOW is not specified, it defaults to the size of the bounding
box (BX1,BY1), (BX2,BY2) defined previously. Arguments <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">wy</span> must
be positive numbers and are in user units. </p>
<p class="p">The STEP argument specifies the
step size to tile the data capture window at each iteration (see <a class="xref fm:Figure" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf0ee87c4-edf0-4a38-acbb-37742ab8b748">Figure 2</a>). This step size is <span class="keyword ParameterName OptionalReplaceable">sx</span> by <span class="keyword ParameterName OptionalReplaceable">sy</span> if
both are specified. If only one value is specified, <span class="keyword ParameterName OptionalReplaceable">sxy</span>, then <span class="keyword ParameterName OptionalReplaceable">sx</span> = <span class="keyword ParameterName OptionalReplaceable">sy</span>.
STEP has these conditions: </p>
<ul class="ul"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id197a187d-3e28-4b0c-a831-c3facaccf0d5"><p class="p">STEP arguments must all be
positive numbers and are interpreted in user units. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id9e8d14cb-ae7c-4668-b3da-40145310a4fe"><p class="p">STEP must be specified with
WINDOW.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ideaafb281-106d-4926-81fb-190b6ce5c802"><p class="p">If STEP is not specified,
then <span class="keyword ParameterName OptionalReplaceable">sx</span> and <span class="keyword ParameterName OptionalReplaceable">sy</span> default
to the WINDOW dimensions <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">wy</span>, respectively. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id85fdd18a-45e3-4d7a-862b-0fce0b176ff5"><p class="p">If both WINDOW and STEP are
specified, then <span class="keyword ParameterName OptionalReplaceable">sx</span> and <span class="keyword ParameterName OptionalReplaceable">sy</span> must
be less than or equal to <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">wy</span>,
and evenly divide <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">wy</span>,
respectively. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id0c26796b-00c3-450c-8546-d3e3e163b642"><p class="p">If the WINDOW argument exceeds
the data capture extent size in the x-direction, that is, if <span class="keyword ParameterName OptionalReplaceable">wx</span> &gt; (BX2
- BX1), then both <span class="keyword ParameterName OptionalReplaceable">wx</span> and <span class="keyword ParameterName OptionalReplaceable">sx</span> are
set to BX2 - BX1. Similar behavior occurs for the y-direction. </p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">Small
STEP sizes increase computational overhead and run time. If you
experience long run times, consider increasing the STEP size.</p>
</div>
</li>
</ul>
<p class="p">Given the bounding box determined
by (BX1,BY1), (BX2,BY2), the WINDOW size <span class="keyword ParameterName OptionalReplaceable">wx</span> × <span class="keyword ParameterName OptionalReplaceable">wy</span>, and
the STEP size <span class="keyword ParameterName OptionalReplaceable">sx</span> × <span class="keyword ParameterName OptionalReplaceable">sy</span> defined
previously, the operation executes conceptually as follows: </p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id46b75922-5809-46bd-b7f4-95a90f64fc56"><p class="p">Initialize the iteration by placing
a rectangle R of size <span class="keyword ParameterName OptionalReplaceable">wx</span> × <span class="keyword ParameterName OptionalReplaceable">wy</span> in
the lower-left corner of the bounding box (BX1,BY1), (BX2,BY2).
At each step, designate R’s lower-left and upper-right coordinates
by (RX1,RY1), (RX2,RY2). Go to Step 2. </p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__iddf9f0f72-c6a3-46f2-8133-758613341416"><span class="figcap"><span class="fig--title-label">Figure 17. </span>Bounding Box and
WINDOW Coordinates</span><br /><div class="imagecenter"><img class="image imagecenter" height="137" src="../graphics/Density/density_bounding_box.png" width="468" /></div><br /></div>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id73c313a2-f426-4c02-bac7-14661507ef1e"><p class="p">If no <span class="keyword ParameterName OptionalReplaceable">density_expression</span> is
provided, the ratio of the total input layer area in the rectangle
R to the area of R itself is compared to the <span class="keyword ParameterName RequiredReplaceable">constraint</span>.
If the ratio meets the <span class="keyword ParameterName RequiredReplaceable">constraint</span>,
then R is output. Otherwise the <span class="keyword ParameterName OptionalReplaceable">density_expression</span> is
computed for the layer data in R and compared to the <span class="keyword ParameterName RequiredReplaceable">constraint</span>.
If the expression meets the constraint, then R is output. If RX2
&gt; BX2 or RY2 &gt; BY2, then R is truncated by the bounding box for
use in this calculation (see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6f0f0605-23b9-402e-a520-c828c6f97e0a">Figure 3</a>).
Go to Step 3. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id5a4383c5-a2cd-4d57-82f9-65a819868571"><p class="p">If RX2 &gt;= BX2 then move R back
to the left side of the bounding box and go to Step 4. Otherwise,
move R to the right by <span class="keyword ParameterName OptionalReplaceable">sx</span> and
go to Step 2. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3747a11d-ff79-4fdf-b530-caf96d73e696"><p class="p">If RY2 &gt;= BY2 then quit. Otherwise,
move R up by <span class="keyword ParameterName OptionalReplaceable">sy</span> and
go to Step 2. When complete, all output rectangles are merged.</p>
</li>
</ol>
<p class="p">TRUNCATE, BACKUP, IGNORE, and
WRAP are optional, mutually exclusive keywords. </p>
<p class="p">If TRUNCATE is specified, then
there is no change in the previous algorithm. TRUNCATE explicitly
states the default algorithm is to be used.</p>
<p class="p">If BACKUP is specified, then
Step 2 is altered so that if RX2 &gt; BX2, then the rectangle R is
not truncated, but rather is backed up so that RX2 is equal to BX2.
Similar behavior occurs for the y-direction. The area of the backed-up
rectangle, and that of the input layer within the backed-up rectangle,
are then used in the calculation. See <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf62e73b5-2284-4085-993e-032474090782">Figure 4</a>.</p>
<p class="p">If IGNORE is specified, then
Step 2 is altered so that if RX2 &gt; BX2, then the rectangle R is completely
ignored and no output is generated from this rectangle, with similar
behavior for the y-direction. In addition, if the WINDOW size initially
exceeds the data capture extent size in either the x- or y-direction,
then there is no output. See <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id14998ba4-8dca-4058-87ff-b87d77f0b547">Figure 5</a>.</p>
<p class="p">If WRAP is specified (see <a class="xref fm:Figure" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc5f37254-e911-4718-bc9e-d3ab27c244da">Figure 6</a>), then the initial algorithm steps
are modified as follows (throughout this discussion, the term density
can be replaced with <span class="keyword ParameterName OptionalReplaceable">density_expression</span> with
no loss of generality):</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id2f674a63-3447-41b2-9713-5061ec58b1b6"><p class="p">Unchanged from default algorithm.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id636dc5fa-601d-4bc8-bcb5-2a22787488ae"><p class="p">If the ratio of the layer’s area
in the rectangle R to the area of R itself meets the <span class="keyword ParameterName RequiredReplaceable">constraint</span>,
then R is output. If RX2 &gt; BX2 or RY2 &gt; BY2, then the density is
calculated as if the entire bounding box and its data were duplicated
at all of the three locations (BX2,BY1), (BX2,BY2), and (BX1,BY1).</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idbd06e29d-adb1-43ad-acb3-66b55fc1c791"><p class="p">If RX2 = BX2 or RX1 &gt;= BX2, then
move R back to the left side of the bounding box and go to Step
4. Otherwise, move R to the right by <span class="keyword ParameterName OptionalReplaceable">sx</span> and
go to Step 2.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ide176ed51-7bca-44e1-b342-3ea6de66059b"><p class="p">If RX2 = BY2 or RY1 &gt;= BY2 then
quit. Otherwise, move R up by <span class="keyword ParameterName OptionalReplaceable">sy</span> and
go to Step 2.</p>
</li>
</ol>
<p class="p">Any calculated ratio R, such that R &lt; 1E-12, is set to zero.</p>
<p class="p">The INSIDE OF LAYER <span class="keyword ParameterName OptionalReplaceable">layerB</span> [BY
EXTENT | BY POLYGON | BY RECTANGLE | CENTERED <span class="keyword ParameterName OptionalReplaceable">value</span>]
keyword set limits the density computation to the polygonal areas
of <span class="keyword ParameterName OptionalReplaceable">layerB</span> (which
must be an original or derived polygon layer). Depending on the
optional keywords, the input layers and data capture extent are
also changed. This option is expensive from a performance standpoint
and should generally be avoided.</p>
<p class="p">Assume the operation is: </p>
<p class="lines ApplCommand">DENSITY L1 L2 … Ln INSIDE OF LAYER B</p>
<p class="p">If INSIDE OF LAYER is specified
with no optional keywords (see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4c83fd59-6395-4c8c-ad00-f50932567f3a">Figure 9</a>),
then for each polygon P in layer B:</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__iddf376c4b-d5d1-4bf9-bbdb-4bbc43dfcb54"><p class="p">Compute the rectangular extent
(X1,Y1) -&gt; (X2,Y2) of P.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc62884ba-9171-475f-b263-52f964f6e9c6"><p class="p">Perform the operations as if INSIDE
OF X1 Y1 X2 Y2 was specified instead of INSIDE OF LAYER. This step
determines the RDB and PRINT output when these keywords are specified.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id653ff093-c175-4487-8265-011f6f131e32"><p class="p">Perform a Boolean AND of geometric
output from Step 2 with P. This step determines the final geometric
output (but not RDB or PRINT).</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id6e2b3b15-f63b-4ad4-8096-4c51fb48ec88"><p class="p">Accumulate the total outputs of
the operation.</p>
</li>
</ol>
<p class="p">If BY EXTENT [<span class="keyword ParameterName OptionalReplaceable">size_value</span>]
is specified (see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id8f91581a-8de1-44f0-98d0-5b67844bde77">Figure 10</a>),
then for each polygon P in layer B:</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id273046e9-bb84-4d25-bd9f-12e9c96e34a8"><p class="p">Compute the rectangular extent
(X1,Y1) -&gt; (X2,Y2) of P.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idb2616d8d-c01d-4659-ac2d-1463f6ced0f3"><p class="p">Perform the operation as if INSIDE
OF X1 Y1 X2 Y2 was specified instead of INSIDE OF LAYER. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd723121b-3419-4f20-b911-04319d7cfcd3"><p class="p">Accumulate geometric, RDB, and
PRINT output from Step 2 into the total output of the Density operation.</p>
</li>
</ol>
<p class="p">If <span class="keyword ParameterName OptionalReplaceable">size_value</span> is
specified, then the extent of P calculated in Step 1 is oversized
by <span class="keyword ParameterName OptionalReplaceable">size_value</span>, and
the coordinates of the expanded rectangle are used.</p>
<p class="p">Note that the extents of non-rectangular
polygons on layer B are used, not the polygons themselves.</p>
<p class="p">If BY POLYGON is specified (see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id15c5952e-1e36-4ec5-867b-8bc5706caace">Figure 11</a>),
then for each input layer L<span class="ph FontProperty LiteralSubScript">n</span> and each
polygon P in layer B:</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idead5071d-e466-457b-a14c-7442628c4a06"><p class="p">Set layer A<span class="ph FontProperty LiteralSubScript">1</span> =
L<span class="ph FontProperty LiteralSubScript">1</span> AND
P, A<span class="ph FontProperty LiteralSubScript">2</span> =
L<span class="ph FontProperty LiteralSubScript">2</span> AND
P, …, A<span class="ph FontProperty LiteralSubScript">n</span> =
L<span class="ph FontProperty LiteralSubScript">n</span> AND
P (these are Boolean AND operations).</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc72bc215-73f3-4fa5-9200-5a023460d8b9"><p class="p">Compute the rectangular extent
(X1,Y1) -&gt; (X2,Y2) of P.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__iddb508a1b-bc89-4b3d-846f-8890f5d6bb34"><p class="p">Perform the operation as if the
input layers were A<span class="ph FontProperty LiteralSubScript">1</span>,
A<span class="ph FontProperty LiteralSubScript">2</span>,
…, A<span class="ph FontProperty LiteralSubScript">n</span> and
as if INSIDE OF X1 Y1 X2 Y2 is specified instead of INSIDE OF LAYER.
This step determines the RDB and PRINT output, if these keywords
are specified.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf27e4a07-012f-4496-89d3-5d341648f428"><p class="p">Take geometric output from Step
3 and perform a Boolean AND with P. Filter out RDB and PRINT output
rectangles that do not have area intersection with P.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf6b86b9e-833f-4019-a0eb-b719af1b7c82"><p class="p">Accumulate geometric, RDB, and
PRINT output from Step 4 into the total output from the operation.
The RDB output consists of P itself if WINDOW is not specified.</p>
</li>
</ol>
<p class="p">The BY POLYGON keyword is potentially
useful in situations where <span class="keyword ParameterName OptionalReplaceable">layerB</span> has
serpentine polygons and the output of data capture windows near
these polygons requires the handling this keyword set provides.</p>
<p class="p">If BY RECTANGLE is specified
(see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id0b5e2397-f99e-4f7b-8200-2fdea243a69e">Figure 12</a>),
then for each polygon P in layer B:</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idbc5af7fb-a4eb-4dce-b56b-b594651e66d0"><p class="p">Segment P into trapezoids and
triangles by cutting P vertically at each unique x coordinate value
of a vertex of P.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id28b3585c-b75f-4fa0-afed-ffb3f1ce950c"><p class="p">For each trapezoid or triangle
T, perform the BY POLYGON algorithm using T instead of P.</p>
</li>
</ol>
<p class="p">If BY RECTANGLE EXTENDED is specified, then for each polygon
P in layer B:</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4feefc4b-fb92-4a30-b571-4ec8cf02f64e"><p class="p">Segment P into trapezoids and
triangles by cutting P vertically at each unique x coordinate value
of a vertex of P.</p>
<p class="p">A vertical edge of a trapezoid created by the segmentation process
is called a “cut edge.”</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4a328307-34f3-414e-bbd0-c016ef1dcf65"><span class="figcap"><span class="fig--title-label">Figure 18. </span>BY RECTANGLE
EXTENDED</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:108" src="../graphics/Density/density_by_rectangle_extended.png" /></div><br /></div>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd751ce75-5711-4cd1-923a-2e04dabd3f8c"><p class="p">For each trapezoid
T, extend it by E using the steps 2a through 2d. E is defined as
the WINDOW <span class="keyword ParameterName OptionalReplaceable">wx</span> value
minus the STEP <span class="keyword ParameterName OptionalReplaceable">sx</span> value.
If <span class="keyword ParameterName OptionalReplaceable">sx</span> &gt; <span class="keyword ParameterName OptionalReplaceable">wx</span>,
then E is 0.</p>
<ol class="ol" type="a"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3de1a4a3-9314-48c2-9293-af12a8e51a9a"><p class="p">If the
edges of T are not orthogonal to the database axes, then skip T.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd51719da-2339-4956-a77d-c7b6e823a5ad"><p class="p">If T fully
shares a cut edge at the left with another segmented shape, then
extend T to the left by E. If the extension would cause the trapezoid
to extend outside of P, do not perform the extension.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id17f6a4b0-408b-4784-a62d-f2cb48731534"><p class="p">If T fully
shares a cut edge at the right with another segmented shape, then
extend T to the right by E. If the extension would cause the trapezoid
to extend outside of P, do not perform the extension.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id76f8cf59-6db5-47a4-9d44-00d778c67323"><p class="p">If T partially
shares a cut edge with another segmented trapezoid, a new trapezoid
is created at the shared portion of the cut edge and extended to
the left and right by E. If the extension would cause the new trapezoid
to extend outside of P, discard it.</p>
</li>
</ol>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idd9e1f88d-0dc5-40b4-8831-cd533fc32d0c"><p class="p">For each trapezoid or triangle
T, perform the BY POLYGON algorithm using T instead of P.</p>
</li>
</ol>
<p class="p">If CENTERED <span class="keyword ParameterName OptionalReplaceable">value</span> is
specified (see <a class="xref fm:FigureAndPage" href="#id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idb241c8a3-2ed8-4ecb-b20e-63b23ce0078a">Figure 13</a>),
then for each polygon P in layer B:</p>
<ol class="ol"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ida9dd8cb1-4f86-4344-9a8f-884488d60460"><p class="p">Compute the center point (CX,CY)
of the rectangular extent of P.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id739deda0-f0a4-4632-85e5-2f65681bffa0"><p class="p">Set X1 = CX - V, Y1 = CY - V,
X2 = CX + V, and Y2 = CY + V where V is <span class="keyword ParameterName OptionalReplaceable">value </span>/ 2.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id21ea659d-6632-4f8d-8ffc-ff648c714958"><p class="p">Perform the operation as if INSIDE
OF X1 Y1 X2 Y2 was specified instead of INSIDE OF LAYER.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc44d4362-df69-4daa-9ec7-ea52deae8938"><p class="p">Accumulate geometric, RDB, and
PRINT output from Step 3 into the total output from the operation.</p>
</li>
</ol>
<p class="p">The CENTERED option can be useful
in situations where there are markers (polygons or text objects)
that you want to serve as the centers of bounding boxes in which
the Density check is performed.</p>
</div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id8f606016-3893-49ef-850d-677fefc6cdc8"><h2 class="title Subheading sectiontitle">PRINT Output</h2><p class="p">The PRINT or PRINT ONLY keywords
produce an ASCII file containing the coordinates of the WINDOW rectangle,
followed by the <span class="keyword ParameterName OptionalReplaceable">density_expression</span> value.
The coordinates, in order, are lower-left x, lower-left y, upper-right
x, upper-right y. For example:</p>
<pre class="pre codeblock"><code>1646 -1557.75 1647 -1556.75 0.5
1646 -1556.75 1647 -1555.75 0.675
1646 -1555.75 1647 -1554.75 0.554
1646 -1554.75 1647 -1553.75 0.5
1646 -1553.75 1647 -1552.75 0.267
1646 -1552.75 1647 -1551.75 0.438</code></pre><p class="p">The output print file can get
very large. You should select the <span class="keyword ParameterName RequiredReplaceable">constraint</span> value
and the WINDOW and STEP values to minimize the number of generated
rectangles. The rectangles are not generally merged in the output
print file as in the result layer.</p>
<p class="p">The GRADIENT option causes the
GRADIENT value to be appended to each line of the file.</p>
<p class="p">The MAGNITUDE option causes the
magnitude count (a dimensionless positive integer defined in the
Arguments section discussion of MAGNITUDE) to be appended to each
line representing a WINDOW rectangle. Following the line for W<span class="ph FontProperty LiteralSubScript">A</span> is
a listing of all windows W<span class="ph FontProperty LiteralSubScript">B</span>, one
per line (a total of magnitude count lines), such that the gradient
value G(A, B) satisfies the MAGNITUDE keyword’s constraint. Each
line consists of the coordinates of W<span class="ph FontProperty LiteralSubScript">B</span>,
then the ratio value of W<span class="ph FontProperty LiteralSubScript">B</span>,
followed by the gradient, as follows:</p>
<ul class="ul"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id59a04e56-a6b2-42f1-9ca4-e5f61c28fec4"><p class="p">W<span class="ph FontProperty LiteralSubScript">A</span> file
entry: &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;ratio&gt; &lt;magnitude
count&gt;</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id0a48bfe4-ee3c-47ff-9e6c-5f150a842c64"><p class="p">W<span class="ph FontProperty LiteralSubScript">B</span> file
entry: &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;ratio&gt; &lt;gradient&gt;</p>
</li>
</ul>
<p class="p">For example:</p>
<pre class="pre codeblock"><code>(DENSITY L WINDOW 100 STEP 50 &gt; 0.5 &lt; 1 MAGNITUDE &gt; .495 ABSOLUTE PRINT
	file)
...
8713.6 -2162.2 8813.6 -2062.2 0.998 0.497168      &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
8713.6 3637.8 8813.6 3737.8 0.998 0.497168        &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
8863.6 37.8 8963.6 137.8 0.995936 0.495104        &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-8836.4 -3212.2 -8736.4 -3112.2 0.50432 6     &lt;--- W<span class="ph FontProperty LiteralSubScript">A</span>
-6786.4 4837.8 -6686.4 4937.8 0.999488 0.495168   &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-1986.4 4037.8 -1886.4 4137.8 0.99992 0.4956      &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-1986.4 4087.8 -1886.4 4187.8 0.99992 0.4956      &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-636.4 3537.8 -536.4 3637.8 0.9996 0.49528        &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-636.4 3737.8 -536.4 3837.8 0.9996 0.49528        &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
8313.6 -562.2 8413.6 -462.2 0.99944 0.49512       &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-8836.4 -512.2 -8736.4 -412.2 0.500832 84     &lt;--- W<span class="ph FontProperty LiteralSubScript">A</span>
-8336.4 137.8 -8236.4 237.8 0.997756 0.496924     &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
-7586.4 -3012.2 -7486.4 -2912.2 0.996348 0.495516 &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
...</code></pre><p class="p">Note that each (W<span class="ph FontProperty LiteralSubScript">A</span>,W<span class="ph FontProperty LiteralSubScript">B</span>)
pair will also be in the print file elsewhere as (W<span class="ph FontProperty LiteralSubScript">B</span>,W<span class="ph FontProperty LiteralSubScript">A</span>).</p>
</div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id95c42313-205a-4d62-a77b-251f07e178fc"><h2 class="title Subheading sectiontitle">RDB Output</h2><p class="p">RDB output is somewhat similar
to PRINT output. The RDB option creates an ASCII DRC results database
file in addition to the standard <a class="xref fm:HeadingOnly" href="Command_DrcResultsDatabase_id0b88b629.html#id0b88b629-f401-46e8-8ea0-51794e5c34cc__Command_DrcResultsDatabase_id0b88b629.xml#id0b88b629-f401-46e8-8ea0-51794e5c34cc" title="Specifies the filename and type of the DRC results database. Used only in Calibre nmDRC and Calibre nmDRC-H.">DRC Results Database</a>. The RDB contains a single Calibre
nmDRC rule check corresponding to the Density operation. </p>
<p class="p">The first output line includes
the top-cell name database precision as specified by the <a class="xref fm:HeadingOnly" href="Command_DrcResultsDatabasePrecision_idb00ebc17.html#idb00ebc17-60a1-42e4-ab7c-623cf51249cd__Command_DrcResultsDatabasePrecision_idb00ebc17.xml#idb00ebc17-60a1-42e4-ab7c-623cf51249cd" title="Specifies the precision value of the DRC results database. Used only in Calibre nmDRC and Calibre nmDRC-H.">DRC Results Database Precision</a> statement, with 1000 being the
default. The name of the rule check is the name of the layer created
by the operation. The first line of check text is the text of the Density
operation itself (excluding RDB arguments). If the Density operation
has output to the DRC Results Database and has check text comments
(@), then those comments are shown also. The number of DRC results
in the rule check is the number of (unmerged) output windows, each
window being an individual DRC result. </p>
<p class="p">For example:</p>
<pre class="pre codeblock"><code>    TOP 1000
    k::&lt;1&gt;
    14621 14621 1 Jul 21 10:03:17 2003              
    k::&lt;1&gt; = DENSITY M1 PG &gt;=.25 WINDOW 105 GRADIENT &gt;=0     
    [AREA(M1)+AREA(PG)/AREA()]
    p 1 4
    DV 546
    DG 0.8839
    DA 11025
    DA M1 546
    DA PG 0
    -8986400 -4272200
    -8881400 -4272200
    -8881400 -4167200
    -8986400 -4167200
    p 2 4
    DV 756
    DG 0.8445
    DA 11025
    DA M1 756
    DA PGM 0
    -8986400 -3852200
    -8881400 -3852200
    -8881400 -3747200
    -8986400 -3747200
    ...</code></pre><p class="p">Notice the presence of properties
DV, DG, and DA: </p>
<ul class="ul"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id61509469-f9f4-4039-b8af-37f4fb8cdbf8"><p class="p" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id2933ced3-25d8-437f-b5c7-74870ae387f9">DV (Density value)
— Density value of the window (to eight significant figures).</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id86de317c-78fe-49c2-a641-bd31d83ea155"><p class="p">DG (Density
gradient) — Gradient value of the window if GRADIENT is specified. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4566a91c-5eeb-4c55-902b-2e69ac15dd1a"><p class="p">DA (Density
area) — Area value of the window. It may either be followed by a
numeric value, or by a <span class="keyword ParameterName RequiredReplaceable">layer</span> name
and then a numeric value. With no layer name, it is the area of the
window and is always attached. Otherwise, a DA property is attached
for each input <span class="keyword ParameterName RequiredReplaceable">layer</span> and
is the layer name followed by its area in the window. </p>
</li>
</ul>
<p class="p">Properties can be mapped to colors
for display in Calibre RVE. They can also be sent to a histogram
in Calibre RVE for analysis. See “<a class="xref Link" href="../../calbr_rve_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Creating Histograms and Colormaps', 'calbr_rve_user'); return false;">Creating Histograms and Colormaps</a>” in the <cite class="cite">Calibre RVE User’s
Manual</cite> for details.</p>
<p class="p">If MAGNITUDE is specified, then
an additional property, DMC (Density magnitude count), is present
(a dimensionless positive integer whose definition appears in the
Arguments section discussion of MAGNITUDE). In addition, the results,
each representing a window W<span class="ph FontProperty LiteralSubScript">B</span> such
that the gradient value satisfies the MAGNITUDE keyword’s <span class="keyword ParameterName OptionalReplaceable">constraint</span>,
are present between the result for W<span class="ph FontProperty LiteralSubScript">A</span> and
the result for the next output window. The number of these additional
results is the magnitude count, and the total result count in the
Calibre nmDRC rule check corresponding to the Density operation
is adjusted accordingly.</p>
<p class="p">For example:</p>
<pre class="pre codeblock"><code>TOP 1000
XYZ
6543 6543 1 Jan 23 13:48:43 2007
XYZ = DENSITY L &gt; 0.5 &lt; 1 WINDOW 100 STEP 50 MAGNITUDE &gt; 0.495 ABSOLUTE
p 1 4       &lt;--- W<span class="ph FontProperty LiteralSubScript">A</span>
DV 0.500832
DA 10000
DA L 5008.32
DMC 3       &lt;--- DMC property, indicating there are 3 W<span class="ph FontProperty LiteralSubScript">B</span> windows
-8836400 -4112200
-8736400 -4112200
-8736400 -4012200
-8836400 -4012200
e 2 4       &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
DM 0.500832 0.997756 0.496924
-8836400 -4112200 -8736400 -4112200
-8836400 -4012200 -8836400 -4112200
-8336400 137800 -8236400 137800
-8336400 237800 -8336400 137800
e 3 4       &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
DM 0.500832 0.996348 0.495516
-8836400 -4112200 -8736400 -4112200
-8836400 -4012200 -8836400 -4112200
-7586400 -3012200 -7486400 -3012200
-7586400 -2912200 -7586400 -3012200
e 4 4       &lt;--- W<span class="ph FontProperty LiteralSubScript">B</span>
DM 0.500832 0.996928 0.496096
-8836400 -4112200 -8736400 -4112200
-8836400 -4012200 -8836400 -4112200
-7136400 4837800 -7036400 4837800
-7136400 4937800 -7136400 4837800
...</code></pre><p class="p">The format of each result for
W<span class="ph FontProperty LiteralSubScript">B</span> entry
allows a viewing environment to show (W<span class="ph FontProperty LiteralSubScript">A</span>,W<span class="ph FontProperty LiteralSubScript">B</span>)
as a single entity. Each W<span class="ph FontProperty LiteralSubScript">B</span> entry
in the database is a 4-edge cluster: the bottom edge of W<span class="ph FontProperty LiteralSubScript">A</span>,
then the left edge of W<span class="ph FontProperty LiteralSubScript">A</span>,
then the bottom edge of W<span class="ph FontProperty LiteralSubScript">B</span>,
then the left edge of W<span class="ph FontProperty LiteralSubScript">B</span>.
In addition, each result W<span class="ph FontProperty LiteralSubScript">B</span> has
a DM (Density magnitude) property that consists of three floating-point
values: the density value of W<span class="ph FontProperty LiteralSubScript">A</span>,
then the density value of W<span class="ph FontProperty LiteralSubScript">B</span>,
and then the gradient value.</p>
<p class="p">Note that each (W<span class="ph FontProperty LiteralSubScript">A</span>,W<span class="ph FontProperty LiteralSubScript">B</span>)
pair will also be in the RDB file elsewhere as (W<span class="ph FontProperty LiteralSubScript">B</span>,W<span class="ph FontProperty LiteralSubScript">A</span>).</p>
<p class="p">If you specify RDB ONLY, then
the Density check results only go to the RDB and not to the usual
DRC results database. The results are not reported in the DRC Summary
Report, if specified.</p>
<p class="p">RDB results databases may be
used in common among multiple Density RDB operations in the rule
file. The first open of an RDB file in a DRC run truncates the file
and writes the header line consisting of the top-cell name and precision.
Subsequent file opens are in append mode. If an RDB file cannot
be opened, then a warning is issued and the operation continues
as if RDB were not specified. The RDB name is checked for collisions
with <a class="xref fm:HeadingOnly" href="Command_DrcResultsDatabase_id0b88b629.html#id0b88b629-f401-46e8-8ea0-51794e5c34cc__Command_DrcResultsDatabase_id0b88b629.xml#id0b88b629-f401-46e8-8ea0-51794e5c34cc" title="Specifies the filename and type of the DRC results database. Used only in Calibre nmDRC and Calibre nmDRC-H.">DRC Results Database</a> or <a class="xref fm:HeadingOnly" href="Command_DrcCheckMap_id9c7fabf9.html#id9c7fabf9-4d1b-4d8f-b8ea-0a7c213e0375__Command_DrcCheckMap_id9c7fabf9.xml#id9c7fabf9-4d1b-4d8f-b8ea-0a7c213e0375" title="Controls the database output structure for Calibre nmDRC rule checks. Used only in Calibre nmDRC and Calibre nmDRC‑H.">DRC Check Map</a> database names. A conflict generates
a compiler error. The names of RDBs generated by other layer operations
are not checked.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If the
RDB <span class="keyword ParameterName OptionalReplaceable">filename</span> is
quoted in one Density operation but not another, the later of the
two operations in the rule file overwrites the RDB of the earlier
operation. String constants in the rule file are handled differently
from other strings.</p>
</div>
<p class="p">The geometric results in the
RDB can be magnified by using either the MAG keyword in the operation
itself, or through the <a class="xref fm:HeadingOnly" href="Command_DrcMagnifyDensity_idd0894bd1.html#idd0894bd1-f6f6-43a4-b51b-4a342c3ea750__Command_DrcMagnifyDensity_idd0894bd1.xml#idd0894bd1-f6f6-43a4-b51b-4a342c3ea750" title="Specifies a default magnification value for Density RDB databases. Used only in Calibre nmDRC and Calibre nmDRC-H.">DRC Magnify Density</a> specification statement. If both
are used, the MAG keyword takes precedence.</p>
</div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idbe066fe0-bf35-43d7-9f4e-31b1918a4d4e"><h2 class="title Subheading sectiontitle">COMBINE
Output</h2><p class="p">If you specify the COMBINE keyword set, then the set of
windows { W<span class="ph FontProperty LiteralSubScript">1</span>,
…, W<span class="ph FontProperty LiteralSubScript">n</span> }
are not output into the RDB database as individual windows. Rather,
they are merged into a single polygon that is output with two additional
auxiliary results. For example:</p>
<pre class="pre codeblock"><code>...
p 7 11
DAVG 0.00558239       &lt;--- average density of combined windows
DWC 176               &lt;--- number of combined windows
-5124500 -804500
-5024500 -804500
-5024500 -704500
-4974500 -704500
-4974500 -654500
-4874500 -654500
-4874500 -604500
-4824500 -604500
-4824500 -304500
-4874500 -304500
-4874500 -204500
p 8 4
DMIN 0                 &lt;--- minimum window value
-5124500 -804500
-5024500 -804500
-5024500 -704500
-5124500 -704500
p 9 4
DMAX 0.9825            &lt;--- maximum window value
-5074500 795500
-4974500 795500
-4974500 895500
-5074500 895500
...</code></pre><p class="p">The first polygon represents
the merged set of windows { W<span class="ph FontProperty LiteralSubScript">1</span>,
…, W<span class="ph FontProperty LiteralSubScript">n</span> }.
The properties that appear are defined as follows:</p>
<ul class="ul"><li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id5cad2d10-935c-4920-b41c-ac3d545d8a45"><p class="p">DAVG —
average density value of all the windows in the set. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id45413f49-bf92-4780-aa2d-0c2eac7c589b"><p class="p">DWC — total
number of windows in the set (that is, n from W<span class="ph FontProperty LiteralSubScript">n</span>).
The polygon coordinates are then followed by two auxiliary results.</p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idc1f2f90d-ab84-4a8b-8889-13d9688e6f7e"><p class="p">DMIN — minimum
density value from a window in the set { W<span class="ph FontProperty LiteralSubScript">1</span>, …,
W<span class="ph FontProperty LiteralSubScript">n</span> }.
The vertices of the corresponding window are provided. </p>
</li>
<li class="li" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf3417c54-127f-4d25-a5a3-6574f1aa7d03"><p class="p">DMAX — maximum
density value from a window in the set { W<span class="ph FontProperty LiteralSubScript">1</span>, …,
W<span class="ph FontProperty LiteralSubScript">n</span> }.
The vertices of the corresponding window are provided. </p>
</li>
</ul>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Examples of Density usage can also
be found under “<a class="xref Link" href="../../calbr_solns_pv_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density Best Practices', 'calbr_solns_pv_user'); return false;">Density Best Practices</a>” in the <cite class="cite OptionalReplaceable">Calibre Solutions
for Physical Verification</cite> manual.</p>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idf8583321-7a29-4c53-af68-a953eac120cd"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">The following example checks the
specification: The density of metal2 in every 50 × 50 area of the
layout must exceed 25%:</p>
<pre class="pre codeblock"><code>met2_check { 
@ The density of metal2 in every 50 x 50 area of the layout must 
@ exceed 25%
DENSITY metal2 &lt; 0.25 WINDOW 50
}</code></pre></div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id1ae55f42-ccff-4210-9db9-a0334547b45a"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">The following example specifies
a 2 user unit step size because “3 -1” is viewed as the arithmetic
operation 3 minus 1:</p>
<pre class="pre codeblock"><code>DENSITY metal2 &lt; 0.25 WINDOW 10.0 STEP 3 -1</code></pre><p class="p">whereas, the following example results
in a compilation error due to the negative y-value:</p>
<pre class="pre codeblock"><code>DENSITY metal2 &lt; 0.25 WINDOW 10.0 STEP 3 (-1) // error</code></pre></div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id4ae0364b-62dc-4fa3-a65a-e7111d6a35cd"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">Metal density in any 100 × 100 window,
stepped 50, must exceed 0.25. However, if there is poly present
in the window, then there is no requirement on metal density. Solution:</p>
<pre class="pre codeblock"><code>// division by 0 in the expression does not meet the constraint
density_rule_a { DENSITY metal poly &lt;= 0.25 WINDOW 100 STEP 50 
	[ AREA(metal) / ( !AREA(poly) * AREA() ) ]
}</code></pre></div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__idefc2b0c3-6ac5-4156-83a8-b8f79dfe9583"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">Metal density in any 100 × 100 window,
stepped 50, must exceed 0.25. However, if there is poly present
in the window, then the area of the poly must first be subtracted
from the window area. Results are sent to a separate RDB database.
Solution:</p>
<pre class="pre codeblock"><code>density_rule_b{ DENSITY metal poly &lt;= 0.25 WINDOW 100 STEP 50 
	[ AREA(metal) / ( AREA() - AREA(poly) ) ] RDB density_rdb
} </code></pre></div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__ided78a7d1-502a-4f8e-a299-1e04eb75250e"><h2 class="title Subheading sectiontitle">Example 5</h2><p class="p">Metal density in any 100 × 100 window,
stepped 50, must exceed 0.25. However, if there is poly present
in the window, then the area of the poly must be first subtracted
from the window area. In addition, the metal area must exclude any
intersection of metal and poly. Results are sent to a separate RDB
database. Solution:</p>
<pre class="pre codeblock"><code>density_rule_c{ 
		x = metal NOT poly
		DENSITY x poly &lt;= 0.25 WINDOW 100 STEP 50
		[ AREA(X) / ( AREA() - AREA(poly) ) ] RDB density_rdb
}</code></pre></div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id3add5bf0-d0d5-4660-adea-3ade318c61c1"><h2 class="title Subheading sectiontitle">Example 6</h2><p class="p">Derive a layer based upon the density
of a layer L within certain regions of the design that are marked
by text objects labeled “xyz”, and the regions are 100 × 100 squares
centered on the text objects. Solution:</p>
<pre class="pre codeblock"><code>x = EXPAND TEXT "xyz" BY .01
y = DENSITY L &lt;= 0.25 WINDOW 100 INSIDE OF LAYER x CENTERED 100</code></pre></div>
<div class="section Subsection" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id182f62bc-2fc4-4232-a057-9120014a929a"><h2 class="title Subheading sectiontitle">Example
7</h2><p class="p">The GRADIENT option calculates a density value gradient using <span class="ph FontProperty emphasis">non-overlapping</span> data
capture windows adjacent to the “current” data capture window. Overlaps
can occur when BACKUP is used and a window is repositioned, or when
STEP is used and the step size is different from the WINDOW size.</p>
<p class="p">The following illustrates the BACKUP case.</p>
<p class="p">Assume this operation:</p>
<pre class="pre codeblock"><code>DENSITY "fill" &gt; 0 WINDOW 1 GRADIENT &gt; 0.25 BACKUP RDB ONLY fill_DGB.rdb</code></pre><p class="p">In the following graphic, the “fill” layer polygon represents
the right-hand extent of the data capture region. The “current window”
and “adjacent window” shapes represent data capture windows that
are repositioned due to the BACKUP keyword. The “overlapped window”
shape represents a data capture window that has been overlapped
by the current window.</p>
<div class="fig fignone" id="id9b1d1a3c-8da9-4453-974b-9bc0de57b93b__id5794e578-5ad0-4cb4-b7e5-e87707f8bc9c"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:108" src="../graphics/Density/density_ex7_3.png" /></div><br /></div>
<p class="p">Only adjacent windows abutting the current window are used for
the gradient calculation. (The STEP case would be similar.) </p>
<p class="p">In the graphic layout, the density values are 5/16 for the current
window, 1/4 for each of the adjacent windows, and 1/16 for the overlapped
window. The gradient between the current window and either of the
adjacent windows is (5/16 - 4/16)/(5/16) = 1/5. The gradient between the
current window and the overlapped window is (5/16 - 1/16)/(5/16)
= 4/5. If the overlapped window were considered in the calculation,
the current window would be output because it meets the operation’s
density ( &gt; 0) and GRADIENT ( &gt; 0.25) constraints. But the current window
is not output due to the overlap consideration.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceDictionary_ide016de69.html" title="This chapter contains descriptions for the statements and operations that can be used in a rule file. These appear in alphabetical order and this chapter contains those starting with letters A through F.">Reference Dictionary A - F</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Density"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Density_id9b1d1a3c.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>