<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Effective Property Computation in Runtime TVF" />
<meta name="abstract" content="Effective property computation can be performed using runtime TVF. The decision to use TVF is based upon the need for Tcl-based functions, such as bitwise comparison functions, that are not available in the standard effective property computation language." />
<meta name="description" content="Effective property computation can be performed using runtime TVF. The decision to use TVF is based upon the need for Tcl-based functions, such as bitwise comparison functions, that are not available in the standard effective property computation language." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idf3d2b5df-6f1c-471d-9b47-fd1a06580466" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Effective Property Computation in Runtime TVF</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Effective Property Computation in Runtime TVF" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idf3d2b5df-6f1c-471d-9b47-fd1a06580466">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Effective Property Computation in Runtime TVF</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Effective property
computation can be performed using runtime TVF. The decision to
use TVF is based upon the need for Tcl-based functions, such as
bitwise comparison functions, that are not available in the standard
effective property computation language. </span>
</div>
<p class="p">Using runtime TVF requires using
a TVF Function block that contains a Tcl proc for calculating property
values. This example shows how to perform a property computation
using a TVF Function block and associated commands. Functions that
are used in a standard form effective property calculation (such
as sum() or count()) may not be used in a TVF Function block.</p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="Concept_EffectivePropertyComputationInStandardForm_ide9def239.html#ide9def239-1e4d-462e-b146-c092f99d50a0__Concept_EffectivePropertyComputationInStandardForm_ide9def239.xml#ide9def239-1e4d-462e-b146-c092f99d50a0" title="The following example illustrates many of the features of the standard (non-Tcl) language. In the explanations that follow, the term input group refers to the set of devices being reduced to a single instance. Effective property values are calculated based upon this input group and stored on the resulting (effective) instance.">Effective Property Computation in Standard Form</a>” for comparison with the following
example.</p>
<p class="p">The line numbers are for reference and are
not part of the syntax. Tcl is case-sensitive. </p>
<pre class="pre codeblock leveled"><code><span class="CodeLine">   1   </span>lvs reduce parallel resistors yes 
<span class="CodeLine">   2   </span>    [ 
<span class="CodeLine">   3   </span>        effective r, l, w
<span class="CodeLine">   4   </span>        tvf_numeric_function::tvf_redux::set_r_props_parallel( r, l, w )
<span class="CodeLine">   5   </span>    ]
<span class="CodeLine">   6   </span>TVF FUNCTION tvf_redux [/* 
<span class="CodeLine">   7   </span>    proc set_r_props_parallel { r l w } { 
<span class="CodeLine">   8   </span>        set rsum 0 
<span class="CodeLine">   9   </span>        set psum 0 
<span class="CodeLine">  10   </span>        set qsum 0 
<span class="CodeLine">  11   </span>         foreach_instance { 
<span class="CodeLine">  12   </span>            set rsum [ expr { $rsum + (1 / [$r]) } ] 
<span class="CodeLine">  13   </span>            set psum [ expr { $psum + ([$l] * [$w]) } ] 
<span class="CodeLine">  14   </span>            set qsum [ expr { $qsum + ([$l] / [$w]) } ] 
<span class="CodeLine">  15   </span>        } 
<span class="CodeLine">  16   </span>        $r set_effective_property [ expr { 1 / $rsum } ]
<span class="CodeLine">  17   </span>        $w set_effective_property [ expr { sqrt( $psum * $qsum ) } ] 
<span class="CodeLine">  18   </span>        $l set_effective_property [ expr { sqrt( $psum / $qsum ) } ] 
<span class="CodeLine">  19   </span>        return 0.0 
<span class="CodeLine">  20   </span>    } 
<span class="CodeLine">  21   </span>*/]
</code></pre>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="idf3d2b5df-6f1c-471d-9b47-fd1a06580466__id2a984ed6-becb-409c-bd70-41ba0dc22722" class="table" frame="void" border="0" rules="none"><colgroup><col style="width:5.525in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 1 contains a standard
LVS Reduce specification statement. In this case, it enables parallel
resistor reduction. </p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 2 contains the required
opening bracket ( [ ) necessary to indicate an effective property
program. This square bracket must immediately follow the YES keyword
(there may be only white space between YES and the bracket). The
square bracket may only be present if YES is present.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 3 contains the EFFECTIVE
property statement. The EFFECTIVE property statement declares the
names of all properties for which effective property values are
computed throughout the program. Each property listed here must
be assigned a value in the program. If LVS is to calculate an effective
property, you must list the property in this statement.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">In this example, the
names represent both input values (properties found on the input
group) and output values (the properties to be calculated and assigned
to the resulting instance). </p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">The properties are part
of a comma-separated list.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 4 contains a <a class="xref fm:HeadingOnly" href="Command_BILDevPropTvfNumericFunction_id3a059e8f.html#id3a059e8f-46c1-4ea9-8e26-147a4b8fcb57__Command_BILDevPropTvfNumericFunction_id3a059e8f.xml#id3a059e8f-46c1-4ea9-8e26-147a4b8fcb57" title="Provides access to a numeric value returned by a Tcl procedure defined within a TVF Function definition.">tvf_numeric_function</a> command defining the TVF Function block
name, the Tcl proc to execute, and the parameter names that are
passed to the Tcl proc. The parameter names match the property names
in the EFFECTIVE statement.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 5 contains a closing
bracket (]) to conclude the LVS Reduce statement.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 6 declares the TVF
Function tvf_redux, which corresponds to the TVF_NUMeric_FUNction
call.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 7 declares a Tcl
proc set_r_props_series with property names that correspond to the
TVF_NUMeric_FUNction call. </p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><div class="note note"><span class="notetitle">Note:</span> <p class="p">The
tool does not check that the properties from the TVF_NUMeric_FUNction
call match assigned values in the called Tcl proc in the TVF Function
block. It is the programmer’s responsibility to ensure the appropriate
properties are declared and assigned values in the proc.</p>
</div>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Lines 8-10 declare variable
names used for the calculations.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 11 contains a <a class="xref fm:HeadingOnly" href="Command_BILEffPropForeachInstance_id32deb8b7.html#id32deb8b7-3c0b-4c8e-aa3f-d6c64772867a__Command_BILEffPropForeachInstance_id32deb8b7.xml#id32deb8b7-3c0b-4c8e-aa3f-d6c64772867a" title="Iterates over all instances in the input group and executes a Tcl script. This function must appear in a Tcl procedure in a TVF Function block.">foreach_instance</a> command, which is available in
the effective property computation TVF environment. This command
loops through all input device instances for the associated specification
statement. It is good practice to include code that checks for undefined
values such as division by 0.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Lines 12-14 calculate
values for variables across all input instances. Evaluation of each
property inside the foreach_instance loop is performed using the
[$p] construct, where “p” is a numeric-valued property name. This
returns the property value for the current instance being considered.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 15 contains a close
brace (}), which completes the foreach_instance block.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Lines 16-18 calculate
the final property values corresponding to the inputs to the set_r_props_parallel
proc. The <a class="xref fm:HeadingOnly" href="Command_BILEffPropSetEffectiveProperty_id29f2398b.html#id29f2398b-2a18-4692-bb34-a154ffbdd737__Command_BILEffPropSetEffectiveProperty_id29f2398b.xml#id29f2398b-2a18-4692-bb34-a154ffbdd737" title="Assigns an effective property value and returns it to the calling environment. This command must be used in a Tcl proc to assign effective property values declared in a TVF_NUMeric_FUNction command.">set_effective_property</a> command is available in the effective
property computation TVF environment. This command calculates an
effective property value for a set of reduced instances.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 19 contains a return
0.0 command. The proc must return a value to TVF_NUMeric_FUNction.
This simply satisfies an internal requirement of the function and
plays no role in the property computation.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 20 contains a closing
brace (}), which completes the set_r_props_parallel proc.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">Line 21 contains the
*/] characters, which complete the TVF Function block.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DeviceReductionEffectivePropertyComputationLanguage_id72a4f613.html" title="The LVS Reduce family of specification statements supports an optional user-defined program that defines the calculations to take place during device reduction. The program is written in the device reduction effective property computation language, which is often simply called the effective property language.">Device Reduction Effective Property Computation Language</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Effective Property Computation in Runtime TVF"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_EffectivePropertyComputationInRuntimeTvf_idf3d2b5df.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>