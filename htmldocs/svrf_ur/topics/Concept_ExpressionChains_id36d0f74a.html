<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Expression Chains" />
<meta name="abstract" content="An expression chain is a series of expressions used to define a single DFM property. Expression chains are only used in the DFM Property family of operations. The value of the property is defined as the result of the first expression (evaluated left to right) that was successfully evaluated. An expression chain can be used to assign a default value for a property and protect against evaluation failure. If none of the expressions in the chain are successfully evaluated for a given property name, the expression evaluation fails and the layout object on the primary layer is not copied to the output layer." />
<meta name="description" content="An expression chain is a series of expressions used to define a single DFM property. Expression chains are only used in the DFM Property family of operations. The value of the property is defined as the result of the first expression (evaluated left to right) that was successfully evaluated. An expression chain can be used to assign a default value for a property and protect against evaluation failure. If none of the expressions in the chain are successfully evaluated for a given property name, the expression evaluation fails and the layout object on the primary layer is not copied to the output layer." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Expression Chains</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Expression Chains" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Expression
Chains</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">An expression
chain is a series of expressions used to define a single DFM property.
Expression chains are only used in the DFM Property family of operations.
The value of the property is defined as the result of the first
expression (evaluated left to right) that was successfully evaluated.
An expression chain can be used to assign a default value for a
property and protect against evaluation failure. If none of the
expressions in the chain are successfully evaluated for a given
property name, the expression evaluation fails and the layout object
on the primary layer is not copied to the output layer.</span>
</div>
<p class="p">The following example illustrates
the basic use of expression chains. Assume three polygon layers,
P, S1, and S2, with property A defined as follows:</p>
<pre class="pre codeblock leveled"><code>R = DFM PROPERTY P S1 S2 [A = AREA(S1)/AREA(S2)] [A = AREA(P)]</code></pre><p class="p">[A = AREA(S1)/AREA(S2)] and [A=AREA(P)]
form an expression chain for property A. Each polygon on the primary
layer P is evaluated.</p>
<ul class="ul"><li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__ida349c10c-9369-478a-9724-29bb4a41e195"><p class="p">For those polygons on P that are
clustered with polygons on both secondary layers S1 and S2, the
first expression is successfully evaluated, so the value of property
A is the ratio of the areas of the secondary layer geometries. </p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id0088bc13-1a6a-4615-8a8e-807c31972ba8"><p class="p">For those polygons on P for which
there are no clustered geometries on layer S2, the first expression
fails to evaluate due to division by zero. In that case, the value
of property A is the area of the primary layer geometry on layer
P.</p>
</li>
</ul>
<p class="p">Since the second expression cannot
fail, the property evaluation is always successful and all geometries
on the primary layer P are copied to the result layer.</p>
<p class="p">The following rules apply to expression
chains: </p>
<ul class="ul"><li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id2857b155-22df-4ec4-bf1d-c396c8ed94ac"><p class="p">They are
used only with the DFM Property family of operations.</p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id9abc9b2e-aa93-48b5-9eb2-9250daa1050e"><p class="p">All expressions
in the chain of expressions for the same property are evaluated
in the order they appear in the DFM Property operation, from left
to right. The returned property value is that of the first successfully
evaluated expression.</p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__idd6bd3465-e6df-4025-b45f-90528eda0b52"><p class="p">Constraints
can be defined for the individual expressions in an expression chain.
Each constraint applies only to the expression that immediately
precedes the constraint.</p>
<p class="p">Failing to match the constraint is not considered an expression
evaluation failure. Therefore, if an expression evaluates successfully
and the specified constraint is not met, the corresponding primary
layer geometry is not copied to the output layer and the next expression
in the chain is not evaluated.</p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id3b5902e5-b0e4-4934-bca0-03e71f888256"><p class="p">Named non-persistent
properties, those starting with a plus sign (+), can be used in expression
chains; non-persistent properties indicated with “-” cannot be used
in expression chains. See “<a class="xref fm:HeadingAndPage" href="Concept_NonpersistentDfmProperties_id8ab0f6ff.html#id8ab0f6ff-7157-4b24-9502-2959e7f708fe__Concept_NonpersistentDfmProperties_id8ab0f6ff.xml#id8ab0f6ff-7157-4b24-9502-2959e7f708fe" title="Non-persistent properties are properties that are not saved to the output layer created by the DFM Property operation. Non-persistent properties are used to filter the input layer(s) when satisfying the constraint is important, but the exact value is not.">Non-Persistent DFM Properties</a>”.</p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__ide90e22ca-c0cc-418b-bb4b-aa54ef6b50ba"><p class="p">The expressions
for a given property name are not required to be adjacent to each
other, although doing so usually makes the code easier to understand.</p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__idacc7b4e5-ec1a-4bb4-baf8-1d6d650bf581"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Recall that if at least one property
defined in the operation does not meet its constraint or does not
evaluate successfully, the corresponding geometry is not written
to the output layer. The following example defines two properties
AB and AC, where AB is defined with an expression chain:</p>
<pre class="pre codeblock leveled"><code>R = DFM PROPERTY A B C OVERLAP 
	[AB = AREA(A)/AREA(B)] [AC = AREA(A)/AREA(C)] [AB = 0]</code></pre><p class="p">When the cluster for a particular geometry
on layer A does not contain any geometries on layer B, the first
expression for AB fails to evaluate, but the second expression defines
the “default” value of 0. Therefore, the property AB is always defined.</p>
<p class="p">However, when the cluster for a geometry
on layer A does not contain any geometries on layer C, property
AC fails to evaluate and, because there is not another expression
for AC, the property is not defined and the primary geometry is
not written to the output layer.</p>
</div>
<div class="section Subsection" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id467d532d-4b4b-461d-917d-4f433ea6a930"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example uses constraints with an expression chain. </p>
<pre class="pre codeblock leveled"><code>R = DFM PROPERTY P S1 S2 OVERLAP [A = AREA(S1)/AREA(S2)] &lt;= 1 [A=AREA(P)]</code></pre><p class="p">The constraint &lt;= 1 applies to the first
expression, [A = AREA(S1)/AREA(S2)]. The evaluation occurs as follows:</p>
<ol class="ol"><li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__iddec794ae-f829-40c4-a951-d03fda825554"><p class="p">For primary
layer shapes such that the first expression, [A = AREA(S1)/AREA(S2)], evaluates
successfully:</p>
<ul class="ul"><li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__idf8bcb568-228f-4c27-a75a-3e9b306f9c32"><p class="p">If the
constraint is met (A &lt;=1), the shape is output to layer R with
A equal to AREA(S1)/AREA(S2). </p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id63ab05fa-455c-4016-804a-91102ecb7194"><p class="p">If the constraint
is not met, the shape is not output. (The second expression in the chain
is not evaluated.) </p>
</li>
</ul>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id354826f7-3216-4693-89eb-307e2e98c7e3"><p class="p">For primary
layer shapes such that the first expression does not evaluate successfully, the
second expression, [A=AREA(P)], is evaluated. This expression always
succeeds, and the shape is output to layer R with A equal to AREA(P). </p>
</li>
</ol>
</div>
<div class="section Subsection" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id859983f6-68e8-48c8-b6c6-955b65926403"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">This example examines a derived error layer and generates a layer
with error clusters for which the measurement function EC is undefined
(for example, clusters with more than two edges). The property value
is not needed, so a named non-persistent property is used. </p>
<pre class="pre codeblock leveled"><code>EFAIL = DFM PROPERTY E ["+X" = EC(E)] !&gt;=0 ["+X" = -1]</code></pre><p class="p">For each edge cluster on layer E, the measurement
EC(E) is one of the following:</p>
<ul class="ul"><li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id81619be1-8f3b-486b-a16a-072d57d396a7"><p class="p">Defined and returns a non-negative value,
which does not meet the constraint.</p>
</li>
<li class="li" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id6f189e50-0316-4208-83df-09edd661e399"><p class="p" id="id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__id85a6d49f-cbba-467a-96a9-b688a201c5e8">Not
defined and the first expression fails to evaluate, in which case
the second expression sets the property X to the default value -1. </p>
</li>
</ul>
<p class="p">The resulting layer EFAIL contains only the
edge clusters for which the EC function failed to evaluate. No property
value is saved to layer EFAIL. </p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmExpressions_id0aa735bd.html" title="DFM Expressions are used to calculate DFM properties, define an analysis or density function, or specify a user-defined function. They can be used to calculate scores, statistics, and measurement values based on layer data. DFM Expressions are used in DFM Analyze, the DFM Property operation family, DFM Function, and DFM Spec Fill Optimizer.">DFM Expressions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Expression Chains"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ExpressionChains_id36d0f74a.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>