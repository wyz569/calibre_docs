<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM Optimize" />
<meta name="abstract" content="Generates an optimized fill layer for variable-sized rectangular fill shapes. The optimization criteria is defined by DFM Spec Optimize and DFM Spec Optimize Data." />
<meta name="description" content="Generates an optimized fill layer for variable-sized rectangular fill shapes. The optimization criteria is defined by DFM Spec Optimize and DFM Spec Optimize Data." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idf270e1aa-be59-4963-87f0-884bd4786b90" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM Optimize</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM Optimize" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idf270e1aa-be59-4963-87f0-884bd4786b90">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM Optimize</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="p ContextMGC">License: <a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre YieldEnhancer', 'calbr_admin_gd'); return false;">Calibre YieldEnhancer</a></p>
<p class="shortdesc">Generates an optimized fill
layer for variable-sized rectangular fill shapes. The optimization criteria
is defined by DFM Spec Optimize and DFM Spec Optimize Data. </p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM OPTIMIZE</span> <span class="keyword ParameterName RequiredReplaceable">"spec_name"</span> [<span class="keyword ParameterName OptionalReplaceable">opt_layer</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id55feebc6-3095-4d3a-b7b8-451c7b65536b"><span class="keyword ParameterName RequiredReplaceable">“spec_name”</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required string specifying the name of
the optimization specification to use when generating the fill layer.
The string must be enclosed in quotes. The specification is defined by
a <a class="xref fm:HeadingOnly" href="Command_DFMSpecOptimize_ide5cfc40a.html#ide5cfc40a-f529-40d1-9f86-43b1ffe29155__Command_DFMSpecOptimize_ide5cfc40a.xml#ide5cfc40a-f529-40d1-9f86-43b1ffe29155" title="Defines a set of criteria to be used when optimizing fill with DFM Optimize.">DFM Spec Optimize</a> statement.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idf270e1aa-be59-4963-87f0-884bd4786b90__idce0ff572-633b-47c4-9b4e-dfeee04ed4ca"><span class="keyword ParameterName OptionalReplaceable">opt_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
optimized fill layer to output. <span class="keyword ParameterName OptionalReplaceable">opt_layer</span> should
be one of the OPTIMIZABLE layers in the <span class="keyword ParameterName RequiredReplaceable">spec_name</span> specification. </p>
<p class="p">If <span class="keyword ParameterName OptionalReplaceable">opt_layer</span> is
not specified, all optimized fill layers are merged to the same
output layer. See the Description section for more detail. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">DFM Optimize optimizes fill using the specification given by <span class="keyword ParameterName RequiredReplaceable">spec_name</span>.
Fill shapes are removed as needed to meet to the optimization constraint
in the fill specification. </p>
<p class="p">Unlike the optimizers specified for DFM Spec Fill and DFM Spec
Fill Shape, DFM Optimize can optimize variable-sized fill shapes,
such as STRETCHFILL shapes. </p>
<p class="p">DFM Optimize has these restrictions:</p>
<ul class="ul"><li class="li" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id6aa8bdc8-13da-48a2-ba1f-31f04f24277b"><p class="p">Use only
with rectangular, non-overlapping fill shapes. </p>
</li>
<li class="li" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id0589a5c6-0972-4a2b-8e6a-f58bae47c1f3"><p class="p">Do not use
with colored fill. </p>
</li>
<li class="li" id="idf270e1aa-be59-4963-87f0-884bd4786b90__iddfd85325-2fdd-48a1-96d1-92e7332347a3"><p class="p">Do not use
on fill layers with large shape counts. Failure to observe this
restriction greatly increases runtime and file sizes. </p>
</li>
</ul>
<div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id76e4978e-e98d-4160-bc14-9e44ca1692fe"><h2 class="title Subheading sectiontitle">Merged
Optimized Output</h2><p class="p">If you are optimizing more than one fill layer in combination,
and want a merged optimized output layer, only one DFM Optimize
operation is used. For example:</p>
<pre class="pre codeblock"><code>DFM SPEC OPTIMIZE "myOpt"
   GUARDED layer2 layer1
   OPTIMIZABLE fill_one fill_two 
   OPTIMIZER "local_op" "global_op"
// create the optimized layer
opt_fill = DFM OPTIMIZE "myOpt"</code></pre><p class="p">Two fill layers, fill_one and fill_two, are listed as OPTIMIZABLE.
The layers are merged and optimized in combination. The output layer,
opt_fill, contains the optimized fill from all OPTIMIZABLE layers. </p>
</div>
<div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id3e4357c2-0299-4dc9-b153-78fd43fbc74a"><h2 class="title Subheading sectiontitle">Single
Layer Optimized Output</h2><p class="p">If you are optimizing more than one fill layer in combination
and want the individual optimized layers as output, you use one
DFM Optimize operation for each fill layer. For example:</p>
<pre class="pre codeblock"><code>DFM SPEC OPTIMIZE "myOpt"
   GUARDED layer2 layer1
   OPTIMIZABLE <span class="ph CodeHighlight orange">fill_one</span> <span class="ph CodeHighlight purple">fill_two</span> 
   OPTIMIZER "local_op" "global_op"
// create the optimized layer
opt_fill_one = DFM OPTIMIZE "myOpt" <span class="ph CodeHighlight orange">fill_one</span>
opt_fill_two = DFM OPTIMIZE "myOpt" <span class="ph CodeHighlight purple">fill_two</span></code></pre><p class="p">Two fill layers, fill_one and fill_two, are listed as OPTIMIZABLE.
The layers are merged and optimized in combination. One DFM Optimize
operation is written for each OPTIMIZABLE layer, with the layer
as an argument. The output layer contains the optimized fill shapes
for the corresponding original fill layer. See “<a class="xref fm:HeadingAndPage" href="#idf270e1aa-be59-4963-87f0-884bd4786b90__id423a1360-d072-4454-820c-bb548812e1e3">Example 2: Single Layer Optimized Output</a>”.</p>
</div>
<div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id7751418b-5df5-4f8e-b728-55d45fcbc1de"><h2 class="title Subheading sectiontitle">Concurrent
Operation</h2><p class="p">DFM Optimize runs concurrently for operations with the same <span class="keyword ParameterName RequiredReplaceable">spec_name</span>.
If there are multiple operations with the same <span class="keyword ParameterName RequiredReplaceable">spec_name</span>,
the optimization is done once for that specification. </p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id192f561e-f579-47b8-bb05-e05221330637"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">The example creates STRETCHFILL shapes. DFM Optimize is then
used to apply density criteria to the fill shapes. </p>
<pre class="pre codeblock"><code>LAYOUT PATH "layout.oas" 
LAYOUT SYSTEM OASIS 
LAYOUT PRIMARY TOPCELL </code></pre><pre class="pre codeblock"><code>DRC RESULTS DATABASE drc.db
DFM DATABASE dfmdb OVERWRITE
DRC CELL NAME YES CELL SPACE XFORM</code></pre><pre class="pre codeblock"><code>LAYER layer1 1
LAYER layer2 2</code></pre><pre class="pre codeblock"><code>DFM SPEC FILL stretch_spec
      STRETCHFILL  OUTPUT "out1" 0 0 0.1 0.1 0.8 0  0.1    
      STEP .05 SPACE 0.1 layer2

// draw fill
fill_stretch = DFM FILL stretch_spec out1</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE DATA "global_op"
   [ ( AREA(_FILL_) + AREA(layer2) ) / AREA() ] &lt; 0.5 TOMAX

DFM SPEC OPTIMIZE DATA "local_op"
   [ ( AREA(_FILL_) + AREA(layer2) ) / AREA() ] &lt; 0.50 TOMAX
   WINDOW 1</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE "myOpt"
   GUARDED layer2 layer1 
   OPTIMIZABLE fill_stretch 
   OPTIMIZER "local_op" "global_op"

op_stretch = DFM OPTIMIZE "myOpt"</code></pre><pre class="pre codeblock"><code>oas_out {
DFM RDB OASIS fillout.oas fill_stretch 10 0
DFM RDB OASIS fillout.oas op_stretch   11 0
}</code></pre><p class="p">The results look like this for a simple example layout: The image
on the right shows the optimized output, where several fill shapes
have been removed to meet the density constraint. </p>
<div class="fig fignone" id="idf270e1aa-be59-4963-87f0-884bd4786b90__ida3dcfa81-012e-456d-aff1-d0720ddd819c"><span class="figcap"><span class="fig--title-label">Figure 1. </span>DFM Optimize
Output</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMFill/dfmoptimize.png" /></div><br /></div>
</div>
<div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id423a1360-d072-4454-820c-bb548812e1e3"><h2 class="title Subheading sectiontitle">Example
2: Single Layer Optimized Output</h2><p class="p">This example optimizes two fill layers in combination and outputs
each optimized fill layer separately. The fill shapes are STRETCHFILL. </p>
<pre class="pre codeblock"><code>LAYOUT PATH "layout.oas" 
LAYOUT SYSTEM OASIS 
LAYOUT PRIMARY TOPCELL </code></pre><pre class="pre codeblock"><code>DRC RESULTS DATABASE drc.db
DFM DATABASE dfmdb OVERWRITE
DRC CELL NAME YES CELL SPACE XFORM</code></pre><pre class="pre codeblock"><code>LAYER layer1 1
LAYER layer2 2</code></pre><pre class="pre codeblock"><code>DFM SPEC FILL stretch_spec
   STRETCHFILL  OUTPUT "out1" 0 0 0.3 0.2 0.8 0  0.1    
      STEP .1  SPACE 0.1 layer2
   STRETCHFILL  OUTPUT "out2"  0 0 .05 .05 0 0.3 .05    
      STEP .05 SPACE 0.1 layer2   </code></pre><pre class="pre codeblock"><code>// draw fill
fill_one = DFM FILL stretch_spec out1
fill_two = DFM FILL stretch_spec out2</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE DATA "global_op"
   [ ( AREA(_FILL_) + AREA(layer2) ) / AREA() ] &lt; 0.5 TOMAX

DFM SPEC OPTIMIZE DATA "local_op"
   [ ( AREA(_FILL_) + AREA(layer2) ) / AREA() ] &lt; 0.5 TOMAX
   WINDOW 1</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE "myOpt"
   GUARDED layer2  
   OPTIMIZABLE fill_one fill_two
   OPTIMIZER "local_op" "global_op"

opt_one = DFM OPTIMIZE "myOpt" fill_one
opt_two = DFM OPTIMIZE "myOpt" fill_two</code></pre><pre class="pre codeblock"><code>oas_out {
DFM RDB OASIS fillout.oas fill_one 10 0
DFM RDB OASIS fillout.oas fill_two 11 0
DFM RDB OASIS fillout.oas opt_one   20 0
DFM RDB OASIS fillout.oas opt_two   21 0
}</code></pre><div class="fig fignone" id="idf270e1aa-be59-4963-87f0-884bd4786b90__idb5837a5a-cff6-404b-a163-4a9b165f488f"><span class="figcap"><span class="fig--title-label">Figure 2. </span>DFM Optimize
Single Layer Optimized Output</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMFill/dfmoptimize_2.png" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">To generate a combined optimized fill layer instead of
separate optimized fill layers, use this operation:</p>
<pre class="pre codeblock"><code>opt_combined = DFM OPTIMIZE "myOpt"</code></pre></div>
</div>
<div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id8dc1ffb4-b642-468d-b93b-724d6793f5d7"><h2 class="title Subheading sectiontitle">Example
3: </h2><p class="p">This example optimizes stripe fill that is generated with the
MAXLENGTH keyword. The resulting stripes segments have varying length,
so the OPTIMIZER keyword in DFM Spec Fill cannot be used. </p>
<p class="p">The stripes are generated inside of layer2. The optimization
expression is the ratio AREA(_FILL_)/AREA(layer2). </p>
<pre class="pre codeblock"><code>LAYER layer2 2

DFM SPEC FILL fill_str INSIDE OF LAYER layer2 
   STRIPE 0.1 0.05 HORIZONTAL MAXLENGTH .4 
stripe_fill = DFM FILL fill_str</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE DATA "global_op"
   [ ( AREA(_FILL_) ) / AREA(layer2) ] &lt; 0.6 TOMAX 
DFM SPEC OPTIMIZE DATA "local_op"
   [ ( AREA(_FILL_) ) / AREA(layer2) ] &lt; 0.5 TOMAX 
   WINDOW 1 STEP .5</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE "myOpt"
   GUARDED  layer2 
   OPTIMIZABLE stripe_fill 
   OPTIMIZER "local_op" "global_op"

opt_stripe = DFM OPTIMIZE "myOpt"</code></pre><div class="fig fignone" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id95e86552-74fa-425d-b66e-25539e64fe06"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMFill/dfmoptimize_3.png" /></div><br /></div>
</div>
<div class="section Subsection" id="idf270e1aa-be59-4963-87f0-884bd4786b90__idab6d71ca-b67c-4a93-9fd0-429aa162c41a"><h2 class="title Subheading sectiontitle">Example
4</h2><p class="p">This example uses the INSIDE OF LAYER in the DFM Spec Optimize
statement to restrict the analysis region to the extent of layer3
in the design. Fill shapes that interact with the extent of layer3
are optimized, but are unchanged outside the extent of layer3. The
example is the same as Example 3, except for the use of INSIDE OF
LAYER. The next image shows the results and the example code follows. </p>
<div class="fig fignone" id="idf270e1aa-be59-4963-87f0-884bd4786b90__id3603a474-00fe-4458-a2ea-375888dd10e3"><span class="figcap"><span class="fig--title-label">Figure 3. </span>With INSIDE
OF LAYER in DFM Spec Optimize</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMFill/dfmoptimize_4.png" /></div><br /></div>
<pre class="pre codeblock"><code>LAYER layer1 1
LAYER layer2 2
LAYER layer3 3

DFM SPEC FILL fill_str INSIDE OF LAYER layer2
   STRIPE 0.1 0.05 HORIZONTAL MAXLENGTH .4
stripe_fill = DFM FILL fill_str</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE DATA "global_op"
   [ ( AREA(_FILL_) ) / AREA(layer2) ] &lt; 0.6 TOMAX
DFM SPEC OPTIMIZE DATA "local_op"
   [ ( AREA(_FILL_) ) / AREA(layer2) ] &lt; 0.5 TOMAX
   WINDOW 1 STEP .5</code></pre><pre class="pre codeblock"><code>DFM SPEC OPTIMIZE "myOptinside"
   GUARDED  layer2 
   OPTIMIZABLE stripe_fill 
   OPTIMIZER "local_op" "global_op"
   <span class="ph CodeHighlight orange">INSIDE OF LAYER layer3</span>

opt_stripe_inside = DFM OPTIMIZE "myOptinside"</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmCommands_ide62291e8.html" title="The commands in this section begin with “DFM.”">DFM … Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "DFM Optimize"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DFMOptimize_idf270e1aa.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>