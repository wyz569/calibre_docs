<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="GeneralRefTopic" />
<meta name="DC.Title" content="Other Rule Checks" />
<meta name="abstract" content="This section contains miscellaneous rule checks." />
<meta name="description" content="This section contains miscellaneous rule checks." />
<meta name="DC.subject" content="Other nmDRC checks (examples)" />
<meta name="keywords" content="Other nmDRC checks (examples)" />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idadb63ef6-ebe4-4693-aa21-845d2b5936bf" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Other Rule Checks</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Other Rule Checks" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="default" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Other Rule Checks</h1>
<div class="body refbody GeneralRefBody"><div class="abstract GeneralRefAbstract"><span class="shortdesc">This section
contains miscellaneous rule checks.</span>
</div>
<div class="section Subsections"><div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id6f7f4053-8cb7-4360-b25a-98b4619ab05c"><h2 class="title Subheading sectiontitle">Gates that do not completely
cross diffusion</h2><pre class="pre codeblock"><code>bad_gates { 
@ "Gates" where poly does not completely cross diffusion.
gate = poly AND diff   // Gate regions.
srcdrn = diff NOT poly // Source/drain regions.
gate NOT TOUCH srcdrn == 2 // Must touch two src/drn regions.
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id99686105-9be2-40fe-92d3-33b2f48e78b9"><h2 class="title Subheading sectiontitle">Acute angles, off-grid vertices,
and skewed edges</h2><pre class="pre codeblock"><code>flag_check { 
@ Find acute angles, off-grid vertices, and edges which are 
@ non-orthogonal or non-45
	DRAWN ACUTE
	DRAWN OFFGRID
	DRAWN SKEW 
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__ideb26002a-df12-4c9e-ba89-a0aa8097dfec"><h2 class="title Subheading sectiontitle">Polygons with an edge longer
than 100 microns</h2><pre class="pre codeblock"><code>// Find all metal polygons with at least one edge longer than 100 microns.
long_metal {
x = metal length &gt; 100
long_metal_polygons = metal interact x
}</code></pre><div class="fig fignone" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__idfc1b1f35-57e7-430b-ae15-a1e15defa82a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>bad_gates</span><br /><div class="imagecenter"><img class="image imagecenter" height="205" src="../graphics/rf_exam39.png" width="460" /></div><br /></div>
</div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__idaaba30be-8935-4f13-8118-a69184c76483"><h2 class="title Subheading sectiontitle">Objects in holes of another
layer</h2><pre class="pre codeblock"><code>contacts_in_holes { 
@ Select all contacts which are exactly in a hole of 
@ diffusion:
X = holes diff // First find diffusion holes
Y = X inside contact
// Next pick contacts coincident with the holes
contact inside Y
}</code></pre><div class="fig fignone" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id858ea30f-75f3-4185-b260-240e6d8bcc20"><span class="figcap"><span class="fig--title-label">Figure 2. </span>contacts_in_holes </span><br /><div class="imagecenter"><img class="image imagecenter" height="90" src="../graphics/rf_exam40.png" width="429" /></div><br /></div>
</div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__idd8e1eeeb-7835-40c9-8931-0d79db030304"><h2 class="title Subheading sectiontitle">Holes in a layer</h2><pre class="pre codeblock"><code>closed_metal {
@ donut structures not allowed on metal layer 
	metal donut
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id2a79135f-b47a-426a-b68e-b11f2e5438f3"><h2 class="title Subheading sectiontitle">Wide metal that is not power
or ground</h2><pre class="pre codeblock"><code>CONNECT metal
FAT_METAL_NOT_POWER {
vdd_metal = metal net vdd
vss_metal = metal net vss
power = vdd_metal OR vss_metal	
wide_met = SIZE metal BY -2	// Width &lt;= 4 goes away.
fat_metal = SIZE wide_met BY 2
// Restore metal which did not disappear
fat_metal NOT power
//generate error output when fat metal is not vdd or vss
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id63abe491-5f80-40c4-8d20-bb1f88d5dc0f"><h2 class="title Subheading sectiontitle">Sub-cell perimeters inside that
of the top-level cell</h2><pre class="pre codeblock"><code>// ICrules only.
// Check that no sub-cell perimeter is outside that of the 
// top-level cell: 
perim_check { 
// Cell perimeters are stored on a special layer called 
// "perimeter" as objects having both internal and external 
// aspect.
X = TOPEX perimeter	// The perimeter of the top-level template
perimeter NOT X
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__ide5c50a08-37bd-41cd-95d2-289d87dcc206"><h2 class="title Subheading sectiontitle">Gate alignment</h2><pre class="pre codeblock"><code>non_aligned_gate {
@ Gates must be horizontal along the edge inside poly and 
@ vertical along the edge inside diffusion. Flag gates 
@ themselves not gate edges.
gate = poly and diff
gate_edge_in_poly = gate coincident edge diff
gate_edge_in_diff = gate not coincident edge diff
bad_angle_1 = gate_edge_in_poly not angle == 0
bad_angle_2 = gate_edge_in_diff not angle == 90
bad_gate_1 = gate with edge bad_angle_1
bad_gate_2 = gate with edge bad_angle_2
bad_gate_1 or bad_gate_2	// Kill duplicate errors.
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__idd9ee6cf7-88df-47f9-a29e-f321838fb258"><h2 class="title Subheading sectiontitle">Length to width ratio</h2><pre class="pre codeblock"><code>// check length-to-width ratio of chip
chip_too_long_or_wide  {
chip = EXTENT
NOT RECTANGLE chip &gt; min &lt; max ASPECT 1 // chip must be square
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__idf809fee2-2376-4d6c-8b39-c5c8aebb0cfa"><h2 class="title Subheading sectiontitle">Pad metal to unrelated diffusion
check</h2><p class="p">This will check pad metal to unrelated diffusion.
Related diffusion is diffusion tied to pad metal. Unrelated diffusion
is everything else.</p>
<pre class="pre codeblock"><code>//diff in this case is all diff you want to check.
//make copies of your present metals and vias so you
//do not mess up your connectivity.
cm1 = COPY met1
cm2 = COPY met2
cv = COPY via
CONNECT cm2 pad
CONNECT cm2 cm1 by cv

//In other words, all cm2 on the same net as pad
m2x = NET AREA RATIO cm2 pad &gt; 0 
m1x = NET AREA RATIO cm1 pad &gt; 0 
cx = cont INSIDE m1x   //all contacts in m1x

//This is the unrelated diffusion.
checkd = diff OUTSIDE cx
pad2unrelated_diff_rule {
EXTERNAL checkd m2x &lt; 5
EXTERNAL checkd m1x &lt; 5
}</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id8c25432e-f6e9-4c09-b3b0-e01d0310e299"><h2 class="title Subheading sectiontitle">Missing and conflicting Stamp</h2><p class="p">The missing connections Stamp means a polygon
was found which did not get a Stamp by the naa or paa respectively.
This may or may not be a problem depending on the polygon. The conflicting
connection Stamp means the respective well (n or p) did not receive
node numbers because different nodes are trying to Stamp the same
object. This could very likely be a problem and you will want to
find out why you have different nodes trying to Stamp the same object.</p>
<pre class="pre codeblock"><code>ywelln = nwell NOT cwelln
//identifies missing "n" connections
miss_n_conn { ywelln OUTSIDE nq }
//identifies confl. "n" conn.
conflict_n_conn { ywelln NOT OUTSIDE nq }

ywellp = pwell NOT cwellp
//identifies missing "p" connections
miss_p_conn { ywellp OUTSIDE pr }
//identifies confl. "p" conn.
conflict_p_conn { ywellp NOT OUTSIDE pr }</code></pre></div>
<div class="section Subsection" id="idadb63ef6-ebe4-4693-aa21-845d2b5936bf__id0f4c96bf-f884-480e-9ae3-c575f3b8e719"><h2 class="title Subheading sectiontitle">Using Stamp to find floating
gates</h2><pre class="pre codeblock"><code>// This rule uses STAMP to find floating gates; that is, gates 
// not connected to the output of another transistor.
// Connectivity must be established for the layout (this can 
// be done using $extract_cell_connectivity in Pyxis Layout

layer poly 1
layer diff 2
layer metal 3
layer cont 4

connect diff metal by cont
// Above statement forces connectivity between diff and metal 
// through a contact

floating_gate {
gate = poly AND diff
// above creates a gate layer with connectivity info of poly

metalcont = metal AND cont
// This step isolates metal contacts.
// The next step will establish coincidence of poly and metal 
// contacts.Theoretically, you are only concerned with poly 
// connected to metal, but isolating the metal contact insures 
// you get only intended metal to poly connections rather than 
// all intersections of metal and poly

connected_poly = STAMP poly by metalcont
// This step establishes coincidence of poly and metal 
// contacts

gate NOT connected_poly
// This step yields the rule check output--gate area not 
// intersecting connected poly.</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_RuleFileExamples_id15ffa5be.html" title="This chapter is a compendium of sample rule files, nmDRC rule checks, and layer derivation operations. These examples show how design rule checks can be used in commonly-encountered situations in layout verification.">Rule File Examples</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Other Rule Checks"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/General_OtherRuleChecks_idadb63ef6.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>