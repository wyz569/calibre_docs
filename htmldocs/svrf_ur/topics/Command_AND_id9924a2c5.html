<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="AND" />
<meta name="abstract" content="Boolean operation that constructs the polygon area from the input layers intersected by multiple polygonal areas." />
<meta name="description" content="Boolean operation that constructs the polygon area from the input layers intersected by multiple polygonal areas." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>AND</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="AND" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">AND</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="shortdesc">Boolean operation that constructs
the polygon area from the input layers intersected by multiple polygonal
areas.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><h2 class="title Subheading sectiontitle">Single layer syntax:</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">AND</span> <span class="keyword ParameterName RequiredReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">constraint</span>]</p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">Two-layer syntax:</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">AND</span> <span class="keyword ParameterName RequiredReplaceable">layer2</span> <span class="keyword ParameterName RequiredReplaceable">layer3 </span>[{[NOT] CONNECTED} | LVSCAREFUL]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__idb298bfe0-1fd9-4687-ab11-9dc801d300b3"><span class="keyword ParameterName RequiredReplaceable">layer1</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A
required original layer or layer set.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id49349ff5-b964-41c1-9f5c-d3f595693742"><span class="keyword ParameterName RequiredReplaceable">layer2</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required original layer or
layer set, or a derived polygon layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id2f95d76f-9d84-43da-b540-344557724b18"><span class="keyword ParameterName RequiredReplaceable">layer3</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required original layer or
layer set, or a derived polygon layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__idb1d3a6f9-93c9-435d-90f9-c0e0acbb52c8"><span class="keyword ParameterName OptionalReplaceable">constraint</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional constraint listed
in the “Constraint Notation” column of <a class="xref fm:TableAndPage" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__idf28cb715-136e-454e-81a1-e050ea37b1a7">Table 1</a> in the “<a class="xref fm:HeadingOnly" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__Concept_Constraints_id4b42a9dc.xml#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458" title="Certain SVRF layer operations are measurement-oriented and therefore carry constraints. Constraints are ranges of non-negative real numbers; input data that falls within the specified constraint of an operation is generally output as result data.">Constraints</a>” topic.
Constraints must contain non-negative integers. The constraint limits
the selection of polygon areas common to the number specified and
defaults to &gt; 1. The == 0 constraint does not produce the complement
of <span class="keyword ParameterName RequiredReplaceable">layer1</span>,
but rather produces an empty derived layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id00420e3b-d571-4a67-a62a-03d4e4a5eeba">[NOT] CONNECTED</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
the electrical nodes of polygons are taken into account when determining
the polygon intersections. The connectivity of <span class="keyword ParameterName RequiredReplaceable">layer2 </span>and <span class="keyword ParameterName RequiredReplaceable">layer3</span> must
be established to use this keyword. May not be specified with LVSCAREFUL.
Possible choices are these:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id4597e666-0905-479b-b2da-0126b136faaa"><p class="p Opt">CONNECTED
— Specifies that polygons must have the same electrical node ID
for their intersection to be output.</p>
</li>
<li class="li ArgOption" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id24485c49-0a3a-4b83-810c-efbc2edcbb23"><p class="p Opt">NOT
CONNECTED — Specifies that polygons must have different electrical
node IDs for their intersection to be output.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__idd284fe10-091d-4999-a377-4899501b3d05">LVSCAREFUL</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that applies during
LVS circuit extraction (as in calibre -spice) to prefer placing
derived layer output at the same hierarchical level as <span class="keyword ParameterName RequiredReplaceable">layer1</span> polygons.
This is the same behavior as <a class="xref fm:HeadingOnly" href="Command_LvsUseCarefulAnd_idc6a69e38.html#idc6a69e38-d40c-4518-aabf-a5c51663fb13__Command_LvsUseCarefulAnd_idc6a69e38.xml#idc6a69e38-d40c-4518-aabf-a5c51663fb13" title="Causes circuit extraction (as in calibre -spice) to use a different hierarchical algorithm for AND layer operations. The alternate algorithm preserves the original hierarchy as much as possible at the cost of approximately twice the normal run time. Using YES can reduce layer promotion that causes device pins to form higher up in the hierarchy than desired.">LVS Use Careful AND</a> YES,
but rather than being applied globally in the rule file, the behavior
applies just to the AND operation locally. May not be used with the
CONNECTED keywords. This keyword is ignored outside of LVS runs.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Constructs the intersection regions
of polygons on the input layer(s) and outputs the intersections
as polygons.</p>
<p class="p">The single-layer Boolean AND
operation handles overlapping polygons on the original input layer
before pre-merging of the layer. </p>
<p class="p">A single-layer operation can
take a <span class="keyword ParameterName OptionalReplaceable">constraint</span>.
The <span class="keyword ParameterName OptionalReplaceable">constraint</span> limits
the construction of intersection regions to the number of polygons
specified. For example, if &gt;2 is specified, then more than two polygons
must intersect in order for output to occur. Hierarchical Calibre applications
perform the one-layer operation flat when the constraint is other
than &gt;= 1 or &gt; 1.</p>
<p class="p">The single-layer AND operation
can give unexpected results in hierarchical operation for databases
that have duplicate placements with overlapping geometry. Calibre
selectively discards duplicate placements in many cases as part
of its internal optimization. Databases with such characteristics
are better handled using Pyxis Layout.</p>
<p class="p">Both the single-layer and two-layer
forms of the AND operation are node-preserving for connectivity
extraction. For the two-layer form, connectivity is passed from
the first input layer. See “<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Node-Preserving Layer Operations', 'calbr_ver_user'); return false;">Node-Preserving Layer Operations</a>” in the <cite class="cite">Calibre Verification User’s
Manual</cite> for details.</p>
<p class="p">The [NOT] CONNECTED keywords
are used only in the two-layer syntax. These keywords limit the
determination of intersections based upon the presence (or lack,
if NOT is used) of identical node IDs. Connectivity must be successfully
established on the input layers for these keywords to be used.</p>
<p class="p">The LVSCAREFUL option can be of benefit in certain LVS flows
to prevent promotion of derived device layers, including seed promotion.
In most cases, this option preserves hierarchy by placing derived
layers at the same hierarchical level as the first input layer to
the operation. The order of layer specification is important, as
the incorrect order can have the opposite effect of what is desired.</p>
<p class="p">See also <a class="xref fm:HeadingOnly" href="Command_Not_idd00cf06e.html#idd00cf06e-6a90-4432-9331-d86946d31b74__Command_Not_idd00cf06e.xml#idd00cf06e-6a90-4432-9331-d86946d31b74" title="Two-layer Boolean operation that selects polygon areas not common to polygons from a second layer. This is a node-preserving layer constructor.">NOT</a>, <a class="xref fm:HeadingOnly" href="Command_OR_idf7175723.html#idf7175723-93ff-4f55-b41c-ef8cab155e2e__Command_OR_idf7175723.xml#idf7175723-93ff-4f55-b41c-ef8cab155e2e" title="One- or two-layer Boolean operation that merges intersecting polygons. For two-layer operations, OR finds the union of polygons on input layers. The one-layer version is rarely useful because all applications using SVRF pre-merge data by layer.">OR</a>, <a class="xref fm:HeadingOnly" href="Command_Xor_idf0d9b156.html#idf0d9b156-5f1a-4034-b052-ca892aedccc7__Command_Xor_idf0d9b156.xml#idf0d9b156-5f1a-4034-b052-ca892aedccc7" title="One- or two-layer Boolean operation that constructs a derived polygon layer of regions contained by exactly one polygon.">XOR</a>.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id1929ae65-1e10-4851-ac23-f204b8af4d93"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">The following figure shows two examples
of one-layer Boolean AND operations.</p>
<div class="fig fignone" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id9db41148-a91e-4703-80bd-42373836ac81"><span class="figcap"><span class="fig--title-label">Figure 1. </span>One-layer Boolean AND
Operation</span><br /><div class="imagecenter"><img class="image imagecenter" height="185" src="../graphics/AND_one_layer.png" width="460" /></div><br /></div>
<p class="p">Operation 1 selects all areas on
layer 1 common to more than one polygon; Operation 2 selects all
areas on layer1 common to at least three polygons.</p>
</div>
<div class="section Subsection" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__idc6366b13-3cfd-4bd8-9c13-9e6c61791576"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">The two-layer Boolean AND operation
shown in the next figure selects all polygon areas common to both
layer2 and layer3 polygons.</p>
<div class="fig fignone" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id37c078ae-2f4e-4d7f-a414-ccb82134e605"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Two-layer Boolean AND
Operation</span><br /><div class="imagecenter"><img class="image imagecenter" height="87" src="../graphics/AND_two_layer.png" width="461" /></div><br /></div>
<p class="p">If you rewrite the two-layer Boolean
AND operation from <a class="xref fm:Figure" href="#id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id37c078ae-2f4e-4d7f-a414-ccb82134e605">Figure 2</a> as:</p>
<pre class="pre codeblock"><code>AND layer3 layer2</code></pre><p class="p">the operation does not produce a
different geometric output because Boolean AND statements are commutative.</p>
</div>
<div class="section Subsection" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__ida4bcd754-a736-40a7-88b4-0aa57dda8353"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">The following is a common type of
layer derivation:</p>
<pre class="pre codeblock"><code>gate = poly and diff</code></pre><p class="p">Note that the AND operation is node-preserving,
so the gate layer inherits the connectivity of poly in this derivation.
Ordinarily you would not want to derive gate like this:</p>
<pre class="pre codeblock"><code>gate = diff and poly // bad</code></pre><p class="p">This would cause gate to inherit
the connectivity of diff, which is usually an error. However, this
derivation would be geometrically identical to the previous one.</p>
<p class="p">If the output layer appears in a
Connect or Sconnect statement (but not as a BY layer), then connectivity
is not passed by the AND operation.</p>
</div>
<div class="section Subsection" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id523c2b40-1ca3-4818-af1e-d5d10519163a"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">This example finds vias inside metal
junctions between differing nodes. The intersections of the input
layers are determined only if the polygons are not on the same node.</p>
<pre class="pre codeblock"><code>CONNECT m1 m2 BY via1
y = m1 AND m2 NOT CONNECTED // m1/m2 intersections on different nodes
z = via1 INSIDE y // vias inside the 2-node intersections</code></pre></div>
<div class="section Subsection" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id222c373c-1f33-49ec-999f-e2983105399b"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">This example finds metal junctions on the same node where no
vias exist.</p>
<pre class="pre codeblock"><code>CONNECT m1 m2 BY via1
y = m1 AND m2 CONNECTED // junctions on the same node
z = y OUTSIDE via1 // junctions without vias</code></pre></div>
<p class="p">The area ratio of the via to the junction can be checked as follows.
The “r” value is some threshold area ratio below which you want
to output results:</p>
<pre class="pre codeblock"><code>// junction with insufficient via area
m1m2j_prop = DFM PROPERTY y via1 [- = AREA(via1)/AREA(y)] &lt; r</code></pre><div class="section Subsection" id="id9924a2c5-07cd-4fea-b7b9-971b273fa2ef__id78c9de73-a767-47be-b7fe-9cc723421987"><h2 class="title Subheading sectiontitle">Example
6</h2><p class="p">The following rule file excerpt shows a MOS gate layer derivation:</p>
<pre class="pre codeblock"><code>LAYER POLY 3
LAYER DIFF 4
LAYER DEEP_NW 5

all_gate = POLY AND DIFF
deep_nw_gate = all_gate AND DEEP_NW</code></pre><p class="p">If the previous layer derivation causes device seed promotion,
such that devices are formed at an incorrect level of hierarchy,
the derivation can be changed to this:</p>
<pre class="pre codeblock"><code>deep_nw_gate = all_gate AND LVSCAREFUL DEEP_NW</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceDictionary_ide016de69.html" title="This chapter contains descriptions for the statements and operations that can be used in a rule file. These appear in alphabetical order and this chapter contains those starting with letters A through F.">Reference Dictionary A - F</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "AND"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_AND_id9924a2c5.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>