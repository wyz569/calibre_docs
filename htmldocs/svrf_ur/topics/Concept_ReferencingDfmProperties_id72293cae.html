<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Referencing DFM Properties Defined in the Same Operation" />
<meta name="abstract" content="You can reference the value of a property computed by a previous property expression within the same operation; this is supported by the DFM Property operation. This is useful if the value of a property is used in other property definitions. Referencing the property improves performance by reducing the number of times the property value is calculated and can make the property expressions simpler to write." />
<meta name="description" content="You can reference the value of a property computed by a previous property expression within the same operation; this is supported by the DFM Property operation. This is useful if the value of a property is used in other property definitions. Referencing the property improves performance by reducing the number of times the property value is calculated and can make the property expressions simpler to write." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id72293cae-c084-40fb-89ad-87ea742c0410" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Referencing DFM Properties Defined in the Same Operation</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Referencing DFM Properties Defined in the Same Operation" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id72293cae-c084-40fb-89ad-87ea742c0410">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Referencing
DFM Properties Defined in the Same Operation</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">You can reference the value of a property
computed by a previous property expression within the same operation;
this is supported by the DFM Property operation. This is useful
if the value of a property is used in other property definitions.
Referencing the property improves performance by reducing the number
of times the property value is calculated and can make the property
expressions simpler to write. </span>
</div>
<p class="p">The following two operations
demonstrate the basic usage. This operation computes the ratio PERIM(B)/AREA(B)
twice:</p>
<pre class="pre codeblock leveled"><code>DFM PROPERTY A B [X = PERIM(B)/AREA(B)] [Y = (<span class="ph CodeHighlight orange">PERIM(B)/AREA(B)</span>)*PERIM(A)]</code></pre><p class="p">The operation can be optimized using
the reference function PROPERTY_REF as follows:</p>
<pre class="pre codeblock leveled"><code>DFM PROPERTY A B [X = PERIM(B)/AREA(B)] [Y = <span class="ph CodeHighlight orange">PROPERTY_REF(X)</span>*PERIM(A)]</code></pre><p class="p">PROPERTY_REF(X) returns the previously calculated value of X. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">You can also access a property value
saved to a layer object in a <span class="ph FontProperty emphasis">different</span> operation;
see <a class="xref fm:TableAndPage" href="General_PropertyAccessFunctions_ide04c1ce6.html#ide04c1ce6-8fb3-474a-919f-372f068424b1__idb23a17ef-da0b-4b23-afd6-232a8afa5237">Table 1</a> in
the section “<a class="xref fm:HeadingOnly" href="General_PropertyAccessFunctions_ide04c1ce6.html#ide04c1ce6-8fb3-474a-919f-372f068424b1__General_PropertyAccessFunctions_ide04c1ce6.xml#ide04c1ce6-8fb3-474a-919f-372f068424b1" title="Certain DFM functions access values of properties that have been defined previously. The functions are divided into two classes. The first class accesses properties defined in the scope of some other layer operation and saved to a layer geometry. The second class, all containing the suffix string _REF, accesses properties within the scope of the same layer operation.">Property Access Function Summary</a>”.</p>
</div>
<p class="p">The following property reference functions
are available. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id72293cae-c084-40fb-89ad-87ea742c0410__id8d083ec9-aa03-4b14-8bc4-88e44eda6d64" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Property
Reference Function Summary</span></caption><colgroup><col style="width:2.025in" /><col style="width:4.025in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d480565e189"><p class="p">Function</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d480565e192"><p class="p">Summary</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncNetPropertyRef_id3fe08ce7.html#id3fe08ce7-af04-402b-8343-a1d1b37613c7__Command_DfmFuncNetPropertyRef_id3fe08ce7.xml#id3fe08ce7-af04-402b-8343-a1d1b37613c7" title="References the value of a net number (netID) property that was previously defined in the same operation. Used only in DFM Property.">NETPROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References net number properties. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncNetVPropertyRef_id76791c73.html#id76791c73-adb3-48dc-8276-4a60d111b4e0__Command_DfmFuncNetVPropertyRef_id76791c73.xml#id76791c73-adb3-48dc-8276-4a60d111b4e0" title="References the value of a vector of net number properties (vnetID) that was previously defined in the same operation. Used only in DFM Property.">NETVPROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References vector net number properties. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncPropertyRef_id2baee48e.html#id2baee48e-2da8-4e60-adc0-e39cd7625af0__Command_DfmFuncPropertyRef_id2baee48e.xml#id2baee48e-2da8-4e60-adc0-e39cd7625af0" title="References the value of a numeric property that was previously defined in the same operation. Used only in DFM Property.">PROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References numeric properties. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncPSPropertyRef_ide5260412.html#ide5260412-f0e3-4538-aa1a-11473b32a223__Command_DfmFuncPSPropertyRef_ide5260412.xml#ide5260412-f0e3-4538-aa1a-11473b32a223" title="References the value of a string property that was previously defined in the same operation; the returned string is prefixed by Xn/Xm/.../ to indicate placement hierarchy. Used only in DFM Property.">PSPROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References string properties. The returned
string is prefixed by Xn/Xm/.../ to indicate placement hierarchy.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncSPropertyRef_id5255a50d.html#id5255a50d-1e7f-4973-81d1-9dc517a5a587__Command_DfmFuncSPropertyRef_id5255a50d.xml#id5255a50d-1e7f-4973-81d1-9dc517a5a587" title="References the value of a string property that was previously defined in the same operation. Used only in DFM Property.">SPROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References string properties. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncSVPropertyRef_id78cb51b0.html#id78cb51b0-6bcf-49c4-b567-aa795add8863__Command_DfmFuncSVPropertyRef_id78cb51b0.xml#id78cb51b0-6bcf-49c4-b567-aa795add8863" title="References the value of a vector of strings property that was previously defined in the same operation. Used only in DFM Property.">SVPROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References vector string properties. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e189 "><p class="p"><a class="xref fm:HeadingOnly" href="Command_DfmFuncVPropertyRef_id9d851b75.html#id9d851b75-1614-4855-bc3e-e1bbaa23ffeb__Command_DfmFuncVPropertyRef_id9d851b75.xml#id9d851b75-1614-4855-bc3e-e1bbaa23ffeb" title="References the value of a numeric vector property that was previously defined in the same operation. Used only in DFM Property.">VPROPERTY_REF</a></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d480565e192 "><p class="p">References vector numeric properties. </p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The
following rules apply when using the property reference functions.
Examples are given following the rules.</p>
<ul class="ul"><li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__id5d00f0e7-73c4-4a48-94f1-9faf565858bc"><p class="p">The syntax
is the following, where *PROPERTY_REF is one of the property reference functions
in the preceding table:</p>
<p class="p BlockIndent">*<span class="keyword ParameterName Required">PROPERTY_REF</span>(<span class="keyword ParameterName RequiredReplaceable">property_name</span>)</p>
<p class="p"><span class="keyword ParameterName RequiredReplaceable">property_name</span> is
the name of a property already defined in the current operation.
The following rules apply to <span class="keyword ParameterName RequiredReplaceable">property_name</span>:</p>
<ul class="ul"><li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__idcfea9dea-6320-404e-97ae-baa714a35846"><p class="p">References
to temporary or <a class="xref fm:HeadingOnly" href="Concept_NonpersistentDfmProperties_id8ab0f6ff.html#id8ab0f6ff-7157-4b24-9502-2959e7f708fe__Concept_NonpersistentDfmProperties_id8ab0f6ff.xml#id8ab0f6ff-7157-4b24-9502-2959e7f708fe" title="Non-persistent properties are properties that are not saved to the output layer created by the DFM Property operation. Non-persistent properties are used to filter the input layer(s) when satisfying the constraint is important, but the exact value is not.">Non-Persistent DFM Properties</a> named “-”
are not allowed and generate a compiler error.</p>
</li>
<li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__idc67ef56b-7c4f-408f-82eb-441938822295"><p class="p">References
to named temporary properties (properties with names that begin
with “+”) are allowed. For example, “+TEMP_A” is a valid temporary
property name and can be referenced using PROPERTY_REF(“+TEMP_A”)
if it is a numeric property. A temporary property name must be enclosed
in double quotes (“ ”).</p>
</li>
</ul>
</li>
<li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__id5377d16b-fcec-4019-b926-c0b8229433ed"><p class="p">The correct
reference function must be used for each property type. For example, NETPROPERTY_REF
must be used to reference a netID property. </p>
</li>
<li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__id1e91ee7c-b83e-46ec-9a61-65466fea0b1a"><p class="p">Property reference
functions can only be used in the DFM Property family of operations. </p>
</li>
<li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__idf3a7152b-05ca-4cbc-8fa7-6d4d89eb75b2"><p class="p">The property
referenced by a reference function must be defined in a previous expression
in the same operation (properties are evaluated in the order in
which they are specified, from left to right).</p>
</li>
<li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__idcc2dad99-a4d1-4b05-80f2-9db09f5c5b7e"><p class="p">If <a class="xref fm:HeadingOnly" href="Concept_ExpressionChains_id36d0f74a.html#id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0__Concept_ExpressionChains_id36d0f74a.xml#id36d0f74a-ee22-45ad-bbe8-5b9c9ce99fb0" title="An expression chain is a series of expressions used to define a single DFM property. Expression chains are only used in the DFM Property family of operations. The value of the property is defined as the result of the first expression (evaluated left to right) that was successfully evaluated. An expression chain can be used to assign a default value for a property and protect against evaluation failure. If none of the expressions in the chain are successfully evaluated for a given property name, the expression evaluation fails and the layout object on the primary layer is not copied to the output layer.">Expression Chains</a> are used
to define a particular property, the reference may appear anywhere
after the first expression defining the property. Regardless of
location, the reference function returns the final value of the
referenced property.</p>
</li>
<li class="li" id="id72293cae-c084-40fb-89ad-87ea742c0410__id6dab6cd0-0ee5-459c-9826-2ce1d22e8ee4"><p class="p">Circular references
are not allowed. </p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="id72293cae-c084-40fb-89ad-87ea742c0410__idd92c8183-0d28-4b9c-976f-1935b3cbc934"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">These examples use valid and invalid examples to demonstrate
some of the usage rules. </p>
<h2 class="title Subheading sectiontitle">Ordering</h2><p class="p">The property referenced by a reference
function must be defined in a previous expression in the same operation
(properties are evaluated in the order in which they are specified,
from left to right). In the following example, the first operation
is valid, while the second is invalid because property X is defined
after it is referenced:</p>
<pre class="pre codeblock leveled"><code>// valid
RES = DFM PROPERTY A B  [X = F(A, B)] [Y = SQRT(PROPERTY_REF(X))] &gt;= 1
// invalid
RES = DFM PROPERTY A B  [Y = SQRT(PROPERTY_REF(X))] &gt;= 1 [X = F(A, B)]</code></pre><h2 class="title Subheading sectiontitle">Use with Expression Chains</h2><p class="p">If an expression chain is used to define a particular property,
the reference may appear anywhere after the first expression defining
the property. Regardless of location, the reference function returns
the final value of the referenced property. </p>
<p class="p">The definition for property X is chained in the following operation.
If the first expression for X fails to evaluate, PROPERTY_REF(X)
returns 1/AREA(B), the second definition of X. </p>
<pre class="pre codeblock leveled"><code>DFM PROPERTY A B
	[X = 1/( AREA(B) - 1 )]  
	[Y = PROPERTY_REF(X)*PERIM(B)]
	[X = 1/AREA(B)] </code></pre><p class="p">The previous expression is equivalent
to:</p>
<pre class="pre codeblock leveled"><code>DFM PROPERTY A B
	[X = 1/( AREA(B) - 1 )]  
	[X = 1/AREA(B)] 
	[Y = PROPERTY_REF(X)*PERIM(B)]</code></pre><p class="p">However, expressions that create circular references are not
allowed. The following operation is invalid because the references
to property X and Y create a circular reference:</p>
<pre class="pre codeblock leveled"><code>// invalid
DFM PROPERTY A B
	[X = 1/( AREA(B) - 1 )]  
	[Y = PROPERTY_REF(X)*PERIM(B)]
	[X = PROPERTY_REF(Y)] </code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmExpressions_id0aa735bd.html" title="DFM Expressions are used to calculate DFM properties, define an analysis or density function, or specify a user-defined function. They can be used to calculate scores, statistics, and measurement values based on layer data. DFM Expressions are used in DFM Analyze, the DFM Property operation family, DFM Function, and DFM Spec Fill Optimizer.">DFM Expressions</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Referencing DFM Properties Defined in the Same Operation"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_ReferencingDfmProperties_id72293cae.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>