<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM Pattern Capture" />
<meta name="abstract" content="Captures patterns based on specified lithographic hotspots or based on a specified mask layer." />
<meta name="description" content="Captures patterns based on specified lithographic hotspots or based on a specified mask layer." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id61efcf35-94c1-4493-8220-ed592c2d0e61" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM Pattern Capture</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM Pattern Capture" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id61efcf35-94c1-4493-8220-ed592c2d0e61">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM
Pattern Capture</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="p ContextMGC">License: <a class="xref Link" href="../../calbr_admin_gd/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre Pattern Matching', 'calbr_admin_gd'); return false;">Calibre Pattern Matching</a></p>
<p class="shortdesc">Captures patterns based on specified
lithographic hotspots or based on a specified mask layer.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Calibre must run in hierarchical mode (-hier) in order
to use DFM Pattern Capture. </p>
</div>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM PATTERN CAPTURE<br />
</span>{{<span class="keyword ParameterName Required">LAYER_HOTSPOT</span> <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> <span class="keyword ParameterName Required"> <br />
       PATTERN_HALO</span> {<span class="keyword ParameterName RequiredReplaceable">halo</span> | <span class="keyword ParameterName RequiredReplaceable">x_halo</span> <span class="keyword ParameterName RequiredReplaceable">y_halo</span>} [<span class="keyword ParameterName Optional">FROM_EXTENTS</span> | <span class="keyword ParameterName Optional">FROM_EDGES</span>] <br />
       [MAX_SEARCH <span class="keyword ParameterName OptionalReplaceable">value</span> [SEARCH_LEVEL EXACT] ] <br />
       [MAX_LENGTH <span class="keyword ParameterName OptionalReplaceable">value</span>]}  <br />
  | {<span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>}}<br />
{<span class="keyword ParameterName Required">LAYER_TARGET </span><span class="keyword ParameterName RequiredReplaceable">target_layer</span> [LAYER_NUMBER <span class="keyword ParameterName OptionalReplaceable">layer_number</span>] [DC] <br />
       [<span class="keyword ParameterName OptionalReplaceable">layer_halo</span>] [<span class="keyword ParameterName Optional">FROM_EXTENTS</span> | <span class="keyword ParameterName Optional">FROM_EDGES</span>]<br />
       [DENSITY_PROP [PROP_NAME <span class="keyword ParameterName OptionalReplaceable">dens_prop_name</span>]]<br />
       [<span class="keyword ParameterName Optional">VERTEX_PROP</span> [PROP_NAME <span class="keyword ParameterName OptionalReplaceable">prop_name</span>] [KEEP_ORIGINAL_VERTEX] ]<br />
}…<br />
[LAYER_EMPTY <span class="keyword ParameterName OptionalReplaceable">empty_name</span> [DC]] …<br />
[<span class="keyword ParameterName Optional">LAYER_REGION</span> <span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> <span class="keyword ParameterName OptionalReplaceable">region_type</span> <span class="keyword ParameterName OptionalReplaceable">region_target_layer</span>] … <br />
[OUTFILE <span class="keyword ParameterName OptionalReplaceable">filename</span> [<span class="keyword ParameterName OptionalDefault">OVERWRITE</span> | <span class="keyword ParameterName Optional">APPEND</span>]<br />
      [<span class="keyword ParameterName Optional">PATTERN_ATTR</span> <span class="keyword ParameterName OptionalReplaceable">attr_name</span> <span class="keyword ParameterName OptionalReplaceable">attr_value</span> [INTEGER | FLOAT | STRING]]… ]<br />
[<span class="keyword ParameterName Optional">OUTPUT_LAYER</span> {<span class="keyword ParameterName OptionalDefault">DEFAULT</span> | BBOX | BBOX10}]<br />
[EXCEPTIONS_ONLY]<br />
[<span class="keyword ParameterName Optional">LAYER_PATTERN_MARKER</span> <span class="keyword ParameterName OptionalReplaceable">marker_spec</span> <span class="keyword ParameterName OptionalReplaceable">marker_name</span>] …<br />
[<span class="keyword ParameterName Optional">PATTERN_MARKER_METHOD</span> <span class="keyword ParameterName OptionalReplaceable">marker_method</span>]<br />
[MERGE_MARKERS]<br />
[<span class="keyword ParameterName Optional">EXTENT_TRACING</span>]<br />
[<span class="keyword ParameterName Optional">PATTERN_NAME_PREFIX</span> <span class="keyword ParameterName OptionalReplaceable">name</span> [<span class="keyword ParameterName Optional">NUM_START</span> <span class="keyword ParameterName OptionalReplaceable">value</span>] ]<br />
[<span class="keyword ParameterName Optional">PATTERN_NAME_PROP</span> <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span>]<br />
[<span class="keyword ParameterName Optional">PATTERN_CGLOBAL</span> <span class="keyword ParameterName OptionalReplaceable">cglobal</span>] <br />
[<span class="keyword ParameterName Optional">LAYER_CGLOBAL</span> <span class="keyword ParameterName OptionalReplaceable">layer_cglobal</span> <span class="keyword ParameterName OptionalReplaceable">cglobal_target_layer</span>]…<br />
[<span class="keyword ParameterName Optional">MATCH_ORIENT</span> | <span class="keyword ParameterName Optional">MATCH_ROTATION</span>]<br />
[<span class="keyword ParameterName Optional">MATCH_TYPE</span>]<br />
[<span class="keyword ParameterName Optional">PATTERN_ORIENT</span> <span class="keyword ParameterName OptionalReplaceable">pattern_orient_option</span>]<br />
[<span class="keyword ParameterName Optional">MATCH_ORIENTATIONS</span> <span class="keyword ParameterName OptionalReplaceable">match_orientations_option</span>]<br />
[CAPTURE_ORIENT <span class="keyword ParameterName OptionalReplaceable">orient_prop_name</span>]<br />
[<span class="keyword ParameterName Optional">PATTERN_PROP</span> <span class="keyword ParameterName OptionalReplaceable">name</span> <span class="keyword ParameterName OptionalReplaceable">num_value</span> [<span class="keyword ParameterName OptionalDefault">FLOAT</span> | INTEGER]] …<br />
[<span class="keyword ParameterName Optional">OUTPUT_PROP</span>] <br />
[<span class="keyword ParameterName Optional">INDEX_PROP</span> <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span>]<br />
[SET_PROP <span class="keyword ParameterName OptionalReplaceable">prop_name</span> [<span class="keyword ParameterName OptionalDefault">MIN</span> | MAX] ]<br />
[DUP_COUNT <span class="keyword ParameterName OptionalReplaceable">dup_prop_name</span>]<br />
[<span class="keyword ParameterName Optional">PATTERN_KEY</span> <span class="keyword ParameterName OptionalReplaceable">name</span>] …<br />
[COMMENT "<span class="keyword ParameterName OptionalReplaceable">comment_string</span>"]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ide88e156c-c760-4569-92b1-2f98c4419e00"><span class="keyword ParameterName Required">LAYER_HOTSPOT</span> <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A keyword set that specifies
to capture patterns centered at the shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>, which
must be an original or derived polygon layer. This keyword set is
required if <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> is
not specified. The default pattern capture area is defined by the <span class="keyword ParameterName Required">PATTERN_HALO</span> keyword. </p>
<p class="p">It is possible to specify both <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> and <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span>.
In this case the pattern capture area is determined by the shapes
on the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>, while
the shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> that
are within the pattern extent are instantiated as marker shape(s)
for the captured pattern. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id58443cb1-72c2-4273-950a-2fcc662370fb"><span class="keyword ParameterName Required">PATTERN_HALO</span> {<span class="keyword ParameterName RequiredReplaceable">halo</span> | <span class="keyword ParameterName RequiredReplaceable">x_halo</span> <span class="keyword ParameterName RequiredReplaceable">y_halo</span>} [FROM_EXTENTS | FROM_EDGES]</dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword set when <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> is
specified. The <span class="keyword ParameterName Required">PATTERN_HALO</span> keyword
set defines the halo region, which is centered on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shapes
by default. The captured patterns are composed of shapes on the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>(s)
within the halo region. See <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id2a24c43f-ac57-42c0-8533-9ade612b1007">Figure 1</a>. The halo size is specified
in user units. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id866f0793-7f9a-45d8-a40d-f16149029187"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">halo</span> —
The width of the halo region is 2 * <span class="keyword ParameterName RequiredReplaceable">halo</span>.
By default the halo is measured from the center of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape.</p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id676e94ce-5f48-4c2f-86f6-74b99cbd5e60"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">x_halo</span> <span class="keyword ParameterName RequiredReplaceable">y_halo</span> —
The halo region is 2 * <span class="keyword ParameterName RequiredReplaceable">x_halo</span> in
the x-direction, and 2 * <span class="keyword ParameterName RequiredReplaceable">y_halo</span> in
the y-direction. </p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idaa43e68e-0be9-43fb-9e90-dcf00db42bb2"><p class="p Opt">FROM_EXTENTS
— An optional keyword that specifies to measure the halo from the bounding
box of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape. </p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id9f56be64-d96b-4183-a444-3561224220ac"><p class="p Opt">FROM_EDGES
— An optional keyword that specifies to measure the halo from the edges
of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape.
Non-Manhattan hotspot shapes are ignored and a warning is issued.
The keyword cannot be used with MAX_SEARCH or with independent <span class="keyword ParameterName RequiredReplaceable">x_halo</span> and <span class="keyword ParameterName RequiredReplaceable">y_halo</span> values. </p>
</li>
</ul>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id2a24c43f-ac57-42c0-8533-9ade612b1007"><span class="figcap"><span class="fig--title-label">Figure 1. </span>PATTERN_HALO
in DFM Pattern Capture</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_halo.png" /></div><br /></div>
<p class="p">The keywords MAX_SEARCH and MAX_LENGTH also affect the determination
of the halo region. See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idfa5cc461-3bf3-423d-9c03-4a950b10aafd">Pattern Location and Capture Area</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idee4c76cb-79ff-4bea-8345-d4c5cea576fd">MAX_SEARCH {<span class="keyword ParameterName OptionalDefault">0</span> | <span class="keyword ParameterName OptionalReplaceable">value</span>} [SEARCH_LEVEL EXACT]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
specifies to perform auto-centering of the pattern location if <span class="keyword ParameterName OptionalReplaceable">value</span> is
greater than zero. The default is to not perform auto-centering.
MAX_SEARCH is only valid when capturing patterns with the <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> method. </p>
<p class="p">Auto-centering primarily uses shapes on the first listed <span class="keyword ParameterName RequiredReplaceable">target_layer</span> that
do not have the DC keyword. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id1c047e3e-f4a4-4830-b057-25381252ad9b"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">value</span> —
Defines a square search region centered on the hotpot shape and
with a width of 2*<span class="keyword ParameterName OptionalReplaceable">value</span>.
An internal algorithm uses target layer edges and vertices within
the search region to optimize the location of the pattern center.
If any target layer edges or vertices exist within the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape,
they contribute to auto-centering regardless of the MAX_SEARCH value.
If no target layer edges are found within the search region, the
pattern center is not adjusted. The use of MAX_SEARCH may increase
the number of duplicate patterns that are found. </p>
<p class="p">When specified, the MAX_SEARCH <span class="keyword ParameterName OptionalReplaceable">value</span> is
recommended to be at least half the halo size set with <span class="keyword ParameterName Required">PATTERN_HALO</span>. </p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idcb3ba7d7-7f3c-4c7d-864b-5b44ce5ad52b"><p class="p Opt">SEARCH_LEVEL
EXACT — Specifies to use an improved search algorithm that attempts
to optimize the number of duplicate patterns that are identified,
thus reducing the total number of patterns that are captured. Compared
to the case when SEARCH_LEVEL EXACT is not specified, the search
finds more duplicate patterns and increases runtime. </p>
<p class="p">SEARCH_LEVEL EXACT also enables auto-centering when only edges
(no vertices) are present within the search range. BCM patterns
are not auto-centered unless SEARCH_LEVEL EXACT is specified. </p>
<p class="p">When SEARCH_LEVEL EXACT is specified an error is issued if the MAX_SEARCH
value is greater than the halo size.</p>
<p class="p">MAX_LENGTH is not allowed with SEARCH_LEVEL EXACT. The MAX_LENGTH
keyword is ignored if used and a warning is issued. </p>
</li>
</ul>
<p class="p">Auto-centering is useful when the process that produces the hotspot
layer results in hotspot locations that vary from run to run. See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id5a43f605-86ad-451f-a52b-6ecfac7d3f66">MAX_SEARCH and SEARCH_LEVEL EXACT Keywords for Pattern Auto-Centering</a>” for further
discussion and illustrations. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idddf834a1-ab3e-4fe6-bee7-5934827d1821">MAX_LENGTH <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set, where <span class="keyword ParameterName OptionalReplaceable">value</span> is
specified in user units. When specified, hotspot shapes are divided
into a number of smaller segments when encountering long hotspot shapes.
The default value is 0, indicating no segmentation. If a hotspot
shape exceeds MAX_LENGTH in length, width, or both, the shape is
divided into equal hotspot segments, each being less than or equal
to the MAX_LENGTH. Each hotspot segment is then handled independently,
according to MAX_SEARCH, <span class="keyword ParameterName Required">PATTERN_HALO</span>,
and other keywords. </p>
<p class="p">MAX_LENGTH is not allowed with SEARCH_LEVEL EXACT. The MAX_LENGTH keyword
is ignored when used with SEARCH_LEVEL EXACT and a warning is issued. MAX_LENGTH
is not allowed with <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span>.</p>
<p class="p">In the following figure, MAX_LENGTH divides a hotspot into seven
equal segments. This example uses MAX_SEARCH, so segment 2 and segment
7 do not cover the entire section of the drawn layer due to nearby
geometries. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idca59315f-c93b-4a90-83ce-6c075f0652f7"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Large
Hotspot Segmented Using MAX_LENGTH</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_max_length_full.png" /></div><br /></div>
<p class="p">The resulting four patterns created using MAX_LENGTH are shown
in the following figure. The patterns show that the marker for the
pattern is the portion of the hotspot shape captured per segment.
The pattern corresponding to segments 3, 4, 5, and 6 show that the hotspot
does not reach out to the extent because the length of the segments
is less than MAX_LENGTH. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id601f47ac-8fa5-4098-92b7-21c214a613b0"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Patterns
Output by MAX_LENGTH</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_max_length_patterns.png" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id6a02431a-1292-462d-8891-56dac2c65867"><span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A keyword set that specifies
to capture patterns at the locations of shapes on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>,
which must be an original or derived polygon layer. The shapes on
the layer must be Manhattan shapes in order to generate a pattern.
The default capture area is defined by the shapes on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>—the
pattern consists of <span class="keyword ParameterName RequiredReplaceable">target_layer</span>(s) shapes
within the extent of the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shapes.
This keyword must be specified if <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> is
not used. </p>
<p class="p"><span class="keyword ParameterName Required">PATTERN_HALO</span>,
MAX_SEARCH, and MAX_LENGTH generate an error if <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> is
specified. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id6c222c76-5739-4900-80b4-67d8dd9131c7"><span class="keyword ParameterName Required">LAYER_TARGET </span><span class="keyword ParameterName RequiredReplaceable">target_layer</span> [LAYER_NUMBER <span class="keyword ParameterName OptionalReplaceable">layer_number</span>] [<span class="keyword ParameterName Optional">DC</span>] [<span class="keyword ParameterName OptionalReplaceable">layer_halo</span>] [<span class="keyword ParameterName Optional">FROM_EXTENTS</span> | <span class="keyword ParameterName Optional">FROM_EDGES</span>] [DENSITY_PROP [PROP_NAME <span class="keyword ParameterName OptionalReplaceable">dens_prop_name</span>]] [<span class="keyword ParameterName Optional">VERTEX_PROP</span> [PROP_NAME <span class="keyword ParameterName OptionalReplaceable">prop_name</span>] [KEEP_ORIGINAL_VERTEX] ]</dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword set that
specifies a target layer name. The secondary keywords are order
dependent and should be specified in the order shown. The polygons
that exist on the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> within
the bounds of the capture area are copied to the pattern layer,
where the capture area is determined by the <span class="keyword ParameterName Required">LAYER_HOTSPOT</span>, <span class="keyword ParameterName Required">PATTERN_HALO</span>, FROM_EXTENTS,
FROM_EDGES, and <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> keywords.
This keyword set may be specified more than once. When specifying
this keyword set more than once, the order of the target layers
is preserved. When doing a pattern matching run, the matching layer
order passed to the CMACRO call must correspond to the captured
order, otherwise no matches are detected. The order of the target
layer names must stay consistent from run to run. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id45708828-7ffa-47d7-8b5e-c3e0e7313209"><p class="p Opt">LAYER_NUMBER <span class="keyword ParameterName OptionalReplaceable">layer_number</span> —
An optional keyword set that specifies the layer number that is
assigned to the pattern layer in the saved pattern library. </p>
<p class="p">If not specified, original layers are assigned the layer number
determined from the LAYER and LAYER MAP statements in the rule file. </p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id52726951-5d70-46f1-8c95-0db4c4177e1f"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">layer_halo</span> —
An optional value that defines a per-layer halo region. The <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> value
is specified in user units and defines a square halo region centered
on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shapes
and with a width of 2 * <span class="keyword ParameterName OptionalReplaceable">layer_halo</span>.
If <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> is
specified, <span class="keyword ParameterName RequiredReplaceable">target_layer</span> shapes
must be within the per-layer halo region to be included in the pattern—the <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> overrides
the PATTERN_HALO value for the specified <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
The <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> keyword
must be specified if a per-layer <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> is
used. If every target layer has a specified <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> value,
then the <span class="keyword ParameterName Required">PATTERN_HALO</span> keyword
set is optional. The pattern extent is determined by the largest
halo value specified. See the figures within <a class="xref fm:Table" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id962b5ce6-93d8-4510-840c-d6b3da4fe098">Table 2</a>.</p>
<p class="p">If FROM_EXTENTS or FROM_EDGES is specified
with <span class="keyword ParameterName Required">PATTERN_HALO</span>,
the keyword is used when determining the per-layer halo region.
If FROM_EXTENTS or FROM_EDGES is specified for a specific <span class="keyword ParameterName RequiredReplaceable">target_layer</span>,
the specified behavior is used for that <span class="keyword ParameterName RequiredReplaceable">target_layer</span>. </p>
<p class="p">If OUTFILE is specified, the per-layer halo is saved as a per-layer
custom extent in the saved pattern library. </p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id13f9f0c1-5bd6-4fed-9270-9c24882d78a8"><p class="p Opt">FROM_EXTENTS | FROM_EDGES — An optional keyword
choice that specifies how to measure the per-layer halo region for
the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
The keywords can be specified with or without a <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> value
for the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
The keyword definitions are provided with the <span class="keyword ParameterName Required">PATTERN_HALO</span> keyword
description. The per-layer halo is measured from the center of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
by default. </p>
<p class="p">The <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> keyword
must be specified if these keywords are used. If FROM_EDGES is specified,
non-Manhattan hotspot shapes are ignored and a warning is issued.
FROM_EDGES cannot be used with MAX_SEARCH.</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id766cdb98-b8a3-4568-8f66-6c83432185ab"><p class="p"><span class="keyword ParameterName OptionalReplaceable">layer_halo</span> is
specified — The specified FROM_EXTENTS or FROM_EDGES behavior is
used to determine the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> halo
region. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id424ee097-6158-40ce-8282-b6c6c2a63674"><p class="p"><span class="keyword ParameterName OptionalReplaceable">layer_halo</span> is
not specified — The <span class="keyword ParameterName Required">PATTERN_HALO</span> value
and the specified FROM_EXTENTS or FROM_EDGES behavior is used to
determine the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> halo
region. A single halo value must be specified; separate x- and y-halo
values are not supported. </p>
</li>
</ul>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id942d4498-54d1-4a54-82dc-a4f07f938163"><p class="p Opt">DENSITY_PROP
[PROP_NAME <span class="keyword ParameterName OptionalReplaceable">dens_prop_name</span>]
— An optional keyword set that specifies to calculate the density
for the specified <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
The density is calculated per pattern and per target layer, and
is the ratio of the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> area
to the pattern extent. If a don't care region is specified for the
target layer with “LAYER_REGION <span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> dontcare <span class="keyword ParameterName RequiredReplaceable">target_layer</span>”,
the area within the don't care region is excluded from the calculation
of the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> area,
as illustrated in <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id4b4bc407-4a64-4758-8779-229473b2d8b9">Figure 4</a>. </p>
<p class="p">The density property is named DENSITY_<var class="keyword varname">target_layer</var> by
default. The density property is attached to the output layer shape.
If OUTFILE is specified, the density property is added to the saved
pattern.</p>
<p class="p">PROP_NAME <span class="keyword ParameterName OptionalReplaceable">dens_prop_name</span> —
Optional keyword set that specifies to use <span class="keyword ParameterName OptionalReplaceable">dens_prop_name</span> as
the name of the density property rather than the default. </p>
<p class="p">The following figure shows the density calculation for two patterns
captured in the same operation. The density is only calculated for
the metal1 target layer. The pattern on the left has a metal1 density
of 0.75. The pattern on the right has the same coverage of metal1,
but layer2 is specified as a dontcare region for metal1, so the metal1
area under layer2 is not considered in the density calculation,
resulting in a metal1 density of 0.5. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id4b4bc407-4a64-4758-8779-229473b2d8b9"><span class="figcap"><span class="fig--title-label">Figure 4. </span>DFM Pattern
Capture DENSITY_PROP with Don’t Care Region</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_density.png" /></div><br /></div>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id7dcc68bc-f085-4114-87cc-1fe26ef2fed8"><p class="p Opt">VERTEX_PROP
[PROP_NAME <span class="keyword ParameterName OptionalReplaceable">prop_name</span>]
[KEEP_ORIGINAL_VERTEX] — An optional keyword set that specifies
to calculate the real vertex count for the specified <span class="keyword ParameterName RequiredReplaceable">target_layer</span>. </p>
<p class="p">The vertex count property is named VERTEX_<var class="keyword varname">target_layer</var> by
default. The property is attached to the output layer shape. If
OUTFILE is specified the property is also saved to the pattern library.</p>
<p class="p">Real vertices are those that do not touch the pattern or layer
extent. A count of ‑1 is returned if the pattern extent is empty.
A count of 0 is returned if there are no real vertices, such as
for a BCM pattern. Specifying the DC keyword for the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> does
not affect the vertex count. If LAYER_REGION DONTCARE is specified
for the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>,
vertices within the don’t care region are not included in the vertex count. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idcd45111b-baf9-493f-9390-c92f9d5897ab"><p class="p Opt">PROP_NAME <span class="keyword ParameterName OptionalReplaceable">prop_name</span> —
Optional keyword set that specifies to use <span class="keyword ParameterName OptionalReplaceable">prop_name</span> as
the name of the property rather than the default.</p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id4e0e3bca-f3d7-4bf4-95e4-1fbd8e0eb452"><p class="p Opt">KEEP_ORIGINAL_VERTEX
— If MAX_SEARCH is specified, by default the vertex count is calculated
at the location of the adjusted pattern center. If KEEP_ORIGINAL_VERTEX
is specified the vertex count is calculated with the pattern center
at the original location, which is the center of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape.
This option can only be specified if the MAX_SEARCH keyword is specified. </p>
</li>
</ul>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id1883bc51-7161-451b-8cf2-3bb9101337bc">DC</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies the corresponding
layer is a Don’t Care pattern layer. The DC keyword may be specified
for <span class="keyword ParameterName Required">LAYER_TARGET</span> and
LAYER_EMPTY layers. Geometries on Don’t Care pattern layers are
ignored during the matching process. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Dont Care Pattern Layers', 'calbr_pmatch_user'); return false;">Don’t Care Pattern Layers</a>”
in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id5d319b48-a3f8-431a-814c-6978714247c6">LAYER_EMPTY <span class="keyword ParameterName OptionalReplaceable">empty_name</span> [DC]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that specifies an
empty layer name to include in the captured patterns. The name <span class="keyword ParameterName OptionalReplaceable">empty_name </span>must
not be a layer in the input layout. The empty layer <span class="keyword ParameterName OptionalReplaceable">empty_name</span> is
added to each pattern and has no geometries in the pattern. This
keyword set may be specified more than once.</p>
<p class="p">The optional DC keyword can be specified to indicate that the
layer is a Don’t Care pattern layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id9e5ca56c-6dc6-43e6-8651-d57689d7dae5"><span class="keyword ParameterName Optional">LAYER_REGION</span> <span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> <span class="keyword ParameterName OptionalReplaceable">region_type</span> <span class="keyword ParameterName OptionalReplaceable">region_target_layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
adds region layers to captured patterns. </p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id33bd8f63-3208-4b85-a05c-e91baa751b0a"><p class="p"><span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> —
Name of the source layer for the region shapes. The <span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> must
be an original or derived polygon layer and cannot be a <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
The shapes on <span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> must
be Manhattan polygons. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idf4dc7472-43ad-41c4-8924-7884658b337b"><p class="p"><span class="keyword ParameterName OptionalReplaceable">region_type</span> may
be one of the following:</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idc8fde363-8075-4b47-ab52-fd302a289400"><p class="p"><span class="keyword ParameterName Optional">dontcare — </span>A
region that is ignored during the pattern matching process. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd47fa6ba-b045-40f2-85be-3c91605fc09f"><p class="p">critical — A region that requires
a minimum of one polygon to exist within the region for a successful
match during the a pattern matching run.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id663edbf0-7f65-4f30-a6fb-b6c0ca2a30d5"><p class="p"><span class="keyword ParameterName Optional">keepout </span>—
A region that can have no geometries within it. Keep out regions
can be used to put holes in pattern geometries.</p>
</li>
</ul>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id49956cb6-6099-44d4-89ed-88b70e8a6b61"><p class="p"><span class="keyword ParameterName OptionalReplaceable">region_target_layer</span> —
Name of the pattern layer the region is applied to. The <span class="keyword ParameterName OptionalReplaceable">region_target_layer</span> must
be a <span class="keyword ParameterName RequiredReplaceable">target_layer</span>. </p>
</li>
</ul>
<p class="p">There is no limit to the number
of <span class="keyword ParameterName Optional">LAYER_REGION</span> entries.
LAYER_REGIONs must not overlap or abut all pattern edges, so that
at least one real edge remains in the pattern; otherwise the capture
location results in an exception and no pattern is captured.</p>
<p class="p">For more details about regions,
see “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Region Layers', 'calbr_pmatch_user'); return false;">Region Layers</a>”
in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id5a8afd1f-a62d-4cb6-930e-1b8d1fc9236a"><span class="keyword ParameterName Optional">OUTFILE</span> <span class="keyword ParameterName OptionalReplaceable">filename</span> [<span class="keyword ParameterName OptionalDefault">OVERWRITE</span> | <span class="keyword ParameterName Optional">APPEND</span>] [PATTERN_ATTR <span class="keyword ParameterName OptionalReplaceable">attr_name</span> <span class="keyword ParameterName OptionalReplaceable">attr_value</span> [INTEGER | FLOAT | STRING]]…</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
specifies to create a pattern library (PMDB) with the name <span class="keyword ParameterName OptionalReplaceable">filename</span>.
The “<span class="ph filepath">.pmdb</span>” file extension is added automatically
if it is not used in the filename. The OUTFILE keyword cannot be
used with <span class="keyword ParameterName Optional">EXCEPTIONS_ONLY</span>.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id24724249-aa10-4266-b2a6-704f0e068ac8"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">OVERWRITE</span> | <span class="keyword ParameterName Optional">APPEND</span></p>
<p class="p">An optional keyword that specifies behavior when <span class="ph filepath">filename</span> already
exists:</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id9e151a00-48ce-4a2d-a57d-99e8144bda24"><p class="p"><span class="keyword ParameterName OptionalDefault">OVERWRITE</span> —
The library is deleted if it already exists, and a new library is created.
This is the default behavior. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id742d0f16-105f-4555-9482-d0afdc85cbbd"><p class="p"><span class="keyword ParameterName Optional">APPEND</span> —
The captured patterns are appended to the library if it already exists,
otherwise a new library is created.</p>
</li>
</ul>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ida4a870dd-b2de-4c27-a4e7-364342632138"><p class="p Opt">PATTERN_ATTR <span class="keyword ParameterName OptionalReplaceable">attr_name</span> <span class="keyword ParameterName OptionalReplaceable">attr_value</span> [INTEGER
| FLOAT | STRING]</p>
<p class="p">An optional argument set that adds a user-defined pattern attribute
to each pattern in the saved pattern library. You can specify multiple
argument sets. OUTFILE must be specified when using PATTERN_ATTR. </p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id8ad3e78b-df0c-41e0-a064-43730af26c41"><p class="p"><span class="keyword ParameterName OptionalReplaceable">attr_name</span> —
A string giving the name of the attribute.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id698c441d-03fd-4ca7-96e5-4f33e244fd40"><p class="p"><span class="keyword ParameterName OptionalReplaceable">attr_value</span> —
The value of the attribute. If the value is a string that includes spaces,
the string must be enclosed in quotes.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id2998f0e5-79eb-48cd-9bb5-c750d151f4e8"><p class="p">INTEGER | FLOAT
| STRING — An optional keyword giving the attribute type. If the
type is not specified, by default a numeric value has type FLOAT
and a value that includes non-numeric characters has type STRING.</p>
</li>
</ul>
</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If the same PMDB filename is specified in another DFM Pattern
Capture command in the rule file and APPEND is not used, the APPEND
option is enforced and a warning message is issued. </p>
<p class="p">If the PMDB file exists and APPEND is not used, the PMDB file
is overwritten and a warning is issued.</p>
</div>
<p class="p">If <span class="keyword ParameterName Optional">APPEND</span> is
specified, the tool checks that the <span class="keyword ParameterName RequiredReplaceable">target_layer</span> count
and layer names match the existing library layer count and layer
names. If they do not match, an error message is issued. The APPEND
option merges newly captured patterns with the patterns existing
in the library. However, any duplicates that existed in the library
before using <span class="keyword ParameterName Optional">APPEND</span> are not
removed.</p>
<p class="p">For example, say that a library,
patterns.pmdb, contains 3 patterns: pat1(unique), pat2 (unique),
and pat3 (duplicate of pat1). Also, assume that DFM Pattern Capture
has been called with <span class="keyword ParameterName Optional">APPEND</span> and
the following patterns are captured: pat4 (unique), pat5 (duplicate of
pat2), and pat6 (duplicate of pat4). After capture completes, the
library contains the following patterns: pat1(unique), pat2 (unique),
pat3(duplicate of pat1), pat4(unique). As libraries generated by
DFM Pattern Capture are automatically merged, the duplication in this
example occurs only if the original library is manually created.</p>
<p class="p">If <span class="keyword ParameterName Optional">the MATCH_ORIENT</span>/MATCH_ROTATION
or <span class="keyword ParameterName Optional">MATCH_TYPE</span> keywords
are specified when using <span class="keyword ParameterName Optional">APPEND</span>,
they are set in the final library.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idfb272898-f230-4c4b-b099-b36b8d2184f1">OUTPUT_LAYER {<span class="keyword ParameterName OptionalDefault">DEFAULT</span> | BBOX | BBOX10}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that specifies the
shape of the polygon on the output layer. The DEFAULT behavior is
used if OUTPUT_LAYER is not specified. </p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id34ea5bbd-358b-4a40-81da-4a977d404242"><p class="p"><span class="keyword ParameterName OptionalDefault">DEFAULT</span> —
The shape on the output layer depends on the presence of the <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> and <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> keywords:</p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_HOTSPOT</span> only
— Output layer shape is the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape. </p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> only
— Output layer shape is the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape.</p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_HOTSPOT</span> and <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> —
If a <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
exists within the pattern bounding box, it is used as the output
layer shape, otherwise the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape
is used. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id9d00c343-6839-4384-857e-933d3592570e"><p class="p">BBOX — The
shape on the output layer is the pattern bounding box.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idabb98e43-f1fa-421b-9cba-241da7f11f94"><p class="p">BBOX10 — The
shape on the output layer is the pattern bounding box with its width and
length sized down to approximately ten percent of the original values.
The minimum width and length is 1 dbu.</p>
</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The BBOX and BBOX10 output layer shapes are determined
from the rectangular pattern bounding box. </p>
<p class="p">When FROM_EDGES is specified with PATTERN_HALO, the bounding
box may not be the same as the halo region. </p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ide0933bd5-50e5-425d-a231-bdcf22e68f53"><span class="keyword ParameterName Optional">EXCEPTIONS_ONLY</span> </dt>
<dd class="dd ArgumentDescription"><div class="note note"><span class="notetitle">Note:</span> <p class="p">The EXCEPTIONS_ONLY
keyword is deprecated as of the 2018.2 release. It will be removed
in a future release. </p>
</div>
<p class="p">An optional keyword that specifies
the only output of the command is all <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shapes
that could not be used to create a pattern. This keyword cannot be
used with OUTFILE.</p>
<p class="p">Using EXCEPTIONS_ONLY to create a derived layer containing pattern
locations that did not result in a captured pattern requires a separate
DFM Pattern Capture operation, which increases runtime. It is more
efficient to use the NOT operation to derive such locations. For example:</p>
<pre class="pre codeblock"><code>captured_hs = DFM PATTERN CAPTURE LAYER_TARGET metal1 
                  LAYER_HOTSPOT hotspots PATTERN_HALO 0.1 
not_captured = hotspots NOT captured_hs</code></pre></dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ide9998ea4-475f-47f1-972d-d1c49bda1f0d"><span class="keyword ParameterName Optional">LAYER_PATTERN_MARKER</span> <span class="keyword ParameterName OptionalReplaceable">marker_spec</span> <span class="keyword ParameterName OptionalReplaceable">marker_name</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword
set that specifies a marker type and marker name. This keyword set may
be specified multiple times to add multiple markers to the pattern.
It is recommended that the keyword be specified fewer than 255 times
due to limitations in the <a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'compile', 'calbr_pmatch_user'); return false;">compile</a> library utility.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idc6bddc3c-a13f-46c2-843e-f993197ad00f"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">marker_spec</span> —
Defines the type of marker. Choose one of the following:</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id548dd4f7-5d0a-4c93-82c6-bbd7f70deaab"><p class="p"><span class="keyword ParameterName OptionalReplaceable">marker_layer</span> —
Shapes on <span class="keyword ParameterName OptionalReplaceable">marker_layer</span> within
the pattern extent define a custom-type marker. The <span class="keyword ParameterName OptionalReplaceable">marker_layer</span> cannot
be a <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
If there are no shapes on the <span class="keyword ParameterName OptionalReplaceable">marker_layer</span> within
the pattern extent, a marker of type “Empty” is created.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id3983e8c4-7a4f-4b83-983a-678738523b7b"><p class="p">BBOX — The
marker is the pattern bounding box.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id873ca64c-ff4f-4c55-b688-c1d778283b9d"><p class="p">BBOX10 — The
marker is the pattern bounding box with its width and length sized
down to approximately ten percent of the original values. The minimum width
and length is 1 dbu.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id4c8975c5-5d0f-424e-9544-faa8a5ac44f8"><p class="p">HOTSPOT — The
marker is created using shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>.
An error is returned if the <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> keyword
is not specified. </p>
<p class="p">If <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> and <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> are
both specified, or a large MAX_SEARCH value is specified, it is
possible for the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
to be partially or completely outside the pattern bounding box.
If the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
is completely outside the pattern bounding box, the BBOX10 method
is used to create the marker; otherwise the marker is the Boolean
AND of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
and the pattern bounding box. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id46007adf-7e17-4ea1-93c0-ea52a54ffc13"><p class="p">MASK — The
marker is the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape.
An error is returned if the <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> keyword
is not specified. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id750cce62-f9d2-4f67-9a9d-4b611b4650ea"><p class="p"><span class="keyword ParameterName Optional">DRAWN_LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layername</span> —
The marker is the pattern geometries on <span class="keyword ParameterName OptionalReplaceable">layername</span> that
are within the pattern bounding box. The <span class="keyword ParameterName OptionalReplaceable">layername</span> must
be a <span class="keyword ParameterName RequiredReplaceable">target_layer</span> without
the DC keyword. If there are no <span class="keyword ParameterName OptionalReplaceable">layername</span> geometries within
the pattern bounding box, a marker of type “Empty” is created.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idf7f51347-f3ba-4585-a2dc-54bab9d46604"><p class="p"><span class="keyword ParameterName Optional">MATCHED_LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layername</span> —
The marker is the matched geometries on <span class="keyword ParameterName OptionalReplaceable">layername</span> that
are within the pattern bounding box. The <span class="keyword ParameterName OptionalReplaceable">layername</span> must
be a <span class="keyword ParameterName RequiredReplaceable">target_layer</span> without
the DC keyword. If there are no <span class="keyword ParameterName OptionalReplaceable">layername</span> geometries within
the pattern bounding box, a marker of type “Empty” is created.</p>
</li>
</ul>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id73fe1e08-fdee-46d7-a709-5cdc77297f6d"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">marker_name</span> —
The marker name, which cannot include white space. If the marker name
is “Marker”, PATTERN_MARKER_METHOD is ignored if specified and the shape
on the output layer is determined as with “PATTERN_MARKER_METHOD DEFAULT”.</p>
</li>
</ul>
<p class="p">For general information on markers, see “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Marker Layer', 'calbr_pmatch_user'); return false;">Marker Layer</a>” in
the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id72c818d0-de0d-42d5-a88e-06ead8fff890"><span class="keyword ParameterName Optional">PATTERN_MARKER_METHOD</span> <span class="keyword ParameterName OptionalReplaceable">marker_method</span></dt>
<dd class="dd ArgumentDescription"><div class="note note"><span class="notetitle">Note:</span> <p class="p">The PATTERN_MARKER_METHOD keyword
is deprecated as of the 2018.2 release. It will be removed in a
future release. </p>
<p class="p">Use a combination of LAYER_PATTERN_MARKER
and OUTPUT_LAYER to specify the pattern markers and the output layer
shape. </p>
</div>
<p class="p">An optional keyword set that defines how the output marker for
the pattern is created. The DEFAULT method is used if <span class="keyword ParameterName Optional">PATTERN_MARKER_METHOD</span> is
not specified. This option also affects the shape on the output
layer as noted with each option. </p>
<p class="p">The output pattern marker has the name “Marker”. If LAYER_PATTERN_MARKER
is specified with a <span class="keyword ParameterName OptionalReplaceable">marker_name</span> of
“Marker”, the <span class="keyword ParameterName Optional">PATTERN_MARKER_METHOD</span> specification
is ignored. </p>
<p class="p">The pattern marker must fit
within the pattern bounding box. The pattern bounding box is the
minimum rectangular extent that fits the pattern extent after extent
tracing (if EXTENT_TRACING is specified).</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">marker_method</span> can
be one of the following:</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd790196e-6300-4abc-8374-93d451fbd201"><p class="p"><span class="keyword ParameterName OptionalDefault">DEFAULT</span> </p>
<p class="p">The marker depends on the presence of the <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> and <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> keywords:</p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_HOTSPOT</span> only
— Marker is created from the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape. </p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> only
— Marker is created from the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape.</p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_HOTSPOT</span> and <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> —
If a <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
exists within the pattern bounding box, it is used as the marker
shape, otherwise the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape
is used. </p>
<p class="p">The shape on the output layer is the same as the marker shape
(the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape). </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id7a9178a9-b96a-44d0-96e4-eafbf3ff8b0d"><p class="p"><span class="keyword ParameterName Optional">BBOX</span> </p>
<p class="p">The output pattern marker is the
same as the pattern bounding box. The shape on the output layer
is determined as with the DEFAULT option (the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape).</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id39d59888-d989-4f8f-892e-ec31217c13a8"><p class="p"><span class="keyword ParameterName Optional">BBOX10</span> </p>
<p class="p">The output pattern marker is the
pattern bounding box with its width and length sized down to approximately
ten percent of the original values. The minimum width and length
is 1 dbu. The shape on the output layer is the same as the marker
shape (the BBOX10 shape). </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ideca0f430-c820-4670-aa87-aca75a5452ed"><p class="p"><span class="keyword ParameterName Optional">DRAWN_LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layername</span> </p>
<p class="p">The output pattern marker is the
pattern geometries on <span class="keyword ParameterName OptionalReplaceable">layername</span> that
are within the pattern bounding box. The <span class="keyword ParameterName OptionalReplaceable">layername</span> must
be a specified <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
If there are no <span class="keyword ParameterName OptionalReplaceable">layername</span> geometries
within the pattern bounding box, a marker of type “Empty” is created. </p>
<p class="p">The shape on the output layer is determined as with the DEFAULT
option. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id8ebce214-8124-4bc8-aece-1e2bda5945e9"><p class="p"><span class="keyword ParameterName Optional">HOTSPOT</span> </p>
<p class="p">The output pattern marker is created
using shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>.
An error is returned if the <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> keyword
is not specified. </p>
<p class="p">If <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> and <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> are
both specified, or a large MAX_SEARCH value is specified, it is
possible for the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
to be partially or completely outside the pattern bounding box.
If the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape is
completely outside the pattern bounding box, the BBOX10 method is
used to create the output marker; otherwise the output marker is
the Boolean AND of the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
and the pattern bounding box. </p>
<p class="p">Note: For the case in which no <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shape
is within the pattern bounding box, the HOTSPOT method creates a
BBOX10 marker, whereas the DEFAULT method creates the marker from
the pattern extent. </p>
<p class="p">The shape on the output layer is the same as the marker shape. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb54bfc72-17d0-4419-bcfa-9d2ab8aa7996"><p class="p"><span class="keyword ParameterName Optional">MASK</span> </p>
<p class="p">The output pattern marker is the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape.
An error is returned if the <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> keyword
is not specified. The shape on the output layer is the same as the
marker shape (the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape). </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd3a19748-2457-41c1-8a51-3610f0a2eb33"><p class="p"><span class="keyword ParameterName Optional">MATCHED_LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layername</span> </p>
<p class="p">The output pattern marker is the
matched geometries on <span class="keyword ParameterName OptionalReplaceable">layername</span> that
are within the pattern bounding box. The <span class="keyword ParameterName OptionalReplaceable">layername</span> must
be a specified <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
If there are no <span class="keyword ParameterName OptionalReplaceable">layername</span> geometries
within the pattern bounding box, a marker of type “Empty” is created. </p>
<p class="p">The shape on the output layer is determined as with the DEFAULT
option. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd64fc8e7-4fd8-4324-8941-fe66c50a18e0">MERGE_MARKERS</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies to merge
the custom marker geometries of patterns that differ only in their
custom markers. By default, patterns that differ only in their markers
are considered duplicates, and the saved pattern library includes <span class="ph FontProperty emphasis">only</span> the
first such captured pattern and its marker layers. MERGE_MARKERS
applies to custom marker shapes. </p>
<p class="p">To qualify for marker merging, the patterns must have identical
markers for the non-custom markers and the custom markers must have
identical names. The custom marker geometries are merged with an
OR function. Only custom type markers are merged. </p>
<p class="p">This option is similar to the merge_markers option for the <a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'merge', 'calbr_pmatch_user'); return false;">merge</a> pdl_lib_mgr utility.
Also see “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Marker Layer', 'calbr_pmatch_user'); return false;">Marker Layer</a>” in
the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If one pattern has an empty marker and a duplicate pattern
has a custom marker with the same name, MERGE_MARKERS outputs the
pattern with the custom marker.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id828adcf2-e6c8-45ee-8282-ec4fff5dd198"><span class="keyword ParameterName Optional">EXTENT_TRACING</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An
optional keyword that specifies that the pattern extent is created
from the extent of each polygon in the pattern. When this keyword
is not specified, a default extent is created for the pattern. This
option should not be used when more than one <span class="keyword ParameterName RequiredReplaceable">target_layer</span> is
specified.</p>
<p class="p">The pattern extent is created
by sizing up all non-virtual edges by 1 dbu. If the <span class="keyword ParameterName Optional">PATTERN_CGLOBAL</span> option
is specified, non-virtual edges are sized up by a value of (2*<span class="keyword ParameterName OptionalReplaceable">cglobal</span> +
1 dbu). This results in a pattern extent which may be multiple shapes.
Extents are Manhattan polygons, containing only 90 degree angles.</p>
<p class="p">The following figure shows
a captured pattern with extent tracing enabled. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb16c453a-4a2f-4273-8cde-076dfafb1e62"><span class="figcap"><span class="fig--title-label">Figure 5. </span>Pattern Extent Tracing</span><br /><div class="imagecenter"><img class="image imagecenter" height="120" src="../graphics/DFMPatternCapture/dfm_pattern_capture_extent_tracing.png" width="440" /></div><br /></div>
<p class="p">If a captured pattern has non-Manhattan shapes, the EXTENT_TRACING
keyword is ignored for that pattern and a default extent is created.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id120a9271-6625-448d-b3c5-6bdd5ac10994"><span class="keyword ParameterName Optional">PATTERN_NAME_PREFIX</span> <span class="keyword ParameterName OptionalReplaceable">name</span> [<span class="keyword ParameterName Optional">NUM_START</span> <span class="keyword ParameterName OptionalReplaceable">index</span>] </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
uses the specified <span class="keyword ParameterName OptionalReplaceable">name</span> string
to form the pattern names. The <span class="keyword ParameterName OptionalReplaceable">name</span> string
may contain alphanumeric characters and underscores; white space
is not allowed. By default, all patterns are named “_P_<var class="keyword varname">n</var>”,
where <var class="keyword varname">n</var> is an ordinal starting with zero. When
PATTERN_NAME_PREFIX is used, the pattern name is “<span class="keyword ParameterName OptionalReplaceable">name</span><var class="keyword varname">n</var>”,
the name string followed by an ordinal starting with one for the
first pattern output; the starting number can be set with NUM_START.</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id89a9c16d-6471-457a-a855-268dce97b552"><p class="p">NUM_START <span class="keyword ParameterName OptionalReplaceable">index</span> —
Starts the ordinal portion of the pattern name at <span class="keyword ParameterName OptionalReplaceable">index</span>.
This option is useful to ensure that pattern names are unique if
a library might be merged in a later step. </p>
</li>
</ul>
<p class="p">For example:</p>
<pre class="pre codeblock"><code>PATTERN_NAME_PREFIX patcap_ NUM_START 32</code></pre><p class="p BlockIndent">The first pattern
output is named “patcap_32”. If a second pattern is created during
the capture process, it has the name “patcap_33”. If OUTPUT_PROP
or INDEX_PROP are specified, the property values start at an index
of 32. </p>
<p class="p">Without NUM_START in the preceding example, the first pattern
is named “patcap_1”. If OUTPUT_PROP or INDEX_PROP are specified,
the property values start at 1.</p>
<p class="p">By default (without PATTERN_NAME_PREFIX), the first pattern is
named “_P_0” and the OUTPUT_PROP and INDEX_PROP values start at
1. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idcc3abc13-99a2-472d-b002-b75ddd4b9ec0"><span class="keyword ParameterName Optional">PATTERN_NAME_PROP</span> <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
enables naming patterns based on the value of the DFM Property <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> read
from the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.
The property <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> must
be a string or vector of strings property (see “<a class="xref fm:HeadingAndPage" href="Contain_DfmProperties_id7d747680.html#id7d747680-cd5f-44d1-8f88-3950d906f6cf__Contain_DfmProperties_id7d747680.xml#id7d747680-cd5f-44d1-8f88-3950d906f6cf" title="DFM properties are a form of metadata associated with objects on derived layers. They are often numerical values used for calculating scores and filtering data. Some operations support net number, string, and vector properties. Each property has a name and a value.">DFM Properties</a>”). If
the property is a vector of strings, the first vector component
is used to form the pattern name. The name of each captured pattern
is the value of <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> for
the corresponding <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape.
This keyword set has precedence over PATTERN_NAME_PREFIX. </p>
<p class="p">If two or more <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shapes
have the same value for <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span>,
“_<var class="keyword varname">ordinal</var>” is appended to the name of the second
and subsequent patterns, where <var class="keyword varname">ordinal</var> starts
with 1. For example, if three hotspot shapes have a <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> value
of “HS_A”, the corresponding patterns are named HS_A, HS_A_1, and
HS_A_2. </p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id96d153f8-b3f8-4558-931d-f45fc763d8f8">Example 2</a>” for an
example of reading text from a layout with DFM Text and processing
it with DFM Property and the VSTRING function in order to create
the pattern name string. </p>
<p class="p">If there is no <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> property,
a warning is issued and patterns are named in the default manner
or according to PATTERN_NAME_PREFIX, if specified. If there is more than
one property <span class="keyword ParameterName OptionalReplaceable">name_str_prop</span> on
a <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape,
one of property values is used and a warning is issued.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idfe92b434-9570-467b-b480-fdf2dfe99211"><span class="keyword ParameterName Optional">PATTERN_CGLOBAL</span> {<span class="keyword ParameterName OptionalDefault">0</span> | <span class="keyword ParameterName OptionalReplaceable">cglobal</span>} </dt>
<dd class="dd ArgumentDescription"><p class="p">An
optional argument set that adds a global edge constraint (<span class="keyword ParameterName OptionalReplaceable">cglobal</span>)
to every pattern. The default value is zero. The <span class="keyword ParameterName OptionalReplaceable">cglobal</span> value
is a non-negative floating point number in user units. </p>
<p class="p">The value specified for <span class="keyword ParameterName Optional">PATTERN_CGLOBAL</span> should
be less than or equal to one quarter of the minimum allowed width
or spacing for all <span class="keyword ParameterName RequiredReplaceable">target_layer</span>s,
whichever is smaller. <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id85b47f66-1389-4cb6-8d40-4ae8d32d14f1">Figure 6</a> shows an example of a
captured pattern with a <span class="keyword ParameterName OptionalReplaceable">cglobal</span> value
of 0.001 microns. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Global Constraints', 'calbr_pmatch_user'); return false;">Global Constraints</a>”
in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
<p class="p">If the pattern at a particular layout location cannot have constraints,
the pattern is considered invalid and not captured. For example,
multilayer BCM patterns, crossbar patterns, and patterns with angled
edges cannot have cglobal constraints. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Topological Edge Match (TEM) Patterns', 'calbr_pmatch_user'); return false;">Topological Edge Match (TEM) Patterns</a>” in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite> for
a description of crossbar patterns.</p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id85b47f66-1389-4cb6-8d40-4ae8d32d14f1"><span class="figcap"><span class="fig--title-label">Figure 6. </span>cglobal of 0.001</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_cglobal.png" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id23fd5aaf-3815-4c0d-9810-c0e82c177ace"><span class="keyword ParameterName Optional">LAYER_CGLOBAL</span> <span class="keyword ParameterName OptionalReplaceable">layer_cglobal</span> <span class="keyword ParameterName OptionalReplaceable">cglobal_target_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that adds a layer-specific
global edge constraint (cglobal). This keyword set may be specified
multiple times. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idbed6b4ea-f7d0-43a4-b796-71b2de28850a"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">layer_cglobal</span> —
The per-layer global edge constraint, which is a a non-negative floating
point number in user units. It should be less than or equal to 1/4
of the minimum width or spacing of the polygons on <span class="keyword ParameterName OptionalReplaceable">cglobal_target_layer</span>,
whichever is smaller.</p>
</li>
<li class="li ArgOption" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id1b77d90b-59e2-44dc-b791-d1c867b96d4a"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">cglobal_target_layer</span> —
The layer that the <span class="keyword ParameterName OptionalReplaceable">layer_cglobal</span> constraint
is applied to. The layer must be a <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.</p>
</li>
</ul>
<p class="p">If PATTERN_CGLOBAL is specified, the per-layer <span class="keyword ParameterName OptionalReplaceable">layer_cglobal</span> value
overrides the pattern <span class="keyword ParameterName OptionalReplaceable">cglobal</span> value
on the <span class="keyword ParameterName OptionalReplaceable">cglobal_target_layer</span>.</p>
<p class="p">If the pattern at a particular layout location cannot have constraints,
the pattern is considered invalid and not captured. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id141564cf-e0c1-4bf6-a794-fca54541b420"><span class="keyword ParameterName Optional">MATCH_ORIENT</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets
the library attribute “Set match_orient Property” in the pattern
library that is saved when OUTFILE is specified. This keyword cannot
be specified with MATCH_ROTATION.</p>
<p class="p">When the pattern library is
used in a pattern matching run, the match_orient property is included
on the output marker for a matched result. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Reserved Property Names', 'calbr_pmatch_user'); return false;">Reserved Property Names</a>”
in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
<p class="p">The following figure shows
the possible orientations of a pattern and the corresponding value
of match_orient for a matched result. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4"><span class="figcap"><span class="fig--title-label">Figure 7. </span>Possible
match_orient Property Values in a Matched Result</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_orient.png" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">MATCH_ORIENT does not affect how patterns are matched.
See PATTERN_ORIENT and MATCH_ORIENTATIONS if you want to control
the allowed orientations for a match. </p>
<p class="p">The use of MATCH_ORIENT can cause slower performance and increased
flattening of the results when the pattern library is used in a
pattern matching run.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id2a8ef492-0abd-42de-b80f-621fe5186d60"><span class="keyword ParameterName Optional">MATCH_ROTATION</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets the library
attribute “Set match_rotation Property” in the pattern library that
is saved when OUTFILE is specified. This keyword cannot be specified with
MATCH_ORIENT.</p>
<p class="p">When the pattern library is used in a pattern matching run, the
match_rotation property is included on the output marker for a matched
result. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Reserved Property Names', 'calbr_pmatch_user'); return false;">Reserved Property Names</a>”
in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite></p>
<p class="p">The match_rotation property can have the value 0 or 1, depending
on the matched orientation as shown in the following figure. The
numbers below each orientation correspond to the match_orient property
value, as shown in <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id05014eef-e195-4158-9232-d72b552956d0"><span class="figcap"><span class="fig--title-label">Figure 8. </span>Possible
match_rotation Values in a Matched Result</span><br /><div class="imagecenter"><img class="image imagecenter" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotation.png" /></div><br /></div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">MATCH_ROTATION does not affect how patterns are matched.
See PATTERN_ORIENT and MATCH_ORIENTATIONS if you want to control
the allowed orientations for a match. </p>
<p class="p">The use of MATCH_ROTATION can cause slower performance and increased flattening
of the results when the pattern library is used in a pattern matching
run.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id7055dcea-29de-4939-a38a-853936fe81f9"><span class="keyword ParameterName Optional">MATCH_TYPE</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that sets
the library attribute “Set match_type Property” in the pattern library
that is saved when OUTFILE is specified. </p>
<p class="p">When the library is used in
a pattern matching run, the match_type property is included on the
output marker for a matched result, indicating whether the match
involves a constraint. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Reserved Property Names', 'calbr_pmatch_user'); return false;">Reserved Property Names</a>”
in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb4102371-54ab-4a16-913a-41c2c43bc5a4"><span class="keyword ParameterName Optional">PATTERN_ORIENT</span> <span class="keyword ParameterName OptionalReplaceable">pattern_orient_option</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument set that selects the allowed orientations for a successful
match to the pattern. The <span class="keyword ParameterName OptionalReplaceable">pattern_orient_option</span> argument
may be specified as 0, 1, or 2; an error is generated if any other
value is specified. </p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id229ccb4f-27d5-4cb6-b326-e2d414ea63cb"><p class="p"><span class="keyword ParameterName OptionalDefault">0</span> —
Allows matches in any orientation. Patterns that differ only in
orientation are considered duplicates and only one pattern is saved.
When viewed in the Calibre Pattern Matching GUI, all orientations
are selected. This is the default if PATTERN_ORIENT is not specified. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idc8af69b1-3b45-4c64-a79a-39fa5943e9a7"><p class="p">1 — Allows
matches in only the original orientation or orientations that result
from a combination of reflections about the x or y axis. </p>
<p class="p">Referring to <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>, otherwise identical patterns
with orientations 0, 2, 4, or 6 are considered duplicates and only
one pattern is saved. </p>
<p class="p">If otherwise identical patterns are found in orientations that
result from reflections about the x or y axis (orientations 0, 2,
4, or 6) <span class="ph FontProperty emphasis">and</span> in
orientations that include a rotation of 90 or 270 (orientations
1, 3, 5, or 7), this is equivalent to allowing all orientations.
In this case only one pattern is saved and all orientations are
selected. See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id079ab86b-3593-4206-ac5c-b4f2a4eb3e5e">Example 4</a>”.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id2bc29d93-d5bb-4839-8626-27063bd40e78"><p class="p">2 — Allows
matches in only the orientation of the captured pattern. Only one
pattern is saved for patterns that differ only in orientation. When
viewed in the GUI, the appropriate orientations are selected. </p>
</li>
</ul>
<p class="p">The MATCH_ORIENTATIONS keyword also specifies pattern orientation
and has more options than PATTERN_ORIENT. You can also specify orientation
in the Calibre Pattern Matching GUI; see “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Defining Orientation for a Pattern', 'calbr_pmatch_user'); return false;">Defining Orientation for a Pattern</a>” in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>. </p>
<p class="p">In order to see the matched orientation for a result after a
pattern matching run, set the MATCH_ORIENT keyword. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Calibre releases prior to 2015.3 allowed
specification of <span class="keyword ParameterName OptionalReplaceable">pattern_orient_option</span> in
a binary code. Binary code is no longer supported and is interpreted
as a decimal value. For example, the binary value 00000001 previously
set the same behavior as the current value 2. If the binary value
00000001 is entered now, the zeros are truncated and the value is
interpreted as 1.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idac468e3a-7641-4e47-8591-168c2ddcfd65"><span class="keyword ParameterName Optional">MATCH_ORIENTATIONS</span> <span class="keyword ParameterName OptionalReplaceable">match_orientations_option</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that selects the
allowed orientations for a successful match to the pattern and controls
which orientations of an otherwise identical pattern are classified
as duplicate patterns. The <span class="keyword ParameterName OptionalReplaceable">match_orientations_option</span> argument
can have these values:</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id84923c74-86ed-49d2-bd9e-9bc518f484d0"><p class="p"><span class="keyword ParameterName OptionalDefault">YES</span> —
All rotations and reflections of a pattern are classified as duplicate
patterns. Matches are allowed in any orientation. This is the default. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb31c323a-ad43-45f3-9ae2-23dc7f0e47fb"><p class="p">NO — Patterns
with the same orientation are considered duplicates; rotations and reflections
of a pattern are considered unique patterns. Matches are allowed
only in the original orientation. </p>
<p class="p">Unlike “PATTERN_ORIENT 2”, patterns that differ only in orientation
are saved as unique patterns that must match in the original orientation. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idfab476b5-b37b-4c1c-a3ba-9f61bddf08ca"><p class="p">X_AXIS — Reflections
of a pattern across the horizontal axis are considered duplicates.
Matches are allowed for reflections across the horizontal axis. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ida75ac96a-a0b5-4b49-9a91-025514a5ee8e"><p class="p">Y_AXIS — Reflections
of a pattern across the vertical axis are considered duplicates.
Matches are allowed for reflections across the vertical axis.</p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id4b5ddf3e-f41d-4934-8237-12e18b9140c4"><p class="p">ROTATION —
Rotations of a pattern are considered duplicates. Referring to <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>, otherwise identical patterns
with orientations 0, 1, 2, or 3 are considered duplicates. Matches
are allowed for any rotation of a pattern. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ideeb7c31e-7ada-4731-83fe-5860f746bc5d"><p class="p">REFLECTION
— Any combination of horizontal and vertical reflections of a pattern
are considered duplicates. Referring to <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>, otherwise identical patterns
with orientations 0, 2, 4, or 6 are considered duplicates. The corresponding matches
are allowed. </p>
<p class="p">Unlike “PATTERN_ORIENT 1”, otherwise identical patterns that
include a rotation are saved as a separate pattern. </p>
</li>
</ul>
<p class="p">When a pattern is viewed in the Calibre Pattern Matching GUI,
the appropriate match orientations are selected. You can also specify
orientation in the Calibre Pattern Matching GUI; see “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Defining Orientation for a Pattern', 'calbr_pmatch_user'); return false;">Defining Orientation for a Pattern</a>” in the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
<p class="p">If both MATCH_ORIENTATIONS and PATTERN_ORIENT are specified,
duplicate patterns are determined as specified by MATCH_ORIENTATIONS,
and this determines the patterns that are saved to the library.
However, the pattern saved in the pattern library has the allowed
orientations to match as specified by PATTERN_ORIENT. You should
use care when specifying both MATCH_ORIENTATIONS and PATTERN_ORIENT
as some combinations may result in undesirable behavior. For example,
“PATTERN_ORIENT 0” with any MATCH_ORIENTATIONS setting results in
patterns with all orientations selected. See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idf214abf7-6109-49e7-8a7e-6388d1ea9fd3">Example 5</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb4fba956-410e-4be4-8b17-259795277f3f">CAPTURE_ORIENT <span class="keyword ParameterName OptionalReplaceable">orient_prop_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that adds the property <span class="keyword ParameterName OptionalReplaceable">orient_prop_name</span> to
each output layer shape. The property value indicates the orientation
in which the pattern was captured, where the possible values are
0-7, as shown in <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>. The first captured instance
of a pattern has an <span class="keyword ParameterName OptionalReplaceable">orient_prop_name</span> value
of 0. Duplicate pattern instances have a property value that indicates
the orientation with respect to the first pattern instance. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd10a5bf8-02f4-41b5-bee2-3a09c2f18a90"><span class="keyword ParameterName Optional">PATTERN_PROP</span> <span class="keyword ParameterName OptionalReplaceable">name</span> <span class="keyword ParameterName OptionalReplaceable">num_value</span> [<span class="keyword ParameterName OptionalDefault">FLOAT</span> | INTEGER]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
adds a property and numeric value to all patterns generated by the
operation. This keyword set may be specified multiple times to add
multiple properties. </p>
<p class="p">The property type is FLOAT
by default; INTEGER can be specified. If INTEGER is specified and
a floating point value is given, the <span class="keyword ParameterName OptionalReplaceable">num_value</span> is
truncated. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id001a0c42-1752-46a0-91fd-ef480844c09d"><span class="keyword ParameterName Optional">OUTPUT_PROP</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that adds
an integer property named “intern_number” to each shape on the output
layer. The integer is the index of the captured pattern. Numbering
starts at 1 by default, or at the <span class="keyword ParameterName OptionalReplaceable">index</span> specified
with the NUM_START keyword. </p>
<p class="p">This property can aid in debugging when used with INDEX_PROP. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id085d7b19-0d06-4f31-84ec-54b0d922fd4b">INDEX_PROP <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that adds an integer
property with the name <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> to each
captured pattern that is saved when OUTFILE is specified. The property
contains the pattern index. Numbering starts at 1 by default, or
at the <span class="keyword ParameterName OptionalReplaceable">index</span> specified
with the NUM_START keyword.</p>
<p class="p">This property can aid in debugging
when used with OUTPUT_PROP. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idf15fa15d-1280-40bf-9817-23c7df00fa9e">SET_PROP <span class="keyword ParameterName OptionalReplaceable">prop_name</span> [<span class="keyword ParameterName OptionalDefault">MIN</span> | MAX]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
selection criteria for the numeric property <span class="keyword ParameterName OptionalReplaceable">prop_name</span> when
saving the property value to the pattern library when OUTFILE is specified. </p>
<p class="p">By default the minimum property value is saved to the pattern
if duplicate patterns have differing values for a property. Specify
MAX with this keyword set in order save the maximum value for the
property <span class="keyword ParameterName OptionalReplaceable">prop_name</span> when
duplicate patterns are found. </p>
<p class="p">This keyword set may be specified only once. A warning is issued
if <span class="keyword ParameterName OptionalReplaceable">prop_name</span> is
not a numeric property and the keyword set is ignored. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id2def0bdd-351b-4fe5-bdc5-4487f2ec928a">DUP_COUNT <span class="keyword ParameterName OptionalReplaceable">dup_prop_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that adds the property <span class="keyword ParameterName OptionalReplaceable">dup_prop_name</span> to
each output layer shape and to each saved pattern. The property
contains the total number of occurrences per pattern, where the
minimum value is 1, corresponding to the original pattern instance.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id56048352-11b7-4b80-bde7-1fe4ec0210a8"><span class="keyword ParameterName Optional">PATTERN_KEY</span> <span class="keyword ParameterName OptionalReplaceable">name</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that
adds a key name to all saved patterns. This keyword set may be specified
multiple times to add additional keys. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Pattern Keys', 'calbr_pmatch_user'); return false;">Pattern Keys</a>” in
the <cite class="cite">Calibre Pattern Matching User’s Manual</cite>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ida81d8aff-be58-4dbe-8fb9-a6d3e193f34e">COMMENT “<span class="keyword ParameterName OptionalReplaceable">comment_string</span>”</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that attaches a
pattern comment (the <span class="keyword ParameterName OptionalReplaceable">comment_string</span>)
to each pattern in the pattern library that is saved when OUTFILE
is specified. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The operation identifies and
captures patterns based on specified lithographic hotspots or based on
a specified pattern mask layer containing shapes corresponding to
the pattern extent. The output layer contains hotspot or pattern
mask shapes corresponding to valid pattern locations. A pattern
library is saved if the OUTFILE keyword is specified. Only exact-match
patterns are captured. </p>
<p class="p">The following table describes
the basic modes of operation with default settings—subsequent sections
describe how additional keywords affect the operation. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id0184db54-1c1d-436b-a38e-df02fce1366a" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>DFM Pattern
Capture Basic Keywords and Operation</span></caption><colgroup><col style="width:1.157in" /><col style="width:2.531in" /><col style="width:2.813in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2199"><p class="p"> </p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2202"><p class="p">Capture based on hotspot locations</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2205"><p class="p">Capture based on pattern mask shapes</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2199 "><p class="p">Keywords used</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2202 "><p class="p">LAYER_HOTSPOT</p>
<p class="p">PATTERN_HALO</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2205 "><p class="p">LAYER_PATTERN_MASK</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2199 "><p class="p">Pattern locations</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2202 "><p class="p">Centered on the shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2205 "><p class="p">Determined by the shapes on the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2199 "><p class="p">Default capture area</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2202 "><p class="p">A halo region centered on the shapes on
the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2205 "><p class="p">The extent of shapes on the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2199 "><p class="p">Output layer (default)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2202 "><p class="p">Shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> that correspond
to a captured pattern. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2205 "><p class="p">Shapes on the <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> that correspond
to a captured pattern.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The captured pattern includes shapes on the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>(s)
that are within the capture area, where the default capture area
is described in the preceding table. Some keywords change the capture
area. There must be at least one real vertex or edge from a <span class="keyword ParameterName RequiredReplaceable">target_layer</span> within
the pattern capture area in order to generate a pattern. </p>
<p class="p">The following figure shows the basic operation, and also includes
a per-layer halo for the LAYER_HOTSPOT case (see “<a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idfa5cc461-3bf3-423d-9c03-4a950b10aafd">Pattern Location and Capture Area</a>”). The per-layer
halo results in no metal2 shapes being captured for the layout region
shown. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id962b5ce6-93d8-4510-840c-d6b3da4fe098" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>DFM Pattern
Capture Basic Operation</span></caption><colgroup><col style="width:3.249in" /><col style="width:3.251in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">LAYER_HOTSPOT and PATTERN_HALO with per-layer
halo</p>
<br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_basic_HS.png" /></div><br /><pre class="pre codeblock"><code>hs_cap = DFM PATTERN CAPTURE
    LAYER_HOTSPOT pm_marker
    PATTERN_HALO 0.1
    LAYER_TARGET metal1
    LAYER_TARGET metal2 0.05</code></pre><p class="p"><span class="ph FontProperty HeadingLabel">Result</span>:
The metal1 shapes within the pattern halo extent are captured. There
are no metal2 shapes within the metal2 per-layer halo extent, so
the captured pattern does not include metal2 shapes. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">LAYER_PATTERN_MASK                                      </p>
<br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_basic_mask.png" /></div><br /><pre class="pre codeblock"><code>mask_cap = DFM PATTERN CAPTURE
    LAYER_PATTERN_MASK mask1
    LAYER_TARGET metal1
    LAYER_TARGET metal2</code></pre><p class="p"><span class="ph FontProperty HeadingLabel">Result</span>:
The metal1 and metal2 shapes within the mask1 extent are captured. </p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The following sections describe how optional keywords affect
the basic operation:</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id49b2a0d7-2f6b-4205-9290-0fc2287c4721"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idfa5cc461-3bf3-423d-9c03-4a950b10aafd">Pattern Location and Capture Area</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id0e141901-0aa8-465a-b819-584dad77a614"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id5a43f605-86ad-451f-a52b-6ecfac7d3f66">MAX_SEARCH and SEARCH_LEVEL EXACT Keywords for Pattern Auto-Centering</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id59f570e4-dea6-4ff2-b5c1-2c6af532b8aa"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idcb63cafc-3eb9-482a-8b22-2712ced43662">Output Layer</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb3898915-0d55-49d2-b8c7-3648f8cbefcd"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id6c637b65-77d3-444e-88b6-329798ccad45">Property Handling</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id7705aed1-499b-4394-9de0-7668741245fc"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id7680f689-e61d-4a03-8845-43fdae725c14">Output Pattern Library</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idf2490a50-83e2-4339-baec-3abe064723e3"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id40947df1-9580-46a6-9a47-a79342aa77b1">Pattern Layers</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id32b74c4f-5fdb-4081-9852-e103a17b3055"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id3b9d8a03-36e3-44cd-8241-cd8b1e793b59">Marker Creation</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__iddf29499f-0dcd-49a1-8c66-c2711527d37d"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idcd1079d2-6961-4712-bf2b-c5d1b9fe4b79">Handling of Layer Names with Special Characters</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id1aac4afc-1ff3-4fe4-bb96-2ed8604488ae"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idff89d48e-a62e-4851-b0ec-49a8f432b4a0">Pattern Extent</a></p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idf60a492e-9d87-4f08-acef-0e79c3b385f7"><p class="p"><a class="xref fm:HeadingOnly" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id8ce1e9e8-ecc8-44e2-9024-68e936500fa9">Library Attributes, Comments, Keys, and Pattern Orientation</a></p>
</li>
</ul>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idfa5cc461-3bf3-423d-9c03-4a950b10aafd"><h2 class="title Subheading sectiontitle">Pattern
Location and Capture Area</h2><p class="p">The operation identifies patterns composed of the shapes on the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>(s).
The pattern locations and pattern capture area are determined by
the following keyword combinations, where the effect of optional
keywords is described.</p>
<p class="p"><span class="keyword ParameterName Required">LAYER_HOTSPOT</span> <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> <span class="keyword ParameterName Required">PATTERN_HALO</span> {<span class="keyword ParameterName RequiredReplaceable">halo</span> | <span class="keyword ParameterName RequiredReplaceable">x_halo</span> <span class="keyword ParameterName RequiredReplaceable">y_halo</span>} [FROM_EXTENTS
| FROM_EDGES]</p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id68215983-30ce-496c-a3e2-9567e45efea6"><p class="p">Pattern
Locations — The locations are determined by the shapes on <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>. These
optional keyword sets can be used: </p>
<p class="p">MAX_LENGTH <span class="keyword ParameterName OptionalReplaceable">value</span> —
Any hotspot shape edges longer than <span class="keyword ParameterName OptionalReplaceable">value</span> are
split into segments that are at most <span class="keyword ParameterName OptionalReplaceable">value</span> long.
The segmenting of a hotspot shape increases the number of pattern
locations. </p>
<p class="p">MAX_SEARCH <span class="keyword ParameterName OptionalReplaceable">value</span> —
Specifies a search distance used for auto-centering the pattern.
This can change the pattern center. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ida417dcee-6123-4ce1-8dd5-01b40dc4c731"><p class="p">Pattern Capture
Area — The capture area is centered on the hotspot shape. It is
a square region with width 2*<span class="keyword ParameterName RequiredReplaceable">halo</span>,
or a rectangular region with dimensions 2*<span class="keyword ParameterName RequiredReplaceable">x_halo</span> and 2*<span class="keyword ParameterName RequiredReplaceable">y_halo</span>.
See <a class="xref fm:FigureAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id2a24c43f-ac57-42c0-8533-9ade612b1007">Figure 1</a>. The pattern center
may be adjusted by auto-centering if MAX_SEARCH is specified. If
the hotspot shape edges are segmented, each resulting polygon is
treated as a separate hotspot shape. </p>
<p class="p">FROM_EXTENTS — Specifies to measure the halo region from the
bounding box of the hotspot shape.</p>
<p class="p">FROM_EDGES — Specifies to measure the halo region from the edges
of the hotspot shape. The hotspot shape must be a Manhattan shape
in order to generate a pattern.</p>
<p class="p"><span class="keyword ParameterName OptionalReplaceable">layer_halo</span> —
A per-layer halo region can be defined for a <span class="keyword ParameterName RequiredReplaceable">target_layer</span>—this
adjusts the capture area for the specified <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.
See the syntax and definition for the <span class="keyword ParameterName Required">LAYER_TARGET</span> keyword
and the figures within <a class="xref fm:Table" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id962b5ce6-93d8-4510-840c-d6b3da4fe098">Table 2</a>. </p>
</li>
</ul>
<p class="p"><span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> </p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idb890900b-47be-408a-b0d8-27fda8175a46"><p class="p">Pattern
location — Pattern locations are determined by the shapes on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id71aebd1d-2bcc-4eeb-a1ad-7bd881cc7136"><p class="p">Pattern Capture
Area — The capture area is the extent of the shapes on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>. </p>
</li>
</ul>
<p class="p">If both <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> and <span class="keyword ParameterName Required">LAYER_HOTSPOT</span> are
specified, the pattern location and capture area are determined
as for <span class="keyword ParameterName Required">LAYER_PATTERN_MASK</span> and
the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> shapes
are used for the output layer shape and the pattern marker. See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idcb63cafc-3eb9-482a-8b22-2712ced43662">Output Layer</a>” and “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id3b9d8a03-36e3-44cd-8241-cd8b1e793b59">Marker Creation</a>”.</p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id5a43f605-86ad-451f-a52b-6ecfac7d3f66"><h2 class="title Subheading sectiontitle">MAX_SEARCH
and SEARCH_LEVEL EXACT Keywords for Pattern Auto-Centering</h2><p class="p">The following figures illustrate the concepts involved in the
auto-centering process. The behavior is described with three cases:
A) No edges or vertices in the search range, B) At least one vertex
is within the search range, and C) Only edges are within the search
range. </p>
<p class="p">In the figures for Case A and Case B, the design has three hotspot
locations. The hotspots are in slightly different locations relative
to three target layer shapes that are identical for all three hotspot
locations.</p>
<p class="p">When SEARCH_LEVEL EXACT is specified, the pattern center is relocated
to provide the greatest number of duplicate patterns. Without SEARCH_LEVEL
EXACT, the number of duplicate patterns is not considered. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Case A:</span> No
vertices or edges are within the search range. No auto-centering
takes place. Three unique patterns are captured. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id59336a3b-dd51-40c7-a688-4a6f08fe6254"><span class="figcap"><span class="fig--title-label">Figure 9. </span>MAX_SEARCH:
Small or Zero Search Halo</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_search_small2.png" /></div><br /></div>
<p class="p"><span class="ph FontProperty HeadingLabel">Case B</span>:
A target layer vertex is within the search region. The number of
captured patterns depends on whether SEARCH_LEVEL EXACT is specified,
as shown in <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idfb8fecfb-b1f8-4fb8-a627-9ea8756a0704">Figure 10</a> and <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id58b1c1d7-b8d7-4f08-a1d7-4392eb8fa40e">Figure 11</a>. For the right-most hotspot,
a portion of the target layer shape in the lower right corner is
within the pattern capture area with only MAX_SEARCH specified,
but is not included for the example with SEARCH_LEVEL EXACT. More
duplicate patterns are identified using SEARCH_LEVEL EXACT. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idfb8fecfb-b1f8-4fb8-a627-9ea8756a0704"><span class="figcap"><span class="fig--title-label">Figure 10. </span>MAX_SEARCH:
Search Region Includes Vertex</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_search_max2.png" /></div><br /></div>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id58b1c1d7-b8d7-4f08-a1d7-4392eb8fa40e"><span class="figcap"><span class="fig--title-label">Figure 11. </span>SEARCH_LEVEL
EXACT: Search Region Includes Vertex</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_search_exact2.png" /></div><br /></div>
<p class="p"><span class="ph FontProperty HeadingLabel">Case C</span>:
Only edges are within the search region, no vertices. SEARCH_LEVEL
EXACT is necessary in order to get auto-centering. MAX_SEARCH alone
does not auto-center for BCM patterns or TEM patterns without a
vertex in the search range. </p>
<p class="p">Trial pattern centers are projected vertically and horizontally
from the center of the hotspot to target layer edges within the
search range. The trial pattern center that results in the most duplicate
patterns is chosen. If the trial patterns centers result in no duplicate
patterns, the original hotspot location is used as the pattern center. </p>
<p class="p"><a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id11e2b6d2-1f94-4b30-b899-14d2208aa2c9">Figure 12</a> shows the behavior when
a BCM pattern is captured. Because no vertices are within the search
region, the trial pattern centers are projected onto the target
layer edges. The three hotspot locations result in one pattern,
with two duplicates. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id11e2b6d2-1f94-4b30-b899-14d2208aa2c9"><span class="figcap"><span class="fig--title-label">Figure 12. </span>SEARCH_LEVEL
EXACT for BCM Pattern</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_search_exact_BCM.png" /></div><br /></div>
<p class="p">The following figure shows a TEM pattern with no vertices within
the search range of 0.4 user units. As a result, the trial pattern
centers are projected onto the target layer edges. The distance from
the hotspot to the vertical edge is different for the center hotspot
location. The captured pattern at the center location is unique,
while the right- and left-side captured patterns are duplicates. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id708b0f67-b2d1-4f2c-a0d4-ac6beb9b3721"><span class="figcap"><span class="fig--title-label">Figure 13. </span>SEARCH_LEVEL
EXACT: No Vertex in Search Range</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_search_exact_TEMnovertex.png" /></div><br /></div>
<p class="p">When SEARCH_LEVEL EXACT is specified, if the initial search using
the first listed target layer does not find vertices or edges within
the search range, additional target layers are also considered for
certain cases, especially when the pattern on the first target layer
is type BCM. If there are still no pattern geometries within the
search range, the search range is increased by the halo size. </p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idcb63cafc-3eb9-482a-8b22-2712ced43662"><h2 class="title Subheading sectiontitle">Output
Layer</h2><p class="p">By default, the shapes saved
to the output layer of DFM Pattern Capture depend on the LAYER_HOTSPOT
and LAYER_PATTERN_MASK keywords as follows:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id21c8173b-970d-4d90-93d7-b5bc300a8c33" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:2.547in" /><col style="width:3.953in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2571"><p class="p">Keywords</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2574"><p class="p">Shapes on output layer (default behavior)</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2571 "><p class="p">LAYER_HOTSPOT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2574 "><p class="p">Shapes on <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2571 "><p class="p">LAYER_PATTERN_MASK</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2574 "><p class="p">Shapes on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2571 "><p class="p">LAYER_PATTERN_MASK and LAYER_HOTSPOT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2574 "><p class="p">Shapes on <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> that
exist within the pattern capture area, otherwise shapes on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The OUTPUT_LAYER keyword changes the shape on the output layer.
See the argument description for details. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The PATTERN_MARKER_METHOD
keyword also affects the shape on the output layer. The PATTERN_MARKER_METHOD
keyword set is deprecated as of the 2018.2 release. Use the LAYER_PATTERN_MARKER
and OUTPUT_LAYER keywords to specify the pattern markers and output
layer shape. </p>
</div>
<p class="p">By default, only shapes that correspond to a valid pattern location
are output. If EXCEPTIONS_ONLY is specified, the only output of
the command is all shapes on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> that
could not be used to create a pattern.</p>
<p class="p">The output layer of the DFM Pattern
Capture operation can be output or post-processed like any derived
polygon layer. This can be useful in validation and debugging procedures.</p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id6c637b65-77d3-444e-88b6-329798ccad45"><h2 class="title Subheading sectiontitle">Property
Handling</h2><p class="p">Certain properties are read from the input layer and written
to the output layer and/or the pattern saved when OUTFILE is specified.
Properties can also be added by specifying certain keywords. </p>
<h2 class="title Subheading sectiontitle">Properties on Input Layers</h2><p class="p">DFM Pattern Capture automatically reads string and numeric properties
on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.
Both string and numeric properties are written to the output layer;
only numeric properties are written to the saved pattern when OUTFILE
is specified. If both <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> and <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> are
specified, the properties on <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> are processed.
See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd7844559-d64b-4ca4-a376-34389663ab1c">Example 3</a>” for an
example that reads numeric values from text layers in the layout.
DFM Text and DFM Property Merge are used to save the numeric values
as properties, which are then read automatically and saved to the
pattern and the output layer. </p>
<p class="p">The PATTERN_NAME_PROP keyword set specifies to read a string
or vector of strings property from the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>.
The string or first vector component is used to name the corresponding
pattern. This is useful when text properties exist in the layout. See “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id96d153f8-b3f8-4558-931d-f45fc763d8f8">Example 2</a>”, which
reads properties from the layout with DFM Text and processes the
properties with DFM Property Merge and VSTRING. The string or vector
of string property is copied to the shape on the output layer but
is not added to the saved pattern. </p>
<h2 class="title Subheading sectiontitle">Added Properties</h2><p class="p">The keywords in the following table add properties to shapes
on the output layer and/or the pattern library if OUTFILE is specified.
A brief description is given; see the keyword description for complete
details.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id5076aa34-8371-4b98-92a7-35fbc12e8704" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 3. </span>Properties
Added by DFM Pattern Capture</span></caption><colgroup><col style="width:1.771in" /><col style="width:3.115in" /><col style="width:0.807in" /><col style="width:0.807in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2681"><p class="p">Keyword</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2684"><p class="p">Property Description</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2687"><p class="p">Output Layer</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2690"><p class="p">Pattern Library</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">DENSITY_PROP</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">Density of <span class="keyword ParameterName RequiredReplaceable">target_layer</span>,
excluding any don’t care regions. The default property name is DENSITY_<var class="keyword varname">target_layer</var>.
A user-defined property name can be specified with PROP_NAME.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">Yes</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">VERTEX_PROP</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">The real vertex count for the <span class="keyword ParameterName RequiredReplaceable">target_layer</span>, excluding
vertices in don’t care regions. The default property name is VERTEX_<var class="keyword varname">target_layer</var>.
A user-defined property name can be specified with PROP_NAME.</p>
<p class="p">KEEP_ORIGINAL_VERTEX affects the vertex count when MAX_SEARCH
is also specified. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">Yes</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">PATTERN_PROP</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">Numeric property, with a specified property name
and value. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">No</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">Yes</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">INDEX_PROP</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">Pattern ordinal, with a specified property name.
The ordinal starts at 1 by default and can be adjusted by NUM_START. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">No</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">Yes</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">OUTPUT_PROP</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">Pattern ordinal, with property name “intern_prop”.
The ordinal starts at 1 by default and can be adjusted by NUM_START.</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">No</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">DUP_COUNT </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">The number of duplicates for the pattern, with
the specified property name. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">Yes</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2681 "><p class="p">CAPTURE_ORIENT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2684 "><p class="p">The orientation of the captured pattern,
with the specified property name. See the argument definition and <a class="xref fm:Figure" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2687 "><p class="p">Yes</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2690 "><p class="p">No</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">You should make sure that the names of
properties added by the operation do not conflict with each other
or with existing properties. Property data can be lost if property
names conflict. Properties added by the operation are listed in
the preceding table. Properties on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> are
also attached to the output layer. </p>
<p class="p">If a property on the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape
has the same name as one of the output properties listed in <a class="xref fm:Table" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id5076aa34-8371-4b98-92a7-35fbc12e8704">Table 3</a>, the property value on
the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape
is not used. Only the output property value is used. No warning
is issued in the transcript.</p>
</div>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id7680f689-e61d-4a03-8845-43fdae725c14"><h2 class="title Subheading sectiontitle">Output
Pattern Library</h2><p class="p">The operation creates a pattern
matching database (PMDB) file if the OUTFILE keyword is included.
Duplicate patterns, including patterns that differ only in orientation
or markers, are not saved by default. The keyword DUP_COUNT adds
a property to each pattern, where the property contains the total
number of occurrences per pattern. </p>
<p class="p">Patterns that differ only in
their markers are considered duplicates and the duplicates are not saved.
By default, the pattern library includes <span class="ph FontProperty emphasis">only</span> the
first such captured pattern and its corresponding marker layers.
If the MERGE_MARKERS keyword is specified, the geometries for the
custom markers from all duplicate patterns are merged and one pattern
is saved with the merged markers; see MERGE_MARKERS for details
on which patterns qualify to have markers merged. Also see the merge_markers
option for the <a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'merge', 'calbr_pmatch_user'); return false;">merge</a> pdl_lib_mgr
utility. </p>
<p class="p">Property values are ignored when determining if patterns are
duplicates. By default the minimum property value is saved to the
pattern if duplicate patterns have differing values for a property.
You can specify “SET_PROP <span class="keyword ParameterName OptionalReplaceable">prop_name</span> MAX”
to save the maximum value of the property <span class="keyword ParameterName OptionalReplaceable">prop_name</span> instead.
This keyword set may only be specified once. </p>
<p class="p">You can specify the allowed orientations for successful match
to a pattern with the PATTERN_ORIENT or MATCH_ORIENTATIONS keyword.
These keywords affect how duplicate patterns that differ only in
orientation are saved in the pattern library. MATCH_ORIENTATIONS
also affects what is considered a duplicate pattern, and therefore the
number of patterns saved to the library. See the keyword definitions
for details and “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id079ab86b-3593-4206-ac5c-b4f2a4eb3e5e">Example 4</a>” and “<a class="xref fm:HeadingAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idf214abf7-6109-49e7-8a7e-6388d1ea9fd3">Example 5</a>”. </p>
<p class="p">The default pattern name is “_P_<span class="keyword ParameterName OptionalReplaceable">n</span>”,
where <span class="keyword ParameterName OptionalReplaceable">n</span> is
an ordinal starting with zero. The default naming can be changed
with the keywords PATTERN_NAME_PREFIX or PATTERN_NAME_PROP. </p>
<p class="p">You can add a cglobal constraint to the pattern library with
the PATTERN_CGLOBAL keyword. </p>
<p class="p">Pattern libraries can assign a layer number to each pattern layer.
By default, pattern layers captured from original layers are assigned
the layer number determined from LAYER and LAYER MAP statements
in the rule file. Use the LAYER_NUMBER keyword set with LAYER_TARGET
to specify a layer number for a target layer. </p>
<p class="p">The pattern library created with DFM Pattern Capture can be edited
in the Calibre Pattern Matching GUI. The pattern library can also
be processed by the pdl_lib_mgr pattern library manager utility. </p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id40947df1-9580-46a6-9a47-a79342aa77b1"><h2 class="title Subheading sectiontitle">Pattern
Layers</h2><p class="p">Pattern layers are specified with the following keywords sets:</p>
<p class="p BlockIndent"><span class="keyword ParameterName Required">LAYER_TARGET</span> <span class="keyword ParameterName RequiredReplaceable">target_layer</span> [LAYER_NUMBER <span class="keyword ParameterName OptionalReplaceable">layer_number</span>]
[DC] [<span class="keyword ParameterName OptionalReplaceable">more_opts</span>]</p>
<p class="p BlockIndent">LAYER_EMPTY <span class="keyword ParameterName OptionalReplaceable">empty_name</span> [DC]</p>
<p class="p BlockIndent">LAYER_REGION <span class="keyword ParameterName OptionalReplaceable">region_source_layer</span> <span class="keyword ParameterName OptionalReplaceable">region_type</span> <span class="keyword ParameterName OptionalReplaceable">region_target_layer</span></p>
<p class="p">See the argument descriptions for details
and more options. Each of these keyword sets may be specified multiple
times. An empty layer can be useful for checking that a metal pattern
does not contain any vias within the pattern extent. See “<a class="xref Link" href="../../calbr_pmatch_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layers', 'calbr_pmatch_user'); return false;">Layers</a>” in the <cite class="cite">Calibre
Pattern Matching User’s Manual.</cite> </p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id3b9d8a03-36e3-44cd-8241-cd8b1e793b59"><h2 class="title Subheading sectiontitle">Marker
Creation</h2><p class="p">By default, the pattern marker is named “Marker” and is created
from the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> shape.
You can specify additional markers with the LAYER_PATTERN_MARKER
keyword set. </p>
<p class="p">If both <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> and <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span> are
specified, the default marker is created from the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span>  shapes.
See the description for the DEFAULT and HOTSPOT options for PATTERN_MARKER_METHOD. </p>
<p class="p">The keyword MERGE_MARKERS affects the markers that are saved
with the pattern. </p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idcd1079d2-6961-4712-bf2b-c5d1b9fe4b79"><h2 class="title Subheading sectiontitle">Handling
of Layer Names with Special Characters</h2><p class="p">Layer names in a pattern library can contain alphanumeric characters
and underscores (_); special characters are not allowed. However,
special characters may be encountered in the layer names that are
used as inputs to the operation. This can happen in an encrypted
flow or if a layer name with special characters is enclosed in quotes
in order to create a string constant. If a special character is
encountered in a layer name, it is replaced with an underscore.
If the replacement of special characters with underscores results
in duplicate layer names, ‘_<var class="keyword varname">num</var>’ is appended
to the second and subsequent layer names, where <var class="keyword varname">num</var> is
an integer starting with one and incremented each time. The corrected
layer names are used in the pattern library. </p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idff89d48e-a62e-4851-b0ec-49a8f432b4a0"><h2 class="title Subheading sectiontitle">Pattern
Extent</h2><p class="p">The default pattern extent corresponds to the pattern capture
area (see <a class="xref fm:TableAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__id0184db54-1c1d-436b-a38e-df02fce1366a">Table 1</a>). </p>
<p class="p">The keyword EXTENT_TRACING causes all non-virtual edges in the
pattern to be sized up by 1 dbu, and the result becomes the pattern
extent, which may consist of multiple shapes. If PATTERN_CGLOBAL
is specified, edges are sized up by (2*<span class="keyword ParameterName OptionalReplaceable">cglobal</span> +
1). This keyword should only be used with one <span class="keyword ParameterName RequiredReplaceable">target_layer</span>.</p>
<p class="p">If <span class="keyword ParameterName Required">LAYER_TARGET</span> is
specified with <span class="keyword ParameterName OptionalReplaceable">layer_halo</span> and/or
FROM_EXTENTS or FROM_EDGES to define a per-layer halo, the per-layer
halo is saved as a per-layer custom extent in the saved pattern
library. </p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id8ce1e9e8-ecc8-44e2-9024-68e936500fa9"><h2 class="title Subheading sectiontitle">Library
Attributes, Comments, Keys, and Pattern Orientation</h2><p class="p">Several keywords are available that specify options in the pattern
library. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ide05f093e-d505-42da-8e4f-658e18c59bbc" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:2.113in" /><col style="width:4.061in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2989"><p class="p">Keyword</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e2992"><p class="p">Library or Pattern Change</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">MATCH_ROTATION</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Pattern library attribute “Set match_rotation
Property”</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">MATCH_ORIENT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Pattern library attribute “Set match_orient
Property”</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">MATCH_TYPE</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Pattern library attribute “Set match_type
Property”</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">PATTERN_ORIENT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Specifies the allowed orientations for a
successful match in pattern matching run. When viewed in the Calibre
Pattern Matching GUI, this keyword sets the options on the <span class="ph uicontrol">Attributes</span> tab. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">MATCH_ORIENTATIONS</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Specifies the allowed orientations for a
successful match in pattern matching run and what patterns are considered duplicates
during the capture process. The orientations to match are displayed
on the <span class="ph uicontrol">Attributes</span> tab in the GUI. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">COMMENT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Specifies a comment that is added to all
patterns. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">PATTERN_KEY</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Specifies a key name that is added to all
patterns. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2989 "><p class="p">PATTERN_ATTR </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e2992 "><p class="p">Specifies the name and value of a user-defined
pattern library attribute.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">For the MATCH* keywords, the corresponding property is set in
the matched result output from a pattern matching run. </p>
<p class="p">When using the COMMENT keyword, if a single pattern is captured,
then a meaningful custom comment can be specified. When capturing
multiple patterns, the comment is expected to be more generic, such
as specifying the date, creator, and capture settings.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id84011da3-4ca3-43c3-ac9f-688781f27f4b"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">In this example, DFM Pattern Capture
is used with the LAYER_PATTERN_MASK keyword and a pattern library
named <span class="ph filepath">pat.pmdb</span> is generated. After the library
is generated, the compile pattern library manager command is used
to generate a DMACRO that can be used in a pattern matching run. </p>
<pre class="pre codeblock"><code>LAYOUT SYSTEM GDSII
LAYOUT PATH "./pat.gds"
LAYOUT PRIMARY "top"
DRC RESULTS DATABASE "capture.rdb"

DRC MAXIMUM RESULTS ALL
DRC MAXIMUM VERTEX 199
PRECISION 1000
LAYER metal2 10
LAYER masks 2000</code></pre><pre class="pre codeblock"><code>metal2_out = DFM PATTERN CAPTURE 
                 LAYER_TARGET metal2 
                 LAYER_PATTERN_MASK masks 
                 LAYER_PATTERN_MARKER BBOX10 Marker
                 OUTFILE pat.pmdb  
                 PATTERN_KEY key1 
                 PATTERN_PROP pi 3.14

metal2_out {COPY metal2_out}</code></pre><p class="p">Invoke calibre at the shell prompt. </p>
<p class="p BlockIndent">% calibre -drc -hier
rules_capture</p>
<p class="p">Compile the pattern library to
create an SVRF DMACRO.</p>
<p class="p BlockIndent">% pdl_lib_mgr compile
input pat.pmdb output dmacro.svrf</p>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id96d153f8-b3f8-4558-931d-f45fc763d8f8"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">In this example, the DFM Pattern Capture
command specifies the <span class="keyword ParameterName Optional">PATTERN_NAME_PROP</span> keyword.
In this case, “hotspot_prop” is the name of the DFM property that
holds the string property read from the layout using DFM Text. The
derived layer from DFM Text is then processed with DFM Property
Merge to create the vector string property “hotspot_prop_vec”. </p>
<p class="p">This example also includes the MATCH_ORIENT option which places
a property on the output marker from a matched result indicating
the orientation of the match. Using this option increases the run
time for the pattern matching job.</p>
<pre class="pre codeblock"><code>LAYOUT PRIMARY "TOPCELL"
LAYOUT SYSTEM  OASIS
LAYOUT PATH    "./library.oas"

DRC MAXIMUM RESULTS all
DRC RESULTS DATABASE "result.rdb" ASCII PSEUDO</code></pre><pre class="pre codeblock"><code>PRECISION 1 1000
RESOLUTION 1</code></pre><pre class="pre codeblock"><code>LAYER M2 18
LAYER V2 19
LAYER pat_hotspot 1001 </code></pre><pre class="pre codeblock"><code>// Use DFM TEXT to create a string-type property. Access the property
// using the SPROPERTY() function, and separate multiple properties using
// the VSTRING() function.
hotspot_text = DFM TEXT pat_hotspot PROPERTY STRING hotspot_prop

pat_hotspot_w_prop = DFM PROPERTY MERGE pat_hotspot hotspot_text 
                         ABUT ALSO 
       [hotspot_prop_vec = VSTRING(SPROPERTY(hotspot_text,hotspot_prop))]</code></pre><pre class="pre codeblock"><code>extract_hotspots = DFM PATTERN CAPTURE 
                       LAYER_TARGET M2
                       LAYER_TARGET V2
                       MATCH_ORIENT
                       LAYER_HOTSPOT pat_hotspot_w_prop
                       MAX_SEARCH 0.5 
                       PATTERN_HALO 0.5
                       OUTFILE hotspot_library.pmdb  
                       PATTERN_NAME_PROP hotspot_prop_vec

extract_hotspots { COPY extract_hotspots }</code></pre></div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idd7844559-d64b-4ca4-a376-34389663ab1c"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">This
example shows how to capture layout text as pattern properties.
The layout text must correspond to a numeric value. If multiple properties
are to be captured, the layout text for each property must be on
a different layer. The layout text is read with <a class="xref fm:HeadingOnly" href="Command_DfmText_id554e9ae8.html#id554e9ae8-c995-49a8-8c72-c905c6956dc8__Command_DfmText_id554e9ae8.xml#id554e9ae8-c995-49a8-8c72-c905c6956dc8" title="Converts text objects on original layers to DFM properties.">DFM Text</a> and processed
with <a class="xref fm:HeadingOnly" href="Command_DfmPropertyMerge_id39d94a27.html#id39d94a27-df68-4cd5-ab7e-00e7192ba118__Command_DfmPropertyMerge_id39d94a27.xml#id39d94a27-df68-4cd5-ab7e-00e7192ba118" title="Manipulates unmerged polygon layers. Unmerged polygon layers can be created with DFM Text, DFM Copy REGION UNMERGED, and other DFM layer operations.">DFM Property Merge</a> to create
a derived layer with the desired DFM Properties. When the derived
layer is used as the <span class="keyword ParameterName RequiredReplaceable">hotspot_layer</span> or <span class="keyword ParameterName RequiredReplaceable">pattern_mask_layer</span>,
the numeric properties are automatically read and transferred to
the output layer and to the captured patterns. </p>
<p class="p">This example processes text that is placed in the layout with
two different methods. In both cases the text consists of a numeric
value which is read and saved to a property, where the property
name is chosen based on the layer the text is on. </p>
<ul class="ul"><li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idcc6b8f5e-ec15-4574-89ca-ebf27dd9bd71"><p class="p">Text in
the layout — The input layout has a text layer overlapping the hotspot
shapes, where the text layer has numeric values corresponding to
the hotspot type. This text is read and saved to the property “type”. </p>
</li>
<li class="li" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id7bf298c0-10e5-4f8d-9390-c12043419517"><p class="p">Text added
with Layout Text — A numeric priority value is written at hotspot
locations with the Layout Text statement. This text is read and
saved to the property “priority”. The hotspot locations and priority
value for the Layout Text statements might come from a failure analysis
tool that writes out layout coordinates and corresponding failure information.
Such output can be post-processed to create the required Layout
Text statements. </p>
</li>
</ul>
<p class="p">Within the DFM Property Merge statement, the <a class="xref fm:HeadingOnly" href="Command_DfmFuncMin_id264b92a6.html#id264b92a6-74c6-4d35-b056-7d2a36b23450__Command_DfmFuncMin_id264b92a6.xml#id264b92a6-74c6-4d35-b056-7d2a36b23450" title="Computes the minimum of an expression over a set of layer objects. Valid in DFM Property and DFM Analyze.">MIN</a> per-shape
function is used in the property expression. If more than one shape
on the derived text layer (hotspot_type or hotspot_priority) overlaps
the hotspot shape (on the pat_hotspot layer), the MIN per-shape
function causes the minimum property value to be returned, rather
than the sum of the property values, which is the default. The MIN
function also enables specification of a default value (‑1 in the
example) to be returned if the property does not exist; this prevents
evaluation failure if the text object is missing at a location. </p>
<pre class="pre codeblock"><code>LAYER M2 18
LAYER pat_hotspot 1001
LAYER MAP 1100 TEXTTYPE 0 1111                  // text layer in the GDS
LAYER M2_text_type 1111
LAYER MAP 1200 TEXTTYPE 0 1122                  // text is added to this 
LAYER M2_text_priority 1122                     // layer with LAYOUT TEXT</code></pre><pre class="pre codeblock"><code>LAYOUT TEXT "1" 536.604 302.355 M2_text_priority
LAYOUT TEXT "3" 541.408 295.997 M2_text_priority</code></pre><pre class="pre codeblock"><code>hotspot_type = DFM TEXT M2_text_type PROPERTY NUMBER typeA
hotspot_priority = DFM TEXT m2_text_priority PROPERTY NUMBER priorityA
hotspot_wPROPS = DFM PROPERTY MERGE 
            pat_hotspot hotspot_type hotspot_priority ABUT ALSO
            [type = MIN(PROPERTY(hotspot_type, typeA), -1 )]
            [priority = MIN(PROPERTY(hotspot_priority, priorityA), -1 )]

// optional rule check to write derived layers to a DFM RDB in order
// verify the properties per hotspot polygon
check_hotspot_wPROPS {
   DFM RDB hotspot_type "numresults.rdb" ALL CELLS
   DFM RDB hotspot_priority "numresults.rdb" ALL CELLS
   DFM RDB hotspot_wPROPS "numresults.rdb" ALL CELLS
   DFM RDB pat_hotspot "numresults.rdb" ALL CELLS
}</code></pre><pre class="pre codeblock"><code>extract_hotspots = DFM PATTERN CAPTURE
                  LAYER_TARGET M2
                  LAYER_HOTSPOT hotspot_wPROPS
                  PATTERN_HALO 0.2
                  PATTERN_NAME_PREFIX pat_ INDEX_PROP PID
                  OUTFILE hotspot_lib.pmdb

extracted_hotspots { COPY extract_hotspots }

extracted_hotspots_DFM { DFM RDB extract_hotspots "results.dfm" }</code></pre></div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id079ab86b-3593-4206-ac5c-b4f2a4eb3e5e"><h2 class="title Subheading sectiontitle">Example
4</h2><p class="p">This example demonstrates how “PATTERN_ORIENT 1” works, which
specifies to allow matches in the original orientation or orientations
that result from a combination of reflections about the x or y axis. </p>
<p class="p">The layout has these four patterns being captured:</p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idc94bcedc-64d6-4986-ab2a-9e1a63315ec1"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_orientations_layout.png" /></div><br /></div>
<p class="p">Three of the patterns differ only in orientation and are saved
as one pattern. Referring to <a class="xref fm:FigureAndPage" href="#id61efcf35-94c1-4493-8220-ed592c2d0e61__idd8046786-835f-47fd-a545-909e7bc7eaa4">Figure 7</a>, the patterns are
saved with orientations 0, 2, 4, and 6 allowed (for reflections
about the x or y axis). Because the pattern with three duplicates
includes a rotated placement, orientation 1, 3, 5, and 7 are also
checked for that pattern. The saved patterns and allowed orientations
are shown in the following table:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__ideee51536-4767-46d9-b2ed-797ee89eaea8" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.824in" /><col style="width:4.026in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e3178"><p class="p">Saved Pattern</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e3181"><p class="p">Allowed Orientations for Matching</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3178 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_patternF1.png" /></p>
<p class="p">Three duplicates </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3181 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_B.png" /></p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3178 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_pattern_p3.png" /></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3181 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_C.png" /></p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Subsection" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__idf214abf7-6109-49e7-8a7e-6388d1ea9fd3"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">This example shows how MATCH_ORIENTATIONS works for the ROTATION
setting, and how it works in combination with “PATTERN_ORIENT 1”.
See the previous example for an explanation of “PATTERN_ORIENT 1”.
The layout has these four patterns being captured. </p>
<div class="fig fignone" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id76ecf013-edef-44cd-adc0-0df639bfbc54"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_orientations_layout.png" /></div><br /></div>
<p class="p">Using MATCH_ORIENTATIONS ROTATION, the patterns in the following
table are saved to the library. Two patterns are duplicates by rotation
and are saved as one pattern. The first column gives the allowed
orientations for matching when only MATCH_ORIENTATIONS ROTATION
is specified. The second column gives the allowed orientations to
match when “PATTERN_ORIENT 1” is also specified. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id61efcf35-94c1-4493-8220-ed592c2d0e61__id06756427-6775-4d89-ab17-8151c45e4fb7" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.146in" /><col style="width:2.514in" /><col style="width:2.514in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e3217"><p class="p">Saved Pattern</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e3220"><p class="p">MATCH_ORIENTATIONS ROTATION</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d74081e3223"><p class="p">MATCH_ORIENTATIONS ROTATION</p>
<p class="p">PATTERN_ORIENT 1</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3217 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_patternF1.png" /></p>
<p class="p">2 duplicates</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3220 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_A.png" /></p>
<p class="p">Matches in any rotated orientation. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3223 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_B.png" /></p>
<p class="p">“PATTERN_ORIENT 1” overwrites the orientations to match. Because
the captured pattern has a duplicate with a different rotation,
all orientations are checked. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3217 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_patternF2.png" /></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3220 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_A.png" /></p>
<p class="p">Matches in any rotated orientation. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3223 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_C.png" /></p>
<p class="p">“PATTERN_ORIENT 1” overwrites orientations to match.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3217 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_pattern_p3.png" /></p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3220 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_A.png" /></p>
<p class="p">Matches in any rotated orientation. </p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d74081e3223 "><p class="p"><img class="image fmdpi:96" src="../graphics/DFMPatternCapture/dfm_pattern_capture_match_rotations_C.png" /></p>
<p class="p">“PATTERN_ORIENT 1” overwrites orientations to match.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">When both MATCH_ORIENTATIONS and PATTERN_ORIENT are specified, MATCH_ORIENTATIONS
controls what patterns are captured and considered duplicates, while
PATTERN_ORIENT controls the orientations to match setting in the
saved library. </p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DfmCommands_ide62291e8.html" title="The commands in this section begin with “DFM.”">DFM … Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "DFM Pattern Capture"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmPatternCapture_id61efcf35.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>