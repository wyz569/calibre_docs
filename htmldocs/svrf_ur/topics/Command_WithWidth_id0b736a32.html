<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="With Width" />
<meta name="abstract" content="Constructs a layer containing polygons meeting the specified width constraint." />
<meta name="description" content="Constructs a layer containing polygons meeting the specified width constraint." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id0b736a32-417c-43e4-babe-1b2c8f120dab" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>With Width</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="With Width" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id0b736a32-417c-43e4-babe-1b2c8f120dab">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">With
Width</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="shortdesc">Constructs a layer containing
polygons meeting the specified width constraint.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">WITH WIDTH</span> <span class="keyword ParameterName RequiredReplaceable">layer</span> <span class="keyword ParameterName RequiredReplaceable">constraint</span></p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__ida6c0900e-2b9d-4cac-9efd-fa6b06a40f08"><span class="keyword ParameterName RequiredReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An required original layer,
layer set, or a derived polygon layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id36500668-3791-4b53-ad5a-83f05d36a87a"><span class="keyword ParameterName RequiredReplaceable">constraint</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required constraint interpreted
as width in user units. It is one of the constraints listed in the
“Constraint Notation” column of <a class="xref fm:TableAndPage" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__idf28cb715-136e-454e-81a1-e050ea37b1a7">Table 1</a> in the “<a class="xref fm:HeadingOnly" href="Concept_Constraints_id4b42a9dc.html#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458__Concept_Constraints_id4b42a9dc.xml#id4b42a9dc-bb2f-463f-81b7-94ba7d37c458" title="Certain SVRF layer operations are measurement-oriented and therefore carry constraints. Constraints are ranges of non-negative real numbers; input data that falls within the specified constraint of an operation is generally output as result data.">Constraints</a>” topic.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Constructs a layer containing
all regions of <span class="keyword ParameterName RequiredReplaceable">layer</span> polygons
that satisfy the width <span class="keyword ParameterName RequiredReplaceable">constraint</span>. This
operation does not select entire input polygons unless an entire
polygon meets the <span class="keyword ParameterName RequiredReplaceable">constraint</span>.
Behaves as a non-node-preserving layer constructor. </p>
<p class="p">The concept of width is somewhat
difficult to define consistently. This operation provides a consistent
width definition and replaces complex SVRF derivations used in determining
width. In the case of angled geometry, the output conforms to intuitive
notions of width. This output may be contrary (and more useful)
to what you would see using <a class="xref fm:HeadingOnly" href="Command_Size_id1c0e0ff7.html#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130__Command_Size_id1c0e0ff7.xml#id1c0e0ff7-9e48-4b99-ad68-41db7c70e130" title="Constructs a derived layer by expanding or contracting polygons by the amount specified.">Size</a>, especially for layers that have
received OPC corrections. </p>
<p class="p">The algorithm uses the following
heuristics. Consider the operation:</p>
<p class="lines ApplCommand">metal WITH WIDTH &gt; w</p>
<p class="p">This operation is performed on
a polygon-by-polygon basis, where each polygon is divided into three
possible regions — orthogonal, 45-degree, and skew, each with its
own width-measurement algorithm. The <span class="keyword ParameterName OptionalReplaceable">w</span> argument
is a numeric width. The result is the Boolean OR of the three regions.
Regions are cut only along lines that are orthogonal to the database
axes.</p>
<p class="p">Throughout this section, the
word orthogonal means orthogonal to the database axes, not orthogonal
to another edge or polygon.</p>
<p class="p">With Width operations using the
same layer are performed concurrently when the layer data is orthogonal.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">Orthogonal regions</span> —
For regions bounded by orthogonal edges, the algorithm is based
upon this operation:</p>
<p class="lines ApplCommand">SIZE metal BY v UNDEROVER</p>
<p class="p">If the With Width constraint
is &gt;  <span class="keyword ParameterName OptionalReplaceable">w</span>,
then <span class="keyword ParameterName OptionalReplaceable">v</span> = <span class="keyword ParameterName OptionalReplaceable">w</span>/2.
If the With Width constraint is &gt;= <span class="keyword ParameterName OptionalReplaceable">w</span>,
then <span class="keyword ParameterName OptionalReplaceable">v</span> = <span class="keyword ParameterName OptionalReplaceable">w</span>/2 - delta,
where delta is a small number in comparison to <span class="keyword ParameterName OptionalReplaceable">w</span>.
All other constraints are derived from these definitions. For example,
the set of polygons selected by a With Width &lt;= <span class="keyword ParameterName OptionalReplaceable">w</span> operation
is the logical complement of the set selected by &gt; <span class="keyword ParameterName OptionalReplaceable">w</span>.</p>
<p class="p"><span class="ph FontProperty HeadingLabel">45-degree regions</span> —
For 45-degree edges, an <span class="keyword ParameterName OptionalReplaceable">angled</span> region
is determined based on the extent of the 45-degree edges. Edges
that are near 45 degrees are treated as 45-degree edges. The angled
region, plus a sufficient orthogonal region around it, are handled
by the angled algorithm. </p>
<div class="fig fignone" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__ide92974ec-0833-480b-9dfb-15e829c96568"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Angled Region for
With Width</span><br /><div class="imagecenter"><img class="image imagecenter" height="120" src="../graphics/WithWidth_angled_region.png" width="468" /></div><br /></div>
<p class="p">The angled region is evaluated separately from the original polygon,
leaving completely orthogonal polygons (possibly empty) that are
handled by the orthogonal region algorithm described previously.
Note that this algorithm produces identical results for the orthogonal regions
as the Size UNDEROVER operation does, so any orthogonal region that
is part of the angled region is handled consistently.</p>
<p class="p">The angled algorithm is based
upon iterative measurements like this:</p>
<p class="lines ApplCommand">INT layer &lt; x OPPOSITE REGION </p>
<p class="p">which are subtracted from the
angled region. The portions that are subtracted from the angled region
depend upon the specified <span class="keyword ParameterName RequiredReplaceable">constraint</span> in
the With Width operation. The iteration is based upon the angle
of separation between various pairs of edges in the angled region.
The iteration stops when there is either no more measurement region
output to subtract, or the angled region is empty.</p>
<p class="p">The INT <span class="keyword ParameterName OptionalReplaceable">layer</span> &lt; <span class="keyword ParameterName OptionalReplaceable">x</span> OPPOSITE REGION
measurement is not identical to that of the usual <a class="xref fm:HeadingOnly" href="Command_Internal_idbad07e99.html#idbad07e99-116a-4a41-942f-bf038cdcf221__Command_Internal_idbad07e99.xml#idbad07e99-116a-4a41-942f-bf038cdcf221" title="Measures the separation between the interior sides of edges from the input layers. Measured edge pairs that satisfy the given constraint are output. Intersecting edge pairs are not measured by default.">Internal</a> check with the same keywords.
The input has only orthogonal and 45-degree edges; therefore, edge
pairs that are appropriate for internal measurement have angles
of 135, 90, 45, or 0 degrees between them. Measurements are taken
as follows:</p>
<ul class="ul"><li class="li" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id26e95699-1aa4-4cc3-aec5-74ab8b192a86"><p class="p">Edges having an angle 135
or 90 degrees with respect to each other are not measured and are
disregarded. </p>
<div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/WithWidth_135_90deg.png" /></div><br /></div>
</li>
<li class="li" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id254cf5c8-b845-4cac-a2fb-f1eb8bf7f48e"><p class="p">Edges having an angle of
0 degrees with respect to each other (parallel edges) are measured
at <span class="keyword ParameterName OptionalReplaceable">x</span> = <span class="keyword ParameterName OptionalReplaceable">w</span> + epsilon
(where <span class="keyword ParameterName OptionalReplaceable">w</span> is
the width value, and epsilon is a small number compared to <span class="keyword ParameterName OptionalReplaceable">w</span>)
and produce the same output as a customary Internal check with the OPPOSITE
REGION keywords. </p>
<div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/WithWidth_0deg.png" /></div><br /></div>
</li>
<li class="li" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id1c7cf90c-b2cd-4449-9574-3e797676dfc9"><p class="p">Edges having an angle of
45 degrees with respect to each other have x = ((sqrt(2)/2) * <span class="keyword ParameterName OptionalReplaceable">w</span>) +
epsilon. </p>
<p class="p BlockIndent"><img class="image fmdpi:96" src="../graphics/WithWidth_45deg.png" /></p>
<p class="p">The measurement and region is
formed as follows. Assume one edge is orthogonal (horizontal or
vertical) and the other is at a 45-degree angle with the x-axis. </p>
<ul class="ul"><li class="li" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id05612f95-6e07-465a-9ad4-e19546ea88e3"><p class="p">If the OPPOSITE measurement
region from the orthogonal edge intersects the 45-degree edge, or
vice-versa, this produces an output region. </p>
</li>
<li class="li" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__idb5285886-0786-4826-9fa7-4f1d4bcd268b"><p class="p">Or, if the OPPOSITE measurement
region from the 45-degree edge intersects the orthogonal edge, this
forms the output region.</p>
</li>
<li class="li" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id27830e2c-c951-460c-ba1b-1dc5b0d1d95e"><p class="p">Otherwise, no output is
produced.</p>
</li>
</ul>
<p class="p">See the figure in <a class="xref fm:HeadingOnly" href="#id0b736a32-417c-43e4-babe-1b2c8f120dab__id410281ab-8531-40b6-9277-f0b3799e24ac">Example 3</a>.</p>
</li>
</ul>
<p class="p"><span class="ph FontProperty HeadingLabel">Skew regions</span> —
For polygons that contain non-orthogonal, non-45 degree edges, a <span class="ph FontProperty emphasis">skew</span> region is
determined based on the extent of the skew edges. The skew region
is cut from the original polygon, leaving angled (orthogonal and
45-degree edges) polygons (possibly empty) that are handled by the
angled algorithm. This is a similar process as described previously
for angled regions. The skew region, plus a sufficient angled region
around it, are handled by the operation:</p>
<p class="lines ApplCommand">SIZE layer BY v UNDEROVER TRUNCATE v</p>
<p class="p">where <span class="keyword ParameterName OptionalReplaceable">v</span> is
determined as previously shown.</p>
<p class="p">The operation performs a Boolean
AND of the input <span class="keyword ParameterName RequiredReplaceable">layer</span> with
the result geometry prior to output in areas near skew edges on
the input <span class="keyword ParameterName RequiredReplaceable">layer</span>.
This step increases the accuracy of the output.</p>
<p class="p">See also <a class="xref fm:HeadingOnly" href="Command_NotWithWidth_id3babeaea.html#id3babeaea-7d94-43d3-ac38-3313065c892b__Command_NotWithWidth_id3babeaea.xml#id3babeaea-7d94-43d3-ac38-3313065c892b" title="Constructs a layer containing polygons not meeting the specified width constraint.">Not With Width</a> and <a class="xref fm:HeadingOnly" href="Command_Internal_idbad07e99.html#idbad07e99-116a-4a41-942f-bf038cdcf221__Command_Internal_idbad07e99.xml#idbad07e99-116a-4a41-942f-bf038cdcf221" title="Measures the separation between the interior sides of edges from the input layers. Measured edge pairs that satisfy the given constraint are output. Intersecting edge pairs are not measured by default.">Internal</a>.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id5f4601a4-bed6-4442-aecd-72fa411db28b"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">Basic layer derivation using With
Width:</p>
<pre class="pre codeblock"><code>// derive field poly regions having width &lt;= 0.10
narrow_poly = fieldpoly WITH WIDTH &lt;= 0.10 </code></pre></div>
<div class="section Subsection" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id90149fdc-56e2-40cb-a29e-31bfc3d65e35"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">Assume your design rule states that
the minimum enclosure of contact by metal1 of width greater than
0.5, and less than or equal to 1.0, is 0.2. You could write the
rule this way:</p>
<pre class="pre codeblock"><code>wide_m1_over_cont {
	wide_m1 = m1 INTERACT (m1 WITH WIDTH &gt; 0.5 &lt;= 1.0)
	ENC cont wide_m1 &lt; 0.2 ABUT &lt; 90 SINGULAR
}</code></pre><div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/WithWidth_example.png" /></div><br /></div>
</div>
<div class="section Subsection" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id410281ab-8531-40b6-9277-f0b3799e24ac"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">This example shows how With Width
treats angled edges for various width constraints.</p>
<div class="fig fignone" id="id0b736a32-417c-43e4-babe-1b2c8f120dab__id7f0d19c1-bcdd-4990-aa1f-ae0b656714be"><span class="figcap"><span class="fig--title-label">Figure 2. </span>With Width and Angled
Edges</span><br /><div class="imagecenter"><img class="image imagecenter" height="216" src="../graphics/WithWidth_example_angled.png" width="468" /></div><br /></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceDictionaryPartFour_iddc7b0f44.html" title="This chapter contains descriptions for the statements and operations that can be used in a rule file. These appear in alphabetical order and this chapter contains those starting with letters P through Z.">Reference Dictionary P - Z</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "With Width"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_WithWidth_id0b736a32.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>