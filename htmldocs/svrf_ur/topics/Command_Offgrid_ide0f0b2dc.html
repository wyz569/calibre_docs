<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="Offgrid" />
<meta name="abstract" content="Generates a derived error layer, or derived polygons or edges, by flagging all off-grid objects on the input layer. This operation is useful for advanced pitch analysis." />
<meta name="description" content="Generates a derived error layer, or derived polygons or edges, by flagging all off-grid objects on the input layer. This operation is useful for advanced pitch analysis." />
<meta name="prodname" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="svrf_ur" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/25/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Standard Verification Rule Format (SVRF) Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="ConditionFiltering" content="XML" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Offgrid</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Offgrid" />
<meta name="attributes" content="doc.type.documentation.ref,product.version.v2021.2,product.id.P10089,product.id.P10099,product.id.P10119,product.id.P10101,product.id.P11427,product.id.P10115,product.id.P11426,product.id.P10122,product.id.P11493" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Offgrid</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Layer operation</p>
<p class="shortdesc">Generates a derived error layer,
or derived polygons or edges, by flagging all off-grid objects on the
input layer. This operation is useful for advanced pitch analysis.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">OFFGRID</span> <span class="keyword ParameterName RequiredReplaceable">layer</span> {<span class="keyword ParameterName RequiredReplaceable">resolution</span> | <span class="keyword ParameterName RequiredReplaceable">x-resolution y-resolution</span>} <br />
[INSIDE OF LAYER <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE]]<br />
[CENTERS] [EDGE] [REGION [<span class="keyword ParameterName OptionalReplaceable">value</span>]]<br />
[ {OFFSET [<span class="keyword ParameterName OptionalReplaceable">x_offset y_offset</span>] [INSIDE BY <span class="keyword ParameterName OptionalReplaceable">value</span> | OUTSIDE BY <span class="keyword ParameterName OptionalReplaceable">value</span>]} …]<br />
[HINT]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idc8d92e60-cee8-4bea-a899-c7cd1987962b"><span class="keyword ParameterName RequiredReplaceable">layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required original polygon
layer, derived polygon layer, or derived edge layer. The <span class="keyword ParameterName RequiredReplaceable">layer </span>and <span class="keyword ParameterName RequiredReplaceable">resolution</span> parameters
should be ordered as shown in the syntax description to avoid ambiguity.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id1ff8b27d-e542-4769-9999-f4896c1d4f2f"><span class="keyword ParameterName RequiredReplaceable">resolution</span> | <span class="keyword ParameterName RequiredReplaceable">x-resolution</span> <span class="keyword ParameterName RequiredReplaceable">y-resolution</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Required positive integer(s)
in database units that specify the grid resolution. The value of <span class="keyword ParameterName RequiredReplaceable">resolution</span> is
applied in both the x and y directions. If <span class="keyword ParameterName RequiredReplaceable">x-resolution</span> and <span class="keyword ParameterName RequiredReplaceable">y-resolution</span> are specified, <span class="keyword ParameterName RequiredReplaceable">x-resolution</span> is
applied in the x direction and <span class="keyword ParameterName RequiredReplaceable">y-resolution</span> in
the y direction. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id2d229980-da83-4a8e-9df0-dc4801eb27c4">INSIDE OF LAYER <span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName OptionalDefault">RELATIVE</span> | ABSOLUTE]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword set that
specifies only objects from the input <span class="keyword ParameterName RequiredReplaceable">layer </span>that
lie inside <span class="keyword ParameterName OptionalReplaceable">layer2</span> are
used by the operation. The <span class="keyword ParameterName OptionalReplaceable">layer2</span> parameter
must be an original or derived polygon layer. Two additional keywords
may be specified with INSIDE OF LAYER:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id498d9e47-3234-48f7-9d0b-09e1d05c02d0"><p class="p"><span class="keyword ParameterName OptionalDefault">RELATIVE</span> —
Specifies that the grid origin is determined by the total rectangular extent
of <span class="keyword ParameterName RequiredReplaceable">layer</span> objects
inside of <span class="keyword ParameterName OptionalReplaceable">layer2</span>.
This is the default when INSIDE OF LAYER is specified.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id501b7b82-1c4e-4e72-b5c8-751d21c473ee"><p class="p">ABSOLUTE — Specifies that
the grid origin is determined by the unmerged extents of polygons
from <span class="keyword ParameterName OptionalReplaceable">layer2</span>.</p>
</li>
</ul>
<p class="p">This is discussed with <a class="xref fm:FigureAndPage" href="#ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idd1643939-f3fa-45e8-9e6c-f7bba1a146b7">Figure 5</a>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id7d93a4f5-f3c7-42a5-8413-0523a015da41">CENTERS</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
the centers of input objects are checked against the grid. If the
input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a polygon layer, then the centers of the extents of input polygons
are checked. If the input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a derived edge layer, then the midpoints of input edges are checked.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idc1356cd9-f859-41cf-a9d0-483af3cc3424">EDGE</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
the output of the operation is a derived edge layer. This keyword
may not be specified with CENTERS if the input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a polygon layer.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id4065372d-2423-46bf-8fd4-c8ea13825499">REGION [<span class="keyword ParameterName OptionalReplaceable">value</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
the output is a derived polygon layer consisting of squares that
mark the locations of offgrid vertices. By default, the squares
are 1 × 1 user units and have centers at the coordinates of offgrid
vertices. The optional <span class="keyword ParameterName OptionalReplaceable">value</span> is
a positive floating-point number in user units that defines the
edge length of the squares. If the input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a derived edge layer, then this keyword may by specified only if
the CENTERS keyword is also specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id1019db59-769e-4a70-9dd8-d90cc3098947">OFFSET [<span class="keyword ParameterName OptionalReplaceable">x_offset y_offset</span>] [INSIDE BY <span class="keyword ParameterName OptionalReplaceable">value</span> | OUTSIDE BY <span class="keyword ParameterName OptionalReplaceable">value</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and value
set that indicates an offset displacement to apply to objects before
checking them against the <span class="keyword ParameterName RequiredReplaceable">resolution</span> parameters.
One or more OFFSET parameter groups may be specified. Each OFFSET
specification is applied in the order it appears in the operation.
Each OFFSET parameter group must specify at least one of the following parameter
sets:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id48878ec9-a470-47fc-84b9-730456bdd773"><p class="p"><span class="keyword ParameterName OptionalReplaceable">x_offset y_offset</span> —
These parameters are any integers in database units. Negative integers
must be enclosed in parentheses ( ). The <span class="keyword ParameterName OptionalReplaceable">x_offset</span> is
applied in the x-direction, and the <span class="keyword ParameterName OptionalReplaceable">y_offset</span> is
applied in the y-direction. If the input layer is a derived edge
layer, then the tool takes the absolute values of the <span class="keyword ParameterName OptionalReplaceable">x_offset</span> and <span class="keyword ParameterName OptionalReplaceable">y_offset</span> parameters
before applying them. This parameter group may be specified with
either the INSIDE BY or OUTSIDE BY option, which provide directional
offsets. If this occurs, then both the absolute offsets and the
directional offset apply.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id2ee55444-5ad4-4dfa-b79e-277176c6e68a"><p class="p">INSIDE BY <span class="keyword ParameterName OptionalReplaceable">value</span> —
Specifies an offset displacement to apply to edges before checking
them. This option may only be used when the input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a derived edge layer. The <span class="keyword ParameterName OptionalReplaceable">value</span> is
a positive integer in database units. Each input edge is offset
in the inside direction (as compared to the polygon from which the
edge originates) by <span class="keyword ParameterName OptionalReplaceable">value</span> database
units before being checked. May be specified with <span class="keyword ParameterName OptionalReplaceable">x_offset y_offset</span>, in
which case both conditions apply. May not be specified with OUTSIDE
BY in the same OFFSET keyword group.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__ida934da18-f205-491f-9a4d-4f6a60cf1b00"><p class="p">OUTSIDE BY <span class="keyword ParameterName OptionalReplaceable">value</span> —
Specifies an offset to apply to edges before checking them. This
option may only be used when the input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a derived edge layer. The <span class="keyword ParameterName OptionalReplaceable">value</span> is
a positive integer in database units. Each input edge is offset
in the outside direction (as compared to the polygon from which
the edge originates) by <span class="keyword ParameterName OptionalReplaceable">value</span> database
units before being checked. May be specified with <span class="keyword ParameterName OptionalReplaceable">x_offset y_offset</span>,
in which case both conditions apply. May not be specified with INSIDE
BY in the same OFFSET keyword group.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id44377b75-29aa-405b-95be-f656139216ef">HINT</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies
the output objects provide locations of nearby on-grid points. This
keyword may not be specified with either EDGE or REGION.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Generates a derived error layer
by flagging all off-grid objects on the input layer. These objects include
polygon vertices, edges, or polygon centers depending on the specified
keywords. A point is off-grid if its coordinates are not proper
multiples of the resolution values.</p>
<p class="p">The grid used for checking objects
is defined by either the <span class="keyword ParameterName RequiredReplaceable">resolution</span> or <span class="keyword ParameterName RequiredReplaceable">x-resolution</span> and <span class="keyword ParameterName RequiredReplaceable">y-resolution</span> parameters.
For example, if you specify the <span class="keyword ParameterName RequiredReplaceable">resolution</span> as
45, then all relevant points (vertices, endpoints, or center points)
of objects are checked to see if their x and y coordinates are on
a 45 nm grid (database units). The order of the <span class="keyword ParameterName RequiredReplaceable">resolution</span> and <span class="keyword ParameterName RequiredReplaceable">layer</span> parameters
is important to avoid ambiguity. These resolution parameters have
no interaction with the <a class="xref fm:HeadingOnly" href="Command_Resolution_id4997f7de.html#id4997f7de-ecc3-41c0-832f-e0b2d3fc5486__Command_Resolution_id4997f7de.xml#id4997f7de-ecc3-41c0-832f-e0b2d3fc5486" title="Defines the layout grid step-size (the number of database units on which original geometry is required to be aligned).">Resolution</a> statement. </p>
<p class="p">By default, this operation is
error-directed. The REGION keyword specifies derived polygon output;
the EDGE keyword specifies derived edge output.</p>
<p class="p">If the <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a polygon layer, then a polygon P is checked by the operation as
follows: </p>
<ol class="ol"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id33b3a18d-ce34-448a-a15c-c412562d69d6"><p class="p">If CENTERS is not specified, then
every vertex (x,y) on P is checked against the resolution parameters.
If the vertex (x,y) is offgrid, then output is according to the following
rules: </p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id194364c9-19a0-4850-92b1-d75d3926efad"><p class="p">If output is a derived error
layer (the default), then a two-edge cluster is output: the two
edges are adjacent edges of the geometry whose common endpoint is
(x,y). For clarity in results presentation, these edges are trimmed
to a maximum distance of one user unit from the location of the
offgrid vertex.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id03826de9-3987-45cf-913d-a73f6343d146"><p class="p">If output is a derived edge
layer (EDGE is specified), then two edges are output. The two edges
are adjacent edges of the geometry whose common endpoint is (x,y).</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id1b4f6206-36e8-46ea-adbb-72bfad3c058f"><p class="p">If output is a derived polygon
layer (REGION <span class="keyword ParameterName OptionalReplaceable">value</span> is
specified), then a <span class="keyword ParameterName OptionalReplaceable">value</span> × <span class="keyword ParameterName OptionalReplaceable">value</span> user
unit square whose center point is (x,y) is output. If <span class="keyword ParameterName OptionalReplaceable">value</span> is
not specified, then the squares have edges one user unit long.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id45b673f1-72e2-48ea-a5c6-78f7b1160074"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Output Without CENTERS</span><br /><div class="imagecenter"><img class="image imagecenter" height="179" src="../graphics/offgrid_polygon_without_centers.png" width="468" /></div><br /></div>
</li>
</ul>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id3fc3668a-f6ea-47af-8185-186edcc5c5f1"><p class="p">If CENTERS is specified, then
the center point (cx,cy) of P’s extent is checked against the resolution
parameters. CENTERS may not be specified with EDGE for polygon input
layers. If the center point is offgrid, then output is according
to the following rules:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id6456cd7f-8d45-47de-b0f3-71669076cd61"><p class="p">If output is a derived error
layer, then a two-edge cluster is output where one edge is vertical
and one edge is horizontal. The edges are trimmed so as not to exceed
the extent of the checked polygon. If trimming is unnecessary, then
the edges are each one user unit long. The output edges intersect
at their midpoints, and the intersection point coincides with (cx,cy).</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id0c91e880-be1e-4dbb-a603-3fa192cf32f2"><p class="p">If output is a derived polygon
layer (REGION <span class="keyword ParameterName OptionalReplaceable">value</span> is
specified), then a <span class="keyword ParameterName OptionalReplaceable">value</span> × <span class="keyword ParameterName OptionalReplaceable">value</span> square
whose center point is (cx,cy) is output. If <span class="keyword ParameterName OptionalReplaceable">value</span> is
not specified, then the squares have edges one user unit long.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idc376f0d5-b4d8-4e01-8334-90dc53d9fcef"><span class="figcap"><span class="fig--title-label">Figure 2. </span>CENTERS With Polygon
Input</span><br /><div class="imagecenter"><img class="image imagecenter" height="173" src="../graphics/offgrid_polygon_with_centers.png" width="468" /></div><br /></div>
</li>
</ul>
</li>
</ol>
<p class="p">If the input <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a derived edge layer, then an edge E is checked by the operation
as follows.</p>
<ol class="ol"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idde86ea5d-36ce-4c1c-8603-a64e8753bbc8"><p class="p">If CENTERS is not specified, then
the endpoints of E are checked against the resolution parameters.
Edge E is offgrid if either endpoint fails, and output is according
to the following rules:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id7fc58f6e-7d03-4aaf-b8d7-3650cd5747dc"><p class="p">If output is a derived error
layer (the default), then E is output as a one-edge error cluster.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id7e34ea66-5b9d-445c-bb48-72ce85fc4eeb"><p class="p">If output is a derived edge
layer (EDGE is specified), then E is output.</p>
</li>
</ul>
<p class="p">See the following figure.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idc69dbec2-75df-423a-a386-2112526dd76a"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Edge Input Without
CENTERS</span><br /><div class="imagecenter"><img class="image imagecenter" height="168" src="../graphics/offgrid_edge_without_centers.png" width="468" /></div><br /></div>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__ide73af0a8-f861-4dd9-99c5-d7ec6fb54bd8"><p class="p">If CENTERS is specified, then
the midpoint (mx,my) of E is checked against the resolution parameters.
If the midpoint is offgrid, then output is according to the following
rules:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id76e17d0d-8439-4ac1-9d7d-761568972c95"><p class="p">If output is a derived error
layer, then a two-edge cluster is output where one edge is vertical
and one edge is horizontal. The output edges are trimmed so as not
to exceed the length of the derived edge. If trimming is unnecessary,
then the edges are each one user unit long. The edges intersect
at their midpoints, and the intersection point coincides with (mx,my).</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__ida333c8ae-e734-4878-96fc-3dab2b8163b9"><p class="p">If output is a derived edge
layer (EDGE is specified), then E is output.</p>
<p class="p">See the following figure.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id105b5980-882f-4a31-949f-5014eecaf9be"><span class="figcap"><span class="fig--title-label">Figure 4. </span>Edge Input With CENTERS</span><br /><div class="imagecenter"><img class="image imagecenter" height="169" src="../graphics/offgrid_edge_with_centers.png" width="468" /></div><br /></div>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idc7fcf35f-39f9-4d95-ac58-23b908747ceb"><p class="p">If output is
a derived polygon layer (REGION <span class="keyword ParameterName OptionalReplaceable">value</span> is
specified), then a <span class="keyword ParameterName OptionalReplaceable">value</span> × <span class="keyword ParameterName OptionalReplaceable">value</span> square
whose center point is (cx,cy) is output. If <span class="keyword ParameterName OptionalReplaceable">value</span> is
not specified, then the squares have edges one user unit long.</p>
</li>
</ul>
</li>
</ol>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__ida4dd1a65-93d1-4d5d-a26d-d45e6e553fd7"><h2 class="title Subheading sectiontitle">INSIDE
OF LAYER</h2><p class="p">If INSIDE OF LAYER is specified,
then only objects on the input <span class="keyword ParameterName RequiredReplaceable">layer </span>that
lie inside <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygons
are used by the operation.</p>
<p class="p">The behavior is as follows: </p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id976e02dd-5a8b-49f7-87da-091352c955ab"><p class="p">If <span class="keyword ParameterName RequiredReplaceable">layer</span> is
polygon-type, then only <span class="keyword ParameterName RequiredReplaceable">layer</span> polygons
inside (see <a class="xref fm:HeadingOnly" href="Command_Inside_id01ef1b86.html#id01ef1b86-6f59-48d4-820d-7c05c2511ff2__Command_Inside_id01ef1b86.xml#id01ef1b86-6f59-48d4-820d-7c05c2511ff2" title="Selects all polygons that share all of their area with a polygon from a second layer.">Inside</a> for a definition) of <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygons
participate in the checking process.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id5ca08d4f-db87-43c6-a0c3-d3db2979c7fa"><p class="p">If <span class="keyword ParameterName RequiredReplaceable">layer</span> is
edge-type, then only <span class="keyword ParameterName RequiredReplaceable">layer</span> edges
with no portion outside of polygons on <span class="keyword ParameterName OptionalReplaceable">layer2</span> participate
in the checking process. See <a class="xref fm:HeadingOnly" href="Command_Outside_ide46065c6.html#ide46065c6-e48e-40d7-b2d3-1b29beebd102__Command_Outside_ide46065c6.xml#ide46065c6-e48e-40d7-b2d3-1b29beebd102" title="Selects all layer1 polygons that lie completely outside layer2 polygons.">Outside</a> for a definition, but remember the
Outside operation does not use edge layer input.</p>
</li>
</ul>
<p class="p">The default option for determining
the grid is RELATIVE. This means the rectangular extent of <span class="keyword ParameterName RequiredReplaceable">layer</span> objects
inside of each <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygon
is calculated. The lower-left corner of the extent is used as the
grid origin reference for the <span class="keyword ParameterName RequiredReplaceable">layer</span> objects
inside the <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygon.</p>
<p class="p">The ABSOLUTE option causes the
total rectangular extent of each <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygon
to be calculated. The lower-left corner of this extent is used as
the grid origin reference for the <span class="keyword ParameterName RequiredReplaceable">layer</span> objects
inside the <span class="keyword ParameterName OptionalReplaceable">layer2</span> polygon.</p>
<p class="p">Specifying INSIDE OF LAYER is
useful for advanced pitch checks.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idd1643939-f3fa-45e8-9e6c-f7bba1a146b7"><span class="figcap"><span class="fig--title-label">Figure 5. </span>INSIDE OF LAYER With
Polygon Input</span><br /><div class="imagecenter"><img class="image imagecenter" height="182" src="../graphics/offgrid_polygon_inside_of_layer.png" width="468" /></div><br /></div>
</div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id33f2607c-4b64-460d-84e7-6f408b008356"><h2 class="title Subheading sectiontitle">OFFSET</h2><p class="p">The OFFSET keyword group allows
an offset to be applied to objects prior to checking against the
specified grid. Regardless of any specified offset, output is in
terms of the original location of objects that are read in.</p>
<p class="p">The INSIDE BY and OUTSIDE BY
options apply only to derived edge input layers.</p>
<p class="p">More than one OFFSET parameter
group may be specified in an operation. If more than one is specified,
they are applied one-by-one in the order they are specified.</p>
<p class="p">The presence of any offset keyword
group modifies the operation’s behavior as follows:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id545b67a5-4231-4d6d-9ad6-2b7148b10791"><p class="p">If <span class="keyword ParameterName RequiredReplaceable">layer</span> is
polygon-type, then for each vertex or center point (when CENTERS
is specified) to be checked, apply each OFFSET keyword group. This
means the point is shifted by the OFFSET <span class="keyword ParameterName OptionalReplaceable">x_offset y</span>_<span class="keyword ParameterName OptionalReplaceable">offset</span> parameters
and then checked to see if the shifted point is on grid. If the
point is on grid after any offset is applied, then there is no output.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id5eb3129d-ca63-46b5-9b50-089cbc9b0481"><p class="p">If <span class="keyword ParameterName RequiredReplaceable">layer</span> is
edge-type, then for each edge E to check, apply each OFFSET keyword group.
This means to shift E by the absolute values of <span class="keyword ParameterName OptionalReplaceable">x_offset</span> and <span class="keyword ParameterName OptionalReplaceable">y_offset</span> when specified.
If INSIDE BY or OUTSIDE BY are specified, then E is shifted by the specified <span class="keyword ParameterName OptionalReplaceable">value</span> and
toward the inside or outside of the polygon from which E originates. If
CENTERS is specified, then the midpoint of E is computed after this
shift. If the edge or midpoint is on grid after any OFFSET is applied,
then there is no output.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id45b33226-6a47-40d6-8563-3412d6ec90b8"><span class="figcap"><span class="fig--title-label">Figure 6. </span>OFFSET With Edge
Input</span><br /><div class="imagecenter"><img class="image imagecenter" height="137" src="../graphics/offgrid_edge_offset.png" width="468" /></div><br /></div>
</li>
</ul>
</div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id71e0eecc-b7f7-4958-a90f-69b47a91d51c"><h2 class="title Subheading sectiontitle">HINT</h2><p class="p">The HINT keyword provides locations
of nearby on-grid points. These can be useful for correcting the
locations of off-grid objects. The locations of the HINT markers
are simply suggestions for on-grid locations. This keyword only
uses error-directed output, so the EDGE and REGION keywords may
not be specified with HINT. The HINT output is as follows:</p>
<ul class="ul"><li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id149aea3b-3010-42bf-acfe-02c265471f2a"><p class="p">If the <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a polygon layer and CENTERS is not specified (that is, each vertex
is being checked), then the output for each offgrid vertex is a
4-edge cluster. The first two edges are original edges of the polygon,
with a maximum length of one user unit, which straddle the offgrid
vertex. The third and fourth edges form an “X” consisting of two
45-degree edges whose intersection point is a nearby on-grid point.
The extent of the “X” is approximately one-tenth that of the first
two edges in the cluster.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id8f5a7edb-9dff-41e7-b0b6-f4349f069fe8"><p class="p">If the <span class="keyword ParameterName RequiredReplaceable">layer</span> is
a derived edge layer and CENTERS is not specified (that is, each
endpoint is being checked), then the output for each offgrid edge
consists of a 2- or 3-edge cluster. The first edge in the cluster
is the actual offgrid edge itself. Then for each offgrid endpoint,
an edge is drawn connecting it to a nearby on-grid point and that
edge becomes an element of the output cluster.</p>
</li>
<li class="li" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__ida3fab002-520c-4ed0-9729-1264553b3ad8"><p class="p">If CENTERS is specified (that
is, polygon or edge center-points are being checked), then the output
for each offgrid center point is a 4-edge cluster. The first two
edges form a “+” shape whose intersection is the offgrid center
point. The third and fourth edges form an “X” consisting of two
45-degree edges whose intersection point is a nearby on-grid point.
The extent of the “X” is approximately one-tenth that of the first
two edges in the cluster.</p>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id6bb991a5-a82c-404f-882b-07a6e05a17e5"><span class="figcap"><span class="fig--title-label">Figure 7. </span>Polygon Input With
HINT</span><br /><div class="imagecenter"><img class="image imagecenter" height="130" src="../graphics/offgrid_polygon_hint.png" width="468" /></div><br /></div>
<div class="fig fignone" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id79142eef-62bd-4a69-b802-b9432959ae3a"><span class="figcap"><span class="fig--title-label">Figure 8. </span>Edge Input With HINT</span><br /><div class="imagecenter"><img class="image imagecenter" height="115" src="../graphics/offgrid_edge_hint.png" width="468" /></div><br /></div>
</li>
</ul>
</div>
<p class="p">See also <a class="xref fm:HeadingOnly" href="Command_OffgridDirectional_id4160743c.html#id4160743c-b464-4d7a-a274-84f7594e00a7__Command_OffgridDirectional_id4160743c.xml#id4160743c-b464-4d7a-a274-84f7594e00a7" title="Checks input edges for their locations based upon an enclosing layer, a direction of measurement, a specified grid, and, optionally, the direction edges face.">Offgrid Directional</a>.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idf8d0923a-18c1-4004-9a56-31e0f22fd716"><h2 class="title Subheading sectiontitle">Example 1</h2><p class="p">The following rule check implements
the specification “Diffusion must be on a 0.025 micron grid (assuming
1000 database units per user-unit)”:</p>
<pre class="pre codeblock"><code>rule { OFFGRID diffusion 25 }</code></pre></div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idceb59e47-0c5d-46dc-9098-d1cafd67e403"><h2 class="title Subheading sectiontitle">Example 2</h2><p class="p">This example shows a special case.
The following rule check checks metal to a two-database-unit resolution
grid because 3 -1 is evaluated as 2:</p>
<pre class="pre codeblock"><code>rule {
OFFGRID metal 3 -1}</code></pre><p class="p">whereas the following example results
in a compilation error due to the negative y value for the snap
grid:</p>
<pre class="pre codeblock"><code>rule {
OFFGRID metal 3 (-1)}</code></pre></div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id8230776e-f50c-40af-b1a0-bc58653c6994"><h2 class="title Subheading sectiontitle">Example 3</h2><p class="p">In this rule, all polygons on layer
POLY with width exactly 0.06 must have horizontal or vertical pitch
(centerline to centerline spacing) on a grid that is a multiple
of 250 nm. This measurement is with respect to each polygon on layer
POLY_OPC:</p>
<pre class="pre codeblock"><code>rule {
	poly_h = ANGLE poly == 0
	poly_v = ANGLE poly == 90</code></pre><pre class="pre codeblock"><code>	// Regions of exact horizontal or vertical width:
	poly_6h = INT poly_h == 0.06 REGION OPPOSITE
	poly_6v = INT poly_v == 0.06 REGION OPPOSITE</code></pre><pre class="pre codeblock"><code>	// Offset the poly regions by 0.3 um
	poly_6h_shift = SHIFT poly_6h BY 0 0.3
	poly_6v_shift = SHIFT poly_6v BY 0.3 0</code></pre><pre class="pre codeblock"><code>	// Centerlines of these offset regions:
	poly_6h_centerline = poly_6h_shift INSIDE EDGE poly_6h
	poly_6v_centerline = poly_6v_shift INSIDE EDGE poly_6v</code></pre><pre class="pre codeblock"><code>	// Centerlines are on a 250 dbu grid, horizontally and
	// vertically, respectively.
	OFFGRID poly_6h_centerline 1 250 INSIDE OF LAYER poly_opc
	OFFGRID poly_6v_centerline 250 1 INSIDE OF LAYER poly_opc
}</code></pre></div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idb3befcf2-e011-49e6-a508-f98e7b4ffe36"><h2 class="title Subheading sectiontitle">Restricted Design Rule
Examples</h2><p class="p">For the following examples, the
following rule file settings apply.</p>
<pre class="pre codeblock"><code>VARIABLE xpitch 0.21 // contact pitch in x-direction.
VARIABLE ypitch 0.28 // contact pitch in y-direction.
VARIABLE optrad 2    // multiplier for optical radius influence.
VARIABLE halfcont 0.06 // half the width of the contacts.</code></pre></div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__idb3b33778-9394-435b-a2f6-1ee9edf3482c"><h2 class="title Subheading sectiontitle">Example 4</h2><p class="p">This is a simpler type of contact
check. Centers of contacts must be on grid. Extents of a marker layer
are used to determine the grid. Hints are provided for nearby on-grid
locations.</p>
<pre class="pre codeblock"><code>offgridcont { OFFGRID cont xpitch*1000 ypitch*1000 
              INSIDE OF LAYER gridmarker ABSOLUTE CENTERS HINT }</code></pre></div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id223fc1a6-9e58-4372-a43f-31fa281026a9"><h2 class="title Subheading sectiontitle">Example 5</h2><p class="p">Contacts within an optical radius
of each other need to be on grid relative to each other. Centers are
checked rather than edges. Pitches are unequal in the x- and y-directions,
which is why Grow is used instead of Size.</p>
<pre class="pre codeblock"><code>// Derive contact groups lying within an optical radius. 
// Perimeters need to coincide with contact centers, not edges.
cogroup = EXTENTS ( GROW cont RIGHT BY xpitch*optrad-halfcont
                              LEFT BY xpitch*optrad-halfcont
                              TOP BY ypitch*optrad-halfcont
                              BOTTOM BY ypitch*optrad-halfcont )</code></pre><pre class="pre codeblock"><code>// Find offgrid contact centers within cogroup polygons.
// Grid is referenced to lower-left corners of cogroup polygons.
// Provide hints to on-grid locations.
offgridcont = OFFGRID cont xpitch*1000 ypitch*1000
              INSIDE OF LAYER cogroup ABSOLUTE CENTERS HINT</code></pre><pre class="pre codeblock"><code>// Collect the results in an RDB.
contact_pitch { DFM RDB offgridcont "contactpitch.rdb"
                ALL CELLS NOPSEUDO CHECKNAME offgridcont }</code></pre></div>
<div class="section Subsection" id="ide0f0b2dc-a290-4fbb-a9e7-14ef0fc83b6a__id33c1e002-2dc0-454f-a4b4-bf28c98a47eb"><h2 class="title Subheading sectiontitle">Example 6</h2><p class="p">This check ensures that metal1 line
ends enclosing contacts by no more than 0.2 um enclose the contacts
by a 90 nm offset from the contact grid. The gridmarker layer is
used to set the extents of the grid.</p>
<pre class="pre codeblock"><code>// derive horizontal and vertical m1 line ends enclosing contacts
// by no more than 0.2 um.
m1lineend = m1 CONVEX EDGE == 2 WITH LENGTH == 0.16
m1encedge = ENC cont [m1lineend] &lt; 0.2
m1encedgeh = m1encedge ANGLE == 0
m1encedgev = m1encedge ANGLE == 90</code></pre><pre class="pre codeblock"><code>// check that the m1 edge centers have 90 dbu offset from contacts 
// and are on pitch. a resolution of 1 dbu means the edge can
// appear anywhere along that axis.
// horizontal edges must agree with y-pitch.
offgridm1h = OFFGRID m1encedgeh 1 ypitch*1000 CENTERS
             INSIDE OF LAYER gridmarker ABSOLUTE 
             OFFSET INSIDE BY 90 HINT
// vertical edges must agree with x-pitch.
offgridm1v = OFFGRID m1encedgev xpitch*1000 1 CENTERS
             INSIDE OF LAYER gridmarker ABSOLUTE 
             OFFSET INSIDE BY 90 HINT</code></pre><pre class="pre codeblock"><code>// collect the output and report it.
offgridm1 = DFM COPY offgridm1h offgridm1v
offgridm1 { DFM RDB offgridm1 "m1grid.rdb" ALL CELLS NOPSEUDO 
            CHECKNAME offgridm1 }</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ReferenceDictionaryPartThree_id9a4dbfc6.html" title="This chapter contains descriptions for the statements and operations that can be used in a rule file. These appear in alphabetical order and this chapter contains those starting with letters G through O.">Reference Dictionary G - O</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "svrf_ur"
                DocTitle = "Standard Verification Rule Format (SVRF) Manual"
                PageTitle = "Offgrid"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Offgrid_ide0f0b2dc.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Standard Verification Rule Format (SVRF) Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>