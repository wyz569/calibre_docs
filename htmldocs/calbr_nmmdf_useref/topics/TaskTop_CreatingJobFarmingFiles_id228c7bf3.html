<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Creating Job Files" />
<meta name="abstract" content="Remote files contain information about machines and CPUs where remote tasks should be run. At least one remote file is required to run in Calibre MTflex mode, and the dispatcher requires a special runscript file." />
<meta name="description" content="Remote files contain information about machines and CPUs where remote tasks should be run. At least one remote file is required to run in Calibre MTflex mode, and the dispatcher requires a special runscript file." />
<meta name="prodname" content="Calibre® nmModelflow™ User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-16" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="all" />
<meta name="HighlightColor" content="Pale Blue" />
<meta name="HighlightChanges" content="yes" />
<meta name="Draft" content="none" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_nmmdf_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="NONE" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="DocumentTitle" content="Calibre® nmModelflow™ User’s and Reference Manual" />
<meta name="ConditionFiltering" content="XML" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10115,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Creating Job Files</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Creating Job Files" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref, product.version.v2021.2,product.id.P10115,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Creating Job Files</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">Remote files
contain information about machines and CPUs where remote tasks should
be run. At least one remote file is required to run in Calibre MTflex
mode, and the dispatcher requires a special runscript file.</span>
</div>
<div class="section Restrictions"><h2 class="title Subheading sectiontitle">Restrictions and Limitations</h2><p class="p">You must have login access to
all machines you are using in your remote host list.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><p class="p">For security reasons and also because RHEL8 does
not support rsh, Calibre nmModelflow replaced rsh in scripts with
ssh as the default. This will require you to set up passwordless
ssh on your remote machines, because nmModelflow jobs cannot prompt
for user input. Passwordless ssh requires a key file installed in
~/.ssh/id_rsa.</p>
<p class="p">If your public key authentication fails with a
Permission Denied error:</p>
<ul class="ul"><li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id82b992d3-8d8f-40b2-8393-ab5780759a49"><p class="p">Check to see if you have 'ssh' hardcoded in your
scripts.</p>
</li>
<li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id4bb48a2c-34d5-46f8-b10d-09f85aa12a46"><p class="p">Check
if your key file requires a password (this may generate the error,
"key file is not password-less")</p>
</li>
<li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id9f4b22cd-3c85-468c-981f-9dfb842404b2"><p class="p">Set
up passwordless-execution on the remote machines you execute jobs
on.</p>
<pre class="pre codeblock"><code>cd ~/.ssh
ssh-keygen -t rsa -N "" -C "<span class="keyword ParameterName OptionalReplaceable">my_job_run_identity_file</span>" -f ~/.ssh/ \<span class="keyword ParameterName OptionalReplaceable">my_job_run_identity_file</span>
cat ~/.ssh/<span class="keyword ParameterName OptionalReplaceable">my_job_run_identity_file</span> &gt;&gt; ~/.ssh/authorized_keys</code></pre></li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id858f6e40-a2f9-47f2-b4b1-9acc59df0ac2"><span class="ph cmd">Create the remote file first.</span><ol type="a" class="ol substeps"><li class="li substep" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id76b618f6-3d5d-4997-b78f-9ba108aba9d6"><span class="ph cmd">In a text editor, create a
file (the name is arbitrary, but should be relevant to the machine
name) with entries for each remote host using the format:</span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code>REMOTE HOST <span class="keyword ParameterName OptionalReplaceable">hostname</span> <span class="keyword ParameterName OptionalReplaceable">number_of_CPUS</span></code></pre></div></li>
<li class="li substep" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id89f20d1a-dcf4-4564-856a-4821135e19f0"><span class="ph cmd">Save the file. </span></li>
<li class="li substep" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id6d805439-84ba-42e3-b5ba-52732fda0aa4"><span class="ph cmd">Create additional remote files
as needed. </span></li>
</ol>
</li>
<li class="li step" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__idd66ad52a-446b-4d4e-a1f8-090c70e3d2c0"><span class="ph cmd">Create a job resource file
that references the remote file(s) from Step 1.</span><ol type="a" class="ol substeps"><li class="li substep" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id84434533-f24f-4693-9137-58a663119538"><span class="ph cmd">In a text editor, create a
file “<span class="ph filepath">job_resources.txt</span>” using the following
syntax:</span><div class="itemgroup info SubStepInfo"><pre class="pre codeblock leveled"><code><span class="keyword ParameterName OptionalReplaceable">hostname max_jobs max_load </span> <span class="keyword ParameterName OptionalReplaceable">/remote_file_name</span></code></pre><p class="p">where:</p>
<ul class="ul"><li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id625f2137-5468-4811-8b4d-f9576070daea"><p class="p"><span class="keyword ParameterName OptionalReplaceable">hostname</span> is
the network name of the host.</p>
</li>
<li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id0b623e39-7b77-4930-a8e1-3852e67fa69f"><p class="p"><span class="keyword ParameterName OptionalReplaceable">max_jobs</span> is
the maximum amount of dispatcher jobs that can be sent to the machine.</p>
</li>
<li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id9a076336-8b14-40af-860d-b6e6aed9c102"><p class="p"><span class="keyword ParameterName OptionalReplaceable">max_load</span> is
the maximum amount of load that is allowed on the machine before the
dispatcher skips using it. Using a value of 0 means that the dispatcher
uses this CPU regardless of the machine load. </p>
</li>
<li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id26347698-6bf8-4153-a4cd-6e16091cd47d"><p class="p"><span class="keyword ParameterName OptionalReplaceable">remote_file_name</span> is
a file you created in Step 1. A best practice is to locate the remote
files in the directory you invoked Calibre WORKbench from by using $CALIBRE_INVOKE_DIR/
as part of the remote filename.</p>
</li>
</ul>
</div></li>
</ol>
</li>
<li class="li step" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id0f60d17f-348c-423e-9d66-28632827ae5a"><span class="ph cmd">Save the file. You can now
use the job resource file as a reference in a run command for any <span class="ph filepath">run_rsh_ssh.sh</span> runscript.</span></li>
</ol>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__ide11e30ab-5b14-4fb4-bf90-5556ee690a63"><h2 class="title Subheading sectiontitle">Example Remote Files</h2><ul class="ul"><li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id488e9add-0ac6-400d-b631-96b832ee790b"><p class="p">Runs 4 CPU on the local machine:</p>
<pre class="pre codeblock leveled"><code>		REMOTE HOST localhost 4 
 </code></pre></li>
<li class="li" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id124ab6c9-0321-4e7c-87ac-0dad660cd149"><p class="p">Runs 16 CPU on two separate
hosts:</p>
<pre class="pre codeblock leveled"><code>		REMOTE HOST bluemax 8 
		REMOTE HOST redfive 8  
 </code></pre></li>
</ul>
</div>
<div class="section Subsection" id="id228c7bf3-b49a-43c9-a1b2-bfc5aa227e41__id2361d63a-09ba-4daa-980a-403927e86007"><h2 class="title Subheading sectiontitle">Example Job Resource
File</h2><p class="p">Runs two remote files, each
with its own separate remote file. </p>
<pre class="pre codeblock leveled"><code># host 			max_jobs 				max_load remote_file 
blue_red				1				0			$CALIBRE_INVOKE_DIR/blue_red.txt 
white2				1				0			$CALIBRE_INVOKE_DIR/white_box.txt 
 </code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_JobFarmingUsersGuide_ide6747b8c.html" title="By default, Calibre nmModelflow runs in multi-threaded (MT) mode. Creating a remote file allows you to run it in distributed (Calibre MTflex) mode. Calibre MTflex mode causes dispatcher jobs to run remotely.">Job Execution User’s Guide</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/TaskTop_SettingUpDispatcherMode_ide6400985.html" title="Dispatcher mode requires some specific instructions independent of Calibre MTflex configuration.">Setting Up Dispatcher Mode</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_nmmdf_useref"
                DocTitle = "Calibre® nmModelflow™ User’s and Reference Manual"
                PageTitle = "Creating Job Files"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CreatingJobFarmingFiles_id228c7bf3.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® nmModelflow™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>