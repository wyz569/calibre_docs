<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="merge" />
<meta name="abstract" content="Combines multiple pattern matching libraries (PMDBs) into a single PMDB library and removes duplicate patterns. If only one library is input, the command removes the duplicate patterns in that library." />
<meta name="description" content="Combines multiple pattern matching libraries (PMDBs) into a single PMDB library and removes duplicate patterns. If only one library is input, the command removes the duplicate patterns in that library." />
<meta name="prodname" content="Calibre Pattern Matching User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pmatch_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/17/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Pattern Matching User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id35ea096e-ab5e-4d4e-9ad9-9d152801e275" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>merge</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="merge" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">merge</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><span class="shortdesc">Combines multiple pattern matching
libraries (PMDBs) into a single PMDB library and removes duplicate
patterns. If only one library is input, the command removes the
duplicate patterns in that library. </span>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">pdl_lib_mgr</span> [‑turbo [<span class="keyword ParameterName OptionalReplaceable">number_of_processors</span>]] <br />
<span class="keyword ParameterName Required">merge</span> <span class="keyword ParameterName Required">input</span> <span class="keyword ParameterName RequiredReplaceable">filename</span> [<span class="keyword ParameterName Optional">input</span> <span class="keyword ParameterName OptionalReplaceable">filename</span>]… <span class="keyword ParameterName Required">output</span> <span class="keyword ParameterName RequiredReplaceable">filename</span> <br />
[<span class="keyword ParameterName Optional">precision</span> <span class="keyword ParameterName OptionalReplaceable">value</span>] [<span class="keyword ParameterName Optional">compile_output</span> <span class="keyword ParameterName OptionalReplaceable">filename</span> [<span class="keyword ParameterName Optional">maxjog</span> <span class="keyword ParameterName OptionalReplaceable">value</span>]] <br />
[<span class="keyword ParameterName Optional">log_file</span> <span class="keyword ParameterName OptionalReplaceable">logfilename</span>] [<span class="keyword ParameterName Optional">ignore_layer_extents</span>] [<span class="keyword ParameterName Optional">ignore_regions</span>] <br />
[gen_all_markers] [ignore_markers | merge_markers]<br />
[conflict_prefix <span class="keyword ParameterName OptionalReplaceable">prefix_string</span>]<br />
[index <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> [<span class="keyword ParameterName OptionalDefault">incr_max</span> | first_available]]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id5d8f42ba-dc9b-429c-bdd3-cecea094adfa">‑turbo [<span class="keyword ParameterName OptionalReplaceable">number_of_processors</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
to use multithreaded parallel processing. The argument set must
be specified as shown in the syntax line, before the <span class="keyword ParameterName Required">merge</span> argument. </p>
<p class="p">The optional value <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> is
a positive integer that specifies the number of CPUs to use for
multithreaded processing.If <span class="keyword ParameterName OptionalReplaceable">number_of_processors</span> is
not specified, Calibre runs on the maximum number of CPUs available
for which you have licenses. For best performance, it is recommended
that you avoid specifying this value.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id3c9fc1d5-55d2-475e-b016-d8cd952d7d08"><span class="keyword ParameterName Required">input</span> <span class="keyword ParameterName RequiredReplaceable">filename</span> [<span class="keyword ParameterName Optional">input</span> <span class="keyword ParameterName OptionalReplaceable">filename</span>] … </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument
set that specifies the input PMDB file. Multiple input libraries
can be specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__ide2ea374f-0ca4-40d8-b920-037c51019174"><span class="keyword ParameterName Required">output</span> <span class="keyword ParameterName RequiredReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required
argument that specifies the filename of the merged output PMDB.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id5be695b2-c7e4-4298-8545-0a40b55a8bf6">precision <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument whose integer value is the number of points per database
unit as defined within the pattern library. The default value if
not specified is 1000. When merging libraries, it is recommended
to use the lowest common multiple of precision values of all of the
input libraries to ensure that information is not lost.</p>
<p class="p">If the precision setting causes pattern geometries to be truncated,
a warning is issued and the pattern is not included in the output
library. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id34a45b88-924e-4816-9785-e906517d70a1">compile_output <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that automatically runs the compilation step on the post-merge
output PMDB file. This automatically creates the DMACRO file used
by the pattern matching tool.</p>
<p class="p">For more information on the DMACRO file, see “<a class="xref fm:HeadingAndPage" href="Concept_DMACROAndCMACRO_id00d0db99.html#id00d0db99-0ae9-40b3-86cc-5d08fd798d25__Concept_DMACROAndCMACRO_id00d0db99.xml#id00d0db99-0ae9-40b3-86cc-5d08fd798d25" title="A DMACRO file defines the patterns in a pattern library in a format that can be included in the SVRF rule file. The CMACRO command runs pattern matching on the DMACRO library and generates output layers corresponding to the output markers in the pattern library.">DMACRO and CMACRO for Pattern Matching</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id11e97df6-f621-4047-a918-8fbe78dbc110">maxjog <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that is only used with compile_output. This option sets
the jog tolerance feature, which instructs the tool to ignore jogs
equal to or less than the specified <span class="keyword ParameterName OptionalReplaceable">value</span>.
The maximum value for maxjog is two times the global constraint
(2*cglobal). The value is specified in microns. </p>
<p class="p">For information on global constraints, see “<a class="xref fm:HeadingAndPage" href="Concept_GlobalConstraints_id022e5c27.html#id022e5c27-3340-4df2-9b06-b3f72f95722e__Concept_GlobalConstraints_id022e5c27.xml#id022e5c27-3340-4df2-9b06-b3f72f95722e" title="A global constraint specifies an allowed movement for all real edges in a pattern. Global constraints can be applied to TEM patterns and single-layer BCM patterns. For TEM patterns, you can apply a global constraint to the whole pattern or to selected pattern layers.">Global Constraints</a>”.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If a library
being merged has a maxjog value, it is ignored (dropped) and a warning
is issued. The maxjog value for the merged output library is determined
by the maxjog argument. </p>
<p class="p">The maxjog argument should
only be used when all patterns contain the same cglobal value. However,
if patterns in the output library have differing cglobal values,
the maxjog must be less than twice the minimum cglobal value for
all patterns in the output library.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id1e33d474-cc3d-4c0d-9ad4-7bc2b2f125ea">log_file <span class="keyword ParameterName OptionalReplaceable">logfilename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that specifies to write out a log file with name <span class="keyword ParameterName OptionalReplaceable">logfilename</span>.
The file logs whether secondary patterns of geometrically identical
patterns are removed or not and includes notes on the analysis.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__ide42eba19-dd47-4e87-a14d-d36026e0d284"><a id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idc6d1770c-3704-47c1-a69a-c0af11776241"></a>ignore_layer_extents</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that specifies to ignore per layer extent differences while
comparing patterns. The global pattern extent is always compared
and is unaffected by this argument. Patterns that only differ in
per layer extents are considered duplicate and only the first such pattern
is saved to the output library. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id5a2c6827-41b8-4960-8528-607c1653cc9b">ignore_regions</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument that specifies to ignore region differences while comparing
patterns. Patterns that differ only in their regions are considered
duplicate and only the first such pattern is saved to the output
library. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idcd120060-479b-4419-b02e-3ce34ff4c0b2">gen_all_markers</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies to remove
duplicate patterns that differ only in their markers. The output
pattern includes a superset of all unique markers. </p>
<p class="p">Unique markers are defined as having both different names and
different types or geometries. Identical markers have both the same
name and same type or geometry. Markers that are not unique or identical
have the same name but different types or geometries. The secondary
pattern is only removed if all markers are unique or identical for the
duplicate patterns. If this condition is not met, the secondary
pattern is not removed—the differing patterns are saved as separate
patterns to the output library. </p>
<p class="p">The gen_all_markers argument may be specified with ignore_markers
or merge_markers. See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id69d35963-d8ba-460c-b58c-e57b36c2d0bc">Marker Considerations</a>” and the “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idaf69ef2e-523d-4add-b832-ea48594d6a47">Example 2</a>”. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idc167bb2b-a2ae-4817-8d67-7d13d609939f">ignore_markers | merge_markers</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument choice that specifies
behavior for marker handling. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idde03b19b-e648-4329-b19d-f184462afeb7"><p class="p Opt">ignore_markers
— Specifies to ignore markers while comparing patterns. Patterns
that differ only in their markers are considered duplicate and only
the first such pattern is saved to the output library. </p>
</li>
<li class="li ArgOption" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id8644ca8d-bbd0-4943-b6d5-a488f812d535"><p class="p Opt">merge_markers
— Specifies to remove duplicate patterns that differ only in the
custom marker geometries and to merge the geometries for the custom
markers.</p>
<p class="p">To qualify, the patterns must have identical markers for the
non-custom markers and the custom markers must have identical names.
The custom marker geometries are merged with an OR function, combining
the geometries. Only custom type markers are merged; computed type
markers (bbox, drawn, matched, etc.) do not merge. </p>
<p class="p"><a class="xref fm:Figure" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id6d2d8220-9c68-4b7b-9aeb-8154f37b6f26">Figure 1</a> shows how two different
custom markers are merged. Pattern1 in LibraryA and LibraryB differ
only in the custom marker A. </p>
<div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id6d2d8220-9c68-4b7b-9aeb-8154f37b6f26"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Result
from merge_markers</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/merge_markers.png" /></div><br /></div>
</li>
</ul>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id69d35963-d8ba-460c-b58c-e57b36c2d0bc">Marker Considerations</a>” and the “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idaf69ef2e-523d-4add-b832-ea48594d6a47">Example 2</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idf8a3780a-120f-4347-9f00-b05ee9485918">conflict_prefix <span class="keyword ParameterName OptionalReplaceable">prefix_string</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
to prefix the pattern name with <span class="keyword ParameterName OptionalReplaceable">“prefix_string</span>_”
in order to resolve naming conflicts when unique patterns in different
libraries have the same name. The default behavior is to prefix
the pattern name with the library name. See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id38ca036f-9279-4cb5-a53c-dfb478f07aa7">Resolving Pattern Name Conflicts</a>” for complete
details. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idf3c56be1-c5c7-4bbf-875d-20c113f8a1ee">index <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> [<span class="keyword ParameterName OptionalDefault">incr_max</span> | first_available]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
how to handle the property <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> in
the merged output library. </p>
<p class="p">If the property <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> does
not exist in any input library, it is added to the merged library
with sequential values starting at 1 for the first pattern. The
property type is double. </p>
<p class="p">If <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> exists
in any input library, the following rules control the property in the
merged library:</p>
<ul class="ul"><li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id86cfbc54-7154-4613-85bd-c2ead9f5b831"><p class="p">If the
property type is not the same in all input libraries, the property
is saved as type double in the merged library. (This differs from
the behavior without the index argument, in which property types
must match.)</p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id5913d307-850e-4eae-9d95-59666aa8a427"><p class="p">If duplicate
patterns have conflicting values for <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span>,
the value in the first found duplicate pattern is used. (This differs
from the behavior without the index argument, in which the minimum
property value is used.)</p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id31273d22-0130-4575-b853-73120c357e2b"><p class="p">If there is
no assigned property value for a unique pattern or a set of duplicate patterns,
the value in the merged library is assigned as follows, depending
on the choice of incr_max or first_available:</p>
<ul class="ul"><li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idfe9fc407-2990-4723-9541-b3f4e41b68e3"><p class="p">incr_max
— Assign sequential values starting with the largest value of <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> and
incrementing by 1. If the largest value is a floating point number,
it is truncated before incrementing. This is the default when “index <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span>”
is specified. </p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idddc887be-bec9-4953-b551-a5bfd5547b24"><p class="p">first_available
— Assign the first integer index value that is not assigned to another
pattern. </p>
</li>
</ul>
</li>
</ul>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id32c56994-faac-4fbe-bf82-c474a6fc2878">Property Handling During Merging</a>” for a discussion
of the default behavior and examples of both the default behavior
and the behavior with the index argument. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This utility merges one or more input PMDB libraries into a single
PMDB library by removing duplicate patterns. By default, patterns
are considered duplicate if the pattern shapes, layer extents, regions,
Don’t Care pattern layers, and markers are identical. If all pattern
orientations are allowed, patterns that differ only in orientation
are considered duplicate and are removed. Some options cause certain
pattern differences to be ignored, and this changes the definition
of a duplicate pattern. </p>
<p class="p">If patterns have Don’t Care pattern layers, the patterns must
have Don’t Care layers at the same layer index in order for the
patterns to be considered duplicates. The geometries on the Don’t Care
layers are not compared. If pattern shapes, layer extents, regions,
Don’t Care layers, and markers are identical between patterns, the
first pattern is saved to the merged library. </p>
<p class="p">Only exact patterns are evaluated for duplicate removal, meaning
any pattern with constraints (with the exception of cglobal) is
passed directly to the output library. </p>
<p class="p">Pattern precedence is determined by the order of patterns in
the library and the order of input libraries on the command line.
When duplicate patterns are found, the first pattern instance is considered
the primary pattern and takes precedence over all duplicate patterns,
termed secondary patterns.</p>
<p class="p">Conflicts occur when otherwise identical patterns have different
values of cglobal, attributes, properties, orientation, or comments.
The following table describes how the conflict is resolved. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id717df5ca-8112-429a-bee3-4fa4c8d72036" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.539in" /><col style="width:4.636in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e487"><p class="p">Pattern Feature</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e490"><p class="p">Conflict Resolution</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e487 "><p class="p">cglobal value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e490 "><p class="p">Use the larger cglobal value.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e487 "><p class="p">Custom attribute</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e490 "><p class="p">Text attribute: Keep the value from the
pattern that is encountered first and report the conflict in the
transcript. </p>
<p class="p">Numeric attribute: Keep the lowest value of the numeric attribute when
there is a conflict. </p>
<p class="p">If two attributes have the same name but different types, the
type of the attribute that is encountered first is used and a message
is written to the transcript. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e487 "><p class="p">Comments</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e490 "><p class="p">The comments from all duplicate patterns
are concatenated and saved to the pattern in the merged library.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e487 "><p class="p">Keys</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e490 "><p class="p">The keys from all duplicate patterns are
saved to the pattern in the merged library. </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e487 "><p class="p">Properties</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e490 "><p class="p">See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id32c56994-faac-4fbe-bf82-c474a6fc2878">Property Handling During Merging</a>”.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e487 "><p class="p">Orientation</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e490 "><p class="p">See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idbf049e9e-f3e0-4d01-85f9-379d156084b5">Pattern Orientation Handling During Merging</a>”.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">When
merging libraries, the tool only uses the layer definitions from
the first input library. It is highly important that layer names,
order, and number of layers are identical for all the input libraries.
An error is reported if the number of layers differ between input
libraries and the merge does not take place. </p>
<p class="p">When layer definitions differ,
patterns defined in subsequent libraries use the layer definitions from
the first input library of the merge operation, resulting in patterns
that do not apply to the intended layer and causing incorrect pattern
matches. For additional information, see “<a class="xref fm:HeadingAndPage" href="Concept_AboutMergingPatternLibraries_idff62007b.html#idff62007b-6a83-438b-8f86-be09fc84dfe5__Concept_AboutMergingPatternLibraries_idff62007b.xml#idff62007b-6a83-438b-8f86-be09fc84dfe5" title="You can merge two or more pattern libraries into one library. The merging process removes patterns that are duplicates. Combining libraries is useful because it reduces the number of pattern matching calls. However, care must be taken that the libraries being merged have the same layer list.">About Merging Pattern Libraries</a>”.</p>
</div>
<p class="p">The merge utility can also be run from the Calibre Pattern Matching
GUI; see “<a class="xref fm:HeadingAndPage" href="TaskTop_MergingPatternLibraries_id038449a8.html#id038449a8-30c6-4edf-a30d-b03ed3a09a9a__TaskTop_MergingPatternLibraries_id038449a8.xml#id038449a8-30c6-4edf-a30d-b03ed3a09a9a" title="You can merge two or more pattern libraries into one library using the Calibre Pattern Matching GUI. Merging removes duplicate patterns. By default, patterns are considered duplicate if the pattern shape, constraints, layer extents, regions, and markers are identical.">Merging Pattern Libraries Using the GUI</a>”.</p>
<p class="p">See these sections for detailed behavior:</p>
<ul class="ul"><li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id3bf050cb-4cb9-4a8a-ba90-07c3a86e36bf"><p class="p"><a class="xref fm:HeadingOnly" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id38ca036f-9279-4cb5-a53c-dfb478f07aa7">Resolving Pattern Name Conflicts</a></p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idfe0d0894-4c73-4b27-9585-44f8b5d45f11"><p class="p"><a class="xref fm:HeadingOnly" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idbf049e9e-f3e0-4d01-85f9-379d156084b5">Pattern Orientation Handling During Merging</a></p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id60c2ffe2-deb2-4a2e-a1be-8307c8d81049"><p class="p"><a class="xref fm:HeadingOnly" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id32c56994-faac-4fbe-bf82-c474a6fc2878">Property Handling During Merging</a></p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id6f374762-0743-488e-a81d-bff57a74b32d"><p class="p"><a class="xref fm:HeadingOnly" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id69d35963-d8ba-460c-b58c-e57b36c2d0bc">Marker Considerations</a></p>
</li>
</ul>
<div class="section Subsection" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id38ca036f-9279-4cb5-a53c-dfb478f07aa7"><h2 class="title Subheading sectiontitle">Resolving
Pattern Name Conflicts</h2><p class="p">By default, if unique (differing) patterns with the same name
are found in different input libraries, the pattern name from the
second library is prefixed with “<var class="keyword varname">lib2</var>_” when
the pattern is added to the merged output library, where <var class="keyword varname">lib2</var> is
replaced with the name of the second library. For example, if libA
and libB are merged, with libA listed first on the command line, and
both libraries have a unique pattern named mypat, then the merged
output library contains the patterns mypat (from libA) and libB_mypat
(from libB). If more than two libraries are merged, the corresponding
library name is used to resolve pattern naming conflicts. If a library name
has period (.) or other special character that is not allowed in
pattern names, the special character is replaced with an underscore
(_). </p>
<p class="p">You can specify a user-defined prefix string with the “conflict_prefix <span class="keyword ParameterName OptionalReplaceable">prefix_string</span>”
argument and value. Pattern renaming is done as described in the
previous paragraph using “<span class="keyword ParameterName OptionalReplaceable">prefix_string_</span>”
instead of “<var class="keyword varname">lib2</var>_”. For example with a <span class="keyword ParameterName OptionalReplaceable">prefix_string</span> of
“rename”, if libA and libB are merged and both libraries have a
unique pattern named mypat, then the merged output library contains
the patterns mypat (from libA) and rename_mypat (from libB). If
a third or subsequent library also has a unique pattern with the
same name, “_<var class="keyword varname">ordinal</var>” is appended to the pattern
name, where <var class="keyword varname">ordinal</var> starts at 1 and is incremented
for each library. For example, if four libraries are merged and
all have a unique pattern named mypat, the patterns in the merged
library are named mypat, rename_mypat, rename_mypat_1, and rename_mypat_2, corresponding
to the four input libraries.</p>
</div>
<div class="section Subsection" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idbf049e9e-f3e0-4d01-85f9-379d156084b5"><h2 class="title Subheading sectiontitle">Pattern
Orientation Handling During Merging</h2><p class="p">When all orientations of a pattern are allowed, patterns that
differ only in drawn orientation are considered duplicates. Pattern
orientation is specified on the <span class="ph uicontrol">Attributes</span> tab
in the GUI, and with the orient_detail reserved property name (see “<a class="xref fm:HeadingAndPage" href="Concept_ReservedPropertyNames_idfd32cbbf.html#idfd32cbbf-c9fa-439b-8b90-28e2874d94d5__Concept_ReservedPropertyNames_idfd32cbbf.xml#idfd32cbbf-c9fa-439b-8b90-28e2874d94d5" title="Reserved property names used internally by the Calibre Pattern Matching tool. The property value is assigned during a pattern matching run.">Reserved Property Names</a>”). </p>
<p class="p">If specific pattern orientations are allowed, the merged pattern
has a pattern orientation setting such that pattern matching results
in the same matches as the original patterns. Specifically, the merge
process can be summarized with the following two cases:</p>
<ul class="ul"><li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idb816094d-b397-447c-8e96-92d48bf1ef69"><p class="p"><span class="ph FontProperty HeadingLabel">Case A</span>:
Two patterns have the same geometries drawn in the same orientation,
but differing values of pattern orientation. </p>
<p class="p">Result: The merged pattern has the combined (OR’d) pattern orientations.
For example: </p>
<div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idefeccaba-f26a-4044-ac39-1e25d15406e9"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/merge_orient_A.png" /></div><br /></div>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id090fee49-d8ca-4cba-a2f7-cf50f2a6bcaa"><p class="p"><span class="ph FontProperty HeadingLabel">Case A</span>:
Two patterns have the same geometries, but they are drawn in differing orientations.</p>
<p class="p">Result: The primary pattern geometry is saved to the merged library.
The secondary pattern is rotated and/or flipped to match the primary
pattern and the pattern orientation setting is adjusted so that
the same matches result from the rotated/flipped pattern. The pattern
orientation of the primary pattern and the rotated/flipped secondary
pattern are combined and saved to the merged library. </p>
<div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idca08ef9a-076e-4e2c-802c-81e2d4636320"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/merge_orient_B.png" /></div><br /></div>
</li>
</ul>
</div>
<div class="section Subsection" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id32c56994-faac-4fbe-bf82-c474a6fc2878"><h2 class="title Subheading sectiontitle">Property
Handling During Merging</h2><p class="p">The merged library contains the complete set of all properties
defined in the input libraries. By default, property values are
assigned as follows:</p>
<ul class="ul"><li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__ide84553ad-9aac-4c50-83b4-d4e0271d87aa"><p class="p">If duplicate
patterns have conflicting values of a property, the smaller property
value is used. </p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id8e27d392-7254-48fb-84a1-884cb2360c73"><p class="p">If the source
of a pattern in the merged library did not have an assigned value
for a particular property, no property value is assigned for that
pattern in the merged library. </p>
</li>
</ul>
<p class="p">By default, an error occurs if two input libraries have a property
with the same name but different property types. You can use the <a class="xref fm:HeadingOnly" href="Command_Convert_id7448e4cb.html#id7448e4cb-3a41-413f-9cae-cc38cdb3c093__Command_Convert_id7448e4cb.xml#id7448e4cb-3a41-413f-9cae-cc38cdb3c093" title="Generates new pattern matching libraries (PMDBs) from libraries created with older versions of the Calibre Pattern Matching tool or saves the library in the Pattern Matching Reference Library (PMRL) format.">convert</a> utility
to change the property type. </p>
<p class="p">The default behavior for a specified property name can be changed
with the index argument set. This argument set is useful to assign
unique index values to all patterns in the merged library as a way
of tracking the source of a pattern match. See “<a class="xref fm:HeadingAndPage" href="Concept_BestPracticesForCalibrePatternMatching_id8e956535.html#id8e956535-5b78-4cd3-97cf-739ab62b8832__id648501cf-5e41-45cf-aba0-2ebfe8a24e2b">Identifying the Source Pattern</a>”.</p>
<p class="p">For example, suppose two libraries <span class="ph filepath">lib_a.pmdb</span> and <span class="ph filepath">lib_b.pmdb</span> have
the patterns in the following table, with the listed values for
property pID:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id8d70245b-c8e8-4127-86c0-eb730db108d7" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.823in" /><col style="width:1.764in" /><col style="width:2.264in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e703"><p class="p">lib_a</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e706"><p class="p">lib_b</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e709"><p class="p">Comment</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e703 "><p class="p">pat_1: pID=1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e706 "><p class="p">pat_1: pID: no value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e709 "><p class="p">Duplicate patterns</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e703 "><p class="p">pat_2: pID: no value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e706 "><p class="p">pat_2: pID: no value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e709 "><p class="p">Duplicate patterns</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e703 "><p class="p">pat_3: pID=33</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e706 "><p class="p">pat_3: pID=23</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e709 "><p class="p">Duplicate patterns</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e703 "><p class="p">uniq_1: pID=13</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e706 "><p class="p">pat_4: pID: no value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e709 "><p class="p">Unique patterns</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The merged library has the following patterns, where library
lib_a the first input library in the merge operation. The pID property
value depends on the arguments used (columns 2, 3, and 4). </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__ide74df7ad-8642-4ed7-a366-0de876c583a0" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:0.942in" /><col style="width:1.168in" /><col style="width:1.772in" /><col style="width:2.293in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e763"><p class="p">Patterns</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e766"><p class="p">Default merge</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e769"><p class="p">index pID incr_max</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e772"><p class="p">index pID first_available</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e763 "><p class="p">pat_1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e766 "><p class="p">pID=1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e769 "><p class="p">pID=1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e772 "><p class="p">pID=1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e763 "><p class="p">pat_2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e766 "><p class="p">pID: no value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e769 "><p class="p">pID=34</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e772 "><p class="p">pID=2</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e763 "><p class="p">pat_3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e766 "><p class="p">pID=23</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e769 "><p class="p">pID=33</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e772 "><p class="p">pID=33</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e763 "><p class="p">uniq_1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e766 "><p class="p">pID=13</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e769 "><p class="p">pID=13</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e772 "><p class="p">pID=13</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e763 "><p class="p">pat_4</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e766 "><p class="p">pID: no value</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e769 "><p class="p">pID=35</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e772 "><p class="p">pID=3</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Comments:</p>
<ul class="ul"><li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id5a5e4c2e-9863-4bb9-881f-4a903f77136d"><p class="p">Patterns
pat_1 and uniq_1 have assigned pID values with no conflicts, so
the value in the merged library is the same in all cases.</p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idb7235d00-8a14-49b0-8925-d16f115abfff"><p class="p">Patterns pat_2
and pat_4 have no assigned pID value in any input library, so there
is no assigned value in the merged library with the default behavior.
When “index pID incr_max” is specified, values are assigned, incremented
from the largest value of pID (33). When “index pID first_available”
is specified, values are assigned using the first available integer
values (2 and 3). </p>
</li>
<li class="li" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idaae8203f-2852-46ba-b1c1-65babd4dc461"><p class="p">Pattern pat_3
has a pID value of 33 in lib_a, and a value of 23 in lib_b. With
the default behavior, the merged pattern has a value of 23, the
lowest value. When index is specified, the merged pattern has a
value of 33, the value from the pattern in the first library (lib_a). </p>
</li>
</ul>
</div>
<div class="section Subsection" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id69d35963-d8ba-460c-b58c-e57b36c2d0bc"><h2 class="title Subheading sectiontitle">Marker
Considerations</h2><p class="p">Both ignore_markers and gen_all_markers can be used together
in order to exclude the secondary pattern while removing only the
conflicting (non-unique or non-identical) secondary markers from
the generated superset of markers for the primary pattern. This
is different from ignore_markers, where all markers from a secondary
pattern are removed. For an example of how gen_all_markers and ignore_markers
can affect the output of the pdl_lib_mgr merge command, see “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idaf69ef2e-523d-4add-b832-ea48594d6a47">Example 2</a>”. </p>
<p class="p">The following table describes the behavior of different options
when input patterns differ only in their markers. The second column
in which “markers are unique or identical” assumes at least one
unique marker between the pattern marker sets so that the marker
sets are different. Completely identical patterns (including identical
marker sets) result in the removal of the secondary pattern by default.
Properties in the secondary pattern are retained in the merged pattern.
The option merge_markers is not present in this table as it depends
on having identical names for custom type markers.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idd9d59b78-95b4-40e7-96df-ae39255f5858" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Behavior
of pdl_lib_mgr merge With Marker-Related Options</span></caption><colgroup><col style="width:1.500in" /><col style="width:2.500in" /><col style="width:2.500in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e873"><p class="p">Options</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e876"><p class="p">Markers unique or identical</p>
<p class="p">(at least one unique marker)</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e881"><p class="p">Markers not unique or identical</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e873 "><p class="p">default</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e876 "><p class="p">Saves separate patterns</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e881 "><p class="p">Saves separate patterns</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e873 "><p class="p">ignore_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e876 "><p class="p">Removes secondary pattern</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e881 "><p class="p">Removes secondary pattern</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e873 "><p class="p">gen_all_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e876 "><p class="p">Generates a superset of unique markers,
and the secondary pattern is removed</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e881 "><p class="p">Saves separate patterns</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e873 "><p class="p">gen_all_markers</p>
<p class="p">ignore_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e876 "><p class="p">Generates a superset of unique markers,
and the secondary pattern is removed</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e881 "><p class="p">Generates a superset of unique markers,
non-unique markers from secondary patterns are not saved</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">When gen_all markers and merge_markers are specified together,
the behavior is as with gen_all_markers, but customer markers with
the same name are merged. See “<a class="xref fm:HeadingAndPage" href="#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idaf69ef2e-523d-4add-b832-ea48594d6a47">Example 2</a>”.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id57bff8c8-0a0b-4380-b34f-f94907e02870"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">The following example merges <span class="ph filepath">pmfile1.pmdb</span> and <span class="ph filepath">pmfile2.pmdb</span> files
and outputs the merged PMDB file. This command line invocation also
automatically runs the compilation step that creates the DMACRO
file that is used in your main SVRF rule file for the pattern matching
run.</p>
<pre class="pre codeblock leveled"><code>$ pdl_lib_mgr merge input pmfile1.pmdb input pmfile2.pmdb output new.pmdb compile_output new_dmacro.svrf 
 </code></pre></div>
<div class="section Subsection" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idaf69ef2e-523d-4add-b832-ea48594d6a47"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">This example presents several cases where two otherwise identical
patterns have different markers, and how using ignore_markers and
gen_all_markers impacts the output. In these cases, Pattern 1 is
the primary pattern, and Pattern 2 is the secondary pattern.</p>
<h2 class="title Subheading sectiontitle">Case 1</h2><p class="lines ApplCommand">Pattern Inputs<br />
Pattern 1<br />
     Marker A (bbox)<br />
     Marker C (custom L-shape)<br />
Pattern 2<br />
     Marker B (bbox10)<br />
     Marker C (custom L-shape) </p>
<p class="p">In this case Pattern 1 and Pattern 2 have unique or identical
markers: Marker A and Marker B are unique and Marker C for both
patterns is identical. This means that gen_all_markers can remove
the secondary pattern and generate a superset of the unique markers
for the primary pattern. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id7826c603-7324-43f3-9a5b-c332713502e4" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.457in" /><col style="width:2.444in" /><col style="width:2.600in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e966"><p class="p">Arguments</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e969"><p class="p">Output Merged Library</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e972"><p class="p">Comment</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e966 "><p class="p">ignore_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e969 "><p class="p">Pattern 1</p>
<p class="p BlockIndent">Marker A (bbox)</p>
<p class="p BlockIndent">Marker C (custom L-shape)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e972 "><p class="p">The patterns are considered duplicates because
the secondary pattern’s markers are ignored. The secondary (duplicate)
pattern is removed with its markers.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e966 "><p class="p">gen_all_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e969 "><p class="p">Pattern 1</p>
<p class="p BlockIndent">Marker A (bbox) </p>
<p class="p BlockIndent">Marker B (bbox10)</p>
<p class="p BlockIndent">Marker C (Custom L-shape)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e972 "><p class="p">The markers are unique or identical, so
there are no conflicting markers. A superset of unique markers is generated.
The secondary pattern is removed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e966 "><p class="p">merge_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e969 "><p class="p">Same as pattern input:</p>
<p class="p">Pattern 1</p>
<p class="p BlockIndent">Marker A (bbox)</p>
<p class="p BlockIndent">Marker C (custom L-shape)</p>
<p class="p">Pattern 2</p>
<p class="p BlockIndent">Marker B (bbox10)</p>
<p class="p BlockIndent">Marker C (custom L-shape)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e972 "><p class="p">While Marker C for both patterns consist
of a custom shape marker, Pattern 1 includes Marker A and Pattern
2 includes Marker B. Since the names of the markers are not identical,
both patterns are saved in the output.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e966 "><p class="p">gen_all_markers ignore_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e969 "><p class="p">Pattern 1</p>
<p class="p BlockIndent">Marker A (bbox) </p>
<p class="p BlockIndent">Marker B (bbox10)</p>
<p class="p BlockIndent">Marker C (Custom L-shape)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e972 "><p class="p">The markers are unique or identical, so
there are no conflicting secondary markers to ignore. A superset
of unique markers is generated.The secondary pattern is removed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e966 "><p class="p">gen_all_markers merge_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e969 "><p class="p">Pattern 1</p>
<p class="p BlockIndent">Marker A (bbox)</p>
<p class="p BlockIndent">Marker B (bbox10)</p>
<p class="p BlockIndent">Marker C (Custom L-shape)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e972 "><p class="p">A superset of markers is generated, and
precedence is given for computed markers. Custom type markers with
the same name are merged.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p"> </p>
<h2 class="title Subheading sectiontitle">Case 2</h2><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idab66505d-b6df-4eb4-b556-7c3b1622d579"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/patterns_merge.png" /></div><br /></div>
<p class="p">In this case Pattern1 and Pattern2 do not have unique or identical
markers: Marker A is not a unique name as it is used in both patterns,
and is also not identical due to the difference in custom shape.
This means gen_all_markers does not remove the secondary pattern.
However, when gen_all_markers and ignore_markers are specified together,
the secondary pattern is removed and the primary pattern is output
with the generated set of unique markers—in this case Marker A from
the secondary pattern is ignored.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id591bcd2f-d1f2-4dfb-a234-6bf91c1df394" class="table" frame="border" border="1" rules="cols"><colgroup><col style="width:1.542in" /><col style="width:2.777in" /><col style="width:2.182in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e1075"><p class="p">Arguments</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e1078"><p class="p">Output</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d2280e1081"><p class="p">Comment</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1075 "><p class="p">default</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1078 "><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id81c8ee52-93d6-4e92-a5e3-d0e176ce775e"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/default_markers.png" /></div><br /></div>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1081 "><p class="p">The patterns are not considered duplicate
because they have different markers.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1075 "><p class="p">ignore_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1078 "><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id1636e481-8b28-46fa-bb71-1c2e043635e8"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/ignore_markers.png" /></div><br /></div>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1081 "><p class="p">Successful pattern merge.</p>
<p class="p">The patterns are considered duplicates because the markers for
Pattern2 (the secondary pattern) are ignored. The secondary (duplicate)
pattern is removed with its markers.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1075 "><p class="p">gen_all_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1078 "><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id3de68221-89bf-4345-8111-ec50c1892f61"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/default_markers.png" /></div><br /></div>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1081 "><p class="p">Marker A is used in both patterns and is
not identical, so a superset of unique markers can not be generated.
Both patterns are saved in the output.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1075 "><p class="p">merge_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1078 "><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__idbba195f9-f807-42e9-b848-b24ee9167f3c"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/default_markers.png" /></div><br /></div>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1081 "><p class="p">While Marker A for both patterns consists
of a custom shape marker, Pattern 2 includes marker B. Since Pattern1
does not contain marker B, both patterns are saved in the output.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1075 "><p class="p">gen_all_markers ignore_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1078 "><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id09d6abb0-d204-4509-b695-450de772f228"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/gen_all_ignore_markers.png" /></div><br /></div>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1081 "><p class="p">Successful pattern merge.</p>
<p class="p">Marker A for the secondary pattern is conflicting, so it is not
included in the superset of unique markers generated for the pattern.
The secondary pattern is removed.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1075 "><p class="p">gen_all_markers merge_markers</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1078 "><div class="fig fignone" id="id35ea096e-ab5e-4d4e-9ad9-9d152801e275__id3f052f1f-dc7c-448c-8179-8bced7b937fd"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/gen_merge_markers.png" /></div><br /></div>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d2280e1081 "><p class="p">Successful pattern merge.</p>
<p class="p">A superset of markers is generated, and precedence is given for
computed markers. Custom type markers with the same name are merged.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PdlLibMgrUtilityOptions_id144b9f79.html" title="The pdl_lib_mgr has several different command line options.">pdl_lib_mgr Utility Options</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pmatch_user"
                DocTitle = "Calibre® Pattern Matching User’s Manual"
                PageTitle = "merge"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Merge_id35ea096e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Pattern Matching User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>