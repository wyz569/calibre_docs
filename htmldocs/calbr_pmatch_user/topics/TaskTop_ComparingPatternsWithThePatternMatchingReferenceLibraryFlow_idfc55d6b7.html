<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Comparing Patterns with the Pattern Matching Reference Library Flow" />
<meta name="abstract" content="The DFM Pattern Classify operation with the REFERENCE_LIB keyword compares patterns in a reference library to patterns captured from a layout." />
<meta name="description" content="The DFM Pattern Classify operation with the REFERENCE_LIB keyword compares patterns in a reference library to patterns captured from a layout." />
<meta name="prodname" content="Calibre Pattern Matching User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pmatch_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/17/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Pattern Matching User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Comparing Patterns with the Pattern Matching Reference Library Flow</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Comparing Patterns with the Pattern Matching Reference Library Flow" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Comparing Patterns with the Pattern Matching Reference Library
Flow</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">The DFM Pattern Classify operation with
the REFERENCE_LIB keyword compares patterns in a reference library
to patterns captured from a layout. </p>
<p class="p">For example purposes, the following procedure assumes patterns
are captured from a layout using a seed or hotspot layer. The layout
and seed layer correspond to the updated design that you want to
compare to a reference design. </p>
<p class="p">The rule file makes use of the is_new_pat property attached to
the output shapes from the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Pattern Classify', 'svrf_ur'); return false;">DFM Pattern Classify</a> operation.
Review the command reference for details on this property and the use
of the REFERENCE_LIB keyword. </p>
<p class="p">The optional OUTREF_ALL keyword is used to create a new reference
library file that contains the patterns in the input reference library
plus the new patterns found in the current layout.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__idb41e4d08-0937-43c7-92f2-e1ebc48828d4"><p class="p">A reference
library in Pattern Matching Reference Library (PMRL) format. See “<a class="xref fm:HeadingAndPage" href="TaskTop_CreatingAPatternMatchingReferenceLibraryPmrl_id2001eed9.html#id2001eed9-1ea9-47e1-a8dd-1b69bb7bd1e6__TaskTop_CreatingAPatternMatchingReferenceLibraryPmrl_id2001eed9.xml#id2001eed9-1ea9-47e1-a8dd-1b69bb7bd1e6" title="The Pattern Matching Reference Library (PMRL) file is created from an existing pattern matching database (PMDB) library using the pdl_lib_mgr convert utility. The PMDB can be created using the DFM Pattern Classify or DFM Pattern Capture operations. The reference library is used in the PMRL flow to compare patterns in the reference library with patterns captured using the DFM Pattern Classify operation.">Creating a Pattern Matching Reference Library (PMRL)</a>”. </p>
</li>
<li class="li" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id617d9763-3195-44a2-8633-c207e59fc281"><p class="p">A layout in
a format supported by Calibre. </p>
</li>
<li class="li" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id2fb43b70-5e66-4c5b-b6ae-fc2e4cc4d354"><p class="p">A layer that
can be used as the seed (hotspot) layer in a DFM Pattern Classify
operation. </p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id8f62180f-8362-46a0-bea5-dc478d2b0d62"><span class="ph cmd">Use the
DFM Pattern Classify operation with the REFERENCE_LIB keyword to capture
new patterns and compare them to an existing reference library. </span><div class="itemgroup info StepInfo"><p class="p">The HALO value should match what was used to capture
the PMDB that was used to create the reference library (PMRL). The
following rule file corresponds to that used in “<a class="xref fm:HeadingAndPage" href="TaskTop_CreatingAPatternMatchingReferenceLibraryPmrl_id2001eed9.html#id2001eed9-1ea9-47e1-a8dd-1b69bb7bd1e6__TaskTop_CreatingAPatternMatchingReferenceLibraryPmrl_id2001eed9.xml#id2001eed9-1ea9-47e1-a8dd-1b69bb7bd1e6" title="The Pattern Matching Reference Library (PMRL) file is created from an existing pattern matching database (PMDB) library using the pdl_lib_mgr convert utility. The PMDB can be created using the DFM Pattern Classify or DFM Pattern Capture operations. The reference library is used in the PMRL flow to compare patterns in the reference library with patterns captured using the DFM Pattern Classify operation.">Creating a Pattern Matching Reference Library (PMRL)</a>”. </p>
<p class="p">The DFM Pattern Classify operation attaches the class and is_new_pat
properties to the output shapes from the operation. These two properties
are used to create a derived layer new_hs that has hotspot locations
corresponding to new patterns. </p>
<pre class="pre codeblock"><code>LAYOUT PATH "new_layout.gds"
LAYOUT SYSTEM GDS
LAYOUT PRIMARY "top"

DRC RESULTS DATABASE drc_compare_results
DRC CELL NAME YES CELL SPACE XFORM</code></pre><pre class="pre codeblock"><code>LAYER M2 18
LAYER pat_hotspot 1001</code></pre><pre class="pre codeblock"><code>hs_out = DFM PATTERN CLASSIFY 
	LAYER_TARGET M2 
	SEED pat_hotspot HALO 1.45 
	REFERENCE_LIB  ref_lib.pmrl
	OUTREF_ALL new_reflib.pmrl 
	// OUTFILE_NEW new_lib.pmdb
	// OUTFILE_COMMON common_lib.pmdb</code></pre><pre class="pre codeblock"><code>// new layer with only the output shapes that correspond to 
// new (is_new_pat == 1) and valid (class != -1) patterns
new_hs = DFM Property hs_out 
	[new_pat = PROPERTY(hs_out, is_new_pat)] == 1
	[ - = PROPERTY(hs_out, class)] != -1</code></pre><pre class="pre codeblock"><code>new_hs_pats {
@ RVE Show Layers: 18 1001
	DFM Copy new_hs
	DFM RDB new_hs compare.rdb CELL SPACE CHECKNAME "%_l_" 
		COMMENT "@ RVE Show Layers: 18 1001"
}</code></pre><pre class="pre codeblock"><code>hs_out {
@ RVE Show Layers: 18 1001
	DFM Copy hs_out
	DFM RDB hs_out compare.rdb CELL SPACE CHECKNAME "%_l_" 
		COMMENT "@ RVE Show Layers: 18 1001"
}</code></pre><p class="p">The check new_hs_pats includes only the shapes that correspond
to new patterns. The check hs_out contains all shapes on the seed
layer, including those that did not result in a valid pattern. The
RVE Show Layers check text comment is used to control the visibility
of the design layers when highlighting the results. See “<a class="xref Link" href="../../calbr_rve_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'RVE Show Layers', 'calbr_rve_user'); return false;">RVE Show Layers</a>”
in the <span class="ph FontProperty ManualTitle">Calibre RVE User’s Manual</span>. </p>
<p class="p">The DFM Pattern Classify keywords OUTFILE_NEW and OUTFILE_COMMON specify
to create pattern libraries with the new and common patterns between
the current capture and the reference library. Uncomment these lines
in the preceding example if you want to compare results by viewing
a pattern library.</p>
</div></li>
<li class="li step stepexpand" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id3825488b-1676-4cd4-82fb-2fd0c7722f92"><span class="ph cmd">Run Calibre
with the rule file:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>calibre -drc -hier rules_pmrl_compare &gt;&amp; log</code></pre></div></li>
<li class="li step stepexpand" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id0f786c78-0493-4f9e-95d0-acb63cec33b9"><span class="ph cmd">Open the
layout in Calibre DESIGNrev and the results in Calibre RVE for DRC:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>calibredrv new_layout.gds -rve -drc drc_compare_results compare.rdb</code></pre><p class="p">For the example shown, there is one new pattern in the check
new_hs. There are nine pattern locations in the check hs_out, but
one of the locations has the class property equal to ‑1, which indicates
that a valid pattern was not found at the location. </p>
<div class="fig fignone" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id20c7f25a-ff97-4264-9499-8f8d670c6c4a"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/pmrl_compare_rve.png" /></div><br /></div>
</div></li>
<li class="li step stepexpand" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__id279dd834-424a-42d5-893b-484e39b79e4a"><span class="ph cmd">Highlight
the results from both the new_hs_pats and hs_out checks. </span><div class="itemgroup info StepInfo"><p class="p">The highlights from new_hs_pats show the locations
of new patterns. The highlights from hs_out show the output shapes
from the DFM Pattern Classify operation, which are the same as the
shapes on the seed layer. The image in the following figure is zoomed into
the region around the new pattern location. </p>
<div class="fig fignone" id="idfc55d6b7-c7b8-47c0-97c6-79f96bab8bea__idb3aebb10-d215-488b-907f-8fa6b7a1f431"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Comparing
Pattern Libraries with the PMRL Flow</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/pmrl_compare_drv.png" /></div><br /></div>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">New pattern locations are determined by highlighting the output
shapes that have the is_new_pat property equal to 1 and have the
class property not equal to ‑1. Depending on your design flow, these
locations may need more analysis and inspection. </p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CalibrePatternMatchingReferenceLibraryFlow_id0c88d80b.html" title="The Calibre Pattern Matching Reference Library (PMRL) flow enables you to efficiently compare a reference pattern library to patterns captured from a layout using the DFM Pattern Classify operation.">Calibre Pattern Matching Reference Library Flow</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pmatch_user"
                DocTitle = "Calibre® Pattern Matching User’s Manual"
                PageTitle = "Comparing Patterns with the Pattern Matching Reference Library Flow"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ComparingPatternsWithThePatternMatchingReferenceLibraryFlow_idfc55d6b7.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Pattern Matching User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>