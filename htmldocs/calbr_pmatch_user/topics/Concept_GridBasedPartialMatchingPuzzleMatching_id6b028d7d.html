<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Grid-Based Partial Matching (Puzzle Matching)" />
<meta name="abstract" content="Partial matching identifies regions in a layout that match an input pattern within a given tolerance. Grid-based partial matching, or puzzle matching, divides the pattern into a grid of nine windows and the matching criteria is calculated on a per-window basis. A match candidate is located by exact match to at least one window, then a puzzle match is returned if a specified minimum number of windows match within a specified tolerance." />
<meta name="description" content="Partial matching identifies regions in a layout that match an input pattern within a given tolerance. Grid-based partial matching, or puzzle matching, divides the pattern into a grid of nine windows and the matching criteria is calculated on a per-window basis. A match candidate is located by exact match to at least one window, then a puzzle match is returned if a specified minimum number of windows match within a specified tolerance." />
<meta name="prodname" content="Calibre Pattern Matching User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pmatch_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/17/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Pattern Matching User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id6b028d7d-7389-4016-8fcf-14048b057c5c" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Grid-Based Partial Matching (Puzzle Matching)</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Grid-Based Partial Matching (Puzzle Matching)" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id6b028d7d-7389-4016-8fcf-14048b057c5c">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Grid-Based Partial
Matching (Puzzle Matching)</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">Partial matching identifies regions
in a layout that match an input pattern within a given tolerance.
Grid-based partial matching, or puzzle matching, divides the pattern
into a grid of nine windows and the matching criteria is calculated
on a per-window basis. A match candidate is located by exact match
to at least one window, then a puzzle match is returned if a specified minimum
number of windows match within a specified tolerance.</span>
</div>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Puzzle matching is only intended for debugging
on a small area of the layout. It is not a substitute for pattern
matching with appropriately defined pattern constraints. In particular, puzzle
matching may not find all locations of a puzzle match if a suitable
match candidate is not identified. </p>
</div>
<p class="p">Puzzle matching is enabled in the CMACRO options string with
the ‑puzzle_matcher option, which has this syntax:</p>
<p class="p">The patterns used for puzzle matching must be
exact TEM patterns with only Manhattan shapes and with an extent
of at least 12 dbu by 12 dbu.</p>
<p class="p">-puzzle_matcher ‘{’ match_criteria <span class="keyword ParameterName OptionalReplaceable">num_window</span> <span class="keyword ParameterName OptionalReplaceable">tolerance</span> [others <span class="keyword ParameterName OptionalReplaceable">other_tolerance</span>] [fixed_center
| center_coverage <span class="keyword ParameterName OptionalReplaceable">center_tolerance</span>]
[corner_coverage <span class="keyword ParameterName OptionalReplaceable">corner_tolerance</span>] [center_size <span class="keyword ParameterName OptionalReplaceable">size</span>]
[fixed_layer ‘{’ <span class="keyword ParameterName OptionalReplaceable">layer_name</span> … ‘}’]
[no_overlap] ‘}’</p>
<ul class="ul"><li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id68d9b509-0cba-4e6e-a60a-24ab1f6ca075"><p class="p">match_criteria <span class="keyword ParameterName OptionalReplaceable">num_window</span> <span class="keyword ParameterName OptionalReplaceable">tolerance</span> —
Required parameters that specify the criteria for a puzzle match: </p>
<ul class="ul"><li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idb9f2bc9f-57fe-4f7f-b7e3-4b665a34b247"><p class="p"><span class="keyword ParameterName OptionalReplaceable">num_window</span> —
The minimum number of windows that must match within the specified
tolerance in order to qualify the layout region as a puzzle match. </p>
<p class="p">If center_coverage and/or corner_coverage is specified, windows
that are matched for those options do not contribute to the <span class="keyword ParameterName OptionalReplaceable">num_window</span> match
count. The maximum <span class="keyword ParameterName OptionalReplaceable">num_window</span> value
depends on the options center_coverage and corner_coverage: </p>
<ul class="ul"><li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idb5e50e39-bf22-4a11-ac32-9889c9670276"><p class="p">neither
option: 1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 9</p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idfe4425ee-d20b-417f-a5bb-14938aa2c450"><p class="p">center_coverage:
1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 8</p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__ida6fb94f5-b18f-49e7-bf46-78d089f4c019"><p class="p">corner_coverage:
1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 5</p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id372c3898-1be0-4867-989b-011c872bea6f"><p class="p">corner_coverage
and center_coverage: 1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 4</p>
</li>
</ul>
<p class="p">If an invalid <span class="keyword ParameterName OptionalReplaceable">num_window</span> value
is used, a run-time error message is issued and the run is aborted. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id2f0030c4-db9f-44c6-8deb-e1f4e265a36a"><p class="p"><span class="keyword ParameterName OptionalReplaceable">tolerance</span> —
The area tolerance for a match within each window, specified as
a value from 0 to 1, where a value of 1 indicates a 100% match.
The <span class="keyword ParameterName OptionalReplaceable">tolerance</span> is compared
to the match_value per window, calculated as </p>
<pre class="pre codeblock leveled"><code>1 - |Area(pattern_layer) - Area(design_layer)|/Area(window)</code></pre><p class="p">In order for a window to qualify as a match, the window’s match
value for each pattern layer must meet the tolerance value. </p>
</li>
</ul>
<p class="p">See the section “<a class="xref fm:HeadingAndPage" href="#id6b028d7d-7389-4016-8fcf-14048b057c5c__id3841d77c-c5d4-4382-804e-0ee22f8c13ba">Using the center_coverage, corner_coverage, others, and fixed_center Options</a>” for details
on using those options to define more precise control of the area
tolerance. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id3bf9c65e-e795-4dc3-968b-35fcb8d63611"><p class="p">others <span class="keyword ParameterName OptionalReplaceable">other_tolerance</span> —
The area tolerance for the windows that are not counted toward the
“<span class="keyword ParameterName OptionalReplaceable">num_window</span> <span class="keyword ParameterName OptionalReplaceable">tolerance</span>”
criteria. By default, <span class="keyword ParameterName OptionalReplaceable">other_tolerance</span> is
zero.</p>
<p class="p">For example, {match_criteria 5 0.8 others 0.5} specifies that
5 windows must match with 0.8 area tolerance and the remaining 4
windows must match with 0.5 area tolerance. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id6e2c237c-7cad-4718-a666-0985f98fc14a"><p class="p">fixed_center
— Specifies that the center window of the grid must match exactly. </p>
<p class="p">May not be specified with center_coverage.</p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idfc1e39be-84f7-437b-865f-59bdad2542eb"><p class="p">center_coverage <span class="keyword ParameterName OptionalReplaceable">center_tolerance</span> —
Specifies the area tolerance for the center window as a value from
0 to 1. The center window must match within the <span class="keyword ParameterName OptionalReplaceable">center_tolerance</span> for the
layout region to qualify as a puzzle match. See <span class="keyword ParameterName OptionalReplaceable">tolerance</span> for
the definition of area tolerance.</p>
<p class="p">For example, the center_coverage option can be used to specify
a higher area tolerance for the center window:</p>
<pre class="pre codeblock"><code>-puzzle_matcher {match_criteria 5 0.85 center_coverage 0.95}</code></pre><p class="p">A puzzle match must have the center window match at 95%, and
5 other windows match at 85%. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id3e653610-dab9-40a8-a47d-15d2364ad63c"><p class="p">corner_coverage <span class="keyword ParameterName OptionalReplaceable">corner_tolerance</span> —
Specifies the area tolerance for the corner windows as a value from
0 to 1. All four corner windows must match within the <span class="keyword ParameterName OptionalReplaceable">corner_tolerance</span> for
the layout region to qualify as a puzzle match. See <span class="keyword ParameterName OptionalReplaceable">tolerance</span> for the
definition of area tolerance.</p>
<p class="p">For example, the corner_coverage option can be used to specify
a lower area tolerance for the corner windows:</p>
<pre class="pre codeblock"><code>-puzzle_matcher {match_criteria 3 0.95 corner_coverage 0.5}</code></pre><p class="p">A puzzle match must have the 4 corner windows match at 50%, and
3 other windows match at 95%. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id07790a33-8f6a-487c-b38d-faba486d0c1e"><p class="p">center_size <span class="keyword ParameterName OptionalReplaceable">size</span> —
Specifies that the center window of the grid is of width and height <span class="keyword ParameterName OptionalReplaceable">size</span> in
user units. The default is to use a grid of nine approximately equal
windows. </p>
<div class="fig fignone" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id44bafc11-1ab9-4c6b-9ac6-863e36edc39a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Grid for
Puzzle Matching</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/puzzle_grid.png" /></div><br /></div>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">size</span> should
be less than or equal to half the pattern extent in either direction
for accurate operation. A warning is issued if this recommendation
is not met. </p>
<p class="p">An error occurs if the <span class="keyword ParameterName OptionalReplaceable">size</span> value
is greater than or equal to the pattern extent in either direction
for any pattern in the library.</p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idd078b30d-147a-49b6-a447-6066c85706e5"><p class="p">fixed_layer
‘{’ <span class="keyword ParameterName OptionalReplaceable">layer_name</span> …
‘}’ — Specifies a list of one or more pattern layers that must match
exactly in all windows.</p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idcd6e908f-2353-4f58-959d-0acc6d86e762"><p class="p">no_overlap
— Specifies to choose the best match from overlapping puzzle matches
in a region. See “<a class="xref fm:HeadingAndPage" href="#id6b028d7d-7389-4016-8fcf-14048b057c5c__id36004c41-d07c-4bcd-988b-32a99d52ce52">Using no_overlap to Eliminate Overlapping Matches</a>”.</p>
<p class="p">The default is to output all qualified puzzle matches. </p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id423e322a-26c8-4b1a-86c1-09d354f0a743"><h2 class="title Subheading sectiontitle">Basic Example</h2><p class="p">Consider the following pattern and layout region to be checked
with grid-based puzzle matching:</p>
<div class="fig fignone" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idbdb34d1f-e9f1-4bac-8ba4-ddf5bdd8ff8f"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Puzzle
Matching Basic Example</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/puzzle_basic.png" /></div><br /></div>
<p class="p">The pattern extent is divided into nine windows, taking into
account the optional center_size specification. The match value
is calculated for each window as follows: </p>
<pre class="pre codeblock"><code>match_value = 1 - |Area(pattern_layer) - Area(design_layer)|/Area(window)</code></pre><p class="p">A layout region is considered a puzzle match if the following
is true:</p>
<ul class="ul"><li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__ide2748970-d31c-4e8c-a194-7db7ed192cb2"><p class="p">At least
one window containing a pattern edge or vertex is an exact match
(satisfied by windows 1, 4, and 5 in the preceding figure). </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idd47295b4-2f59-461c-b779-9a3678330df4"><p class="p">At least <span class="keyword ParameterName OptionalReplaceable">num_window</span> windows
have a match_value greater than or equal to <span class="keyword ParameterName OptionalReplaceable">tolerance</span>. Windows
that are empty in both the pattern and design have a match_value
of 1. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__ida3a0a0e9-af30-46a5-8c73-9e14e2919f02"><p class="p">If fixed_center
is specified, the center window must be an exact match. </p>
</li>
<li class="li" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__idde1b06ce-cae3-4da5-8898-d62f4ada29f2"><p class="p">If fixed_layer
is specified, the specified layers must match exactly in all windows.</p>
</li>
</ul>
<p class="p">When using puzzle matching, the compiled pattern must include
matched layer marker output, which can be added when the pattern
is compiled. See “<a class="xref fm:HeadingAndPage" href="TaskTop_SettingUpAndRunningPartialMatching_idc3fdac1d.html#idc3fdac1d-efb1-4aa5-a4cd-bd7e35e89594__TaskTop_SettingUpAndRunningPartialMatching_idc3fdac1d.xml#idc3fdac1d-efb1-4aa5-a4cd-bd7e35e89594" title="Partial matching can be used to debug a pattern that does not match where it is expected to match. Partial matching requires a pattern library compiled with appropriate options. Partial matching is specified with CMACRO options in the rule file. The output of a partial matching run is the per-layer XOR difference between the pattern layers and the design layers in the layout regions that meet the partial matching criteria.">Setting Up and Running Partial Matching</a>”. Unlike
in standard pattern matching, the matched layer marker output is the
XOR of the pattern layer and the design layer in the region of the
puzzle match. </p>
<p class="p">The following CMACRO call and rule check are used with the pattern
and layout shown in <a class="xref fm:Figure" href="#id6b028d7d-7389-4016-8fcf-14048b057c5c__idbdb34d1f-e9f1-4bac-8ba4-ddf5bdd8ff8f">Figure 2</a>. The compiled pattern
library my_lib has only one marker output—the matched layer marker
which is written to the derived layer xor_out.</p>
<pre class="pre codeblock leveled"><code>CMACRO pm::my_lib design_layer "-puzzle_matcher {match_criteria 7 0.8}"
						xor_out

match_xor {COPY xor_out}</code></pre><p class="p">The match_criteria specifies that at least 7 windows must have
a match_value of 0.8 or greater. For the pattern and layout in the
example, all but two windows (6 and 9) are an exact match, so puzzle
matching returns a match. For this example, the match value for
windows 6 and 9 is not relevant. The results of the rule check match_xor
contain the XOR difference between the pattern layer and the design
layer, as shown in <a class="xref fm:Figure" href="#id6b028d7d-7389-4016-8fcf-14048b057c5c__idbdb34d1f-e9f1-4bac-8ba4-ddf5bdd8ff8f">Figure 2</a>.</p>
</div>
<div class="section Subsection" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__ide0291b4b-8629-4c8b-a2e0-0ce7fb19e037"><h2 class="title Subheading sectiontitle">Reducing
False Matches</h2><p class="p">The options fixed_center and center_size can be used to reduce
the possibility of false matches, especially when the <span class="keyword ParameterName OptionalReplaceable">tolerance</span> and/or <span class="keyword ParameterName OptionalReplaceable">num_window</span> values
are small. </p>
<p class="p">For example, consider the pattern and layout region shown in
the following figure. The CMACRO options string was “-puzzle_matcher
{match_criteria 7 0.5}”, where the tolerance value of 0.5 is low,
allowing the pattern to match in a flipped placement to a mostly
empty layout region. </p>
<div class="fig fignone" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id382a918c-39f8-4605-9333-c74c9f49e48c"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Puzzle
Matching with False Partial Match</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/puzzle_falsematch.png" /></div><br /></div>
<p class="p">False partial matches such as the one in the preceding figure
can be reduced with high <span class="keyword ParameterName OptionalReplaceable">tolerance</span> values,
high <span class="keyword ParameterName OptionalReplaceable">num_window</span> values,
and the use of the fixed_center option. Using the CMACRO options
string “-puzzle_matcher {match_criteria 7 0.8 fixed_center}”, the
layout region shown in the preceding figure is not a puzzle match. </p>
</div>
<div class="section Subsection" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id3841d77c-c5d4-4382-804e-0ee22f8c13ba"><h2 class="title Subheading sectiontitle">Using
the center_coverage, corner_coverage, others, and fixed_center Options</h2><p class="p">The options center_coverage, corner_coverage, others, and fixed_center
provide precise control of the area tolerance for puzzle matching.
Several examples are given. </p>
<p class="p"><span class="ph FontProperty HeadingLabel">Example 1:</span> A
puzzle match must have the center window match at 95%, and 5 remaining windows
match at 85%: </p>
<pre class="pre codeblock"><code>-puzzle_matcher {match_criteria 5 0.85 center_coverage 0.95}</code></pre><p class="p"><span class="ph FontProperty HeadingLabel">Example 2:</span> A
puzzle match must have the center window match at 95%, the four
corner windows match at 25%, and two remaining windows at 75%: </p>
<pre class="pre codeblock"><code>-puzzle_matcher {match_criteria 2 0.75 center_coverage 0.95 corner_coverage 0.25}</code></pre><p class="p"><span class="ph FontProperty HeadingLabel">Example 3:</span> A
puzzle match must match four windows at 80%, including an exact
match to the center window. When using fixed_center, a matched center
window counts toward the total <span class="keyword ParameterName OptionalReplaceable">num_window</span> count.
The other five windows must match at 50%. </p>
<pre class="pre codeblock"><code>-puzzle_matcher {match_criteria 4 0.8 fixed_center others 0.5}</code></pre><p class="p"><span class="ph FontProperty HeadingLabel">Example 4:</span> This
specification causes a runtime error because corner_coverage is
specified and <span class="keyword ParameterName OptionalReplaceable">num_window</span> is
greater than five: </p>
<pre class="pre codeblock"><code>-puzzle_matcher {match_criteria 6 0.75 corner_coverage 0.25}</code></pre><p class="p BlockIndent">The error begins with “Error DECRYPT4 on encrypted
line …”. </p>
</div>
<div class="section Subsection" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id36004c41-d07c-4bcd-988b-32a99d52ce52"><h2 class="title Subheading sectiontitle">Using
no_overlap to Eliminate Overlapping Matches</h2><p class="p">It is possible for multiple, overlapping matches to be made in
the same region of the layout. Use the no_overlap option to return
only the best match when overlapping matches are found. </p>
<p class="p">The layout and a pattern are shown in the following figure. </p>
<div class="fig fignone" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id8be3d48a-9e4a-47b2-9d3f-b6f0662e93a4"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/puzzle_nooverlap_layout.png" /></div><br /></div>
<p class="p">The pattern is compiled with count markers and matched layout
marker output: </p>
<pre class="pre codeblock"><code>pdl_lib_mgr compile input one_pat.pmdb output one_pat.svrf \
	marker Marker1 matched layer 1 \
	enable_runtime_options gen_count_layer &gt; compile.log</code></pre><p class="p">The SVRF rule file has the following CMACRO statement with no_overlap,
and outputs the count marker and XOR match results:</p>
<pre class="pre codeblock"><code>CMACRO pm:one_pat met4 "-puzzle_matcher {match_criteria 7 0.85 
<span class="ph CodeHighlight orange">no_overlap</span>}" xor_met4 count_marker 

xor_met4 {COPY xor_met4}
count_marker {COPY count_marker}</code></pre><p class="p">With no_overlap, only one match is returned in the layout region,
as shown in the image on the left. If the CMACRO does not include
no_overlap, two matches are returned, as shown in the image on the
right. The count markers do not overlap, but the match results overlap
and merge. </p>
<div class="fig fignone" id="id6b028d7d-7389-4016-8fcf-14048b057c5c__id67536a7d-0480-4c04-869a-f691a05920fa"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/puzzle_nooverlap_result.png" /></div><br /></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_PartialMatchingOverview_id79e74f09.html" title="Partial matching identifies areas in a layout that match an input pattern within a given tolerance. If Calibre Pattern Matching does not report a match where expected, partial matching can help debug the problem. Partial matching applies only to exact TEM patterns.">Pattern Debug with Partial Matching</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pmatch_user"
                DocTitle = "Calibre® Pattern Matching User’s Manual"
                PageTitle = "Grid-Based Partial Matching (Puzzle Matching)"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_GridBasedPartialMatchingPuzzleMatching_id6b028d7d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Pattern Matching User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>