<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Count Markers" />
<meta name="abstract" content="You can add count markers to the results from a pattern matching run. Count markers are small, non-overlapping markers for each matched result. They can be used to determine a count of matched results. Count markers are added when you compile a pattern library." />
<meta name="description" content="You can add count markers to the results from a pattern matching run. Count markers are small, non-overlapping markers for each matched result. They can be used to determine a count of matched results. Count markers are added when you compile a pattern library." />
<meta name="prodname" content="Calibre Pattern Matching User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pmatch_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/17/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Pattern Matching User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idf74826a6-904d-49c5-8e8c-48f8c78c60de" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Count Markers</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Count Markers" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idf74826a6-904d-49c5-8e8c-48f8c78c60de">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Count Markers</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">You can add
count markers to the results from a pattern matching run. Count
markers are small, non-overlapping markers for each matched result.
They can be used to determine a count of matched results. Count
markers are added when you compile a pattern library. </span>
</div>
<p class="p">These sections are included:</p>
<ul class="ul"><li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id6eea088c-56e2-4673-be25-40e7e8fda413"><p class="p"><a class="xref fm:HeadingOnly" href="#idf74826a6-904d-49c5-8e8c-48f8c78c60de__id085479e7-0696-4701-84b0-91c100f9c68c">Geometry and Placement of Count Markers</a></p>
</li>
<li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id925ce7c2-7deb-4b0a-92d2-6e0ff6d13407"><p class="p"><a class="xref fm:HeadingOnly" href="#idf74826a6-904d-49c5-8e8c-48f8c78c60de__id2c74ccc8-c329-4e2c-80a1-244818835b86">Adding Count Markers</a></p>
</li>
<li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__ide1f9600e-8852-4bfb-ae81-afaeb512182b"><p class="p"><a class="xref fm:HeadingOnly" href="#idf74826a6-904d-49c5-8e8c-48f8c78c60de__idc368545c-5118-4889-ab51-507ee03ff4c3">Using Count Markers</a></p>
</li>
</ul>
<div class="section Subsections"><div class="section Subsection" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id085479e7-0696-4701-84b0-91c100f9c68c"><h2 class="title Subheading sectiontitle">Geometry and Placement of Count Markers</h2><ul class="ul"><li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__idaf30b448-73bb-4949-8065-ee9c9d5535e9"><p class="p"><span class="ph FontProperty HeadingLabel">TEM and XBAR Patterns</span> —
One 2 x 2 dbu square marker in the center of the match. </p>
</li>
<li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__idb69e1f20-9f2f-4752-a7b3-10eb24d299e2"><p class="p"><span class="ph FontProperty HeadingLabel">BCM Patterns</span> —
Two 2 x 2 dbu square markers, where one marker is at each end of the
run length of the match. </p>
</li>
</ul>
<p class="p">For all patterns, if a second pattern matches
in a similar position, the count marker(s) are shifted slightly
to avoid overlap and merging of the marker shapes in the resulting
output layer.</p>
<p class="p">The following figure shows count markers for both TEM and BCM
patterns. Two BCM pattern matches were found in the image on the
left, resulting in two pairs of count markers. </p>
<div class="fig fignone" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id02029cc6-e332-40cc-8d64-31811718165a"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Count
Marker Geometry and Placement</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/count_marker.png" /></div><br /></div>
</div>
<div class="section Subsection" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id2c74ccc8-c329-4e2c-80a1-244818835b86"><h2 class="title Subheading sectiontitle">Adding
Count Markers</h2><p class="p">Count markers are added when you compile a
pattern library (PMDB) into a DMACRO. </p>
<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">It is recommended that each
pattern in the PMDB include a property that contains a unique identifier
for the pattern. See “<a class="xref fm:HeadingAndPage" href="Concept_BestPracticesForCalibrePatternMatching_id8e956535.html#id8e956535-5b78-4cd3-97cf-739ab62b8832__id648501cf-5e41-45cf-aba0-2ebfe8a24e2b">Identifying the Source Pattern</a>”. The property
is attached to the all marker output and enables you to determine
the pattern that corresponds to the matched result. </p>
</div>
<p class="p">You can use either the Calibre Pattern Matching
GUI or the pdl_lib_mgr compile utility to specify count markers:</p>
<ul class="ul"><li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id70f4ad7b-e5a8-4f59-a7c1-bf4bda781ed8"><p class="p">When compiling a library
using the GUI, select <span class="ph uicontrol">Tools &gt; Compile Library</span>,
select the <span class="ph uicontrol">Markers</span> tab, and check the “Enable
unique count marker” checkbox.</p>
</li>
<li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id2a44cdb7-ac34-431c-8f07-1741b3580f1c"><p class="p">When running pattern matching from the GUI, in
the Run Matching dialog box, click the <span class="ph uicontrol">Compile
Options</span> tab, click the options button (<img class="image fmdpi:96" src="../graphics/new_gui/gui_icon_lib_attr.png" />),
and check “Enable unique count marker” on the <span class="ph uicontrol">Markers</span> tab. </p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="TaskTop_RunningPatternMatchingFromACalibreLayoutViewer_idc8aae6a4.html#idc8aae6a4-5125-49d4-b884-f0ccf29a2800__TaskTop_RunningPatternMatchingFromACalibreLayoutViewer_idc8aae6a4.xml#idc8aae6a4-5125-49d4-b884-f0ccf29a2800" title="You can open the Run Pattern Matching GUI from a Calibre layout viewer and run pattern matching on the open design. The tool builds the appropriate rule file and executes a Calibre nmDRC run to find pattern matches. The rule file is saved, enabling you to make edits if desired. You can invoke Calibre RVE at the end of the run to view the matches.">Running Pattern Matching From a Calibre Layout Viewer</a>” for a link to a video that uses count markers. </p>
</li>
<li class="li" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__ida7d1b0e6-02a0-495b-8922-efcc2cb23254"><p class="p">With the pdl_lib_mgr <a class="xref fm:HeadingOnly" href="Command_Compile_idd97904bf.html#idd97904bf-1d89-4371-9ae9-7476e34c8615__Command_Compile_idd97904bf.xml#idd97904bf-1d89-4371-9ae9-7476e34c8615" title="Generates an SVRF DMACRO file from the input pattern library. The DMACRO file is the compiled pattern library that is used in a pattern matching run.">compile</a> utility,
specify the gen_count_layer option.</p>
</li>
</ul>
<p class="p">The count marker layer is named match_count. </p>
</div>
<div class="section Subsection" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__idc368545c-5118-4889-ab51-507ee03ff4c3"><h2 class="title Subheading sectiontitle">Using
Count Markers</h2><p class="p">Count markers are handled as any other marker layer when writing
the pattern matching rule file. For example, see “<a class="xref fm:HeadingAndPage" href="TaskTop_UsingADMACROInARuleFile_id96c1a048.html#id96c1a048-53be-490a-9372-b540618ac89e__TaskTop_UsingADMACROInARuleFile_id96c1a048.xml#id96c1a048-53be-490a-9372-b540618ac89e" title="A pattern matching rule file uses a CMACRO command to run pattern matching on a compiled DMACRO pattern library. The CMACRO creates derived layer(s) containing the marker shapes for each match.">Using a DMACRO in a Rule File for a Pattern Matching Run</a>”. You can
include the statement <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Pattern Match Report', 'svrf_ur'); return false;">DFM Pattern Match Report</a> within
a rule check in order to produce a report which includes the number
of matches per pattern.</p>
<p class="p">You can highlight count markers using Calibre RVE as with other
marker output. For the following example, the property “pid” was
attached to each pattern with a unique pattern index. The pattern
marker output is a bbox10 shape. The PMDB was compiled with this
command:</p>
<pre class="pre codeblock"><code>pdl_lib_mgr compile input input1.pmdb output dmacro.svrf gen_count_layer</code></pre><p class="p">The following is an excerpt from the pattern matching rule file:</p>
<pre class="pre codeblock"><code>LAYER poly 13
INCLUDE "dmacro.svrf"
CMACRO pm:input1 poly " " match  count 
match {COPY match}
count {COPY count}
CHECK {
  DFM RDB match "./pat_match.rdb" ALL CELLS CHECKNAME match
  DFM RDB count "./pat_match.rdb" ALL CELLS CHECKNAME count
  DFM PATTERN MATCH REPORT count PM_report.txt ALL
}</code></pre><p class="p">A match to the patterns with pid=3 and pid=4 is found in the
same location. The resulting count marker output shapes (the count
layer) are unique and do not overlap, resulting in two results for the
two matches. The pattern marker output shapes (the match layer)
are merged, resulting in one result for the two matches. </p>
<p class="p">The <span class="ph filepath">pat_match.rdb</span> results file loaded in
Calibre RVE is shown in <a class="xref fm:Figure" href="#idf74826a6-904d-49c5-8e8c-48f8c78c60de__id3e814f5e-6f0f-4d21-867e-467a70f8c9c0">Figure 2</a>, along with the highlight
of the match and count layers for pid=3 and pid=4. A property filter
is applied in Calibre RVE so that only the results of interest are
displayed. </p>
<p class="p">When marker shapes with different property values are merged,
the largest value of the property is placed on the merged shape.
In this example the match result shape has pid=4, as shown in the
Calibre RVE display. </p>
<p class="p">By highlighting both the match and count layer results, it is
apparent that two pattern matches were found in the same location.
The pid property on each count marker indicates which pattern produced
the match. </p>
<div class="fig fignone" id="idf74826a6-904d-49c5-8e8c-48f8c78c60de__id3e814f5e-6f0f-4d21-867e-467a70f8c9c0"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Highlighted
Count Markers</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/count_marker_highlight.png" /></div><br /></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MarkerLayer_ideaf1a95b.html" title="Marker layers are output layers generated by the pattern matching tool. The shapes on the marker layer indicate the locations of pattern matches. The typical practice is to output the marker layer to the results database and/or a DFM RDB file.">Marker Layer</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pmatch_user"
                DocTitle = "Calibre® Pattern Matching User’s Manual"
                PageTitle = "Count Markers"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CountMarkers_idf74826a6.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Pattern Matching User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>