<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Best Practices for Calibre Pattern Matching" />
<meta name="abstract" content="This section provides some guidelines for running Calibre Pattern Matching." />
<meta name="description" content="This section provides some guidelines for running Calibre Pattern Matching." />
<meta name="prodname" content="Calibre Pattern Matching User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pmatch_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/17/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Pattern Matching User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id8e956535-5b78-4cd3-97cf-739ab62b8832" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Best Practices for Calibre Pattern Matching</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Best Practices for Calibre Pattern Matching" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id8e956535-5b78-4cd3-97cf-739ab62b8832">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Best Practices for
Calibre Pattern Matching</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">This section provides some guidelines
for running Calibre Pattern Matching.</span>
</div>
<p class="p"><a class="xref fm:HeadingOnly" href="#id8e956535-5b78-4cd3-97cf-739ab62b8832__ide3a9b158-1edd-45b2-9637-0c8960824bfe">Managing Pattern Libraries for Best Performance</a></p>
<p class="p"><a class="xref fm:HeadingOnly" href="#id8e956535-5b78-4cd3-97cf-739ab62b8832__id648501cf-5e41-45cf-aba0-2ebfe8a24e2b">Identifying the Source Pattern</a></p>
<p class="p"><a class="xref fm:HeadingOnly" href="#id8e956535-5b78-4cd3-97cf-739ab62b8832__id2cd498cd-4695-487a-9a05-b1e358538a4e">Avoiding Keyword - Name Conflicts in the Calibre Run</a></p>
<p class="p"><a class="xref fm:HeadingOnly" href="#id8e956535-5b78-4cd3-97cf-739ab62b8832__id2b99cdcb-8bcd-426e-bc64-4e6d9bae01aa">Hierarchical vs. Flat Results</a></p>
<div class="section Subsections"><div class="section Subsection" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__ide3a9b158-1edd-45b2-9637-0c8960824bfe"><h2 class="title Subheading sectiontitle">Managing Pattern Libraries for Best Performance</h2><p class="p">Calibre pattern libraries target specific layers. All patterns
within a library need to share the same target layers. Libraries
should be combined when patterns target the same input layers, for example
M1 V1 patterns should all exist within the same library. Otherwise,
the patterns should remain in separate libraries. For example, patterns
for poly layers should be in a separate library than patterns for
contact layers. All Patterns that exist in the same library run
concurrently, so having patterns from the same layers in one library
ensures the best performance.</p>
<p class="p">Properties are another feature that plays an important role in
runtime and memory. Every marker layer generated in pattern matching
receives the complete list of properties from a library. This means
that a property named TYPE set for only pattern1 will be output
to the marker polygons for all other pattern in the library as well.
When a property is not set for a given pattern, the marker shape
will receive the property with value -1. An additional consideration
for performance with properties is the number of matches as every
marker polygon output by pattern matching will contain the complete
list of properties from the library.</p>
</div>
<div class="section Subsection" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id648501cf-5e41-45cf-aba0-2ebfe8a24e2b"><h2 class="title Subheading sectiontitle">Identifying
the Source Pattern</h2><p class="p">There are two ways to identify the source pattern for each match
location in the results of a pattern matching run:</p>
<ul class="ul"><li class="li" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id91ec8872-fae6-41be-9706-c08f170ec67c"><p class="p"><span class="ph FontProperty HeadingLabel">Property</span> —
Add a property to all patterns, where the property contains a unique numeric
value for each pattern. This can be done as follows, depending on
how you create the pattern library:</p>
<ul class="ul"><li class="li" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id88536b24-ece5-40c0-83c5-ffe3e6749011"><p class="p">With <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Pattern Capture', 'svrf_ur'); return false;">DFM Pattern Capture</a> —
Use the “INDEX_PROP <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span>”
keyword set. This adds the property <span class="keyword ParameterName OptionalReplaceable">index_prop_name</span> with
the pattern ordinal to each pattern. </p>
</li>
<li class="li" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__idc6fdecea-0928-4f43-838b-443081e0378a"><p class="p">With <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Pattern Classify', 'svrf_ur'); return false;">DFM Pattern Classify</a> —
Use the “class” property, which is automatically added to each pattern.
See the command reference for details. </p>
</li>
<li class="li" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id36340597-5ea2-4e30-ac48-0987aef16056"><p class="p">With the Calibre
Pattern Matching GUI — Add the property and unique numeric value
manually to all patterns. See “<a class="xref fm:HeadingAndPage" href="TaskTop_DefiningCustomPropertyValuesInAPattern_idf12c7faf.html#idf12c7faf-3d5f-4376-a535-c1220997df39__TaskTop_DefiningCustomPropertyValuesInAPattern_idf12c7faf.xml#idf12c7faf-3d5f-4376-a535-c1220997df39" title="You can assign property values to a pattern using the Calibre Pattern Matching GUI. Custom properties have a value defined in the pattern. Properties are automatically attached to the output markers for a matched result during a pattern matching run.">Defining Custom Property Values in a Pattern</a>”.</p>
</li>
<li class="li" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__idbcd8198d-e7cb-42c2-b26b-f1c046a0892e"><p class="p">With the <a class="xref fm:HeadingOnly" href="Command_Merge_id35ea096e.html#id35ea096e-ab5e-4d4e-9ad9-9d152801e275__Command_Merge_id35ea096e.xml#id35ea096e-ab5e-4d4e-9ad9-9d152801e275" title="Combines multiple pattern matching libraries (PMDBs) into a single PMDB library and removes duplicate patterns. If only one library is input, the command removes the duplicate patterns in that library.">merge</a> utility
— Use the argument set “index <span class="keyword ParameterName OptionalReplaceable">index_prop</span>”
to add or update the property <span class="keyword ParameterName OptionalReplaceable">index_prop</span> in
the merged library. </p>
</li>
</ul>
<p class="p">It is particularly useful to use count markers in combination
with the unique property value if you want to identify the source
pattern for a match. See “<a class="xref fm:HeadingAndPage" href="Concept_CountMarkers_idf74826a6.html#idf74826a6-904d-49c5-8e8c-48f8c78c60de__Concept_CountMarkers_idf74826a6.xml#idf74826a6-904d-49c5-8e8c-48f8c78c60de" title="You can add count markers to the results from a pattern matching run. Count markers are small, non-overlapping markers for each matched result. They can be used to determine a count of matched results. Count markers are added when you compile a pattern library.">Count Markers</a>” for details. </p>
</li>
<li class="li" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id163ffd8b-aaca-4f6a-a50b-1e4f0dfb59dd"><p class="p"><span class="ph FontProperty HeadingLabel">Unique Marker Name</span> —
Create a unique marker name for each pattern using the Calibre Pattern
Matching GUI and give the marker a type other than empty. Compile
the library using pdl_lib_mgr <a class="xref fm:HeadingOnly" href="Command_Compile_idd97904bf.html#idd97904bf-1d89-4371-9ae9-7476e34c8615__Command_Compile_idd97904bf.xml#idd97904bf-1d89-4371-9ae9-7476e34c8615" title="Generates an SVRF DMACRO file from the input pattern library. The DMACRO file is the compiled pattern library that is used in a pattern matching run.">compile</a> with
the gen_all_markers option. Each pattern in the compiled DMACRO
has all markers, but only the marker created for the corresponding pattern
is non-empty and produces geometries on the marker output layer.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Calibre Pattern Matching can generate up to 278 unique
marker names concurrently. Exceeding this limit is similar to running
two pattern matching calls to the library.</p>
</div>
</li>
</ul>
</div>
<div class="section Subsection" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id2cd498cd-4695-487a-9a05-b1e358538a4e"><h2 class="title Subheading sectiontitle">Avoiding Keyword - Name Conflicts in
the Calibre Run</h2><p class="p">User-defined names in pattern matching should
not conflict with keywords in the SVRF rule file; see “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Keyword - Name Conflicts', 'svrf_ur'); return false;">Keyword - Name Conflicts</a>”
in the <cite class="cite">Standard Verification Rule Format
(SVRF) Manual</cite>. User-defined names also should not conflict
with reserved words in the Tcl programming language. In pattern
matching, this restriction applies to marker names, pattern layer
names, pattern names, library names, and the input and output layer
parameters in the CMACRO command. For example, you should not name
a pattern marker “extent” or “extents” because those strings correspond
to an SVRF layer operation. Prefixing marker names with a string,
for example “m_”, can avoid this problem. A similar practice can
be used for other names. </p>
<p class="p">For example, this CMACRO command causes an error
because the output layer name “extent” is a reserved word in SVRF:</p>
<pre class="pre codeblock"><code>CMACRO pm:libM2 m2 via2 " " match_m2 extent // ERROR</code></pre><p class="p">This works:</p>
<pre class="pre codeblock"><code>CMACRO pm:libM2 m2 via2 " " match_m2 m_extent </code></pre></div>
<div class="section Subsection" id="id8e956535-5b78-4cd3-97cf-739ab62b8832__id2b99cdcb-8bcd-426e-bc64-4e6d9bae01aa"><h2 class="title Subheading sectiontitle">Hierarchical
vs. Flat Results</h2><p class="p">Pattern matching results are typically reported at the top or
higher levels of hierarchy due to promotion, ensuring accurate matches.
Using the Push operation pattern matching output can increase the
hierarchy of the output.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The Push operation does not preserve property data so properties
need to be reattached to the pushed layer using DFM Property.</p>
</div>
<p class="p">When DFM Pattern Capture or DFM Pattern Classify is run with
a relatively flat hotspot or mask layer, then it is critical to
run with TURBOflex enabled in the rule file.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_IntroductionCalibrePatternMatching_id2d7ab9f3.html" title="Calibre Pattern Matching in physical verification is the process of locating specific polygons in a design from a user-specified pattern. You can use Calibre Pattern Matching to simplify certain Calibre nmDRC rule checks which are complex to code in Standard Verification Rule Format (SVRF) syntax. Rule file development time may also be shortened when existing rule files are combined with Calibre Pattern Matching.">Introduction to Calibre Pattern Matching</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pmatch_user"
                DocTitle = "Calibre® Pattern Matching User’s Manual"
                PageTitle = "Best Practices for Calibre Pattern Matching"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_BestPracticesForCalibrePatternMatching_id8e956535.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Pattern Matching User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>