<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="CMACRO for Calibre Pattern Matching" />
<meta name="abstract" content="The CMACRO command runs pattern matching on the specified DMACRO pattern library. CMACRO creates derived layer(s) containing the marker layer shapes generated from the pattern matching process. Runtime options are specified with an option string." />
<meta name="description" content="The CMACRO command runs pattern matching on the specified DMACRO pattern library. CMACRO creates derived layer(s) containing the marker layer shapes generated from the pattern matching process. Runtime options are specified with an option string." />
<meta name="prodname" content="Calibre Pattern Matching User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_pmatch_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="3/17/21" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Pattern Matching User’s Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id7335a8a6-8c36-4627-964c-86a4bdaa6058" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>CMACRO for Calibre Pattern Matching</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="CMACRO for Calibre Pattern Matching" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">CMACRO for Calibre Pattern
Matching</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="shortdesc">The CMACRO command runs pattern matching
on the specified DMACRO pattern library. CMACRO creates derived
layer(s) containing the marker layer shapes generated from the pattern
matching process. Runtime options are specified with an option string. </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If <span class="keyword ParameterName RequiredReplaceable">options_string</span> is
non-empty, the pattern library must have been compiled with the enable_runtime_options
argument. Failure to do this causes the message “ERROR: CMACRO (pm:<var class="keyword varname">lib</var>)
- The DMACRO is protected. This option is not allowed to be overridden
as per the macro developer's specification.”</p>
</div>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">CMACRO</span> <span class="keyword ParameterName RequiredReplaceable">pattern_library_name</span> <span class="keyword ParameterName RequiredReplaceable">in_param</span> [<span class="keyword ParameterName OptionalReplaceable">in_param</span> ...] <span class="keyword ParameterName RequiredReplaceable">options_string</span> <br />
<span class="keyword ParameterName RequiredReplaceable">out_param</span> [<span class="keyword ParameterName OptionalReplaceable">out_param</span> ...]</p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">options_string</h2><p class="lines UsageLine">      [{-enable_partial_match <span class="keyword ParameterName OptionalReplaceable">options</span>} | {-puzzle_matcher <span class="keyword ParameterName OptionalReplaceable">options</span>}]<br />
[{-exclude_pattern_layers <span class="keyword ParameterName OptionalReplaceable">layer_names_list</span>} | {-include_pattern_layers <span class="keyword ParameterName OptionalReplaceable">layer_names_list</span>}] <br />
[-expand_small_cells ]<br />
[-invalid_prop_value <span class="keyword ParameterName OptionalReplaceable">invalid_value</span> ]<br />
[-keys <span class="keyword ParameterName OptionalReplaceable">key_names</span> ]<br />
[-magnify <span class="keyword ParameterName OptionalReplaceable">value</span> ]<br />
[-maxjog <span class="keyword ParameterName OptionalReplaceable">maxjog_value</span> ] <br />
[-property <span class="keyword ParameterName OptionalReplaceable">property_names</span> ]<br />
[-password <span class="keyword ParameterName OptionalReplaceable">password</span> ]<br />
[-tile_size <span class="keyword ParameterName OptionalReplaceable">value</span> <br />
[-epd_string { on | off } ]<br />
[-cg_keep_real on ]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id01196aad-00e9-4ad6-aa1f-065b55619fac"><span class="keyword ParameterName RequiredReplaceable">pattern_library_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required parameter that specifies the
name of the compiled pattern library as it appears in the DMACRO
file. For example: pm:hotspot_lib</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id9917e597-921e-4667-bf98-4517603b764b"><span class="keyword ParameterName RequiredReplaceable">in_param</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required parameter that specifies the
name of an input layer, which can be an original or derived polygon
layer. You can specify more than one <span class="keyword ParameterName RequiredReplaceable">in_param</span> names.
The input layers correspond to the pattern layers in the library
specified with <span class="keyword ParameterName RequiredReplaceable">pattern_library_name</span>.
The number and order of the <span class="keyword ParameterName RequiredReplaceable">in_param</span> arguments
must match the number and order of <span class="keyword ParameterName RequiredReplaceable">in_param</span> arguments
in the DMACRO definition. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id204f60c2-8981-466d-8ae6-aef08f3e29f6"><span class="keyword ParameterName RequiredReplaceable">options_string</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required string specifying option names
and values. The options control various aspects of the pattern matching
process. The syntax is the following:</p>
<p class="p BlockIndent">“‑<span class="keyword ParameterName OptionalReplaceable">option_name</span> <span class="keyword ParameterName OptionalReplaceable">value</span> [-<span class="keyword ParameterName OptionalReplaceable">option_name</span> <span class="keyword ParameterName OptionalReplaceable">value</span>]
...”</p>
<p class="p">Some options accept a Tcl list of values, which is specified
as follows:</p>
<p class="p BlockIndent">“‑<span class="keyword ParameterName OptionalReplaceable">option_name</span> {<span class="keyword ParameterName OptionalReplaceable">value1</span> <span class="keyword ParameterName OptionalReplaceable">value2</span> …}”</p>
<p class="p">Line breaks are not allowed within the string. There is not a
line continuation character. </p>
<p class="p">If no options are specified, you must specify a set of quotes
surrounding a space (“ ”) for the <span class="keyword ParameterName RequiredReplaceable">options_string</span>.
If <span class="keyword ParameterName RequiredReplaceable">options_string</span> is
non-empty, the pattern library must be compiled with the enable_runtime_options
argument. </p>
<p class="p">See the section “options_string Arguments” for the available
options. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__ide2e0fa57-d673-4742-98a3-79266b88a53c"><span class="keyword ParameterName RequiredReplaceable">out_param</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required parameter specifying the name
of an output layer generated by the pattern matching run. You can
specify more than one <span class="keyword ParameterName RequiredReplaceable">out_param</span> names.
The output layers correspond to the pattern marker layers. The number
and order of the <span class="keyword ParameterName RequiredReplaceable">out_param</span> arguments must
match the number and order of <span class="keyword ParameterName RequiredReplaceable">out_param</span> arguments
in the DMACRO definition. The <span class="keyword ParameterName RequiredReplaceable">out_param</span> names
must be unique within the rule file.</p>
<p class="p">The <span class="keyword ParameterName RequiredReplaceable">out_param</span> names
should not conflict with keywords in SVRF or with reserved names in
the Tcl programming language. See “<a class="xref fm:HeadingAndPage" href="Concept_BestPracticesForCalibrePatternMatching_id8e956535.html#id8e956535-5b78-4cd3-97cf-739ab62b8832__id2cd498cd-4695-487a-9a05-b1e358538a4e">Avoiding Keyword - Name Conflicts in the Calibre Run</a>”.</p>
</dd>
</dl>
</div>
<div class="section ArgumentSet"><h2 class="title Subheading sectiontitle">options_string Arguments</h2><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id5c89dd83-902c-4115-b9a2-454460ecd820">-enable_partial_match ‘{’<span class="keyword ParameterName OptionalReplaceable">layers_below_tolerance</span> <span class="keyword ParameterName OptionalReplaceable">tol_value</span> [ref_layer <span class="keyword ParameterName OptionalReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">layer2</span> <span class="keyword ParameterName OptionalReplaceable">layer3</span>]] [req_layer ‘{’<span class="keyword ParameterName OptionalReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">tol_value1</span>]‘}’ [‘{’<span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName OptionalReplaceable">tol_value2</span>]‘}’]...] [exc_layer ‘{’ <span class="keyword ParameterName OptionalReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">layer2</span>]...‘}’] ‘}’</dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies to run per-layer partial matching.
Partial matching identifies and highlights differences between a
pattern and areas of the layout that produced a near match. Per-layer partial
matching only runs on TEM1 (exact) match patterns with multiple
layers. Pattern geometries are matched by layer. Only near matches
are output, not exact matches. This option is useful in debugging
expected match locations.</p>
<p class="p">The option ‑enable_partial_match cannot be specified with ‑puzzle_matcher.</p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="Contain_PartialMatchingOverview_id79e74f09.html#id79e74f09-d873-4202-9e2e-73720817b2a9__Contain_PartialMatchingOverview_id79e74f09.xml#id79e74f09-d873-4202-9e2e-73720817b2a9" title="Partial matching identifies areas in a layout that match an input pattern within a given tolerance. If Calibre Pattern Matching does not report a match where expected, partial matching can help debug the problem. Partial matching applies only to exact TEM patterns.">Pattern Debug with Partial Matching</a>” for
information on running partial matching. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idfb3cf6f2-5131-4a0b-8719-83291fd39d98"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">layers_below_tolerance</span> —
This parameter value defines the maximum number of layers that do
not meet the required tolerance value. The number of layers specified
can be up to one less than the total number of layers. The program
will run through layers until either a match is found or the maximum
number of layers has been reached.</p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id22f26ac7-33e9-4aa7-885f-7b733e8d300e"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">tol_value</span> —
The area tolerance for a match as a specified as value between 0
and 1, where a value of 1 indicates a 100% match. Area tolerance
is used to find matches which may be slightly different in shape,
or have a layer that has extra shapes that are still within the
specified area tolerance. When -enable_partial_match evaluates a pattern,
the layer difference percentage is calculated as 1- (XOR area/extent
area). </p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__ide248cd97-8d02-4f73-bcdb-5da98aa1882d"><p class="p Opt">ref_layer <span class="keyword ParameterName OptionalReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">layer2</span> [<span class="keyword ParameterName OptionalReplaceable">layer3</span>]]
— Reference layers are specified layers that have a high probability
of being unaltered and without errors, and thus can be used as a reference
layer. A partial match requires at least one layer to match 100%
with the pattern. This serves as an alignment for the rest of the
pattern. All other layers must match the orientation of the aligned
reference layer. Up to three reference layers can be specified.
This is helpful in successfully selecting an alignment layer. Specifying reference
layers is not required, however, because the tool will search for
appropriate reference layers when necessary. </p>
<p class="p">A reference layer must include at least one real vertex. The
list of reference layers must be enclosed in braces unless only
one layer is specified. If only one or two layers are suitable reference
layers, you can specify the same layer more than once. </p>
<p class="p">If a partial match is not found but is expected, -enable_partial_match
can be run again with different specified reference layers, or no
layers specified.</p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id2879b851-8752-4556-99c4-8f831c57157c"><p class="p Opt">req_layer
‘{’<span class="keyword ParameterName OptionalReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">tol_value1</span>]‘}’—
Required layers are specified layers that must be included in the
pattern and match by a set percentage. Typically, this match is
equal to 100%; however, other percentages can be specified with <span class="keyword ParameterName OptionalReplaceable">tol_value1 </span>as
a value between 0 and 1, where 1 is equal to 100%. A different percentage
value can be specified for each required layer. There is no limit
for how many required layers are specified. The list of required
layers must be enclosed in braces unless only one layer is specified.</p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id7c95c1c6-5de4-4123-9b9f-721dfc33a035"><p class="p Opt">exc_layer
‘{’ <span class="keyword ParameterName OptionalReplaceable">layer1</span> [<span class="keyword ParameterName OptionalReplaceable">layer2</span>]...‘}’
— Excluded layers are specified layers that are ignored when determining
the number of layers below tolerance. The list of excluded layers
must be enclosed in braces unless only one layer is specified. The
XOR results of ignored layers are still output. A layer specified
as a ref_layer or req_layer cannot be specified with exc_layer.
If ‑exclude_pattern_layers is specified, it overrides the effects
of using exc_layer.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idcba85286-6ea0-442c-a6a8-7ce615d9802e">‑puzzle_matcher ‘{’ match_criteria <span class="keyword ParameterName OptionalReplaceable">num_window</span> <span class="keyword ParameterName OptionalReplaceable">tolerance</span> [others <span class="keyword ParameterName OptionalReplaceable">other_tolerance</span>] [fixed_center | center_coverage <span class="keyword ParameterName OptionalReplaceable">center_tolerance</span>] [corner_coverage <span class="keyword ParameterName OptionalReplaceable">corner_tolerance</span>] [center_size <span class="keyword ParameterName OptionalReplaceable">size</span>] [fixed_layer ‘{’ <span class="keyword ParameterName OptionalReplaceable">layer_name</span> … ‘}’] [no_overlap] ‘}’ </dt>
<dd class="dd ArgumentDescription"><p class="p">Specifies to run grid-based partial matching,
known as puzzle matching. Partial matching identifies and highlights
differences between a pattern and areas of the layout that produced a
near match. The input patterns must be TEM patterns with only Manhattan
shapes and with an extent of at least 12 dbu by 12 dbu. Each pattern
is divided into a grid of nine windows, and layout geometries are
compared to pattern geometries per window. See “<a class="xref fm:HeadingAndPage" href="Concept_GridBasedPartialMatchingPuzzleMatching_id6b028d7d.html#id6b028d7d-7389-4016-8fcf-14048b057c5c__Concept_GridBasedPartialMatchingPuzzleMatching_id6b028d7d.xml#id6b028d7d-7389-4016-8fcf-14048b057c5c" title="Partial matching identifies regions in a layout that match an input pattern within a given tolerance. Grid-based partial matching, or puzzle matching, divides the pattern into a grid of nine windows and the matching criteria is calculated on a per-window basis. A match candidate is located by exact match to at least one window, then a puzzle match is returned if a specified minimum number of windows match within a specified tolerance.">Grid-Based Partial Matching (Puzzle Matching)</a>” for additional
details.</p>
<p class="p">The option ‑enable_partial_match cannot be specified with ‑puzzle_matcher.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__ide0fad917-863b-4228-929f-51629375ee8c"><p class="p Opt">match_criteria <span class="keyword ParameterName OptionalReplaceable">num_window</span> <span class="keyword ParameterName OptionalReplaceable">tolerance</span> —
Required parameters that specify the criteria for a partial match: </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id0f69f043-4f1c-422d-8af3-239cf7c3f378"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">num_window</span> —
The minimum number of windows that must match within the specified <span class="keyword ParameterName OptionalReplaceable">tolerance</span> in
order to qualify the layout region as a partial match. </p>
<p class="p">If center_coverage and/or corner_coverage is specified, windows
that are matched for those options do not contribute to the <span class="keyword ParameterName OptionalReplaceable">num_window</span> match
count. The maximum <span class="keyword ParameterName OptionalReplaceable">num_window</span> value
depends on the options center_coverage and corner_coverage: </p>
<ul class="ul"><li class="li" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id5a617d2e-7426-42ec-ac4e-f67f9300d163"><p class="p">neither
option: 1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 9</p>
</li>
<li class="li" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id219c3f70-895a-419a-9a65-9220d0cff471"><p class="p">center_coverage:
1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 8</p>
</li>
<li class="li" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id18c41e9c-bd86-47fc-898f-41e18d9979b0"><p class="p">corner_coverage:
1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 5</p>
</li>
<li class="li" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id3167eaa7-2796-45ad-8b9d-ef614bf2efd8"><p class="p">corner_coverage
and center_coverage: 1 &lt;= <span class="keyword ParameterName OptionalReplaceable">num_window</span> &lt;= 4</p>
</li>
</ul>
<p class="p">If an invalid <span class="keyword ParameterName OptionalReplaceable">num_window</span> value
is used, a run-time error message is issued and the run is aborted. </p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id7fa11bec-01d1-40f8-a4b2-83ddd1c60ae8"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">tolerance</span> —
The area tolerance for a match within each window, specified as
a value from 0 to 1, where a value of 1 indicates a 100% match.
The <span class="keyword ParameterName OptionalReplaceable">tolerance</span> is compared
to the match value per window, calculated separately for each pattern layer
as: </p>
<pre class="pre codeblock leveled"><code>   1 - ABS(Area(pattern_layer) - Area(design_layer))/Area(window)</code></pre><p class="p">In order for a window to qualify as a match, the window’s match
value for each pattern layer must meet the tolerance value. </p>
</li>
</ul>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idf685606d-314a-43a1-9828-8b5557fb3701"><p class="p Opt">others <span class="keyword ParameterName OptionalReplaceable">other_tolerance</span> —
The area tolerance for the windows that are not counted toward the
“<span class="keyword ParameterName OptionalReplaceable">num_window</span> <span class="keyword ParameterName OptionalReplaceable">tolerance</span>”
criteria. By default, <span class="keyword ParameterName OptionalReplaceable">other_tolerance</span> is
zero. </p>
<p class="p">For example, “match_criteria 5 0.8 others 0.5” specifies that
5 windows must match with 0.8 area tolerance and the remaining 4
windows must match with 0.5 area tolerance. </p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id927be884-9eba-458c-9ab3-f9b049826782"><p class="p Opt">fixed_center
— Specifies that the center window must match exactly. </p>
<p class="p">May not be specified with center_coverage.</p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id1a2537bc-605f-43f8-a50b-fdafd711f98d"><p class="p Opt">center_coverage <span class="keyword ParameterName OptionalReplaceable">center_tolerance</span> —
Specifies the area tolerance for the center window as a value from
0 to 1. The center window must match within the <span class="keyword ParameterName OptionalReplaceable">center_tolerance</span> for the
layout region to qualify as a partial match. See <span class="keyword ParameterName OptionalReplaceable">tolerance</span> for
the definition of area tolerance. </p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id53543f72-3094-4edc-9a09-e8981d5b0e67"><p class="p Opt">corner_coverage <span class="keyword ParameterName OptionalReplaceable">corner_tolerance</span> —
Specifies the area tolerance for the corner windows as a value from
0 to 1. All four corner windows must match within the <span class="keyword ParameterName OptionalReplaceable">corner_tolerance</span> for
the layout region to qualify as a partial match. See <span class="keyword ParameterName OptionalReplaceable">tolerance</span> for the
definition of area tolerance. </p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idaa19df45-cbef-456c-afe4-2873716f060b"><p class="p Opt">center_size <span class="keyword ParameterName OptionalReplaceable">size</span> —
Specifies that the center window of the grid is of width and height <span class="keyword ParameterName OptionalReplaceable">size</span> in
user units. The size should be less than or equal to half the pattern
extent in either direction for accurate operation. A warning is
issued if this recommendation is not met. </p>
<p class="p">An error occurs if the size value is greater than or equal to
the pattern extent in either direction for any pattern in the library.</p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id53d70957-812c-467d-aae7-c9dee9dc92b2"><p class="p Opt">fixed_layer
‘{’ <span class="keyword ParameterName OptionalReplaceable">layer_name</span> …
‘}’ — Specifies a list of one or more pattern layers that must match
exactly in all windows. </p>
</li>
<li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id062fdfba-582e-4c4b-b463-caaca5863e94"><p class="p Opt">no_overlap
— Specifies to choose the best match from overlapping puzzles matches
in a region. See “<a class="xref fm:HeadingAndPage" href="Concept_GridBasedPartialMatchingPuzzleMatching_id6b028d7d.html#id6b028d7d-7389-4016-8fcf-14048b057c5c__id36004c41-d07c-4bcd-988b-32a99d52ce52">Using no_overlap to Eliminate Overlapping Matches</a>” with the
“<a class="xref fm:HeadingOnly" href="Concept_GridBasedPartialMatchingPuzzleMatching_id6b028d7d.html#id6b028d7d-7389-4016-8fcf-14048b057c5c__Concept_GridBasedPartialMatchingPuzzleMatching_id6b028d7d.xml#id6b028d7d-7389-4016-8fcf-14048b057c5c" title="Partial matching identifies regions in a layout that match an input pattern within a given tolerance. Grid-based partial matching, or puzzle matching, divides the pattern into a grid of nine windows and the matching criteria is calculated on a per-window basis. A match candidate is located by exact match to at least one window, then a puzzle match is returned if a specified minimum number of windows match within a specified tolerance.">Grid-Based Partial Matching (Puzzle Matching)</a>” topic. </p>
<p class="p">The default is to output all qualified puzzle matches. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idcfd1082e-4898-4b7d-90ca-a8f2ec11153f">{-exclude_pattern_layers <span class="keyword ParameterName OptionalReplaceable">layer_names_list</span>} | {‑include_pattern_layers <span class="keyword ParameterName OptionalReplaceable">layer_names_list</span>}</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument set that specifies
to include or exclude the listed pattern layers. You may specify
one parameter set, not both. The pattern layer names are those defined
in the pattern library and not those found in a verification (DRC)
rules file.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id0940ae61-0769-4dea-9c08-4104e2405981"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">layer_names_list</span>—
Pattern layer names as defined in the pattern library. A library
may have patterns composed of several layers. Use this option to
specify a selection (or subset) of the library’s pattern layers
to include in or exclude from a matching run.</p>
</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Any constraint associated with an excluded
layer is removed. Additionally, layer based markers are not included
in the output when the associated layer is excluded.</p>
</div>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id80d1b06a-0a25-406f-a5ea-6e8534ac6bb0">-expand_small_cells</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
that specifies to expand small cells during the pattern matching process.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id1baf4519-5f63-4f0b-a411-6058c8681652">-invalid_prop_value <span class="keyword ParameterName OptionalReplaceable">invalid_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
that specifies the value to assign to a property when there is no assigned
value in the compiled pattern, or the assigned value is invalid.
The <span class="keyword ParameterName OptionalReplaceable">invalid_value</span> must
be a real number. The default is ‑1. </p>
<p class="p">For example, suppose a pattern library includes
the property xyz but a value is not assigned for the property in
pattern patA. When patA is matched, all properties in the library
are attached to the output marker shapes. The property xyz is undefined
for patA, so <span class="keyword ParameterName OptionalReplaceable">invalid_value</span> is
assigned as the value for the output marker shapes for matches to
patA.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id2066c63e-5852-4f03-98ed-61cc3b49244b">-keys <span class="keyword ParameterName OptionalReplaceable">key_names</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument
that specifies a list of one or more key names in the pattern library. Alphanumeric
and underscore characters are allowed in the key names. When key
names are specified, only patterns that include the listed keys
are used in the pattern matching process. The default is to use
all patterns in the pattern library. See “<a class="xref fm:HeadingAndPage" href="Concept_Keys_id97cfa553.html#id97cfa553-c018-418d-831b-8cc48fade484__Concept_Keys_id97cfa553.xml#id97cfa553-c018-418d-831b-8cc48fade484" title="Keys are optional pattern attributes that allow you to select a subset of patterns to pass to the pattern matching tool for matching.">Pattern Keys</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id66f84445-1efd-4384-881f-a762c9e90771"><span class="keyword ParameterName Optional">-magnify</span> <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used to specify a value
for magnifying the input pattern geometries. The <span class="keyword ParameterName OptionalReplaceable">value</span> must
be any real number greater than 0. Values greater than 1 scale up
the patterns; values less than 1 shrink the patterns. If a pattern
is truncated due to magnification, a warning is generated. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idaa73e3f5-b5fd-4098-9a27-b9cc883e5203">-maxjog <span class="keyword ParameterName OptionalReplaceable">maxjog_value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies a jog
tolerance for all patterns in the library. Jogs within the specified
tolerance are ignored in both patterns and in the layout. The <span class="keyword ParameterName OptionalReplaceable">maxjog_value</span> must
be greater than or equal to 0 and is specified in user units. The
default is 0. The maximum value for <span class="keyword ParameterName OptionalReplaceable">maxjog_value</span> is
two times the global constraint (2*cglobal). See “<a class="xref fm:HeadingAndPage" href="Concept_JogTolerance_id4f418e1b.html#id4f418e1b-86ee-44f3-8229-254f24539542__Concept_JogTolerance_id4f418e1b.xml#id4f418e1b-86ee-44f3-8229-254f24539542" title="You can specify a jog tolerance for all patterns in a library. Jogs within the specified tolerance are ignored in both the pattern and the layout.">Jog Tolerance in Pattern Matching</a>”.</p>
<p class="p">This option has no effect when -enable_partial_match  or -puzzle_matcher
is specified. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id56a9f0c6-af03-41d8-ac4a-956301795960">-property <span class="keyword ParameterName OptionalReplaceable">property_names</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
property names that are attached to the output shapes from a pattern
matching run. The <span class="keyword ParameterName OptionalReplaceable">property_names</span> can
include alphanumeric and underscore characters. By default all properties
in the pattern library are attached to the output.</p>
<p class="p">When ‑property is specified, only the properties included in
the <span class="keyword ParameterName OptionalReplaceable">property_names</span> list
are attached to the output geometry. The properties should be defined
in the pattern library, but no error is reported if they do not
exist. </p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="Contain_Properties_id34935532.html#id34935532-fb1a-4b72-8797-2a25d4678521__Contain_Properties_id34935532.xml#id34935532-fb1a-4b72-8797-2a25d4678521" title="Properties can be assigned to patterns to enhance the output capabilities of Calibre Pattern Matching.">Properties</a>” for
general information. Also see the CMACRO option ‑invalid_prop_value. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idacf3d535-4f69-48db-b366-82df7625648c">-password <span class="keyword ParameterName OptionalReplaceable">password</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
password for the compiled pattern library. The <span class="keyword ParameterName OptionalReplaceable">password</span> is
a string containing one or more alpha-numeric and underscore characters. </p>
<p class="p">If the specification of runtime options was password-protected
at compile time, then the same password must be included in the
CMACRO options string if runtime options are specified. The ‑password
argument is not necessary if runtime options are not specified. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id08b15edf-0a8c-478f-90c6-f59d28291b04">-tile_size <span class="keyword ParameterName OptionalReplaceable">value</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that specifies the
tile size used by the tool during pattern matching. The <span class="keyword ParameterName OptionalReplaceable">value</span> is
positive integer with a minimum value of 30. The default <span class="keyword ParameterName OptionalReplaceable">value</span> is
automatically calculated if ‑tile_size is not specified.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idfd5f0d5c-46ac-41df-bade-3f19b69fc6f8">-epd_string { on | off }</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that turns on or off
edge movement reporting. When on, the string property “EPD_string”
is attached to the EPD marker layer that is specified when the library is
compiled. The property value includes the pattern name and the list
of constraint IDs with the corresponding displacement from the pattern
edge to the layout edge. For example, a pattern with two constraints
could have the following string property attached: “pat1 C1 0.25
C2 0”.</p>
<p class="p">For information on how to create the EPD marker layer, see the
-epd_marker option in pdl_lib_mgr <a class="xref fm:HeadingOnly" href="Command_Compile_idd97904bf.html#idd97904bf-1d89-4371-9ae9-7476e34c8615__Command_Compile_idd97904bf.xml#idd97904bf-1d89-4371-9ae9-7476e34c8615" title="Generates an SVRF DMACRO file from the input pattern library. The DMACRO file is the compiled pattern library that is used in a pattern matching run.">compile</a>.</p>
<p class="p">This option has no effect when -enable_partial_match or -puzzle_matcher
is specified. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idcbb00a99-305f-439c-936c-525ecfb31943">-cg_keep_real on</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used to prevent pattern
edges from becoming virtual edges. This can occur when the pattern
edge has a cglobal value which causes the edge to be coincident
with the pattern extent or completely outside the pattern extent.
Specifying this option bumps out the extent at the edge location
so the edge does not become virtual. All other dimensions remain
the same, as shown in <a class="xref fm:Figure" href="#id7335a8a6-8c36-4627-964c-86a4bdaa6058__ida0cba254-1bcb-469a-add8-40a25f53563f">Figure 1</a>. The left image shows
the cglobal value extending past the extent. Using the -cg_keep_real
on option, the extent is bumped out to accommodate the cglobal value.
The edge remains real and the space between the extent and other
geometries remains fixed, as shown on the right.</p>
<div class="fig fignone" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__ida0cba254-1bcb-469a-add8-40a25f53563f"><span class="figcap"><span class="fig--title-label">Figure 1. </span>CMACRO
Option String “-cg_keep_real on”</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/cg_keep_real.jpg" /></div><br /></div>
<p class="p">This option has no effect when -enable_partial_match or -puzzle_matcher
is specified. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The CMACRO command must be used outside a rule check, as in this
example:</p>
<pre class="pre codeblock"><code>CMACRO pm:myLibrary_1 m1 via1 "-maxjog 0.001" lib1_out_A 
rule_1A {
   COPY lib1_out_A
   DFM RDB lib1_out_A "dfm.rdb"
} </code></pre><p class="p">The arguments m1 and via1 are layers that are to be matched to
pattern layers. The argument lib1_out_A is the output marker for
matched patterns. The rule check rule_1A copies the layer lib1_outA
to the results database and also creates a DFM RDB of the layer. </p>
<p class="p">See “<a class="xref fm:HeadingAndPage" href="TaskTop_UsingADMACROInARuleFile_id96c1a048.html#id96c1a048-53be-490a-9372-b540618ac89e__TaskTop_UsingADMACROInARuleFile_id96c1a048.xml#id96c1a048-53be-490a-9372-b540618ac89e" title="A pattern matching rule file uses a CMACRO command to run pattern matching on a compiled DMACRO pattern library. The CMACRO creates derived layer(s) containing the marker shapes for each match.">Using a DMACRO in a Rule File for a Pattern Matching Run</a>” for a rule
file example using the compiled DMACRO library and the CMACRO command.</p>
</div>
<div class="section Examples" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id4b45b2da-a0a0-490d-a66d-d2bbad0c7b6b"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">The following examples are for the <span class="keyword ParameterName OptionalReplaceable">options_string</span> within
the CMACRO command. </p>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id2ec0cbf9-f115-4d64-bf98-e33e4888094f"><h2 class="title Subheading sectiontitle">Example
1</h2><p class="p">In this example, partial matching is run on a layout with three
or more layers with one layer below tolerance, and an area tolerance
of 0.99, or a 99% match with one of the layers. </p>
<pre class="pre codeblock"><code>-enable_partial_match {1 0.99}</code></pre><p class="p">Since reference layers are not specified, -enable_partial_match
selects the reference layers.</p>
<p class="p">Reference layers and required layers can be specified as shown
here.</p>
<pre class="pre codeblock"><code>-enable_partial_match {1 0.99 ref_layer {poly cont met1} 
   req_layer {poly 0.95}}</code></pre></div>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__ida09047a3-41b3-497d-b9d3-4ac178abbf44"><h2 class="title Subheading sectiontitle">Example
2</h2><p class="p">In this example, partial matching is run on a layout with three
or more layers. One layer below tolerance is specified with an area
tolerance of 95%. Both layers L1 and L2 are used as reference layers
to align the layers. Additionally, layer L1 is required to match
at 100% and layer L2 is required to match at 99% only allowing for
very minor differences.</p>
<pre class="pre codeblock"><code>-enable_partial_match {1 0.95 ref_layer {L1 L2} 
   req_layer {{L1} {L2 0.99}}}</code></pre></div>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id77175107-382d-43c4-8b98-c73787b89a92"><h2 class="title Subheading sectiontitle">Example
3</h2><p class="p">For a library with pattern layers L1, L2, L3, and L4, you can
specify to exclude layers L1 and L4 as follows:</p>
<pre class="pre codeblock"><code>-exclude_pattern_layers {L1 L4}</code></pre><p class="p">The following is functionally equivalent and yields the same
result:</p>
<pre class="pre codeblock"><code>-include_pattern_layers {L2 L3}</code></pre></div>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idd1501ffd-8655-4745-9268-c0791c207ad0"><h2 class="title Subheading sectiontitle">Example
4</h2><p class="p">Only patterns with a key value of “pinch” are used in the pattern
matching run. </p>
<pre class="pre codeblock"><code>-keys pinch </code></pre></div>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idb827ea89-a806-46de-a52e-407026d92437"><h2 class="title Subheading sectiontitle">Example
5</h2><p class="p">In this example the input database is magnified by 20% its original
size.</p>
<pre class="pre codeblock"><code>-magnify 1.2</code></pre></div>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__id6e6c396c-9f0d-4bc8-bbb8-0d3bbb9faf5e"><h2 class="title Subheading sectiontitle">Example
6</h2><p class="p">A property name can be attached to a geometry so that patterns
is output only with the assigned property name. Pattern matches
will only have the property name “pid” attached to the marker layer.
Any other properties defined will be ignored. </p>
<pre class="pre codeblock"><code>-property pid</code></pre></div>
<div class="section Subsection" id="id7335a8a6-8c36-4627-964c-86a4bdaa6058__idb5d76fe0-6bb2-4fb3-baa4-c9d0734ca231"><h2 class="title Subheading sectiontitle">Example
7</h2><p class="p">Multiple CMACRO option strings can be specified at the same time.
In this example both -keys and -property are used together.</p>
<pre class="pre codeblock"><code>CMACRO pm:patterns M1 "-keys pinch -property pid" matches 
rule1 { 
      COPY matches
}</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_PatternMatchingIntegrationWithSvrf_id16d80bb7.html" title="You can capture and export pattern library files in batch mode using the DFM Pattern Capture SVRF command.">Pattern Matching Integration with SVRF</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_pmatch_user"
                DocTitle = "Calibre® Pattern Matching User’s Manual"
                PageTitle = "CMACRO for Calibre Pattern Matching"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_CmacroOptionStrings_id7335a8a6.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Pattern Matching User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>