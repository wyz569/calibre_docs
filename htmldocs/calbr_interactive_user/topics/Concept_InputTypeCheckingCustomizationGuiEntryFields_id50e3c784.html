<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Input Type Checking for Customization GUI Entry Fields" />
<meta name="abstract" content="You can have the customization GUI verify that the input for a text entry field is of the correct type. The CUSTOM::DEFINE and CUSTOM::VARIABLE commands allow text entry fields and input type checking." />
<meta name="description" content="You can have the customization GUI verify that the input for a text entry field is of the correct type. The CUSTOM::DEFINE and CUSTOM::VARIABLE commands allow text entry fields and input type checking." />
<meta name="prodname" content="Calibre Interactive User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-19" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="IncludeDraftCommentsInChangeLog" content="2021.2" />
<meta name="HighlightColor" content="Pale Yellow" />
<meta name="HighlightChanges" content="yes" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_interactive_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="9" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Interactive™ User’s Manual" />
<meta name="CSHelp" content="No" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10116,product.id.P10096,product.id.P11800" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Input Type Checking for Customization GUI Entry Fields</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Input Type Checking for Customization GUI Entry Fields" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10116,product.id.P10096,product.id.P11800" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Input Type Checking for Customization GUI Entry Fields</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">You can have
the customization GUI verify that the input for a text entry field
is of the correct type. The CUSTOM::DEFINE and CUSTOM::VARIABLE
commands allow text entry fields and input type checking.</span>
</div>
<p class="p">The following two optional parameter
sets can be specified for the <a class="xref fm:HeadingOnly" href="Command_Customdefine_id0c3afff6.html#id0c3afff6-3ee3-43c1-b0eb-1c2ab2d082e2__Command_Customdefine_id0c3afff6.xml#id0c3afff6-3ee3-43c1-b0eb-1c2ab2d082e2" title="Inserts a #DEFINE or #UNDEFINE pre-processor directive in the Calibre Interactive control file, or a Tcl variable in the case of TVF rule files.">CUSTOM::DEFINE</a> and <a class="xref fm:HeadingOnly" href="Command_Customvariable_id09d39077.html#id09d39077-a1ec-48e3-b87d-f2a6d4445bee__Command_Customvariable_id09d39077.xml#id09d39077-a1ec-48e3-b87d-f2a6d4445bee" title="Inserts a Variable statement in the Calibre Interactive control file, or defines a Tcl variable in the case of TVF rule files.">CUSTOM::VARIABLE</a> commands:</p>
<ul class="ul"><li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__id306bf63c-b37d-4d05-8543-343db641ac30"><p class="p"><span class="keyword ParameterName Optional">‑vtype</span> <span class="keyword ParameterName OptionalReplaceable">type</span> —
Verify the type of the input if the control creates a text entry
field. The parameter <span class="keyword ParameterName OptionalReplaceable">type</span> is
one of the following:</p>
<ul class="ul"><li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__idb0d4851d-efde-4cae-a620-8c9a46ebc6ea"><p class="p">none — Any type is accepted. This is
the default if the ‑vtype option is not specified. </p>
</li>
<li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__id43ba94ed-aa89-4f9c-9a38-ac3642222a13"><p class="p">nospaces — No spaces are allowed in
the input. </p>
</li>
<li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__idabb271ad-31a5-4f86-90a4-454c2e0e5bb1"><p class="p">integer — Integer input. </p>
</li>
<li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__id1762802d-5729-4e19-a994-abf1dede29d0"><p class="p">float — Floating point input. Scientific
notation is accepted; for example: -54.3E6.</p>
</li>
<li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__id0a0f1f15-91fd-45a1-a0e7-2906318da1b2"><p class="p">nonnegint — Non negative integer input.</p>
</li>
<li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__idce9df74b-3a5e-4548-9fc8-8a262c5ea326"><p class="p">nonnegreal — Non negative real input.
Scientific notation is not accepted. </p>
</li>
</ul>
<p class="p">Input that does not satisfy the specified
type is ignored. </p>
</li>
<li class="li" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__id7970b119-9f11-42fc-9c3f-f75d12c1b3b6"><p class="p">‑vcmd ‘[’ list <span class="keyword ParameterName OptionalReplaceable">v_proc </span>‘]’
— Specifies a Tcl procedure <span class="keyword ParameterName OptionalReplaceable">v_proc</span> to
call in order to perform input verification for controls that create
a text entry field. The brackets are required to cause command substitution.
The procedure <span class="keyword ParameterName OptionalReplaceable">v_proc</span> should
return 1 if the input is acceptable and return 0 otherwise. </p>
</li>
</ul>
<p class="p">The ‑vtype and ‑vcmd options may be specified
together. Input that is not of the correct type is ignored. If a
control specifies an initial value that does not pass the input
type checking, the incorrect entry is ignored. </p>
<p class="p">The input type checking performed with ‑vtype
float and ‑vtype nonnegreal only checks that the input characters
are valid for the specified type—checking for valid numbers is not
performed. For example, if ‑vtype float is specified, the entry
54.3e6E5 is considered valid because the individual characters are
all allowed. </p>
<div class="section Subsections"><div class="section Subsection" id="id50e3c784-a1a4-4b7b-9322-e0a7d3750f57__id0dcfc5b5-2a3c-4f2f-ab43-41884f7e8d00"><h2 class="title Subheading sectiontitle">Examples and Discussion</h2><h2 class="title Subheading sectiontitle">Example 1: -vtype</h2><p class="p">This command creates a control with a text
entry field, and outputs a Variable statement to the Calibre Interactive
control file. The parameter set “‑vtype integer” specifies that
the input type is integer. </p>
<pre class="pre codeblock leveled"><code>CUSTOM::VARIABLE -name "INT_VAR1" -choices {} -initval "8" \
	-prompt "INT_VAR1 (integer)" -vtype integer </code></pre><p class="p">Any input that is not consistent with an integer
is ignored. For example, if “21.2” is typed in the text entry field,
the “.2” is ignored and “21” is displayed in the text entry field.
No notification is given when input is ignored in this manner. </p>
<h2 class="title Subheading sectiontitle">Example 2: ‑vcmd</h2><p class="p">The following code in a customization file
creates two controls with text entry fields and provides a procedure
to do the input type checking for each control (the ‑vcmd switch).
Both type checking procedures allow for empty strings so that deleting
existing input is allowed. Input type checking is also done with
the ‑vtype switch. </p>
<pre class="pre codeblock leveled"><code>CUSTOM::DEFINE -name "def_lower" -choices {""} -boolean 0 \
	-prompt "def_lower (lower case, no spaces)" \
	-vtype nospaces -vcmd [list input_is_lower]

CUSTOM::VARIABLE -name "RES_TOL" -choices {""} -initval "8" \
	-prompt "RES_TOL  (1 &lt; integer &lt; 10)" \
	-vtype integer -vcmd [list check_range]

proc input_is_lower {args} {
	set newval $args
# allow empty string so backspacing and deleting is allowed
	if {$newval eq "" || [string is lower -strict $newval]} {
		return 1
	} else {
		return 0
	}
}

proc check_range {args} {
	set newval $args
# assumes -vtype option checks for integer value
# allow empty string so backspacing and deleting is allowed
		if {$newval eq "" } {
	 		return 1
	}  elseif { $newval &gt; 1 &amp;&amp; $newval &lt; 10} {
 			return 1
     } else {
			return 0
     }	
}
</code></pre><p class="p">The procedure input_is_lower() checks that
the input is lower case, and returns 0 if not. Text input is ignored
if input_is_lower() returns 0. For example, if “xyZ” is typed in
the text entry field for the CUSTOM::DEFINE control, the “Z” is
ignored and “xy” is displayed in the text entry field. The “‑vtype
nospaces” parameter set prevents the typing of spaces in the text
entry field. </p>
<p class="p">The procedure check_range() for the CUSTOM::VARIABLE
control forces the input to be within a specified range. Input is
ignored if check_range() returns 0. For example, if “21” is typed
in the entry field, the “1” is ignored and “2” is displayed. The
“‑vtype integer” parameter set also forces the input to be of integer
type. </p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_CustomizationCommands_idae3eb40c.html" title="The customization commands allow you to construct the Customization GUI.">Customization Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_interactive_user"
                DocTitle = "Calibre® Interactive™ User’s Manual"
                PageTitle = "Input Type Checking for Customization GUI Entry Fields"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_InputTypeCheckingCustomizationGuiEntryFields_id50e3c784.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Interactive™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>