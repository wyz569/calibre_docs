<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Converting GUI Sessions to Batch Mode Files" />
<meta name="abstract" content="The easiest way to set up batch mode runs is to start from the RET Selection interface." />
<meta name="description" content="The easiest way to set up batch mode runs is to start from the RET Selection interface." />
<meta name="DC.subject" content="Batch run, Scripts, Tcl" />
<meta name="keywords" content="Batch run, Scripts, Tcl" />
<meta name="prodname" content="Calibre SMO RET Selection User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre pxSMO engine and Calibre WORKbench RET Selection GUI." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ret_smo_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Yellow" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® SMO RET Selection User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,doc.type.documentation.ref" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="None" />
<meta name="Alpha" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idaa10fff2-af90-4fce-9e99-83728c1a43ee" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Converting GUI Sessions to Batch Mode Files</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Converting GUI Sessions to Batch Mode Files" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,doc.type.documentation.ref" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idaa10fff2-af90-4fce-9e99-83728c1a43ee">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Converting GUI Sessions to Batch Mode Files</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">The easiest way
to set up batch mode runs is to start from the RET Selection interface. </span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id6fac9239-fdee-45c4-9f63-b838a5dd1eb4"><p class="p">A
known good session to serve as the basis of other sessions.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id0ab9ec54-57bd-471b-930e-c5e5ad0aa47c"><span class="ph cmd">In the RET Selection window
Session Browser, step through each setup item and save the setup
to a file.</span></li>
<li class="li step stepexpand" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__idebee6904-627f-49e5-8f35-272c2e51d5e0"><span class="ph cmd">Create the basic driver by
typing the following in the Command Window pane:</span><div class="itemgroup info StepInfo"><p class="lines ApplCommand">mdf smo session <span class="keyword ParameterName RequiredReplaceable">sid</span> script <span class="keyword ParameterName RequiredReplaceable">filename.tcl</span></p>
<p class="p">where <span class="keyword ParameterName RequiredReplaceable">sid</span> is
the session number, and <span class="ph filepath">filename</span> is a name
you supply for the saved Tcl script. Unless you specify a directory, <span class="ph filepath">filename.tcl </span>is
written to the session_<span class="ph FontProperty equationvariable">N</span> directory
for the currently active session.</p>
</div></li>
<li class="li step stepexpand" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id077f7e1b-6979-4cbd-9a08-5366dee9bd37"><span class="ph cmd">Open the files you just created
in a text editor and make any changes such as adjusting paths or
optical conditions. The files obey Tcl parsing rules. </span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id7b6c19a5-45b5-4ede-b8be-8b1be36e76ae"><p class="p">If you change the pixel
width settings, you must specify a different pixel_socs_dir for
each setting. Optical models with the same restrictions can reuse
the kernels in the pixel_socs_dir.</p>
</li>
<li class="li" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__ided51fab8-0635-4faf-81d7-ed2c93ea1bf6"><p class="p">The pxOPC setup accepts
the commands and obeys the syntax documented in the <a class="xref LinkItalic" href="../../calbr_pxopc_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_pxopc_useref'); return false;">Calibre pxOPC User’s and Reference Manual</a>.</p>
</li>
<li class="li" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id3ac11efb-7cbf-4106-a003-33a89d5c9ecc"><p class="p">The Verify setup accepts
the commands and obeys the syntax documented in the <a class="xref LinkItalic" href="../../calbr_opcv_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_opcv_useref'); return false;">Calibre OPCverify User’s and Reference Manual</a>.</p>
</li>
<li class="li" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id7947b3eb-a75b-422b-969c-7c630c89de31"><p class="p">The pxSMO and MDF setups
accept the commands documented in this manual.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__id0533bfb7-72f9-4901-9b6a-e75dba3e6cf1"><span class="ph cmd">Save the files. Launch your
run with the following command:</span><div class="itemgroup info StepInfo"><pre class="pre ShellCommand">calibrewb  <span class="keyword ParameterName RequiredReplaceable">filename.tcl</span></pre>
<p class="p">where <span class="ph filepath">filename.tcl</span> is
the file based on the script you saved from the Command Window.</p>
</div></li>
</ol>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">The following is an example created
using this process from session 1 of a layout/gauge pair.</p>
<div class="fig fignone" id="idaa10fff2-af90-4fce-9e99-83728c1a43ee__ide0e55f1e-bacf-4d45-815d-340c1232ce71"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Example Script for
Running Without the GUI</span></div>
<pre class="pre codeblock leveled"><code>## This script can be used for cloning session 1. 
## Feel free to edit the script to suit your needs.
## It is also your responsibility to make sure the original layout and
## session folders are currently available,
## And you can manually copy files or directories/subdirs if needed. 

mdf smo start

## == Layout commands group ==
##
## cd to the layout path first:
cd /home/myaccount/training</code></pre><pre class="pre codeblock leveled"><code>## To create layout 1, you need to make sure that folder:
## /home/myaccount/training exists, or has been copied 
## (edit your path below).
## Commands are:
#mdf smo layout new {mdf gauges "/home/myaccount/training/gauges.sgd" \
 "/home/myaccount/training/layout.oas" 6 6}
#mdf smo layout name {your_new_layout_description}
##
## Since layout 1 has already been created,
## use the command below to set it current:
mdf smo layout 1
## Now you should be under the current layout's folder:
## /home/myaccount/training. Type "pwd" to verify.</code></pre><pre class="pre codeblock leveled"><code>## == Multi-sessions commands group ==
##
## To create session 1, commands are:
mdf smo session new {output/post_so_model/mdf_setup.in}
mdf smo session name {your new session description}
## Now copy all the setup files for your gensource, genmask, and
## verify steps. Format is file1;file2;...
mdf smo session files {smoo.setup;pxsmo.setup;pxopc.setup;verify.setup}</code></pre><pre class="pre codeblock leveled"><code>## The second time, since the new session &lt;sid&gt; has already been created,
## use the command below to set it current:
# mdf smo session &lt;sid&gt;
## You should now be under session &lt;sid&gt;’s folder. Type "pwd" to verify.</code></pre><pre class="pre codeblock"><code>## Session run control: default is "disabled" without this line.
mdf smo session run disable</code></pre><pre class="pre codeblock"><code>##Choose the smo engine type:
mdf smo session pxsmo yes</code></pre><pre class="pre codeblock"><code>## == The actual contents of the commands below were generated
##    based on the finishing state of session 1 ==</code></pre><pre class="pre codeblock leveled"><code>## Preparing for source gen.
## Include commands for target layer smoothing, etc., if any:
mdf smo presmo {mdf gauges center drawn 1.5; \
	mdf litho gencliparray  ./tmpworkdir/smo/retsel_cliparray.oas \
									./tmpworkdir/smo/retsel_cliparray.gg \
									./tmpworkdir/smo/retsel_gaugelayer.oas;\
	mdf litho add smoo -setup smoo.setup -inputs {6} -outputs {tgtsmth};\
	mdf litho run;\
	mdf litho savelayout ./tmpworkdir/smo/targetSmooth.oas {tgtsmth:7 *};\
	mdf gauges layout ./tmpworkdir/smo/targetSmooth.oas 7 6 ;}</code></pre><pre class="pre codeblock leveled"><code>## Source generation steps:
mdf smo setup {pxsmo.setup}</code></pre><pre class="pre codeblock leveled"><code>## It is recommended to set a reasonable value (in optical diameter
## multiplier) for smo simulation target size.
mdf smo tgtextent 1.1
mdf smo clips gen</code></pre><pre class="pre codeblock leveled"><code>## You may use "mdf smo drawclips all" to verify the clips just generated.
mdf smo source</code></pre><pre class="pre codeblock leveled"><code>## Mask generation steps:
mdf smo preopc {}</code></pre><pre class="pre codeblock leveled"><code>mdf smo mask {mdf litho add loadclips \
	-inputs {./tmpworkdir/smo/retsel_smoothtarget.oas} \
	-outputs {tgtsmth} \
	-command load;\
mdf litho add loadclips2 \
	-inputs {./tmpworkdir/smo/retsel_squaretarget.oas} \
	-outputs {squaretgt} \
	-command load;\
mdf litho add pxopc -setup pxopc.setup \
	-inputs {squaretgt tgtsmth} \
	-outputs {retsel_mask} \
	-command pxopc;\
mdf litho check off;mdf litho run -distributed} </code></pre><pre class="pre codeblock leveled"><code>## Verification steps:
mdf smo preverify {}</code></pre><pre class="pre codeblock leveled"><code>mdf smo verify {mdf litho add loadclips1 \
	-inputs {./tmpworkdir/smo/retsel_squaretarget.oas} \
	-outputs {squaretgt} \
	-command load;\
mdf litho add loadclips2 \
	-inputs {./tmpworkdir/smo/retsel_mask.oas} \
	-outputs {retsel_mask} \
	-command load;\
mdf litho add loadclips3 \
	-inputs {./tmpworkdir/smo/retsel_smofilter.oas} \
	-outputs {smo_clips} \
	-command load;\
mdf litho add loadclips4 \
	-inputs {./tmpworkdir/smo/retsel_gaugelayer.oas} \
	-outputs {retsel_gauges} \
	-gauge_prop {mdf_gid} \
	-command load;\
mdf litho add verify -setup verify.setup \
	-inputs {squaretgt retsel_mask retsel_gauges smo_clips} \
	-outputs {pv nominal gauge_layer};\
mdf litho check off;\
mdf litho run -parallel;\
mdf litho savelayout ./output/ai_contour_post_so.oas {squaretgt:1\
	retsel_mask:2 retsel_gauges:3 smo_clips:4 pv nominal gauge_layer}}</code></pre><pre class="pre codeblock leveled"><code>## Finishing up the session. Run will be saved if enabled:
mdf smo postsmo {}
mdf smo end</code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_SettingUpRunningRetSelection_id0fc947dd.html" title="Calibre pxSMO source-map optimization is most easily set up using the RET Selection interface. It prompts you for required settings and makes it easy to select critical areas.">Setting Up and Running</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/MGCChap_RetSelectionMdfCommands_id2c843c40.html#id2c843c40-49f5-411d-8878-c4ed18a1aceb__" title="When you interact with the RET Selection window, commands are echoed to the Command Window and Log Window as well as the terminal from which Calibre WORKbench was invoked. You can use the commands to create Tcl scripts to run Calibre pxSMO without a GUI.">RET Selection MDF Commands</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ret_smo_useref"
                DocTitle = "Calibre® SMO RET Selection User’s and Reference Manual"
                PageTitle = "Converting GUI Sessions to Batch Mode Files"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_ConvertingGuiSessionsBatchModeFiles_idaa10fff2.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® SMO RET Selection User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>