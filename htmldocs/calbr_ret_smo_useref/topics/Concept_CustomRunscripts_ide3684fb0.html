<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Custom Runscripts" />
<meta name="abstract" content="The runscript file can be customized, usually by a system administrator. All runscripts have specific requirements for use, but can be written in any scripting language." />
<meta name="description" content="The runscript file can be customized, usually by a system administrator. All runscripts have specific requirements for use, but can be written in any scripting language." />
<meta name="prodname" content="Calibre SMO RET Selection User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre pxSMO engine and Calibre WORKbench RET Selection GUI." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_ret_smo_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="all;show" />
<meta name="HighlightColor" content="Yellow" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® SMO RET Selection User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,doc.type.documentation.ref" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="None" />
<meta name="Alpha" content="NONE" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ide3684fb0-4ae7-4d03-9203-5318a1718c6d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Custom Runscripts</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Custom Runscripts" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,doc.type.documentation.ref" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Custom Runscripts</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The runscript file can be customized,
usually by a system administrator. All runscripts have specific
requirements for use, but can be written in any scripting language.</span>
</div>
<p class="p">Runscript examples are located in the product tree
in the location:</p>
<p class="p"><span class="ph filepath">$CALIBRE_HOME/pkgs/icmdf/pvt/runscripts</span></p>
<p class="p">Runscripts are plain text files. The example code is implemented
as Tcl, /bin/sh, or /bin/bash. Both the user and system administrator
have full control over the runscript content.</p>
<p class="p">All runscripts should perform the following operations, in order.</p>
<ol class="ol"><li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__id1db515b9-64cd-4234-b07a-3425e3728d09"><p class="p">Accept
the standardized minimal arguments.</p>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__idf13e5f37-49c2-40e6-87f0-375255d6ad82"><p class="p">List usage
information if the -h option was used, and exit.</p>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__idf4bf6ea0-f519-43c1-b2c5-054e9d54c839"><p class="p">Emit option
metadata if the -optionmetadata option is used. This option should
list the same information as would be emitted by the -h option,
but in XML form.</p>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__id28ffa8a1-9596-4207-8faa-71dd8b914812"><p class="p">Acquire or identify a host to execute the
calibrewb job session. This can use either MT or Calibre MTflex
(for example, by requiring the user to specify the -remotefile option).
This host will be used as the Calibre MTflex primary host. The hostname
can be hardcoded in the runscript, but the intention is for the
host to be acquired by a distributed processing system.</p>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__id2f366de8-3f31-4bc8-9acd-9daeb84e4a6b"><p class="p">If the runscript
is designed to run Calibre MTflex, it should also perform the following
steps:</p>
<ul class="ul"><li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__id644fcc6a-e121-41ec-9bf2-e77e0765ca54"><p class="p">Acquire or identify one or more hosts for
Calibre MTflex remotes. These hosts can also be hardcoded, but the
intention is for the remotes to be retrieved from the distribution
system, similar to the Calibre MTflex primary host.</p>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__id93a471f0-8bee-43c4-b422-ff84aa12138d"><p class="p">Construct a
remote configuration file to pass to the calibrewb job. This can
be a static file, but it is more effective when the remote configuration
file is generated by the script.</p>
<p class="p">Alternatively, since calibrewb uses standard MTflex, a REMOTE COMMAND
can be specified in the remote configuration file instead of hosts;
this command would use a distribution system to launch the remote
computing server processes (note that you would use “calibrewb -mtflex <span class="keyword ParameterName OptionalReplaceable">H</span>:<span class="keyword ParameterName OptionalReplaceable">P</span>”
instead of “calibre -mtflex”)</p>
</li>
</ul>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__ide640f1a0-a256-4b76-8210-3fca0b3018ed"><p class="p">The runscript
should next execute calibrewb and pass it the <span class="keyword ParameterName OptionalReplaceable">job.tcl</span> script,
along with the -remote configuration file option if Calibre MTflex
execution has been chosen. The calibrewb execution command should:</p>
<ul class="ul"><li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__idab473142-0367-4df3-af86-1a0e2babda25"><p class="p">Redirect
all standard output and standard error messages from the execution
of calibrewb into the <span class="ph filepath italic">job.transcript</span> file.</p>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__ideb04ac6a-7fbf-4ff7-8dee-3eb479e1d428"><p class="p">Pass all other
output from the script without redirecting them to a file; the dispatcher
process will redirect all other standard output and standard error
into the <span class="ph filepath">runscript.transcript</span> file. </p>
<p class="p">The <span class="ph filepath">runscript.transcript</span> file output represents
failures in execution to distribution systems (such as failure to
rsh into systems, failures in requesting job execution to the distributed
system, and so on), which is separate from the calibrewb execution
output sent to the <span class="keyword ParameterName OptionalReplaceable">job.transcript</span> file.</p>
<p class="p">This is so the user can view the <span class="ph filepath">runscript.transcript</span> file
separately from the <span class="keyword ParameterName OptionalReplaceable">job.transcript</span> file.</p>
</li>
</ul>
</li>
<li class="li" id="ide3684fb0-4ae7-4d03-9203-5318a1718c6d__idbd7c36d8-beb8-4ee6-8cf1-0b88ab8f4154"><p class="p">The runscript
must wait for the calibrewb job to finish, even if it is running on
a remote host indirectly through a distribution system.</p>
<p class="p">The exit code from the calibrewb process must
be returned from the runscript as its exit code, regardless of whether
the runscript ran the job on the primary host or dispatched it to
a remote host. This is so the dispatcher process can update the
status file and also execute dependent jobs upon successful completion.</p>
</li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCAppe_SystemFlowAndRunscriptInformation_id2db09b3e.html" title="It is useful to understand the system flow and runscripts used by the RET Selection GUI.">System Flow And Runscript Information</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_ret_smo_useref"
                DocTitle = "Calibre® SMO RET Selection User’s and Reference Manual"
                PageTitle = "Custom Runscripts"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_CustomRunscripts_ide3684fb0.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® SMO RET Selection User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>