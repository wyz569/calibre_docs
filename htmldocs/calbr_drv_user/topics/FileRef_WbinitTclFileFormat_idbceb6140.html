<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="FileRefTopic" />
<meta name="DC.Title" content="wbinit.tcl File Format" />
<meta name="abstract" content="The wbinit.tcl file is an application extension file allowing you to write Tcl-based scripts to create customized macros and modifications to the behavior of the layout viewer." />
<meta name="description" content="The wbinit.tcl file is an application extension file allowing you to write Tcl-based scripts to create customized macros and modifications to the behavior of the layout viewer." />
<meta name="prodname" content="Calibre DESIGNrev Layout Viewer User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-26" />
<meta name="Topline" content="Siemens EDA" />
<meta name="IncludeDraftCommentsInChangeLog" content="All" />
<meta name="GenerateOnlyChangedTopics" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_drv_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® DESIGNrev™ Layout Viewer User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idbceb6140-fe95-4a0d-b351-76a588cd36c1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>wbinit.tcl File Format</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="wbinit.tcl File Format" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10088,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idbceb6140-fe95-4a0d-b351-76a588cd36c1">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">wbinit.tcl File Format</h1>
<div class="body refbody FileRefBody"><div class="abstract FileRefAbstract"><p class="p ContextMGC">Tools: Calibre DESIGNrev, Calibre
LITHOview, Calibre MDPview, Calibre WORKbench</p>
<p class="shortdesc">The <span class="ph filepath">wbinit.tcl</span> file
is an application extension file allowing you to write Tcl-based
scripts to create customized macros and modifications to the behavior
of the layout viewer.</p>
<div class="note caution"><span class="cautiontitle">CAUTION:</span> <p class="p">This is an advanced,
scripting-level form of customization that allows you to both create
macros and enable levels of layout viewer configuration. Use of
this functionality should be made with great care. See “<a class="xref fm:HeadingAndPage" href="Contain_MultiLevelConfiguration_id79b8e6fb.html#id79b8e6fb-b791-41e6-9779-3878c8dadcae__Contain_MultiLevelConfiguration_id79b8e6fb.xml#id79b8e6fb-b791-41e6-9779-3878c8dadcae" title="To enable levels of the layout viewer configuration, Calibre layout viewers support reading configuration files from directories other than the default layout viewer configuration directory, $HOME/.calibrewb_workspace. For example, a system configuration directory might contain configurations that apply to all users supported by a particular administrator, and a project directory might contain configurations that apply to all usage for a specific project. A single-level configuration meets the needs of many individual users, and most of the users who use the multilevel configuration have it set by an administrator. One feature of a multilevel configuration is that it allows everyone working on a project to share the same configuration.">Multilevel Configuration</a>” for information on enabling
levels of layout viewer configuration.</p>
</div>
<p class="p">You must create the <span class="ph filepath italic">wbinit.tcl</span> file
and place it in one of the following locations where it can be sourced
by the layout viewer:</p>
<ul class="ul"><li class="li" id="idbc6c6d5b-d5f6-4d5c-ab1c-110eb96f3fcc"><p class="p">A directory
specified by the $MGC_CWB_CONFIG_DIRS environment variable</p>
</li>
<li class="li" id="id86a6738f-1d2c-4259-bc68-509be3561de5"><p class="p"><span class="ph filepath italic">$HOME/.calibrewb_workspace/wbinit.tcl</span></p>
</li>
</ul>
<p class="p">If the $MGC_CWB_CONFIG_DIRS environment
variable is set, any <span class="ph filepath italic">wbinit.tcl</span> files
in the $MGC_CWB_CONFIG_DIRS directories are sourced. Alternatively,
if $MGC_CWB_CONFIG_DIRS is not set, then a <span class="ph filepath italic">wbinit.tcl</span> file
in the <span class="ph filepath italic">$HOME/.calibrewb_workspace</span> directory
is sourced.</p>
<p class="p">When you run Calibre DESIGNrev
in shell mode (using the -shell or -a command option), Tcl is loaded
without the Tk package. In this state, the applications are unable
to execute Tk commands in the <span class="ph filepath italic">wbinit.tcl</span> file,
and aborts with an error if they encounter such commands. You can
avoid these errors by protecting any Tk commands, with conditional
statements testing whether Tk is loaded or not. For example:</p>
<pre class="pre codeblock leveled"><code># protected Tk command 
if [isTkLoaded] { 
   set filename [tk_getSaveFile] 
} </code></pre><p class="p">Alternatively, you can create
a <span class="ph filepath">wbposttkinit.tcl</span> file that gets automatically
sourced after both the Tcl and Tk packages are loaded.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">The <span class="ph filepath italic">wbinit.tcl</span> file
must test if Tk is loaded before doing anything dependent on Tk
being loaded (for example, the $cwb commands are written with Tk commands).</p>
<p class="p">The example layer operations macros
call the Calibre nmDRC program. The application must be in a valid
MGC software tree with a licensed copy of Calibre nmDRC for these example
layer operations macros to work.</p>
</div>
</div>
<div class="section Formats"><h2 class="title Subheading sectiontitle">Format</h2><p class="p">A <span class="ph filepath italic">wbinit.tcl</span> file
must conform to the following formatting and syntax rules:</p>
<ul class="ul"><li class="li" id="idbceb6140-fe95-4a0d-b351-76a588cd36c1__id492f0be6-879b-49ca-9d54-7d3925eeb987"><p class="p">Must be a Tcl/Tk-based script</p>
</li>
<li class="li" id="idbceb6140-fe95-4a0d-b351-76a588cd36c1__id00326270-ad96-4b98-921d-4550aa99d14f"><p class="p">Most of the commands within this
file fall into one of the following categories:</p>
<ul class="ul"><li class="li" id="idbceb6140-fe95-4a0d-b351-76a588cd36c1__id9da268b3-cad2-435a-adba-6a8601c7d5af"><p class="p">The set command, which you use
for setting global Tcl variables. This is rarely used except for
debugging purposes.</p>
</li>
<li class="li" id="idbceb6140-fe95-4a0d-b351-76a588cd36c1__id94bd1604-ffb8-4696-83e4-4823578e5e97"><p class="p">Macro
definitions, which let you create user-defined procedures and macros.
You can then use macro definitions like any other commands for the
application. By default, the <span class="ph uicontrol bold">Macros</span> menu
contains example macros. Refer to the <a class="xref LinkItalic" href="../../calbr_drv_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_drv_ref'); return false;">Calibre DESIGNrev Reference Manual</a> for a complete discussion of creating
macros.</p>
</li>
</ul>
</li>
</ul>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Parameters</h2><div class="section ArgumentSet"><p class="p">None.</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">Add the following line to your <span class="ph filepath italic">wbinit.tcl</span> file
to set the default object selection mode when you invoke Calibre
DESIGNrev:</p>
<pre class="pre codeblock leveled"><code>option add *Canvas*selectionMode <span class="keyword ParameterName OptionalReplaceable">mode</span></code></pre><p class="p">Replacing “mode” with one of the
following options: </p>
<p class="p BlockIndent">none best ref polygon edge vertex</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_ConfigurationFileReference_id4dccc720.html" title="Any time you configure the layout viewer, the tool saves your setting in one of several configuration files. While you can use the GUI to configure some aspects of the tool, you also have the option of editing the configuration files. Some aspects of the layout viewer behavior can only be modified by editing one of the configuration files.">Configuration File Reference</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_drv_user"
                DocTitle = "Calibre® DESIGNrev™ Layout Viewer User’s Manual"
                PageTitle = "wbinit.tcl File Format"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/FileRef_WbinitTclFileFormat_idbceb6140.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® DESIGNrev™ Layout Viewer User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>