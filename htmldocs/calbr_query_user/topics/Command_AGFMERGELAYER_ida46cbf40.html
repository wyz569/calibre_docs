<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="AGF MERGE LAYER" />
<meta name="abstract" content="Causes a layer to be merged in AGF output." />
<meta name="description" content="Causes a layer to be merged in AGF output." />
<meta name="prodname" content="Calibre Query Server Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_query_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Query Server Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11713,product.id.P10099,product.id.P10087,product.id.P10084,product.id.P11347,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="ida46cbf40-1011-4459-8fd3-dd66787ebef8" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>AGF MERGE LAYER</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="AGF MERGE LAYER" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11713,product.id.P10099,product.id.P10087,product.id.P10084,product.id.P11347,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="ida46cbf40-1011-4459-8fd3-dd66787ebef8">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">AGF MERGE LAYER</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">CCI command. Corresponding Tcl shell
command: <a class="xref fm:HeadingOnly" href="Command_Qssetagfoptions_id041efbcd.html#id041efbcd-b076-42d7-821a-641156b1083f__Command_Qssetagfoptions_id041efbcd.xml#id041efbcd-b076-42d7-821a-641156b1083f" title="Configures AGF output settings for the qs::write_agf command.">qs::set_agf_options</a> -merge_layer.</p>
<p class="shortdesc">Causes a layer to be merged in AGF output.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">AGF MERGE LAYER</span> <span class="keyword ParameterName RequiredReplaceable">layer</span></p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">Alternate Command Name</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">GDS MERGE LAYER</span> </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="ida46cbf40-1011-4459-8fd3-dd66787ebef8__id3ea4988f-732c-4d45-8e93-bfd79b72c82a"><span class="keyword ParameterName RequiredReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required polygon layer name that exists
in the Mask SVDB Directory PHDB.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Causes the <span class="keyword ParameterName RequiredReplaceable">layer</span> to
be merged by a subsequent <a class="xref fm:HeadingOnly" href="Command_AGFWRITE_id93bcd499.html#id93bcd499-4f66-4ea0-995f-e6d0acc193dd__Command_AGFWRITE_id93bcd499.xml#id93bcd499-4f66-4ea0-995f-e6d0acc193dd" title="Writes an annotated geometry format (AGF) file.">AGF WRITE</a> command.
Layers that are merged are present in the Mask SVDB Directory PHDB
that is loaded by the Query Server. This command can be invoked
multiple times in order to merge multiple layers.</p>
<p class="p">Geometries in merged layers are promoted as necessary to higher
levels of the hierarchy in order to ensure that each shape is a
single polygon contained entirely in one cell. Merging large layers,
such as bulk pin layers or metal layers that form resistor pins,
can degrade performance because of the flattening of the layers.</p>
<p class="p">By default, device seed shapes are fully merged on output by
AGF WRITE. However, device seed layers might not be merged if the
ORIGINAL option to <a class="xref fm:HeadingOnly" href="Command_AGFSEEDPROPERTY_id5db96c92.html#id5db96c92-f44a-449a-a54c-d2e4b85e54ff__Command_AGFSEEDPROPERTY_id5db96c92.xml#id5db96c92-f44a-449a-a54c-d2e4b85e54ff" title="Configures the type of device seed properties that can appear in AGF output.">AGF SEED PROPERTY</a> is used
in the flow. Also, the Calibre device extraction module does not
require pin layers to be merged in order to extract a device successfully.
However, certain parasitic extraction tools do require merged pin
layers in order to generate accurate results. This command is useful
in generating AGF output for such tools.</p>
<p class="p">An empty input layer is processed with no effect on the output.
An error occurs if any selected layer is unsuitable for merging.</p>
<div class="section Subsection" id="ida46cbf40-1011-4459-8fd3-dd66787ebef8__id2ae6c869-80bf-4757-981f-781754d3bf38"><h2 class="title Subheading sectiontitle">Acknowledgments</h2><p class="p">OK., ERROR(185)</p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">This shows a command sequence where layer merging is needed for
gate pin layers:</p>
<pre class="pre codeblock"><code># output seed polygons with either net ids or with instance names 
AGF SEED PROPERTY DEVICE ORIGINAL 
 
# output annotated GDSII mapping file. 
# output the gates on layer 3 using datatypes 1 through 4. 
# output instance names for DEVICE, net names for ORIGINAL. 
RESPONSE FILE gds.map
AGF MAP ngate 4 1 ORIGINAL 
AGF MAP ngate 4 2 DEVICE 
AGF MAP pgate 4 3 ORIGINAL 
AGF MAP pgate 4 4 DEVICE 
AGF MAP 
RESPONSE DIRECT 
# merge the gate layers
AGF MERGE LAYER pgate
AGF MERGE LAYER ngate
AGF WRITE devices.agds.gz
AGF RESET</code></pre></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_AnnotatedGeometryFormatCommands_idbed37247.html" title="Annotated Geometry Format (AGF) files are GDSII stream files (version 6) or OASIS (version 1.0) files created from the layout database. GDS output uses the PROPATTR and PROPVALUE fields to specify device ids, node numbers, and instance placement names. OASIS output uses the CELLNAME, PROPNAME, PROPSTRING, and LAYERNAME records in STRICT mode. Each CELLNAME record is followed by a S_CELL_OFFSET property record to support arbitrary access. This allows multi-threaded stream-in by Calibre tools.">Annotated Geometry Format Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_AGFMERGEPINLAYERS_idc8b108ab.html" title="Causes selected device pin layers to be merged in AGF output.">AGF MERGE PIN LAYERS</a></div>
<div><a class="link" href="../topics/Command_AGFCLEARMERGELAYERS_id1ec8c897.html" title="Clears the current list of layers specified in CCI for merging.">AGF CLEAR MERGE LAYERS</a></div>
<div><a class="link" href="../topics/Contain_AnnotatedGeometryFormatCommands_idbed37247.html" title="Annotated Geometry Format (AGF) files are GDSII stream files (version 6) or OASIS (version 1.0) files created from the layout database. GDS output uses the PROPATTR and PROPVALUE fields to specify device ids, node numbers, and instance placement names. OASIS output uses the CELLNAME, PROPNAME, PROPSTRING, and LAYERNAME records in STRICT mode. Each CELLNAME record is followed by a S_CELL_OFFSET property record to support arbitrary access. This allows multi-threaded stream-in by Calibre tools.">Annotated Geometry Format Commands</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_query_user"
                DocTitle = "Calibre® Query Server Manual"
                PageTitle = "AGF MERGE LAYER"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_AGFMERGELAYER_ida46cbf40.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Query Server Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>