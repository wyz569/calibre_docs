<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="ConceptTopic" />
<meta name="DC.Title" content="Evaluation of Hcells for Netlist Extraction" />
<meta name="abstract" content="The hcell analysis feature is typically used for LVS comparison when layout and source are both SPICE netlists. However, the hcell analysis can be used when the layout is geometric. This method has the disadvantage that the devices and connectivity from the layout have not yet been extracted, so comparison performance estimations are done entirely with the source netlist." />
<meta name="description" content="The hcell analysis feature is typically used for LVS comparison when layout and source are both SPICE netlists. However, the hcell analysis can be used when the layout is geometric. This method has the disadvantage that the devices and connectivity from the layout have not yet been extracted, so comparison performance estimations are done entirely with the source netlist." />
<meta name="DC.subject" content="Hcell analysis, for circuit extraction" />
<meta name="keywords" content="Hcell analysis, for circuit extraction" />
<meta name="prodname" content="Calibre Query Server Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_query_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="CalibreÂ® Query Server Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11713,product.id.P10099,product.id.P10087,product.id.P10084,product.id.P11347,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Evaluation of Hcells for Netlist Extraction</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Evaluation of Hcells for Netlist Extraction" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11713,product.id.P10099,product.id.P10087,product.id.P10084,product.id.P11347,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Evaluation of Hcells for Netlist Extraction</h1>
<div class="body conbody ConceptBody"><div class="abstract ConceptAbstract"><span class="shortdesc">The hcell analysis
feature is typically used for LVS comparison when layout and source
are both SPICE netlists. However, the hcell analysis can be used
when the layout is geometric. This method has the disadvantage that
the devices and connectivity from the layout have not yet been extracted,
so comparison performance estimations are done entirely with the
source netlist.</span>
</div>
<p class="p">The <a class="xref fm:HeadingOnly" href="Command_Hcellsread_ida90639f7.html#ida90639f7-3ab1-463e-a7a0-ebec97969e4f__Command_Hcellsread_ida90639f7.xml#ida90639f7-3ab1-463e-a7a0-ebec97969e4f" title="Reads in the layout and source netlists, along with any Hcell statements that may be in the rule file.">hcells::read</a> command scans the source netlist
specified in the rule file in order to obtain source cell names.
Then it reads the layout geometry database specified in the rule
file to assess matching names and cells that are likely to cause
performance problems during layout extraction. Finally, the source
netlist is read again to perform hcell efficiency analysis using device
counts in the source netlist.</p>
<p class="p">Following is an example
that assumes a rule file specifies a geometric <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Layout System', 'svrf_ur'); return false;">Layout System</a> and <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Source System', 'svrf_ur'); return false;">Source System</a> SPICE.</p>
<div class="fig fignone" id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20__id12f28f8a-a945-4008-9fd4-3d91ef0ec201"><pre class="pre codeblock leveled"><code>$ calibre -qs 
&gt; <a class="xref fm:HeadingOnly" href="Command_Hcellshcells_idb11b1ef6.html#idb11b1ef6-a88e-45fe-9f80-da9e2a8459b2__Command_Hcellshcells_idb11b1ef6.xml#idb11b1ef6-a88e-45fe-9f80-da9e2a8459b2" title="Creates a current hcell list from an hcell file. The current hcell list, if any, is cleared first.">hcells::hcells</a> -file hcells 
&gt; <a class="xref fm:HeadingOnly" href="Command_Hcellsautomatch_idff09ee4f.html#idff09ee4f-3e02-4984-895c-f4c168ac8e7f__Command_Hcellsautomatch_idff09ee4f.xml#idff09ee4f-3e02-4984-895c-f4c168ac8e7f" title="Identifies layout and source cells that match by name.">hcells::automatch</a> -on 
&gt; <a class="xref fm:HeadingOnly" href="Command_Hcellsread_ida90639f7.html#ida90639f7-3ab1-463e-a7a0-ebec97969e4f__Command_Hcellsread_ida90639f7.xml#ida90639f7-3ab1-463e-a7a0-ebec97969e4f" title="Reads in the layout and source netlists, along with any Hcell statements that may be in the rule file.">hcells::read</a> -rules extract.rules -auto_expand PRESET
&gt; <a class="xref fm:HeadingOnly" href="Command_HcellsaddMatchingHcells_idd6616bce.html#idd6616bce-d8b9-4d68-9e54-7f576148cb8c__Command_HcellsaddMatchingHcells_idd6616bce.xml#idd6616bce-d8b9-4d68-9e54-7f576148cb8c" title="Adds cells identified with the hcells::automatch or hcells::placementmatch commands to the current hcell list. Without this command, automatically matched hcells are not considered when producing the hcell analysis and hierarchy tree report.">hcells::add_matching_hcells</a> 
&gt; <a class="xref fm:HeadingOnly" href="Command_HcellsprintHcells_id9f8cdeaa.html#id9f8cdeaa-aeb8-4884-877f-d5048efe8358__Command_HcellsprintHcells_id9f8cdeaa.xml#id9f8cdeaa-aeb8-4884-877f-d5048efe8358" title="Writes the current list of hcells.">hcells::print_hcells</a> -file hcells.extract </code></pre></div>
<p class="p">This sequence of commands does the following
things, in order:</p>
<ul class="ul"><li class="li" id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20__idfe070b30-1cca-4f1f-b24b-9a69c492c6fc"><p class="p">Reads in an hcell correspondence file
called <span class="ph filepath">hcells</span>. If no hcell file exists, you
can omit hcells::hcells.</p>
</li>
<li class="li" id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20__id4418c2d3-732e-4938-992a-7ca678076777"><p class="p">Designates that cells having the same
names in layout and source as potential hcells.</p>
</li>
<li class="li" id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20__id310eeeda-2189-4409-aa43-e55711ab3d04"><p class="p">Reads hcells based
on the rule file and uses the internal automatic hcell expansion setting
as a filter. If this filtering is too restrictive (too many hcells
are being expanded, so your hcell list is too small), you can relax
the -auto_expand setting.</p>
</li>
<li class="li" id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20__id6f3aed4a-9748-494e-bfb4-2e952b60ed4b"><p class="p">Adds cells to the current hcell list
where layout and source names match, excluding layout cells that
have been automatically expanded as high-cost. </p>
<p class="p">If you want to filter the list further
for the LVS comparison stage, use <a class="xref fm:HeadingOnly" href="Command_HcellsclearHcell_idedba76e6.html#idedba76e6-7c22-4f99-91c1-374d4e6bd6b0__Command_HcellsclearHcell_idedba76e6.xml#idedba76e6-7c22-4f99-91c1-374d4e6bd6b0" title="Removes a corresponding cell pair from the current hcell list.">hcells::clear_hcell</a> in a
subsequent step.</p>
</li>
<li class="li" id="id76a34ee5-7054-4e90-8ea1-fc90ca39ad20__id42bf7e2d-9615-49b6-8571-dca74ade90f6"><p class="p">Prints the selected hcells to the file <span class="ph filepath">hcells.extract</span>.</p>
</li>
</ul>
<p class="p">A similar flow is used by default through
the âgenhcells command line option. The -genhcells option uses the
Query Server Tcl shell during the run to generate an hcell list
that is stored in the Mask SVDB Directory. See â<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Calibre nmLVS and Calibre nmLVS-H Command Line', 'calbr_ver_user'); return false;">Calibre nmLVS and Calibre nmLVS-H Command Line</a>â in the <cite class="cite">Calibre Verification Userâs
Manual</cite> for more details.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_HcellHierarchicalAnalysis_id86fc4afd.html" title="Hcells define correspondences between layout and source cells in hierarchical LVS. CalibreÂ nmLVS-H cannot generally determine these correspondences if the subcircuit names are different in the two designs, so a user-defined hcell list is needed in that case. Furthermore, simply because cell names may match between layout and source designs does not mean the pair will make good hcells. The Query Server can assist in finding a prospective set of hcells that act as design partitions to improve comparison efficiency and to make debugging simpler.">Hcell and Hierarchical Analysis</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter">Â </div><div class="Footer" id="Footer">Â </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_query_user"
                DocTitle = "CalibreÂ® Query Server Manual"
                PageTitle = "Evaluation of Hcells for Netlist Extraction"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Concept_EvaluationHcellsNetlistExtraction_id76a34ee5.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">CalibreÂ® Query Server Manual,Â v2021.2<br />Unpublished work. Â©Â 2021Â Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>