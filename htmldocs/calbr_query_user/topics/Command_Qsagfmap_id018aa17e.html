<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="qs::agf_map" />
<meta name="abstract" content="Returns the layer map scheme of annotated layout output." />
<meta name="description" content="Returns the layer map scheme of annotated layout output." />
<meta name="prodname" content="Calibre Query Server Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_query_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightColor" content="mgc_yellow_129_50" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Query Server Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11713,product.id.P10099,product.id.P10087,product.id.P10084,product.id.P11347,product.id.P11427" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id018aa17e-89ec-48df-bf21-209cffb01498" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>qs::agf_map</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="qs::agf_map" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P11713,product.id.P10099,product.id.P10087,product.id.P10084,product.id.P11347,product.id.P11427" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id018aa17e-89ec-48df-bf21-209cffb01498">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">qs::agf_map</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Annotated
Geometry Format command. Corresponding standard commands: <a class="xref fm:HeadingOnly" href="Command_AGFMAP_idfd7fa8dc.html#idfd7fa8dc-3f50-4f68-b364-2ddc8ba7031a__Command_AGFMAP_idfd7fa8dc.xml#idfd7fa8dc-3f50-4f68-b364-2ddc8ba7031a" title="Returns or configures the layer map scheme of AGF output.">AGF MAP</a> and <a class="xref fm:HeadingOnly" href="Command_AGFSVRFMAP_ida260b7dd.html#ida260b7dd-c5c2-4b12-a732-685dc66b6b6a__Command_AGFSVRFMAP_ida260b7dd.xml#ida260b7dd-c5c2-4b12-a732-685dc66b6b6a" title="Configures the format of AGF MAP command output.">AGF SVRF MAP</a>. A Calibre
Connectivity Interface license is required for this command. Mask
SVDB Directory CCI must be specified in the rules used to create
the loaded database. Also used in Calibre YieldServer.</p>
<p class="shortdesc">Returns the layer map scheme
of annotated layout output.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">qs::agf_map</span> [{-remap <span class="keyword ParameterName OptionalReplaceable">calibre_layer</span> <span class="keyword ParameterName OptionalReplaceable">design_layer</span> <span class="keyword ParameterName OptionalReplaceable">design_datatype</span> [<span class="keyword ParameterName OptionalDefault">-device</span> | -original]} | {{{‑svrf <span class="keyword ParameterName OptionalReplaceable">filename</span>} | {-write <span class="keyword ParameterName OptionalReplaceable">filename</span>}} [-filter <span class="keyword ParameterName OptionalReplaceable">filter_object</span>]}] [-help]</p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">Alternate Command Name</h2><p class="lines UsageLine"> <span class="keyword ParameterName Required">qs::gds_map</span> </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__id80c8376c-4b73-4e4a-91d3-4537f9edd224">-remap <span class="keyword ParameterName OptionalReplaceable">calibre_layer</span> <span class="keyword ParameterName OptionalReplaceable">design_layer</span> <span class="keyword ParameterName OptionalReplaceable">design_datatype</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional argument set
that specifies to map a Calibre layer to an AGF output layer number and
datatype. The <span class="keyword ParameterName OptionalReplaceable">calibre_layer</span> is
a layer name. The <span class="keyword ParameterName OptionalReplaceable">design_layer</span> and <span class="keyword ParameterName OptionalReplaceable">design_datatype</span> arguments
are an AGF design layer number and datatype, respectively. Care
should be taken that downstream tools accept the mapped layer and
datatype values. This option is mutually exclusive with -svrf and
-write.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__id9e6001af-486a-499c-b0bd-bc20ba77d67e"><span class="keyword ParameterName OptionalDefault">-device</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument used with -remap that specifies recognized device layers
are mapped. This is the default setting, and is similar in purpose
to the standard command AGF MAP … DEVICE output. May not be specified
with -original.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__ide4fe2a45-a7ba-45c0-a2b7-40a898341fca">-original</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional
argument used with -remap that specifies original seed layers are
mapped. This is similar in purpose to the standard command AGF MAP
… ORIGINAL output. May not be specified with -device.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__id64c43898-03b9-4276-87cd-297fa16e8e6c">-svrf <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional argument set that specifies
SVRF compliant output is sent to the <span class="keyword ParameterName OptionalReplaceable">filename</span>.
This is analogous to AGF SVRF MAP YES output. This option is mutually
exclusive with ‑remap and -write.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__idaf4c2c16-9506-4afe-a4b1-e2bfd6e69885">-write <span class="keyword ParameterName OptionalReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional argument set that specifies to
output the default map to the specified <span class="keyword ParameterName OptionalReplaceable">filename</span>.
This option is mutually exclusive with -remap and -svrf.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__id51febe9c-e3ae-4946-9536-dbd785774032">-filter <span class="keyword ParameterName OptionalReplaceable">filter_object</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional argument set that specifies a <a class="xref Link" href="../../calbr_ys_ref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'dfmcreate_filter', 'calbr_ys_ref'); return false;">dfm::create_filter</a> object.
When this option is used, the output includes just the layers referenced
in the <span class="keyword ParameterName OptionalReplaceable">filter_object</span>.
This option may only be used with -svrf or -write. This argument
set is analogous to <a class="xref fm:HeadingOnly" href="Command_FilterLayers_idc416d8af.html#idc416d8af-1ef7-40f5-ae46-a0401b3c68f3__Command_FilterLayers_idc416d8af.xml#idc416d8af-1ef7-40f5-ae46-a0401b3c68f3" title="Specifies which PHDB layers get queried.">FILTER LAYERS</a> in the standard
interface.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id018aa17e-89ec-48df-bf21-209cffb01498__id65a5eef6-7bfe-4d4f-a629-0eec171ee480">-help</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that shows
the command usage.</p>
</dd>
</dl>
</div>
</div>
<div class="section ReturnedValues"><h2 class="title Subheading sectiontitle">Return Values</h2><p class="p">If qs::agf_map
is used without any options, a Tcl list of lists is returned. Each
sublist in the output has this form. Quoted braces are literal;
otherwise braces are for syntactical grouping.</p>
<pre class="pre codeblock leveled"><code>'{'&lt;layer_name&gt; &lt;number&gt; &lt;datatype&gt; {'{}' | DEVICE | ORIGINAL | TENTATIVE_PROMOTION}'}' </code></pre><p class="p">If the -svrf option is used, each line in
the output file has this form:</p>
<pre class="pre codeblock"><code>LAYER {"&lt;name&gt;" | "&lt;name&gt;_ORIGINAL" | "&lt;name&gt;_TENTATIVE_PROMOTION"} &lt;number&gt; [// DEVICE]</code></pre><p class="p">If the -write option is used, then each line representing
a layer in the output file has this form:</p>
<pre class="pre codeblock"><code>&lt;name&gt; &lt;number&gt; &lt;datatype&gt; [DEVICE | ORIGINAL | TENTATIVE_PROMOTION]</code></pre><p class="p"><a class="xref" href="General_ErrorMessages_id4f012fe8.html#id4f012fe8-6aba-4eca-9a00-57d4b506c9de__idbe1e9c86-8cea-41e1-9928-ecc8080a0d9d">Tcl Shell Error Messages</a>.</p>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Without any optional arguments,
this command returns the current Calibre layer name to layer number
and datatype mapping for all <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Device', 'svrf_ur'); return false;">Device</a> layers
output by a <a class="xref fm:HeadingOnly" href="Command_QswriteAgf_id3d90d8a1.html#id3d90d8a1-a38f-4136-a9f2-7f4fb4155387__Command_QswriteAgf_id3d90d8a1.xml#id3d90d8a1-a38f-4136-a9f2-7f4fb4155387" title="Writes an annotated AGF file.">qs::write_agf</a> command. </p>
<p class="p">The name qs::gds_map is an alternate and historical form for
the command.</p>
<p class="p">With no options
specified, qs::agf_map reports mappings only for layers containing
recognized device seed shapes. In a corresponding output AGF file,
each shape is annotated with the device name as a string property
(like M0).</p>
<p class="p">The default
output is a Tcl list of lists. Each sublist represents a layer mapping
and contains four fields: Calibre layer name, AGF layer number,
AGF datatype (0 by default), and a null list {}. If <a class="xref fm:HeadingOnly" href="Command_Qssetagfoptions_id041efbcd.html#id041efbcd-b076-42d7-821a-641156b1083f__Command_Qssetagfoptions_id041efbcd.xml#id041efbcd-b076-42d7-821a-641156b1083f" title="Configures AGF output settings for the qs::write_agf command.">qs::set_agf_options</a> -seed_property
is used, then the null list is replaced by a keyword, depending
on which -seed_property options are used. The ‑seed_property configuration
also affects the outputs of the -svrf and -write options.</p>
<p class="p">The mapping
of Calibre layer numbers to AGF layer and datatype numbers is assigned
by the system unless the -remap option is used beforehand to define
the mapping. Note that qs::agf_map does not configure the AGF output
layers themselves. Use the <a class="xref fm:HeadingOnly" href="Command_Qssetagfoptions_id041efbcd.html#id041efbcd-b076-42d7-821a-641156b1083f__Command_Qssetagfoptions_id041efbcd.xml#id041efbcd-b076-42d7-821a-641156b1083f" title="Configures AGF output settings for the qs::write_agf command.">qs::set_agf_options</a> command
for this purpose.</p>
<p class="p">The -original
option configures the output layer as an original layer. By default,
or when -device is specified, the output is configured as a device
seed layer. To configure both -device and ‑original, two qs::agf_map
commands are required.</p>
<p class="p">The difference
between -device and -original shapes is seed shapes can be promoted
to other cells by interaction between device layers. Also, original
layer shapes do not have the recognized device name annotation in
the AGF output. (They can have a node number if the seed shape is
a connectivity layer.)</p>
<p class="p">When the -write option is used, the output
map is written to the specified filename using a format like the
standard Query Server response format.</p>
<p class="p">When the -svrf argument set is
used, layer mappings are written to the given filename in SVRF format
suitable for inclusion in a rule file or for use in Calibre DESIGNrev
for naming layers in the layer palette.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">This is an example
of the default output:</p>
<pre class="pre codeblock leveled"><code>&gt; qs::agf_map 
 
{pwell 1 0 {}} {nwell 2 0 {}} {poly 3 0 {}} {psd 4 0 {}} {pgate 6 0 {}} {ptap 7 0 {}} {nsd 8 0 {}} {ngate 10 0 {}} {ntap 11 0 {}} {metal1 12 0 {}} {contact 13 0 {}} {via 14 0 {}} {metal2 15 0 {}} </code></pre><div class="section Subsection" id="id018aa17e-89ec-48df-bf21-209cffb01498__idf7cdb051-8bb3-48b5-b243-70e4ed5b6027"><p class="p">This shows
the output when the -svrf option is used:</p>
<pre class="pre codeblock leveled"><code>LAYER "pwell" 10
LAYER "nwell" 2
LAYER "poly" 3
LAYER "psd" 4
LAYER "pgate" 6 // DEVICE
LAYER "ptap" 7
LAYER "nsd" 8
LAYER "ngate" 10 // DEVICE
LAYER "ntap" 11
LAYER "metal1" 12
LAYER "contact" 13
LAYER "via" 14
LAYER "metal2" 15</code></pre></div>
<p class="p">This shows the output when the -write option
is used:</p>
<pre class="pre codeblock"><code>Gds_Map 1000
Layers:
0 0 13 May 28 12:26:49 2020
pwell 10 0
nwell 2 0
poly 3 0
psd 4 0
pgate 6 0
ptap 7 0
nsd 8 0
ngate 10 0
ntap 11 0
metal1 12 0
contact 13 0
via 14 0
metal2 15 0</code></pre><p class="p">For information about tentative seed promotion analysis, see
the Examples section under <a class="xref fm:HeadingOnly" href="Command_Qssetagfoptions_id041efbcd.html#id041efbcd-b076-42d7-821a-641156b1083f__Command_Qssetagfoptions_id041efbcd.xml#id041efbcd-b076-42d7-821a-641156b1083f" title="Configures AGF output settings for the qs::write_agf command.">qs::set_agf_options</a>.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_TclShellCciCommandReference_idf9789912.html" title="Calibre Connectivity Interface commands are implemented in the Query Server Tcl shell and in Calibre YieldServer.">Tcl Shell CCI Command Reference</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Contain_TclShellCciCommandReference_idf9789912.html" title="Calibre Connectivity Interface commands are implemented in the Query Server Tcl shell and in Calibre YieldServer.">Tcl Shell CCI Command Reference</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_query_user"
                DocTitle = "Calibre® Query Server Manual"
                PageTitle = "qs::agf_map"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Qsagfmap_id018aa17e.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Query Server Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>