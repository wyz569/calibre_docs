<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Collecting Multilayer Feature Vectors" />
<meta name="abstract" content="In order to create a model, you must collect feature vectors that describe the layout of a layer. The set can also include interactions between layers, but the procedure is slightly different than the single-layer procedure." />
<meta name="description" content="In order to create a model, you must collect feature vectors that describe the layout of a layer. The set can also include interactions between layers, but the procedure is slightly different than the single-layer procedure." />
<meta name="prodname" content="Calibre SONR" />
<meta name="version" content="v12.2" />
<meta name="release" content="2016_01" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software" />
<meta name="DC.Date.Created" content="2016-08-02" />
<meta name="DC.Date.Modified" content="2021-03-27" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_sonr_useref" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeInInventory" content="Yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="all" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="HighlightChanges" content="Yes" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="EclipsePluginName" content="none" />
<meta name="Draft" content="NONE" />
<meta name="DraftDate" content="March 19, 2021" />
<meta name="DocumentTitle" content="Calibre® SONR™ User’s and Reference Manual" />
<meta name="CSHelp" content="none" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10108,doc.type.documentation.ref" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idee0f6649-0013-43dd-9957-7a308d11a40d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Collecting Multilayer Feature Vectors</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Collecting Multilayer Feature Vectors" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10108,doc.type.documentation.ref" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idee0f6649-0013-43dd-9957-7a308d11a40d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent">
<h1 class="title topictitle1">Collecting Multilayer Feature
Vectors</h1>



<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">In order to create a model, you must collect
feature vectors that describe the layout of a layer. The set can
also include interactions between layers, but the procedure is slightly
different than the single-layer procedure.</p>

<p class="p">Multilayer feature vectors are most often used for hotspot prediction
but could also be used for other outcomes, such as comparing layouts
or selecting test patterns.</p>

<div class="note note"><span class="notetitle">Note:</span> <p class="p">This procedure requires some knowledge of
Calibre nmOPC tagging commands. See the <a class="xref LinkItalic" href="../../calbr_nmopc_useref/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'manual title', 'calbr_nmopc_useref'); return false;">Calibre nmOPC User’s and Reference Manual</a> for
background information and tagging commands.</p>
</div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div>
<ul class="ul"><li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id08b660f1-87a1-4a7b-96c2-eefbb971c6b5"><p class="p">An SVRF
file that identifies layers in the database, precision, where to
write output, and so on.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__ida84b2917-6530-43cb-8477-9182e2fffe63"><p class="p">A small set
of related layers, such as a via layer and the layers immediately
above and below, or a set of multi‑patterning layers that form one
physical layer in the final chip.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id2c7893f7-2788-408a-bf38-c4e95c7a87f3">
<p class="p">A feature vector file that includes the terms
for multilayer measurements (MN and MT). You can copy one generated
from another run, or contact your Siemens representative.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id70c3f6e7-c44a-494b-94c4-fb65a7c68d14"><p class="p">A litho setup
file for Calibre nmOPC. (You will not need an OPC license.)</p>
</li>
</ul>
</div>

<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id3c196814-ad72-459e-b2db-f591dfcf753e"><span class="ph cmd">Add the <a class="xref fm:HeadingOnly" href="Command_SONRVectorCapture_id7e2c4f64.html#id7e2c4f64-6f4b-1014-8106-d96f649aea64__Command_SONRVectorCapture_id7e2c4f64.xml#id7e2c4f64-6f4b-1014-8106-d96f649aea64" title="Invokes Calibre SONR to collect data about the layout.">SONR Vector Capture</a> command
to the SVRF file.</span>
<div class="itemgroup info StepInfo"><p class="p">There are several considerations for the exact specifications
you need.</p>

<ul class="ul"><li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id61e767bf-36b5-480c-87e5-16e43af7701c"><p class="p">Is the
process node EUV-based? Add the EUV option. It sets the defaults
to values appropriate to the smaller geometries allowed in EUV manufacturing.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id3465e549-6a7a-476d-b507-fa022221e5b3"><p class="p">Should the
feature vectors include data generated elsewhere? If the data is
attached to the layout using DFM Property, Calibre SONR can read
it. Include the layers with DFM properties in the list of layers
after the marker layer(s).</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id0deaf6a1-4d2f-44c2-a25d-f5fd58230eae"><p class="p">Which layers
do you want to have appear in the output layout? The Calibre engine optimizes
runs; at least one layer from this operation must be written to
the output through DRC Check Map. To write more than one layer out,
set up parallel SONR Vector Capture statements that differ only
in the MAP value.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__idfe7d738d-6f1f-43fb-9208-eef7ce435786"><span class="ph cmd">Add DRC
Check Map statements for the layer or layers that SONR Vector Capture maps
out.</span></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id360be336-4a66-4900-b521-f983414bca99"><span class="ph cmd">Create
a separate litho setup file based on one used for Calibre nmOPC
or Calibre nmBIAS runs for the layer that will be measured.</span>
<div class="itemgroup info StepInfo"><p class="p">Unlike single-layer vector collection, this litho setup
file must be an independent file and not contained in the SVRF rule
file.</p>

<div class="note tip"><span class="tiptitle">Tip</span> <p class="p">The Calibre WORKbench RET Flow Tool, which
is useful for adjusting litho setup files, preferentially shows
files that end in <span class="ph filepath">.in</span> or <span class="ph filepath">.setup</span>.
(Include the suffix in the SONR Vector Capture …FILE argument; it
must exactly match the filename.)</p>
</div>

<p class="p">If you have do not have access to an appropriate
OPC litho setup file, ask your Siemens representative for assistance. </p>
</div></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__idc08ddd4e-c9df-4220-aec4-04279faaadfe"><span class="ph cmd">If the
litho setup file does not include ml_featurevector_load, add it
above the denseopc_options block.</span>
<div class="itemgroup info StepInfo"><p class="p">This command loads the feature vector file. If the
file is named <span class="keyword ParameterName OptionalReplaceable">phv.mod</span>,
the command would look similar to the following: </p>

<pre class="pre codeblock"><code>ml_featurevector_load nmod ./phv.mod</code></pre></div></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id0730aaac-bdda-478f-95e3-82dbab2f4bdf"><span class="ph cmd">(Optional.)
If you do not want to make any post-biasing or post-OPC measurements, comment
out the movement sections to improve performance.</span></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id09cc312a-4813-48b1-a252-65639872d4b6"><span class="ph cmd">Create
tag sets for the fragments from which measurements will be taken.</span>
<div class="itemgroup info StepInfo"><p class="p">Only layers of type opc, correct, target, sraf, and
asraf can be fragmented and tagged. All layers involved in the multi-layer
measurements need to be tagged.</p>
</div></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id3a90ca37-77b8-4bc7-a3ee-3569f72c510e"><span class="ph cmd">Add the <a class="xref fm:HeadingOnly" href="Command_SonrCollect_id5d58f6a5.html#id5d58f6a5-ec78-463b-afb9-807d25270606__Command_SonrCollect_id5d58f6a5.xml#id5d58f6a5-ec78-463b-afb9-807d25270606" title="denseopc only. Collects features vectors and writes them to a database for creating a hotspot prediction model.">SONR_COLLECT</a> command.</span>
<div class="itemgroup info StepInfo"><p class="p">Set up SONR_COLLECT for the primary layer. It is involved
in all layer-to-layer measurements. </p>

<ul class="ul"><li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__idc931c006-7f4d-4744-af9d-986bd7f399dd"><p class="p">If there
is more than one layer of type opc, or the primary layer is not
of type opc, use the ‑layer option to identify it.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id87c4267f-5ba1-4b18-89c7-669729c3a74b"><p class="p">Use the tag
set constructed of fragments from the primary layer for the ‑tag argument.
(You can combine tag sets with “TAG or.”)</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id568fa804-78b3-4e6a-a11b-54883e8c3c56"><p class="p">Use the feature
vector file for the ‑mod argument.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__idfb22b4e7-4def-418d-8ecf-81d55a1d1ab0"><p class="p">For each additional
layer, supply ‑addLayer <span class="keyword ParameterName OptionalReplaceable">layername</span> and
optionally ‑mttag to restrict measurements to specific fragments
on the auxiliary layers. (By default, all fragments are considered.)</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id5fcdef79-49be-4c3a-ae3e-4d4afb6b47cc"><p class="p">Give a name
to the output database with ‑outdb. If you do not do this, the collection of
feature vectors is not saved.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__idd70ba82b-bf71-45f6-8426-12134ddd2640"><span class="ph cmd">For each
additional layer, add a <a class="xref fm:HeadingOnly" href="Command_SonrAuxLayer_id29fd57f7.html#id29fd57f7-6403-4778-aa00-3097e10b6b31__Command_SonrAuxLayer_id29fd57f7.xml#id29fd57f7-6403-4778-aa00-3097e10b6b31" title="denseopc only. Defines auxiliary layers for SONR_COLLECT and SONR_PREDICT.">SONR_AUX_LAYER</a> command
before the SONR_COLLECT command.</span>
<div class="itemgroup info StepInfo"><p class="p">The information in SONR_AUX_LAYER must be consistent
with the information in SONR_COLLECT.</p>

<ul class="ul"><li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__idb31781a2-ca5a-451d-87d6-5fed3b71481d"><p class="p">Use ‑layer
to identify the additional layer. It should match an ‑addLayer argument
in SONR_COLLECT.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id56fdf171-1cf1-41f9-a33f-2a6c8f696ce4"><p class="p">Even if you
did not specify ‑mttag in SONR_COLLECT, you must specify a tag set in
SONR_AUX_LAYER for ‑tag.</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id17ff0afd-3ca9-44ac-84eb-6c32e82d33e6"><p class="p">For ‑mod, give
the name assigned to the feature vector file (“nmod” in Step <a class="xref fm:NumberOnly" href="#idee0f6649-0013-43dd-9957-7a308d11a40d__idc08ddd4e-c9df-4220-aec4-04279faaadfe">4</a>).</p>
</li>

<li class="li" id="idee0f6649-0013-43dd-9957-7a308d11a40d__id03e71fb5-f7c0-4129-be15-a16f11bab12e"><p class="p">For ‑basemodel,
specify the optical model <span class="ph FontProperty emphasis">for this layer</span>.
If the layer set is a via and enclosing layers, it is probably not
the same optical model used for the primary layer.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="idee0f6649-0013-43dd-9957-7a308d11a40d__ida0d26c65-8745-461a-9d3c-f14d90ece740"><span class="ph cmd">Save both
files and run.</span>
<div class="itemgroup info StepInfo"><p class="p">A typical invocation is</p>

<pre class="pre ShellCommand">calibre -drc -hier -turbo rules.svrf</pre>
</div></li>
</ol>

<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div>
<p class="p">When the run completes, there is a database of feature vectors
as well as the usual DRC files. The database name is determined
by the SONR_COLLECT ‑outdb option.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_UsingCalibreSonr_id1e1dc53c.html" title="You must do some programming to use Calibre SONR. The information in this section describes the necessary steps to create data sets and apply models.">Using Calibre SONR</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_sonr_useref"
                DocTitle = "Calibre® SONR™ User’s and Reference Manual"
                PageTitle = "Collecting Multilayer Feature Vectors"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CollectingMultilayerFeatureVectors_idee0f6649.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® SONR™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>