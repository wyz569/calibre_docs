<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Measuring Flux Area" />
<meta name="abstract" content="Use the Flux Area option in the Image Measurement window to measure the flux area ratio between transmitted defect and reference images." />
<meta name="description" content="Use the Flux Area option in the Image Measurement window to measure the flux area ratio between transmitted defect and reference images." />
<meta name="prodname" content="Calibre DefectReview User's Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-25" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_defrev_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® DefectReview™ User’s Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user, product.version.v2021.2,product.id.P10101,product.id.P10120" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="HighlightChanges" content="no" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="IncludeInInventory" content="none" />
<meta name="ConditionFiltering" content="XML" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id8a67fc86-2b4e-4f15-8ee4-553013461ad5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Measuring Flux Area</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Measuring Flux Area" />
<meta name="attributes" content="doc.type.documentation.user, product.version.v2021.2,product.id.P10101,product.id.P10120" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Measuring Flux Area</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">Use the <span class="ph uicontrol">Flux Area</span> option
in the Image Measurement window to measure the flux area ratio between
transmitted defect and reference images.</span>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idc6b54fdf-0d99-491a-b1d3-0718cecc5772"><span class="ph cmd">To
begin measuring the flux area:</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id0cf9acf5-fb4c-4557-899c-a02ef42ed30a"><p class="p">In
the IMU toolbar, click the <span class="ph uicontrol">Display Flux Area</span> button.<img class="image fmdpi:150" src="../graphics/display_flux_area_icon.jpg" /></p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id2e6690d0-5528-46d0-b7da-e605596ed342"><p class="p">Right click
on an image and select the <span class="ph uicontrol">Flux Area</span> option.</p>
</li>
</ul>
<div class="fig fignone" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id46e8fdad-1e45-42db-9e2e-a4bf3e09b7ea"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Flux Area
Regions</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:150" src="../graphics/flux_area_regions.jpg" /></div><br /></div>
</div><div class="itemgroup stepresult"><p class="p">The IMU displays the flux area regions on transmitted,
reflected, and respective reference images. By default, flux area
regions are displayed around the center of the images, with the
default size specified in the <span class="ph filepath">dat-ini.xml</span> file.</p>
</div></li>
<li class="li step stepexpand" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id4bf6ce2c-9ab3-4a03-9b30-4766c6d9aa8a"><span class="ph cmd">After the
flux area regions are displayed, you can perform the following operations:</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id1f38cc59-fabe-4682-aca4-bb777d8d515a"><p class="p">Move
— Click near the center of the flux area region and move to any
position inside the image. You can also click in the flux area region
and use keyboard arrow keys to move.</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id40b07ce0-c20d-4551-948f-e9f269e090f3"><p class="p">Resize — Click
near and edge or a corner and move the mouse to resize flux area regions.</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id58a95564-58d2-490a-b1e3-ef9f7a7960db"><p class="p">Reset — Right-click
the flux area region and select <span class="ph uicontrol">Reset</span> to
move the flux area regions to the center of the images and resize
to default size.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id08ad960a-0eda-47dc-9d12-87307627d980"><span class="ph cmd">When you
save the dock layout using <span class="ph uicontrol">Dock Layout</span> &gt; <span class="ph uicontrol">Save</span>,
the position and size of the flux area region are saved across tool
sessions.</span></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The flux area option calculates the flux area ratio percentage
between defect and reference images based on the position of flux
area region over them. The following example illustrates the method
of calculation.</p>
<p class="p">Assume the following values for transmitted images:</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idcaa2c750-d295-4c95-bca5-054f6f6e74a2"><p class="p">GL value
for Quartz region (Intensity of Fore Ground): I<span class="ph FontProperty LiteralSubScript">fg</span> =
230</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id7e6f2b29-a940-4dbf-8105-d1e2d639e448"><p class="p">GL value for
MoSi region (Intensity of Back Ground): I<span class="ph FontProperty LiteralSubScript">bg</span> =
30</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idd0f2c5fd-4304-4249-9d32-0d346a898eae"><p class="p">GL matrix of
flux area region on defect image: D</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idf2dc2a84-a87c-4495-b8ca-1a4996436dec"><p class="p">GL matrix of
flux area region on reference image: R</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id75dae0b6-4e1e-4ede-ae86-2dc9f153bc13"><p class="p">Row index:
r</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idaa20cb71-32a0-46a3-a7d5-9c8d43ffdbc0"><p class="p">Column index:
c</p>
</li>
</ul>
<p class="p">The flux area ratio is then calculated:</p>
<p class="p"><img class="image fmdpi:150" src="../graphics/flux_area_ratio_calc.jpg" /></p>
<p class="p">and values placed into a matrix to calculate the defect and reflex
flux areas:</p>
<p class="p"><img class="image fmdpi:150" src="../graphics/flux_area_matrix.jpg" /></p>
<p class="p">Flux Defect Flux Area = <img class="image fmdpi:96" src="../graphics/sigma.jpg" /><span class="ph FontProperty VariableSubScript">r,c </span>{(D<span class="ph FontProperty VariableSubScript">r,c </span>–
I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">bg</span></span>)
/ (I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">fg</span></span> –
I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">bg</span></span>)}
= 220 / (230 - 30) = 1.1</p>
<p class="p">Reference Flux Area = <img class="image fmdpi:96" src="../graphics/sigma.jpg" /><span class="ph FontProperty VariableSubScript">r,c </span>{(R<span class="ph FontProperty VariableSubScript">r,c </span>–
I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">bg</span></span>)
/ (I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">fg</span></span> –
I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">bg</span></span>)}
= 260 / (230 - 30) = 1.3</p>
<p class="p">With the defect and reference flux areas calculated, the flux
area ratio percentage is calculated:</p>
<p class="p"><img class="image fmdpi:150" src="../graphics/flux_area_ratio_percent.jpg" /></p>
<p class="p">The calculated Flux Area Ratio % is reported as T Flux (%) in
Defect Information table (refer to “<a class="xref fm:HeadingAndPage" href="TaskTop_UsingTheDefectInformationTable_ide0510b72.html#ide0510b72-98ba-45a8-a28c-9271cb018735__TaskTop_UsingTheDefectInformationTable_ide0510b72.xml#ide0510b72-98ba-45a8-a28c-9271cb018735" title="The Defect Information table contains a description of defect properties and can be configured to be displayed in any display unit.">Using the Defect Information Table</a>” for details).
If you resize or move the Flux Area boxes, Calibre DefectReview
automatically recalculates and updates the T Flux (%) value. The
calculations are based on the following equations:</p>
<p class="p">Reflected Defect Flux Area = <img class="image fmdpi:96" src="../graphics/sigma.jpg" /><span class="ph FontProperty VariableSubScript">x,y </span>{(I<span class="ph FontProperty VariableSubScript">bg </span>–
I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">DEF</span></span>)
/ (230 – 30)} = (220) / (200) = 1.1 [sq pixels]</p>
<p class="p">Reflected Reference Flux Area = <img class="image fmdpi:96" src="../graphics/sigma.jpg" /><span class="ph FontProperty VariableSubScript">x,y</span> {(I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">bg</span></span> –
I<span class="ph FontProperty LiteralSubScript"><span class="ph FontProperty VariableSubScript">REF</span></span>)
/ (230 – 30)} = (255) / (200) = 1.275 [sq pixels]</p>
<p class="p">Ratio = (1.1 / 1.275) – 1.0 = (-0.13725) = -13.7 [%]</p>
<p class="p">The calculated Flux Area Ratio % value is reported as R Flux
(%) in the Defect Information table (refer to “<a class="xref fm:HeadingAndPage" href="TaskTop_UsingTheDefectInformationTable_ide0510b72.html#ide0510b72-98ba-45a8-a28c-9271cb018735__TaskTop_UsingTheDefectInformationTable_ide0510b72.xml#ide0510b72-98ba-45a8-a28c-9271cb018735" title="The Defect Information table contains a description of defect properties and can be configured to be displayed in any display unit.">Using the Defect Information Table</a>” for details).
If you resize or move the Flux Area boxes, Calibre DefectReview
automatically re-calculates and updates the R Flux (%) value.</p>
<p class="p">The values for Qz and MoSi are fetched using the
following attributes from the inspection file:</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__ide18517eb-f4e0-4f01-9a90-a745f635e039"><p class="p">LRF X-700</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id65572f09-1d42-40e4-bd7b-fcd36c2e2139"><p class="p">Transmitted:</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idaf92e24c-e2ef-4eff-8ba5-36d41a7add53"><p class="p">Qz level = ShadingResult.TMode.QzPix</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id2adcb84b-6d15-4791-b85a-654f3aa04124"><p class="p">MoSi level = ShadingResult.TMode.CrPix</p>
</li>
</ul>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idac6577d3-f5a1-4262-b50f-ed3135283cd2"><p class="p">Reflected:</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__ide4bedc9e-4977-4a2e-9625-1e0478ada7c5"><p class="p">Qz Level = ShadingResult.RMode.QzPix</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id52593a37-f154-4cae-9c94-4f5f74558223"><p class="p">MoSi Level = ShadingResult.RMode.CrPix</p>
</li>
</ul>
</li>
</ul>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id59fe7b17-e212-4029-8ee5-70587aa47f8f"><p class="p">LRF X-800</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__ideff9acf5-b50e-4e91-99e2-6a499dcb0751"><p class="p">Transmitted:</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id850d413c-b21a-4542-924e-e1121f07fc66"><p class="p">Qz level = ShadingResult.Result.TransBright /
4</p>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__id587fdba6-f2f0-4d8f-842d-eab3fbec6a4b"><p class="p">MoSi = ShadingResult.Result.TransDark / 4</p>
</li>
</ul>
</li>
<li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idc283e339-b7a9-4142-b76a-99f75c4efce6"><p class="p">Reflected:</p>
<ul class="ul"><li class="li" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__ida64db163-14ab-4f12-b133-7404e3b2c20c"><p class="p">Qz level = ShadingResult.Result.ReflectDark /
4</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="p">The width and height of the flux rectangle displayed
in the IMU can be configured using the FluxAreaConfiguration node
in the <span class="ph filepath">dat-ini.xml</span> file. The
default width and height of the flux rectangle is 9x9.</p>
<div class="fig fignone" id="id8a67fc86-2b4e-4f15-8ee4-553013461ad5__idac3a76e4-f2f0-4720-a373-968e8677a0c8"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Flux Area Configuration Node</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:120" src="../graphics/flux_area_config_nodes.jpg" /></div><br /></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_ImageMeasurement_id29d31bf1.html" title="The Image Measurement Unit (IMU) window displays defect images and provides tools to perform image processing operations on these images.">Image Measurement</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_defrev_user"
                DocTitle = "Calibre® DefectReview™ User’s Manual"
                PageTitle = "Measuring Flux Area"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_MeasuringFluxArea_id8a67fc86.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® DefectReview™ User’s Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>