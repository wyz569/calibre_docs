<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="MATRIX_OPC" />
<meta name="abstract" content="Runs Matrix OPC, a feature for multiple mask OPC." />
<meta name="description" content="Runs Matrix OPC, a feature for multiple mask OPC." />
<meta name="prodname" content="Calibre OPCpro User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_opcpro_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_wheat" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="Mar. 12, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® OPCpro™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10108,doc.type.documentation.ref" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id465adcef-1ac8-4537-a8a2-91fe919b496b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>MATRIX_OPC</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="MATRIX_OPC" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10108,doc.type.documentation.ref" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id465adcef-1ac8-4537-a8a2-91fe919b496b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">MATRIX_OPC</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Type: <a class="xref fm:HeadingOnly" href="Contain_TaggingCommands_ide141a5fb.html#ide141a5fb-6352-4e0e-a029-9da6d6d10b87__Contain_TaggingCommands_ide141a5fb.xml#ide141a5fb-6352-4e0e-a029-9da6d6d10b87" title="Tagging commands work on specific subsets of fragments. These subsets are “tag sets.” You can define custom tag sets with the newTag commands and then modify the fragments in the sets using other tagging commands.">Tagging Commands</a>. <span class="ph fmvar:SupportedBy">  
        Used by Calibre OPCpro, Calibre ORC, and Calibre PRINTimage.</span></p>
<p class="shortdesc">Runs Matrix OPC, a feature for
multiple mask OPC.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">MATRIX_OPC</span> ‘<span class="keyword ParameterName Required">{</span>’ <br />
<span class="keyword ParameterName Required">METHOD</span> {<span class="keyword ParameterName Required">CLOSEST </span>| <span class="keyword ParameterName Required">AVERAGE</span><span class="keyword ParameterName RequiredReplaceable"> n</span> | <span class="keyword ParameterName Required">NON_MATRIX</span>}  <br />
<span class="keyword ParameterName Required">SEARCH</span> <span class="keyword ParameterName RequiredReplaceable">dist</span>  <br />
<span class="keyword ParameterName Required">METRIC</span> { <span class="keyword ParameterName Required">MIDPOINT</span>| <span class="keyword ParameterName Required">CLOSEPOINT</span> |  <br />
                   <span class="keyword ParameterName Required">WEIGHTED_EUCLIDEAN</span><span class="keyword ParameterName RequiredReplaceable"> w</span> |  <br />
                   <span class="keyword ParameterName Required">WEIGHTED_PROJECTING </span><span class="keyword ParameterName RequiredReplaceable">w</span> | <br />
                   <span class="keyword ParameterName Required">EUCLIDEAN</span>| <span class="keyword ParameterName Required">PROJECTING</span> } <br />
[PARALLEL_PROJ_MULTIPLIER <span class="keyword ParameterName OptionalReplaceable">w</span>] [PARALLEL_ONLY {YES | NO}] <br />
[MAP_PRIORITY <span class="keyword ParameterName OptionalReplaceable">layer tag priority</span>] <br />
[MAP_DISTANCE_MULTIPLIER <span class="keyword ParameterName OptionalReplaceable">layer tag mult</span>] <br />
<span class="keyword ParameterName Required">MEEF_MODE</span> {<span class="keyword ParameterName RequiredReplaceable">thresh </span>| <span class="keyword ParameterName Required">MODEL</span> [NORECYCLE | <br />
      RECYCLE INITIAL_THRESHOLD {<span class="keyword ParameterName OptionalReplaceable">t</span> | REFERENCE_THRESHOLD}] } <br />
<span class="keyword ParameterName Required">DELTA</span> <span class="keyword ParameterName RequiredReplaceable">delta <br />
</span>[DISTANCE_ADDITION <span class="keyword ParameterName OptionalReplaceable">value</span>] <br />
[OPTSLOPE {YES | NO}] <br />
[SLOPESTEPSIZE <span class="keyword ParameterName OptionalReplaceable">dist</span>] <br />
[MINSLOPE <span class="keyword ParameterName OptionalReplaceable">val</span>] [slopeToleranceTag <span class="keyword ParameterName OptionalReplaceable">tag low_slope</span> [<span class="keyword ParameterName OptionalReplaceable">high_slope</span>]] <br />
‘<span class="keyword ParameterName Required">}</span>’</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id29ee5154-b5ad-46ef-9ffd-d73dd2a39166">‘<span class="keyword ParameterName Required">{</span>’ and ‘<span class="keyword ParameterName Required">}</span>’</dt>
<dd class="dd ArgumentDescription"><p class="p">Braces must surround
all keywords that apply solely to Matrix OPC. In addition,</p>
<ul class="ul"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idb73d8030-43b3-4f9f-baeb-cab430d710b3"><p class="p">The opening brace must be
on the same line as the MATRIX_OPC keyword.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idf3360cf9-a865-405b-8c21-df567985a599"><p class="p">ONLY those keywords that apply
solely to Matrix OPC can be included within the braces.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id0867f2a5-eb7d-47fd-a29e-c0734c108dfd"><p class="p">Matrix OPC keywords cannot
be on the same line as the braces.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id359f24db-b8a4-4e58-99ad-6da6145c0daa"><span class="keyword ParameterName Required">METHOD</span> {<span class="keyword ParameterName Required">CLOSEST</span>| <span class="keyword ParameterName Required">AVERAGE</span> <span class="keyword ParameterName RequiredReplaceable">n </span>| <span class="keyword ParameterName Required">NON_MATRIX</span>} </dt>
<dd class="dd ArgumentDescription"><p class="p">A required
argument defining the calculation for the MEEF matrix. Options are:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idbc381fe1-68b8-4dd9-ba01-7ab01a161bd5"><p class="p Opt"><span class="keyword ParameterName Required">CLOSEST</span> —
Each movable fragment is controlled by control at most ONE site,
whose EPE drives its movement. The site chosen is the closest one,
using the defined METRIC.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id8bdf48ae-7f00-4236-800d-5070e7589be7"><p class="p Opt"><span class="keyword ParameterName Required">AVERAGE</span> <span class="keyword ParameterName RequiredReplaceable">n</span> —
Picks the n closest sites to each movable fragment and makes the
EPE at all n of those sites responsible for corrections to the movable
fragment. The n closest sites are determined using the METRIC of
choice. </p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id0b231cdb-a854-4056-92e2-a1768f536387"><p class="p Opt"><span class="keyword ParameterName Required">NON_MATRIX</span> —
Used with binary masks (no correction layers are present) to prohibit
corrections. When specified, the MATRIX_OPC operation only calculates the
MEEF for fragments, which can then be used for MEEF tagging. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id4dbd02e7-b20b-43f4-95f5-039fce5570d0"><span class="keyword ParameterName Required">SEARCH</span> <span class="keyword ParameterName RequiredReplaceable">dist</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument defining the maximum search
distance, in microns, when mapping fragments on the correction layer
to a fragment on the opc (target) layer. Note here that a fragment
is said to be within this search distance if and only if the actual
(non-weighted) distance from midpoint to the closest point on the
fragment is less than <span class="keyword ParameterName RequiredReplaceable">dist</span>.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id3c8c861f-4bf6-484d-9853-4f055066fc1c"><span class="keyword ParameterName Required">METRIC</span> {<span class="keyword ParameterName Required">WEIGHTED_EUCLIDEAN </span><span class="keyword ParameterName RequiredReplaceable">w </span>| <span class="keyword ParameterName Required">WEIGHTED_PROJECTING</span> <span class="keyword ParameterName RequiredReplaceable">w</span> | <span class="keyword ParameterName Required">MIDPOINT</span> | <span class="keyword ParameterName Required">EUCLIDEAN</span> | <span class="keyword ParameterName Required">CLOSEPOINT</span> | <span class="keyword ParameterName Required">PROJECTING</span>} </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument defining which edges to include
in the mapping and how the distance between a site on the target
layer and a movable fragment on the correction layer is to be measured.</p>
<p class="p">You define how distances are
measured and how they are weighted by specifying one of the following
measurement styles:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idef57d0ca-5059-4a34-9f25-45105965b097"><p class="p Opt"><span class="keyword ParameterName Required">MIDPOINT</span>(alternatively <span class="keyword ParameterName Required">EUCLIDEAN</span>)
— Calculates the distance as the distance from the site center point
to the midpoint of the movable fragment.</p>
<div class="fig fignone" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idf77da1c9-3fb2-4935-ad48-750a27d00ccb"><span class="figcap"><span class="fig--title-label">Figure 1. </span>How Distance
is Measured Using MIDPOINT</span><br /><div class="imagecenter"><img class="image imagecenter" src="../graphics/reference_tags19a.png" /></div><br /></div>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__ida6648d05-57ef-443d-aa17-502d6dc01867"><p class="p Opt"><span class="keyword ParameterName Required">CLOSEPOINT</span> (alternatively <span class="keyword ParameterName Required">PROJECTING</span>)
— Calculates the distance as the distance between the site center
point and the closest point on the fragment, as shown. In addition,
it applies a multiplier of 0.01 to all projecting edges.</p>
<div class="fig fignone" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id784cbbb4-ba49-4b25-bf3d-8f618918050c"><span class="figcap"><span class="fig--title-label">Figure 2. </span>How Distance
is Measured Using CLOSEPOINT</span><br /><div class="imagecenter"><img class="image imagecenter" src="../graphics/reference_tags20a.png" /></div><br /></div>
<p class="p">Note here that
the built in weighting of 0.01 makes this <span class="keyword ParameterName Required">METRIC</span> behave
as though fragments are only factored into the mapping if they actually
project onto the target layer fragment containing the site. In reality,
this metric does allow non-projecting edges to be mapped, but only
if there are no projecting edges within the SEARCH dist.</p>
<p class="p">To qualify as projecting,
the fragment which is mapping and the fragment containing the site
which is mapped to, must be parallel and have overlapping spans,
as shown in <a class="xref fm:Figure" href="#id465adcef-1ac8-4537-a8a2-91fe919b496b__idfbda2307-a102-4e60-bc97-ca2c082d2786">Figure 3</a>.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id84c459e7-c09e-4aba-b285-964d0fd8dc5c"><p class="p Opt"><span class="keyword ParameterName Required">WEIGHTED_EUCLIDEAN </span><span class="keyword ParameterName RequiredReplaceable">w</span> —
Measures the distance from the site center point to the movable
fragment midpoint, and discounts the distance for parallel projecting edges
by the weight factor, <span class="keyword ParameterName RequiredReplaceable">w</span>.</p>
<p class="p">Note here that all the same edges
are factored into the mapping as when using <span class="keyword ParameterName Required">EUCLIDEAN</span>.
However, the distance ranking of fragments is affected by the weighting
factor, <span class="keyword ParameterName RequiredReplaceable">w</span>.
If you have 4 potential site fragments to map to, from a moving fragment,
suppose they are as follows: </p>
<pre class="pre codeblock"><code>e1   distance = 0.09 projecting status = 1 
e2   distance = 0.1 projecting status = 1 
e3   distance = 0.2 projecting status = 0 
e4   distance = 0.25 projecting status = 1 </code></pre><p class="p">For <span class="keyword ParameterName Required">METHOD AVERAGE 3</span>,
the fragment maps only to three sites. </p>
<p class="p">With <span class="keyword ParameterName Required">EUCLIDEAN</span>,
the 3 winners are e1,e2,e3. </p>
<p class="p">With <span class="keyword ParameterName Required">WEIGHTED_EUCLIDEAN</span> <span class="keyword ParameterName Required">0.5</span>,
the three winners are e1, e2, e4. </p>
<p class="p">That is because the effective
distance of e4 becomes 0.25*0.5 = 0.125 and the effective distance
of e3 is not modified due to the fact that it is not projecting. </p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id56e3ae3d-9eed-41e8-8535-aedae47cb205"><p class="p Opt"><span class="keyword ParameterName Required">WEIGHTED_PROJECTING </span><span class="keyword ParameterName RequiredReplaceable">w</span> —
Measures the distance from the site center point to the closest
point on the movable fragment, and discounts the distance for parallel projecting
edges by the weight factor, <span class="keyword ParameterName RequiredReplaceable">w</span>. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id15c82b19-fb78-46fc-97fd-d9b606e0a4a3">PARALLEL_PROJ_MULTIPLIER </dt>
<dd class="dd ArgumentDescription"><p class="p">An
optional argument that allows you to give parallel projecting edges
preferred treatment relative to other edges by discounting the distance
for parallel projecting edges. <a class="xref fm:Figure" href="#id465adcef-1ac8-4537-a8a2-91fe919b496b__idfbda2307-a102-4e60-bc97-ca2c082d2786">Figure 3</a> shows what it means for an edge to
be projecting.</p>
<p class="p">Discounting refers to calculating
an effective distance by multiplying the actual distance by a reduction
factor. </p>
<p class="p">For parallel projecting edges:</p>
<pre class="pre codeblock leveled"><code>effective distance = distance * multiplier </code></pre><p class="p">For all other edges:</p>
<pre class="pre codeblock leveled"><code>effective distance = distance </code></pre><p class="p">The default value is 1, which
means that parallel projecting edges do not receive special treatment.</p>
<div class="fig fignone" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idfbda2307-a102-4e60-bc97-ca2c082d2786"><span class="figcap"><span class="fig--title-label">Figure 3. </span>Projecting</span><br /><div class="imagecenter"><img class="image imagecenter" height="144" src="../graphics/reference_tags21a.png" width="430" /></div><br /></div>
<p class="p">For example, assume you are
using METHOD AVERAGE 3 and from one moving fragment have four potential
site fragments to map to. Suppose they are as shown:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id5ef8ab13-ede7-47aa-bb99-5d8c8d96171b" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Potential Mappings</span></caption><colgroup><col style="width:0.701in" /><col style="width:1.817in" /><col style="width:1.708in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.09</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 0</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 4</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.25</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 1</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">When PARALLEL_PROJ_MULTIPLIER
is used, the distances you compare are effective distances, not
actual distances. You calculate the effective distance by multiplying
the actual distance by the multiplier, if the projecting status
is 1. Assume a PARALLEL_PROJ_MULTIPLIER of 0.5. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id16810327-98b4-4987-b75a-fa76d8303ed3" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>Distances</span></caption><colgroup><col style="width:0.497in" /><col style="width:1.595in" /><col style="width:1.539in" /><col style="width:1.893in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.09</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">effective distance =
0.045</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">effective distance =
0.05</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 3</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.2</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 0</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">effective distance =
0.2</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">site 4</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">actual distance = 0.25</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">projecting status = 1</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;"><p class="p">effective distance =
0.125</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Without PARALLEL_PROJ_MULTIPLIER,
the 3 winners would be sites 1, 2, and 3.</p>
<p class="p">With PARALLEL_PROJ_MULTIPLIER
0.5, the three winners are sites 1, 2, and 4. That is, the effective
distance of site 4 becomes 0.25*0.5 = 0.125 and the effective distance
of site 3 is not modified due to the fact that it is not projecting.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6715aeee-5d15-443c-9e8a-578f962fb013">PARALLEL_ONLY {YES | NO}</dt>
<dd class="dd ArgumentDescription"><p class="p">Instructs the application to ignore all non-parallel
edges when mapping fragments on a correction layer to sites on the
target layer. Allowed values are YES or NO.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__ide577359e-2821-4ce3-8d2c-e81fc32e1cba">MAP_PRIORITY <span class="keyword ParameterName OptionalReplaceable">layer tag priority</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that assigns a priority
to a mapping between a fragment on the specified correction layer
and a site on the target layer. The highest priority mapping identifies
the fragment to be moved to improve the EPE.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idbafd0075-c8d4-4cdc-963f-bc244cb89882"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">layer</span> —
The correction layer the containing movable fragments to which this
priority applies.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idcc6c12df-072d-44c0-b07d-0f313cdbb980"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">tag</span> —
The name of the tag that identifies the fragments on the opc (target)
layer that contain the sites to which this priority applies.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idaf4fd703-7997-4582-a952-4a6c5c0e5ceb"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">priority</span> —
The priority to assign to this mapping. A value &gt;= 0 sets the priority
of the mapping. The higher priority wins. The priority can be raised
or lowered with respect to the base value of 10 for specific fragment
layer-tag combinations. </p>
<p class="p">A priority of -1 blocks any
mapping from happening.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id01149639-0545-4f30-a178-7057ad57ac93">MAP_DISTANCE_MULTIPLIER <span class="keyword ParameterName OptionalReplaceable">layer</span> <span class="keyword ParameterName OptionalReplaceable">tag</span> <span class="keyword ParameterName OptionalReplaceable">mult</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that defines
a value by which to multiply the measurement computed by the METRIC
of choice in order to favor or impede certain mappings. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id0aa1cd62-d307-49eb-bfc4-fb9e3782fa05"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">layer</span> —
The correction layer the containing movable fragments to which this
multiplier applies.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id4217f6dd-c767-4d76-9662-78390e3caaab"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">tag</span> —
The name of the tag that identifies the fragments on the opc (target)
layer that contain the sites to which this multiplier applies.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id1c2ab979-cf6d-470b-8fb6-f5acdd742a03"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">mult</span> —
The multiplier factor.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6fbb5979-1891-48ef-adce-4ed5deb292ab"><span class="keyword ParameterName Required">MEEF_MODE</span> <span class="keyword ParameterName RequiredReplaceable">thresh</span> | {<span class="keyword ParameterName Required">MODEL</span> [NORECYCLE | RECYCLE INITIAL_THRESHOLD {<span class="keyword ParameterName OptionalReplaceable">t</span> | REFERENCE_THRESHOLD}]}</dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument defining how the EPE
is evaluated when calculating the MEEF, using the formula dEPE/dEdge. </p>
<ul class="ul"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id2a2dde95-d1c9-46ce-871e-72f088727bf8"><p class="p">When you provide a threshold,
the MEEF is calculated using a constant threshold of the aerial
image. In this case, the VT5-determined threshold is ignored.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6b2d043f-94c4-4993-aa43-e7b103e57e67"><p class="p">When you specify <span class="keyword ParameterName Required">MODEL</span>,
the MEEF is calculated using the threshold predicted by the resist
model (CTR or VT5).</p>
<p class="p">When using the <span class="keyword ParameterName Required">MODEL</span> to
predict the threshold to use in MEEF calculations, if the model
is type VT5 that uses densities, you must also supply the RECYCLE
or NORECYCLE keyword.</p>
<ul class="ul"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idf274b337-f692-456b-96ba-c07f5751d0fa"><p class="p">NORECYCLE — This causes the
simulation to require 2X more performance.<span class="ph FontProperty emphasis"> It is very slow. </span>That
is because the simulation is done twice to ensure valid densities
on each simulation pass.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idec97daad-3437-48fb-b68c-b0646477715f"><p class="p">RECYCLE INITIAL_THRESHOLD {<span class="keyword ParameterName OptionalReplaceable">t</span> |
REFERENCE_THRESHOLD} — Each MEEF simulation pass uses the density
values which were computed on the previous simulation pass. The
first simulation pass of MEEF uses a threshold value to calculate
MEEF, specified by the INITIAL_THRESHOLD keyword. INITIAL_THRESHOLD
defines how to calculate EPE when the VT5 model cannot be evaluated
due to densities not being valid at the time. </p>
</li>
</ul>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id55d748fa-3b97-4dd1-ad0d-c1eee6810178"><span class="keyword ParameterName Required">DELTA</span> <span class="keyword ParameterName RequiredReplaceable">delta</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument used in calculating the MEEF.
The <span class="keyword ParameterName RequiredReplaceable">delta</span>,
specified in microns, can be a positive or a negative number. A
negative value corresponds to shifting the fragment inwards into
the polygon on the correction layer, and a positive value corresponds
to shifting the fragment outwards from the polygon. </p>
<p class="p"><img class="image" height="30" src="../graphics/reference_tags22a.png" width="92" /> </p>
<p class="p">Note that this is different
from the standard definition of MEEF which is:</p>
<p class="p"><img class="image" height="36" src="../graphics/reference_tags23a.png" width="151" /></p>
<p class="p">You can define a value for <span class="keyword ParameterName RequiredReplaceable">delta</span> that
is different than the MEEF delta used in the <a class="xref fm:HeadingOnly" href="Command_NewtagHowImage_id684e65d8.html#id684e65d8-21ba-4add-8020-948d2f2a6fda__Command_NewtagHowImage_id684e65d8.xml#id684e65d8-21ba-4add-8020-948d2f2a6fda" title="Tags fragments based on aerial image properties.">newTag … -how IMAGE</a> command. For a complete description
of how <span class="keyword ParameterName Required">DELTA</span> affects
movement, refer to “<a class="xref fm:HeadingAndPage" href="#id465adcef-1ac8-4537-a8a2-91fe919b496b__id05635c80-b171-4796-8306-3c72203a3c23">How Matrix OPC Calculates Edge Movement</a>”.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6f459110-d597-4281-bde1-abe6826b20d6">DISTANCE_ADDITION <span class="keyword ParameterName OptionalReplaceable">value</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument defining
a distance, in microns, to use in weight calculation for the AVERAGE
method.</p>
<p class="p">For the average method, the
movement is computed by the following method:</p>
<p class="p"><img class="image" height="59" src="../graphics/reference_tags24a.png" width="273" /></p>
<p class="p">where <span class="ph FontProperty equationvariable">N</span> is
the number of sites averaged, and <span class="ph FontProperty equationvariable">W</span> is
a weight which is determined as follows:</p>
<p class="p"><img class="image" height="30" src="../graphics/reference_tags25a.png" width="187" /></p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id5c8ab9f2-ba8b-4af9-90c0-537555a8db08">OPTSLOPE {YES | <span class="keyword ParameterName OptionalDefault">NO</span>} </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument that activates
“full-image OPC”, in which case the image slope and EPE are both
optimized. (See Examples following or “<a class="xref fm:HeadingAndPage" href="Concept_Example2MatrixOpcFollowedByCalibreOrc_id7228699e.html#id7228699e-6e85-4a5d-9967-9f6d7d4affbc__Concept_Example2MatrixOpcFollowedByCalibreOrc_id7228699e.xml#id7228699e-6e85-4a5d-9967-9f6d7d4affbc" title="This example looks at the performance of Matrix OPC with slope optimization on a section of layout and also uses ORC to analyze its effectiveness in improving slope, compared to standard OPC.">Example 2: Matrix OPC Followed by Calibre ORC</a>”.) The default is NO.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idfb35c615-11a7-452c-97ed-770dc46f7851">SLOPESTEPSIZE <span class="keyword ParameterName OptionalReplaceable">dist</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used only
when OPTSLOPE is set to YES.</p>
<p class="p">This argument defines the amount
to move a fragment in the direction of the gradient when the minimum
slope is violated, causing slope to be optimized with a higher priority
than EPE. When this condition is met, each iteration only moves
by one SLOPESTEPSIZE at a time in order to improve slope. Default
= 5 nm.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id82b0f3f3-cc0a-424c-9bcc-7dad72e86f45">MINSLOPE <span class="keyword ParameterName OptionalReplaceable">val</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used most
often when OPTSLOPE is set to YES.</p>
<p class="p">This argument defines a global
minimum slope to allow. This causes the slope to be optimized instead
of EPE when the slope is below this cutoff. If set to 0, then slope
is always secondary to EPE. Default = 0. </p>
<p class="p">If OPTSLOPE is NO, you can supply
a non-zero value for MINSLOPE to force Matrix OPC to perform slope
optimization until the minimum slope is achieved.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id05803a67-5d72-41a5-8419-4bd6df185ee6">slopeToleranceTag <span class="keyword ParameterName OptionalReplaceable">tag</span> <span class="keyword ParameterName OptionalReplaceable">low_slope</span> [<span class="keyword ParameterName OptionalReplaceable">high_slope</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument used only when
OPTSLOPE is set to YES. It defines the slope tolerance range for
fragments with the specific tag; in other words, when you are willing
to sacrifice EPE correction for slope improvement. This argument
defines a range of acceptable image intensity slopes for the tagged
fragments.</p>
<p class="p">Fragments that match the specified
tag use the low_slope value instead of MINSLOPE for determining
when to optimize slope at a higher priority than EPE. The high_slope
value lets the algorithm know that slopes above the tolerance do
not need to be optimized further. </p>
<p class="p">You can define specific slope
tolerance ranges for as many tags as needed by including this argument
multiple times. If multiple slope tolerance ranges apply to a fragment,
then the first slopeToleranceTag that matches is used. If no slope
tolerance range applies to the fragment, then the MINSLOPE value
is used.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id57225d75-cca6-49ee-95b3-f4ca78dc189a"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">tag</span> —
The tag identifying the set of fragments to which this slope tolerance
range applies.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idd31ab5e2-8ddb-409b-bfe0-272954056dc5"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">low_slope</span> —
Lower bound on slope tolerance range.</p>
</li>
<li class="li ArgOption" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6a993d10-40ea-4daf-8643-d156b70fb566"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">high_slope</span> —
Upper bound on slope tolerance range. Default = infinity.</p>
</li>
</ul>
<p class="p">After evaluating the slope and
the EPE for the fragment, the application moves the edge as follows:</p>
<ol class="ol"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id2c4bc62b-1fa2-4e83-afc5-fb0b936fe620"><p class="p">If slope &lt; <span class="keyword ParameterName OptionalReplaceable">low_slope</span>,
always shift the edge in the direction that increases the slope
by a distance of SLOPESTEPSIZE.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id806e7dbb-a091-44cb-a5b1-be3798bccb33"><p class="p">If slope &gt; <span class="keyword ParameterName OptionalReplaceable">low_slope</span> and
EPE is outside the tolerance window, shift the edge in the direction
that improve the EPE. </p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id61062fcf-5b92-4c53-a2c4-d17e08e26a57"><p class="p">If <span class="keyword ParameterName OptionalReplaceable">low_slope</span> &lt;
slope &lt; <span class="keyword ParameterName OptionalReplaceable">high_slope</span> and
EPE is inside the tolerance window, shift the edge in the direction
that increases the slope by a distance of SLOPESTEPSIZE.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__ida1673ca0-3231-4da6-97ac-88ddbc7072e9"><p class="p">If slope &gt; <span class="keyword ParameterName OptionalReplaceable">high_slope</span> and
EPE is inside the tolerance window, do not shift the edge.</p>
</li>
</ol>
<div class="fig fignone" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id237ab81a-20e8-4810-926f-93967ae6fc0d"><span class="figcap"><span class="fig--title-label">Figure 4. </span>OPC Corrections
Related to Parameter Space</span><br /><div class="imagecenter"><img class="image imagecenter" height="212" src="../graphics/reference_tags26a.png" width="399" /></div><br /></div>
<p class="p"><a class="xref fm:Figure" href="#id465adcef-1ac8-4537-a8a2-91fe919b496b__id237ab81a-20e8-4810-926f-93967ae6fc0d">Figure 4</a> provides a graphical explanation
of the rules described above. The arrows indicate the desired improvement
(EPE or slope) in the parameter space as a function of current location
in the space.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">MATRIX_OPC
supports advanced fragment mapping between correction layers and
opc layers. It supports complex functionality that allows basic
double patterning or simple PSM masks. Note that it is no longer
the recommended tool for these purposes, as Siemens EDA has developed
more advanced tools since the MATRIX_OPC command was added.</p>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id3cdf6924-1fd1-47e2-afb5-953302deda19"><h2 class="title Subheading sectiontitle">How Weighting Impacts
Mapping</h2><p class="p">You can use weightings to discount
distances for certain pairings. Discounting distances works by multiplying
the measured distance by a constant to calculate the effective distance.</p>
<pre class="pre codeblock leveled"><code>effective distance = measured_distance * weighting</code></pre><p class="p">To decide which sites are closest to
a specific fragment, Matrix OPC compares effective distances, not
measured distances. You control the weighting through the choice
of METRIC:</p>
<ul class="ul"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id5c60bf3e-2b87-4acd-a301-22cc6ca49f43"><p class="p">MIDPOINT (EUCLIDEAN) —
No discounting while measuring to the midpoint.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id0c21b410-c8c1-4fdf-a46c-7bc6fe40ec71"><p class="p">WEIGHTED_EUCLIDEAN <span class="keyword ParameterName OptionalReplaceable">w</span> —
Discounts parallel projecting edges by the multiplier <span class="keyword ParameterName OptionalReplaceable">w</span> while
measuring to the midpoint.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__ida639bee3-6122-4391-84cb-e92a3c3c00fe"><p class="p">CLOSEPOINT
(PROJECTING) — Discounts parallel projecting fragments by a multiplier
of 0.01 while measuring to the closest point. This is equivalent
to WEIGHTED_PROJECTING 0.01.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id5392e40a-4e50-4671-9d6c-702c14b951bc"><p class="p">WEIGHTED_PROJECTING <span class="keyword ParameterName OptionalReplaceable">w</span> —
Discounts parallel projecting edges by the multiplier <span class="keyword ParameterName OptionalReplaceable">w </span>while
measuring to the closest point.</p>
</li>
</ul>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idfcc3ff78-88be-488b-be4c-d524b7dea7c9" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 3. </span>Discounting Distances for Parallel Projecting
Edges</span></caption><colgroup><col style="width:2.028in" /><col style="width:2.028in" /><col style="width:2.445in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1014"><p class="p">To measure to…</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1017"><p class="p">And discount Parallel Projecting
Edges by…</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1020"><p class="p">Use…</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1014 "><p class="p">the midpoint of the correction
layer fragment</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1017 "><p class="p">no discounting</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1020 "><p class="p">MIDPOINT</p>
<p class="p">or</p>
<p class="p">WEIGHTED_EUCLIDEAN 1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1014 "><p class="p">the closest point on
the correction layer fragment</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1017 "><p class="p">no discounting</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1020 "><p class="p">WEIGHTED_PROJECTING 1</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1014 "><p class="p">the closest point on
the correction layer fragment</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1017 "><p class="p">0.01</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1020 "><p class="p">CLOSEPOINT </p>
<p class="p">or</p>
<p class="p">WEIGHTED_PROJECTING 0.01</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1014 "><p class="p">the midpoint of the correction
layer fragment</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1017 "><p class="p">0.01</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1020 "><p class="p">WEIGHTED_EUCLIDEAN 0.01</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1014 "><p class="p">the closest point on
the correction layer fragment</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1017 "><p class="p">0.5</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1020 "><p class="p">WEIGHTED_PROJECTING 0.5</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idf682dda4-8d31-4c0d-b45f-e99602aebc53"><h2 class="title Subheading sectiontitle">How Priority Impacts
Mappings</h2><p class="p">By default, pairings between
all fragments and all sites are of equal priority. You can define some
pairings to have a higher priority using the MAP_PRIORITY keyword,
which assigns priorities on a tag-by-tag basis. You must create
these tags with tagging commands that appear before the Matrix OPC
block.</p>
<p class="p">When some fragment-to-site pairings are higher priority
than others, Matrix OPC evaluates the highest priority pairings
first, and only looks at lower priority pairings if it has not identified enough
pairings to satisfy the method.</p>
</div>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id8f974605-b2a2-453b-bc39-c78ad67ebdce"><h2 class="title Subheading sectiontitle">Example 1: Assume
METHOD CLOSEST</h2><p class="p">If there is one highest priority
pairing within the search distance, that pairing is used as the official
mapping, even if there are closer non-prioritized pairings.</p>
<p class="p">If there are several highest
priority pairings within the search distance, the closest is used
as the official mapping.</p>
</div>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id647c6d76-2b90-408b-9784-6ec7b7e3ded3"><h2 class="title Subheading sectiontitle">Example 2: Assume
METHOD AVERAGE 4</h2><p class="p">If there are four highest priority
pairings within the search distance, all four are used in the mapping,
regardless of how many lower priority pairings are within the search
distance and regardless of how close those other pairings are.</p>
<p class="p">If there are three highest priority
pairings within the search distance, these three are used in the mapping.
The fourth pairing in the mapping is the closest of the lower priority
pairings.</p>
</div>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idcca04621-fecb-4928-b760-a2ad8ff38bc9"><h2 class="title Subheading sectiontitle">How Matrix OPC Compares
Equally Close Fragments</h2><p class="p">When two sites are equally close
to a fragment, Matrix OPC resolves the conflict by comparing a secondary
measurement. The secondary measurement also varies according to
the METRIC you have selected:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id61d96863-f006-4d2b-b559-0f8f5a6eb7b2" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 4. </span>Primary and Secondary Distance Comparisons</span></caption><colgroup><col style="width:1.245in" /><col style="width:1.846in" /><col style="width:3.408in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1119"><p class="p">Metric</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1124"><p class="p">Primary Measurement</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1127"><p class="p">Secondary Measurement</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1119 "><p class="p">MIDPOINT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1124 "><p class="p">measures to the midpoint</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1127 "><p class="p">measures to the closest
point </p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1119 "><p class="p">CLOSEPOINT</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1124 "><p class="p">measures to the closest point</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1127 "><p class="p">calculates an expanded
distance as: a<span class="ph FontProperty LiteralSuperScript">2</span> +
b<span class="ph FontProperty LiteralSuperScript">2</span></p>
<p class="p">where: a = distance to one endpoint of fragment</p>
<p class="p">b = distance to the other endpoint of fragment</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id05635c80-b171-4796-8306-3c72203a3c23"><h2 class="title Subheading sectiontitle">How Matrix OPC Calculates Edge Movement</h2><p class="p">The following describes the
algorithm Matrix OPC uses for calculating edge movement:</p>
<ol class="ol"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__ida958f2a9-ab6b-4b25-8fb3-eec950fe7d95"><p class="p">Simulate at sites, compute EPE.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id0f786970-2136-4f36-86ca-d9ab164c591a"><p class="p">Check to see if EPE is within
all tolerances defined for the fragment:</p>
<ul class="ul"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id921123fa-82fa-477f-96f5-51523489e380"><p class="p">global tolerance: |EPE| &lt;
OPC_EPE_TOLERANCE_FRAC * stepsize</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__iddcff4983-4bf0-40cc-98e3-59f61831d712"><p class="p">EPE satisfies all epeToleranceTag
statements defined for the fragment</p>
</li>
</ul>
<p class="p">If not, move the fragment using
the method specified by the chosen OPC style (<a class="xref fm:Table" href="#id465adcef-1ac8-4537-a8a2-91fe919b496b__id428dde7e-6348-4758-a1d9-295b16a5b28c">Table 5</a>).</p>
</li>
</ol>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id428dde7e-6348-4758-a1d9-295b16a5b28c" class="table" frame="border" border="1" rules="cols"><caption><span class="tablecap"><span class="table--title-label">Table 5. </span>Edge Movements </span></caption><colgroup><col style="width:1.867in" /><col style="width:4.633in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1199"><p class="p">OPC Style</p>
</th>
<th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d68385e1202"><p class="p">Calculation</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1199 "><p class="p">Matrix OPC using METHOD
AVERAGE</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1202 "><p class="p">If the EPE is not within
any one of the defined tolerances, the desired displacement is set
to according to the formula:</p>
<div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/reference_tags01a.png" /></div><br /></div>
<p class="p">where N is the number of sites averaged, and
W is a weight which is determined as follows:</p>
<div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/reference_tags02a.png" /></div><br /></div>
<p class="p">where:</p>
<ul class="ul"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id524935c0-d37b-4496-acc2-0c2f5c776367"><p class="p">D = distance from the site center point
to the edge that is moving. Note that this is the undiscounted distance
between the center point of the site and the closest point on the
fragment.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id88105426-702a-45fe-98f5-648918652239"><p class="p">FEEDBACK = is determined for each site
using the method described previously for the CLOSEST method.</p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__ida3d22b07-bc19-4ce5-8d8a-8e449c045354"><p class="p">DISTANCE_ADDITION = a user supplied value
in microns, default 0.0.</p>
</li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1199 "><p class="p">Matrix OPC using OPTSLOPE</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1202 "><p class="p">If the application determines
that the goal of edge movement is to improve the slope, then displacement
is a movement equal to one SLOPESTEPSIZE in the direction of the
gradient.</p>
<p class="p">If the application determines that the goal
of edge movement is to improve the EPE, then it computes the displacement
using the method described previously for the specified METHOD.</p>
</td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1199 "><p class="p">Matrix OPC using METHOD
CLOSEST</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1202 "><p class="p">If the EPE is not within
any one of the defined tolerances, the desired displacement is set
to according to the formula:</p>
<div class="p"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/reference_tags03a.png" /></div><br /></div>
<p class="p">if (|T1| &lt; |OPC_FEEDBACK|) then FEEDBACK
= T1<a name="fnsrc_1" href="#fntarg_1"><sup>1</sup></a></p>
<p class="p">else if (MEEF &lt; 0), FEEDBACK = -OPC_FEEDBACK</p>
<p class="p">else FEEDBACK = OPC_FEEDBACK</p>
<p class="p">Then compute the desired displacement using
the new (temporary) feedback:</p>
<pre class="pre codeblock leveled"><code>desired_displacement = EPE * FEEDBACK</code></pre></td>
</tr>
<tr class="row"><td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1199 "><p class="p">Standard OPC (non-matrix)</p>
</td>
<td class="entry cellrowborder default-entry" style="vertical-align:top;" headers="d68385e1202 "><p class="p">If the EPE is not within
any one of the defined tolerances, the desired displacement is set
to according to the formula:</p>
<pre class="pre codeblock leveled"><code>desired_displacement = EPE * OPC_FEEDBACK</code></pre></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section Subsection" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id7dbe2c18-554c-42eb-a04b-5ae8f3db7977"><h2 class="title Subheading sectiontitle">Low-MEEF Tagging
Precedence</h2><p class="p">In the event that multiple low-MEEF
tags are assigned to the same fragment, the movement value for a
low-MEEF fragment is chosen in this order of precedence: </p>
<ol class="ol"><li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id3f154235-ab44-4573-9462-6533a5a5dd86"><p class="p">positive tag </p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id83d1ca3b-39ae-4d42-a704-7a52324589d7"><p class="p">freeze tag </p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id5ec17457-9ae4-4379-83ad-91487eb42b13"><p class="p">negative tag </p>
</li>
<li class="li" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__idbf002826-947b-4ba2-89bd-ef0bf80186c4"><p class="p">default (no tag at all) </p>
</li>
</ol>
<p class="p">For example, if a low-MEEF fragment
were to have all three tags present, the positive movement value
would be used. If only the freeze tag and negative tag were present,
freeze would take precedence. If no low-MEEF handling tag were found
at all, the default value would be used.</p>
</div>
</div>
<div class="section Examples" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6f1c57fe-0972-4492-9f61-17d5af70f0e4"><h2 class="title Subheading sectiontitle">Examples</h2><p class="p">In this example, we look at the
performance of matrix-OPC with slope optimization on a section of
layout and also use ORC to analyze its effectiveness in improving
slope, compared to standard OPC.</p>
<p class="p">Lithography settings:</p>
<pre class="pre codeblock leveled"><code>mask: attenuated 6% background, clear features
illumination: STANDARD, sigma = 0.75
lambda=193, NA = 0.7</code></pre><p class="p">OPC settings:</p>
<pre class="pre codeblock leveled"><code>epeToleranceTag line_end          0.005 -0.010
epeToleranceTag line_end_adjacent 0.010 -0.005
epeToleranceTag all               0.005 -0.005
MATRIX_OPC { 
	SEARCH 0.1 
	OPTSLOPE YES
	MINSLOPE 3.0
	slopeToleranceTag line_end 2.7 
	slopeToleranceTag line_end_adjacent 2.7 
}</code></pre><p class="p"><a class="xref fm:Figure" href="#id465adcef-1ac8-4537-a8a2-91fe919b496b__id6b0eb010-63c9-408b-9141-9e0af6d71d06">Figure 5</a> shows the results of Matrix OPC (black),
superimposed with the standard OPC (red) and the wafer target (gray).
The slope-optimized OPC output has slightly less correction on line ends
in order to improve slope. Also, the slope-optimized OPC output
has slightly wider corrections on isolated edges, which results
in higher image intensity hence better slope.</p>
<div class="fig fignone" id="id465adcef-1ac8-4537-a8a2-91fe919b496b__id6b0eb010-63c9-408b-9141-9e0af6d71d06"><span class="figcap"><span class="fig--title-label">Figure 5. </span>Standard OPC Versus
Matrix OPC</span><br /><div class="imagecenter"><img class="image imagecenter" height="326" src="../graphics/reference_tags27a.png" width="352" /></div><br /></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_TaggingCommands_ide141a5fb.html" title="Tagging commands work on specific subsets of fragments. These subsets are “tag sets.” You can define custom tag sets with the newTag commands and then modify the fragments in the sets using other tagging commands.">Tagging Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_Epetolerancetag_idd24f3aab.html#idd24f3aab-25fd-4235-baa2-70ccaf096e23__" title="Defines an EPE tolerance to be used for specified tags.">epeToleranceTag</a></div>
<div><a class="link" href="../topics/Contain_UsingMatrixOpcInCalibreOpcpro_idedaff491.html#idedaff491-ca04-4aff-9c20-9ef3e5efc020__" title="This section begins with an extensive explanation of Matrix OPC and its uses for multiple masks and other advanced OPC situations.">Using Matrix OPC in Calibre OPCpro</a></div></div>
</div></div>
<div class="fn"><a name="fntarg_1" href="#fnsrc_1"><sup>1</sup></a>  |T1| is rarely less than |OPC_FEEDBACK|,
so in most cases the MEEF is only used to calculate the direction
of the edge movement. While it is possible to increase the value
of OPC_FEEDBACK to force Matrix OPC to use the |T1| as the FEEDBACK,
this is not recommended.</div></div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_opcpro_useref"
                DocTitle = "Calibre® OPCpro™ User’s and Reference Manual"
                PageTitle = "MATRIX_OPC"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_MatrixOpc_id465adcef.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® OPCpro™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>