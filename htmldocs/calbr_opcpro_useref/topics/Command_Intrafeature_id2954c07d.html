<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="intrafeature" />
<meta name="abstract" content="Alternative to cornedge and concavecorn for implementing intrafeature fragmentation." />
<meta name="description" content="Alternative to cornedge and concavecorn for implementing intrafeature fragmentation." />
<meta name="prodname" content="Calibre OPCpro User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-17" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_opcpro_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="HighlightColor" content="mgc_wheat" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="Mar. 12, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® OPCpro™ User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10108,doc.type.documentation.ref" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id2954c07d-d9d3-414e-b246-e9442c6beaff" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>intrafeature</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="intrafeature" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10115,product.id.P10108,doc.type.documentation.ref" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id2954c07d-d9d3-414e-b246-e9442c6beaff">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">intrafeature</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Type: <a class="xref fm:HeadingOnly" href="Contain_LithoSetupFileKeywords_id5d361e7b.html#id5d361e7b-8fac-4d3f-b66e-9b32db85fbd8__Contain_LithoSetupFileKeywords_id5d361e7b.xml#id5d361e7b-8fac-4d3f-b66e-9b32db85fbd8" title="Setup file keywords define OPC and simulation parameters and define the layers used in Calibre OPCpro, Calibre ORC, and Calibre PRINTimage operations. Keywords may only be specified once per setup file.">Litho Setup File Keywords</a>. <span class="ph fmvar:SupportedBy">  
   Used by Calibre OPCpro, Calibre ORC, and Calibre PRINTimage.</span></p>
<p class="shortdesc">Alternative to cornedge and
concavecorn for implementing intrafeature fragmentation.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">intrafeature</span> <span class="keyword ParameterName RequiredReplaceable">edge_spec</span> [<span class="keyword ParameterName Optional">fragment</span>] <span class="keyword ParameterName RequiredReplaceable">rule</span> [<span class="keyword ParameterName Optional">corner2</span> [<span class="keyword ParameterName Optional">fragment</span>] <span class="keyword ParameterName OptionalReplaceable">rule</span>] [<span class="keyword ParameterName Optional">breakinhalf</span>] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id3a603513-c263-4a62-b34c-75c45217d066"><span class="keyword ParameterName RequiredReplaceable">edge_spec</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required set of keywords that
defines the corner type and fragment lengths. The <span class="keyword ParameterName RequiredReplaceable">edge_spec</span> argument
can be broken down into the following syntax:</p>
<p class="p"><span class="keyword ParameterName RequiredReplaceable">corner_type</span> [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>]
[<span class="keyword ParameterName OptionalReplaceable">corner_type</span> [<span class="keyword ParameterName OptionalReplaceable">corner_subtype</span>]]
[<span class="keyword ParameterName Optional">length</span> <span class="keyword ParameterName OptionalReplaceable">constraint</span>] [length1<span class="keyword ParameterName OptionalReplaceable"> constraint</span>]
[length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span>]</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idb426106a-caa4-4900-a936-cff7b22dc7bb"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">corner_type</span> </p>
<p class="p">A required argument that
specifies a constraint that determines whether the rule applies
to one or both corners of a particular edge. The allowable corner
types are <span class="keyword ParameterName Required">concave</span> and <span class="keyword ParameterName Required">convex</span>.</p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id1174d468-278c-4211-8ca7-ec64af4a8f30"><p class="p Opt"><span class="keyword ParameterName OptionalReplaceable">corner_subtype</span> </p>
<p class="p">An optional argument that specifies
a constraint that determines whether the rule applies to one or
both corners of a particular edge. The choices are <span class="keyword ParameterName Required">end_adjacent</span>, <span class="keyword ParameterName Required">not_end_adjacent</span>, <span class="keyword ParameterName Required">angle_90</span>,
and <span class="keyword ParameterName Required">angle_non90</span>.
The <span class="keyword ParameterName Required">end_adjacent</span> subtype specifies
that the corner satisfies the line-end-adjacent or space-end-adjacent
criteria. The <span class="keyword ParameterName Required">angle_90</span> subtype
specifies that the angle is a 90 degree or 270 degree angle. </p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idee63293e-9629-4eae-8413-b9a060d20314"><p class="p Opt"><span class="keyword ParameterName Optional">length </span><span class="keyword ParameterName OptionalReplaceable">constraint</span> </p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id53b31c12-ddef-4ae8-a53c-efe9602cb7b6"><p class="p Opt">length1 <span class="keyword ParameterName OptionalReplaceable">constraint</span> </p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id16ceb09c-74a7-4c89-af6d-f38c22eb4887"><p class="p Opt">length2 <span class="keyword ParameterName OptionalReplaceable">constraint</span> </p>
<p class="p">Length of the edge, the edge at corner
1, and the edge at corner 2, respectively. All three may be specified
jointly or independently of each other. The constraint takes the form
of a DRC constraint and the value is specified in microns. For example:</p>
<pre class="pre codeblock"><code>length &gt; 0.1 &lt;= 0.2  length1 &lt;= 0.15  length2 &lt; 0.2 
length &gt; 0.2 
length == 0.3  length2 &gt; 0.18</code></pre></li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idc002e750-8e53-48ea-aa01-0feb0c89025b">fragment </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that can
be used to separate the fragmentation rule from the edge specification.
It can be useful if length is specified so that the length value
is separated from the fragmentation values.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idaeeefba7-e2b7-4984-bf80-dd81350ab379"><span class="keyword ParameterName RequiredReplaceable">rule</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">Defines the rules for intrafeature
fragmentation. The <span class="keyword ParameterName RequiredReplaceable">rule</span> parameter
has two forms. </p>
<ul class="ul"><li class="li" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id4304222c-1a36-4454-bd26-d5c6f82a0991"><p class="p"><span class="keyword ParameterName RequiredReplaceable">len1</span> … <span class="keyword ParameterName RequiredReplaceable">lenN</span> [priority]
[rem <span class="keyword ParameterName OptionalReplaceable">r</span>] </p>
</li>
<li class="li" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id84b01b33-2381-416a-acb7-45cf0fd578a0"><p class="p"><span class="keyword ParameterName Required">split</span> <span class="keyword ParameterName RequiredReplaceable">n</span> [force] </p>
</li>
</ul>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id9873bce6-77bf-4da5-8a31-2f3c13f26f14"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">len1</span> </p>
<p class="p">The default distance in microns
from the concave corner to the first fragmentation vertex that is
produced. The value must not be less than minedgelength.</p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__ide735048d-a5e6-41ff-8c08-2c7c52f0f315"><p class="p Opt"><span class="keyword ParameterName RequiredReplaceable">lenN</span> </p>
<p class="p">The default distance in microns
from the previous fragmentation vertex to the next fragmentation
vertex, measured sequentially from the corner inward. The value
must not be less than minedgelength.</p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id6241b9ee-3ede-4dd7-b384-b42931ec9849"><p class="p Opt">priority </p>
<p class="p">An optional flag indicating
which corner has priority over the other. Typically, there is no
fragmentation if the remainder (<span class="keyword ParameterName Optional">rem</span> <span class="keyword ParameterName OptionalReplaceable">r</span>)
is violated after the first fragment at each corner is created.
With the priority option, the fragment at the priority corner is created
if the remainder (<span class="keyword ParameterName Optional">rem</span> <span class="keyword ParameterName OptionalReplaceable">r</span>)
is not violated.</p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__iddb043db1-0c14-4ffc-927b-2a8ba40c8f7b"><p class="p Opt">rem <span class="keyword ParameterName OptionalReplaceable">r</span> </p>
<p class="p">An optional argument specifying
the minimum allowed remainder. If intrafeature fragmentation would
produce an edge with length smaller than <span class="keyword ParameterName OptionalReplaceable">r</span>,
then it does not fragment the edge. If not specified, the default
value used is <a class="xref fm:HeadingOnly" href="Command_Minedgelength_id1cec0ace.html#id1cec0ace-d999-4f1c-a70e-7cfc0308b4f5__Command_Minedgelength_id1cec0ace.xml#id1cec0ace-d999-4f1c-a70e-7cfc0308b4f5" title="Sets the smallest length that can be produced by fragmentation.">minedgelength</a>.</p>
</li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id6b65a2b8-7b26-4d1f-a788-7f805c18c701"><p class="p Opt">split <span class="keyword ParameterName OptionalReplaceable">n</span> </p>
<p class="p">An optional keyword and value specifying
to break the fragment into <span class="keyword ParameterName OptionalReplaceable">n</span> equal
parts. For example, if the following command is applied to a 0.4
micron edge:</p>
<p class="p">intrafeature convex length &lt;= 0.685 split 4</p>
<p class="p">the edge is split into four
0.1 micron fragments.</p>
<p class="p">The <span class="keyword ParameterName OptionalReplaceable">n</span> value
must be an integer between 2 and 40, inclusive. If the resulting
fragments would violate minedgelength, the command generates an
error. The above example would likely generate an error since lengths
down to 0 would be split into four fragments. You can prevent this
by providing a lower bound, as in this example:</p>
<pre class="pre codeblock"><code>minedgelength 0.050 
intrafeature convex length &gt;= 0.200 &lt;= 0.685 split 4</code></pre></li>
<li class="li ArgOption" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idab09a55f-fec4-49a9-8a82-f18dcd96f790"><p class="p Opt">force </p>
<p class="p">An optional keyword for use
with split. It overrides the minedgelength error. Use only when
you are certain that violating minedgelength does not cause an error. </p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__id9d41221e-35fe-4ae3-8032-5a2050f02f32">corner2</dt>
<dd class="dd ArgumentDescription"><p class="p">If <span class="keyword ParameterName Optional">corner2</span> is
specified, it must be followed by a fragmentation rule for the second
endpoint. It is only legal to specify corner2 if there are two corner-types
listed and if they are not ambiguous. For example, if both corner
types are convex, then it is not possible to distinguish between
the two and therefore the fragmentation must be the same for both.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idbb3e30c6-4348-4e45-bb32-0c77db1a86a6">breakinhalf</dt>
<dd class="dd ArgumentDescription"><p class="p">If breakinhalf is specified,
it divides a fragment into two equal parts when the resulting intrafeature
fragmentation violates the remainder constraint.</p>
<p class="p">For example, if the following
command is applied to a 0.12 micron edge:</p>
<pre class="pre codeblock leveled"><code>	intrafeature 0.05 0.05 rem 0.04 breakinhalf</code></pre><p class="p">A 0.12 micron edge cannot have
ripples inserted without violating the remainder constraint of 0.04
microns. Normally, no changes would be made to the edge. However,
since breakinhalf was specified, the edge is split in the middle
to create two fragments 0.06 microns in length.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">This keyword is an optional fragmentation
parameter. It combines the functionality of both <a class="xref fm:HeadingOnly" href="Command_Cornedge_id01577384.html#id01577384-e5c3-4144-b736-a20255540e82__Command_Cornedge_id01577384.xml#id01577384-e5c3-4144-b736-a20255540e82" title="Fragmentation parameter providing precise control over the number and length of intrafeature fragmented edges at convex corners.">cornedge</a> and <a class="xref fm:HeadingOnly" href="Command_Concavecorn_idb550cdd1.html#idb550cdd1-73f3-4aba-9d72-2e3bff485ec3__Command_Concavecorn_idb550cdd1.xml#idb550cdd1-73f3-4aba-9d72-2e3bff485ec3" title="An optional fragmentation keyword controlling the number and length of intrafeature fragmented edges at concave corners.">concavecorn</a> parameters and can be used to
implement intrafeature fragmentation with a description of the edge
and a rule for generating fragments. The edge description takes into
account the edge length and the type of corners that it contains.</p>
<p class="p">In
intrafeature fragmentation, the edges connected to corners are broken
up according to the cornedge and concavecorn parameters. The fragmentation
process occurs automatically before OPC begins. <a class="xref fm:Figure" href="#id2954c07d-d9d3-414e-b246-e9442c6beaff__idd05736b4-6fcf-46c3-890e-486b0fe5245e">Figure 1</a> shows how the intrafeature fragmentation
parameters are applied to produce fragmentation vertices.</p>
<div class="fig fignone" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idd05736b4-6fcf-46c3-890e-486b0fe5245e"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Intrafeature Fragmentation
Example</span><br /><div class="imagecenter"><img class="image imagecenter" height="150" src="../graphics/reference_commands31a.png" width="261" /></div><br /></div>
<div class="section Subsection" id="id2954c07d-d9d3-414e-b246-e9442c6beaff__idfe583b57-e434-4450-b96a-06bcf5c2d09a"><h2 class="title Subheading sectiontitle">Interaction With
Hierarchy</h2><p class="p">Be careful in hierarchical designs
to take promotion radius into account. When two corners are specified
in conjunction with a length greater than the automatically calculated
promotion radius or the manually set <a class="xref fm:HeadingOnly" href="Command_InteractionDistance_ide40ff3bb.html#ide40ff3bb-550d-4b5b-bcbb-f80d284ba985__Command_InteractionDistance_ide40ff3bb.xml#ide40ff3bb-550d-4b5b-bcbb-f80d284ba985" title="Overrides the default interaction distance used for hierarchical promotion when simulating an aerial image.">INTERACTION_DISTANCE</a> value, the software cannot always determine
what type the other corner is. When this happens, an error occurs.
The solution is to have two forms of the rule: one for lengths up
to the promotion radius and the other for lengths greater than the
promotion radius.</p>
<p class="p">For example, if the promotion
radius is 0.91 this rule occasionally generates errors:</p>
<pre class="pre codeblock leveled"><code>intrafeature concave concave length &gt; 0.8 fragment 0.15 0.15</code></pre><p class="p">The problem occurs when the two
corners are separated by an edge greater than 0.91 microns. The
context of the first corner does not include the second corner,
so Calibre cannot determine its type. A better setup file would
use this pair of rules:</p>
<pre class="pre codeblock leveled"><code>intrafeature concave concave length &gt; 0.8 &lt;= 0.91 fragment 0.15 0.15
intrafeature concave length &gt; 0.91 fragment 0.15 0.15</code></pre><p class="p">This permits correct fragmentation
whether or not the edge is interrupted by a boundary and generates
the same results in both flat and hierarchical mode.</p>
<p class="p">The promotion radius is listed
in the log file as “promotion radius” whether calculated automatically
or set with the INTERACTION_DISTANCE variable.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_LithoSetupFileKeywords_id5d361e7b.html" title="Setup file keywords define OPC and simulation parameters and define the layers used in Calibre OPCpro, Calibre ORC, and Calibre PRINTimage operations. Keywords may only be specified once per setup file.">Litho Setup File Keywords</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_Concavecorn_idb550cdd1.html#idb550cdd1-73f3-4aba-9d72-2e3bff485ec3__" title="An optional fragmentation keyword controlling the number and length of intrafeature fragmented edges at concave corners.">concavecorn</a></div>
<div><a class="link" href="../topics/Command_Cornedge_id01577384.html#id01577384-e5c3-4144-b736-a20255540e82__" title="Fragmentation parameter providing precise control over the number and length of intrafeature fragmented edges at convex corners.">cornedge</a></div>
<div><a class="link" href="../topics/Command_Layer_id24bcf6df.html#id24bcf6df-916f-445c-80b7-a063af955d1e__" title="Required. Defines how the given mask layer is treated by OPC and simulation.">layer</a></div>
<div><a class="link" href="../topics/Command_OpcUseLeDef_id40c20aff.html#id40c20aff-fa42-41a6-b2b2-715ef33c3313__" title="Allows line-end fragmentation using the intrafeature command.">OPC_USE_LE_DEF</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_opcpro_useref"
                DocTitle = "Calibre® OPCpro™ User’s and Reference Manual"
                PageTitle = "intrafeature"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_Intrafeature_id2954c07d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® OPCpro™ User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>