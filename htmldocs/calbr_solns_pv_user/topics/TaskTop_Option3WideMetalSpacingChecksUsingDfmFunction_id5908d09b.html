<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Writing Wide Metal Spacing Checks Using DFM Function" />
<meta name="abstract" content="You can use a DFM Function statement to simplify coding of traditional bucketed rules, such as those typically used for wide metal spacing checks." />
<meta name="description" content="You can use a DFM Function statement to simplify coding of traditional bucketed rules, such as those typically used for wide metal spacing checks." />
<meta name="prodname" content="Calibre Solutions for Physical Verification" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_solns_pv_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Solutions for Physical Verification" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Writing Wide Metal Spacing Checks Using DFM Function</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Writing Wide Metal Spacing Checks Using DFM Function" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Writing Wide Metal Spacing Checks
Using DFM Function</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">You can use a
DFM Function statement to simplify coding of traditional bucketed
rules, such as those typically used for wide metal spacing checks.</p>
<p class="p">This method offers similar advantages to the method described
in “<a class="xref fm:HeadingAndPage" href="TaskTop_Option2WideMetalSpacingChecksUsingContinuousFunction_idcda0cb3f.html#idcda0cb3f-30ac-48bf-83f3-3ed209017c75__TaskTop_Option2WideMetalSpacingChecksUsingContinuousFunction_idcda0cb3f.xml#idcda0cb3f-30ac-48bf-83f3-3ed209017c75" title="You can write a wide metal spacing check by implementing a continuous function in terms of the width and space values.">Writing Wide Metal Spacing Checks Using a Continuous Function</a>” (reduced
code complexity and the ability to show correction values in a layout
viewer), but it does not make use of a continuous function.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ide8e5463f-e82a-4188-992f-a1969191e51b" class="table" frame="hsides" border="1" rules="cols"><colgroup><col style="width:0.989in" /><col style="width:5.186in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p">    <span class="ph FontProperty HeadingLabel">Try It!</span> </p>
<img class="image fmdpi:96" src="../graphics/try_it_note_small.png" /></td>
<td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p"><span class="ph FontProperty HeadingLabel">Calibre Advanced DRC (eqDRC) Tutorial and Example Kit</span></p>
<p class="p">Go to <a class="xref" href="http://supportnet.mentor.com/infohub.cfm?infohub=ver_ih&amp;link=cal_ekit_IC" target="_blank">this page</a> on Support Center
to download the complete eKit.</p>
<p class="p">This example is in the device_routing_checks/wide_metal_spacing
example directory.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd__ida7b34db0-1dac-47ea-b4e6-ed416ee3a37d"><span class="ph cmd">Create a derived error layer
where the edge clusters mark the separation distance between the
bands:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>m_space = DFM SPACE Metal &lt;= 0.60 BY EXT </code></pre></div></li>
<li class="li step stepexpand" id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd__idbea055b6-70c0-4de4-8543-3c64caa1adb2"><span class="ph cmd">Create a derived error layer
where the edge clusters mark the width of each band: </span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>m_width = DFM SPACE Metal &lt;= 5.00 BY INT </code></pre></div></li>
<li class="li step stepexpand" id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd__idfdcb4621-22ee-41ba-8754-82583c57e98f"><span class="ph cmd">Define a DFM Function statement
that accepts two metal width values as inputs and outputs the required
spacing.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>DFM FUNCTION [space_cal(NUMBER x, NUMBER y) 
             (x &lt; 0.36 &amp;&amp; y &lt; 0.36)
               ? 0.09 : (x &lt; 1.44 &amp;&amp; y &lt; 0.36)
               ? 0.25 : (x &lt; 1.44 &amp;&amp; y &lt; 1.44)
               ? 0.30 : (x &lt; 4.50 &amp;&amp; y &lt; 1.44)
               ? 0.40 : (x &lt; 4.50 &amp;&amp; y &lt; 4.50) 
               ? 0.50 : (x &lt; 4.50 &amp;&amp; y &lt; 1.44)
               ? 0.50 : (x &gt;= 4.50 &amp;&amp; y &lt; 4.50)
               ? 0.55 : 0.60 
             ] </code></pre></div></li>
<li class="li step stepexpand" id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd__id0449f1eb-d846-4aea-af12-48ed0b5d8ff9"><span class="ph cmd">Create a derived error layer
eqdrc_bucket_fnct with attached properties that define the metal
widths, required spacing, and correction values:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock not-leveled"><code>eqdrc_bucket_fnct = DFM PROPERTY m_space m_width OVERLAP MULTI SPLIT ALL 
          [Short_width = MIN(EW(m_width))] 
          [Long_width = MAX(EW(m_width))] 
          [Space = MAX(EW(m_space))] 
          [Increase_space_by = 
             space_cal(PROPERTY_REF(Long_width),PROPERTY_REF(Short_width)) 
            - PROPERTY_REF(Space) ] &gt; 0</code></pre><p class="p">The property Increase_space_by calculates the correction value
for the spacing by subtracting the actual spacing from the required
spacing determined by the function space_cal. </p>
</div></li>
<li class="li step stepexpand" id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd__idaf0f8116-5b74-4cf8-a85f-fdd3af32ae9c"><span class="ph cmd">Output the eqdrc_bucket_fnct
layer to a DFM RDB file named <span class="ph filepath">eqdrc.rdb</span>.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>eqDRC_rule_dfm_function { 
  DFM RDB eqdrc_err eqdrc.rdb CHECKNAME "%_l_" 
      ALL CELLS CELL SPACE
      COMMENT "Wide metal spacing rule: Use the Increase_space_by " 
      COMMENT "property value to determine the spacing adjustment "
      COMMENT "needed to fix the violation"
} </code></pre></div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">The following figure shows the output
in Calibre DESIGNrev for a pair of failing metal bands:</p>
<div class="fig fignone" id="id5908d09b-fdc5-469c-bcfc-7f9ded51bebd__iddc1018b9-9cf4-427c-b2fe-d2f255500585"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Wide Metal Spacing Output</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/wide_metal_output2.gif" /></div><br /></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_WritingWideMetalSpacingCheck_idef9fd87d.html" title="Wide metal spacing refers to a layout challenge where wide metal paths separated by small areas of silicon dioxide can lead to performance and yield problems. Since metal is softer than oxide, it is removed more easily during traditional Chemical Mechanical Polishing (CMP) processes,6 and can lead to the erosion effects.">Writing a Wide Metal Spacing Check</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Introduction to DFM Property', 'calbr_ver_user'); return false;">Introduction to DFM Property [Calibre Verification User's Manual]</a></div>
<div><a class="link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Wide Metal Spacing Rules', 'calbr_ver_user'); return false;">Wide Metal Spacing Rules [Calibre Verification User's Manual]</a></div>
<div><a class="link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Introduction to DFM RDB', 'calbr_ver_user'); return false;">Introduction to DFM RDB [Calibre Verification User's Manual]</a></div>
<div><a class="link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Introduction to DFM Function', 'calbr_ver_user'); return false;">Introduction to DFM Function [Calibre Verification User's Manual]</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_solns_pv_user"
                DocTitle = "Calibre® Solutions for Physical Verification"
                PageTitle = "Writing Wide Metal Spacing Checks Using DFM Function"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_Option3WideMetalSpacingChecksUsingDfmFunction_id5908d09b.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Solutions for Physical Verification, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>