<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Checking Polygon Centerline Alignment" />
<meta name="abstract" content="You can check that polygon centerlines are aligned, where one polygon, such as a marker shape, overlaps another polygon from a different layer." />
<meta name="description" content="You can check that polygon centerlines are aligned, where one polygon, such as a marker shape, overlaps another polygon from a different layer." />
<meta name="prodname" content="Calibre Solutions for Physical Verification" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_solns_pv_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Solutions for Physical Verification" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Checking Polygon Centerline Alignment</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Checking Polygon Centerline Alignment" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Checking Polygon Centerline
Alignment</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">You can check that polygon centerlines
are aligned, where one polygon, such as a marker shape, overlaps
another polygon from a different layer.</p>
<p class="p">In the following figure, primary layer shapes
interact with marker layer shapes. The centerlines of the primary
shape “width” dimension are the targets for alignment with centerlines
of the marker shapes. Marker shapes whose centerlines do not align
with the primary shapes are flagged, unless there is no overlap
of the marker and primary shape.</p>
<div class="fig fignone" id="id6b0f537c-fd86-4466-9df2-793923cadf55"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Check Centerline Alignment</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/adv_drc_centerlines_1.png" /></div><br /></div>
<p class="p">The rule check compares areas of marker shape regions (marker
NOT primary) on either side of the primary shapes. Additionally,
the lengths of shared edge segments between primary shapes and the
marker shape regions are checked. When the areas and segment lengths
match, respectively, the marker shape is considered to be properly
aligned. While checking the shared edge segments is not strictly
necessary (especially if the shapes are guaranteed to be rectangular by
some other check), it is possible to have equal areas when the centerlines
do not align. Hence, checking the shared edge segment lengths provides
a more robust check.</p>
<p class="p">Case #4 in the preceding figure, where the primary shape completely
overlaps the marker shape, is considered OK if two marker edges
are inside coincident with the primary shape. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id744b0a5b-4988-4740-a6ee-3b36675fea77" class="table" frame="hsides" border="1" rules="cols"><colgroup><col style="width:0.989in" /><col style="width:5.186in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p">    <span class="ph FontProperty HeadingLabel">Try It!</span> </p>
<img class="image fmdpi:96" src="../graphics/try_it_note_small.png" /></td>
<td class="entry row-nocellborder default-entry" style="vertical-align:top;"><p class="p"><span class="ph FontProperty HeadingLabel">Calibre Advanced DRC (eqDRC) Tutorial and Example Kit</span></p>
<p class="p">Go to <a class="xref" href="http://supportnet.mentor.com/infohub.cfm?infohub=ver_ih&amp;link=cal_ekit_IC" target="_blank">this page</a> on Support Center
to download the complete eKit.</p>
<p class="p">This example is in the grid_pitch_checks/polygon_centerlines
example directory.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id28591e1b-7310-4bf4-983e-23f1aebad016"><span class="ph cmd">Derive
the intersections of the primary and marker layers, the marker layer
regions on either side of primary shapes, and the shared edges of
the regions and the primary shapes:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>pr_AND_mk = primary AND marker
mk_NOT_pr = marker NOT primary
p_COE_m_NOT_p = primary COIN OUTSIDE EDGE mk_NOT_pr
p_CIE_p_AND_m = primary COIN INSIDE EDGE pr_AND_mk</code></pre></div></li>
<li class="li step stepexpand" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id3fb0ca5a-5e72-4ca2-9f40-5d1778fce28a"><span class="ph cmd">Use <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM Property', 'svrf_ur'); return false;">DFM Property</a> to check that
the marker and primary layer polygons which overlap have the same
centerline.</span><div class="itemgroup info StepInfo"><p class="p">The check analyzes shapes interacting with pr_AND_mk:</p>
<ul class="ul"><li class="li" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id23689bf4-610a-4a3e-9b6d-a838a9e58125"><p class="p">Error if
there are 1 or more than 2 mk_NOT_pr polygons (case #2)</p>
</li>
<li class="li" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id35ff239d-86ea-4c5c-a84f-b189df526301"><p class="p">Else, error
if there are 0 mk_NOT_pr polygons and the pr_AND_mk polygon does not
have two COIN INSIDE edges with primary (case #4)</p>
</li>
<li class="li" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id3f8d5e5c-b3f6-4e47-9fe6-0165462214eb"><p class="p">Else, error
if the lengths of the outside common edges of primary and mk_NOT_pr are
unequal</p>
</li>
<li class="li" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id2eb3c71a-361f-4d92-84a8-b9e505b8cf71"><p class="p">Else, error
if the areas of mk_NOT_pr interacting with pr_AND_mk are unequal (case
#5)</p>
</li>
</ul>
<pre class="pre codeblock"><code>non_aligned = DFM PROPERTY pr_AND_mk  
                           mk_NOT_pr p_COE_m_NOT_p p_CIE_p_AND_m 
                           OVERLAP ABUT ALSO MULTI
    [ "+ne_area" = DRC_NE( MAX(AREA(mk_NOT_pr), 0) , 
                           MIN(AREA(mk_NOT_pr), 0) )]
    [ "+ne_len"  = DRC_NE( MAX(LENGTH(p_COE_m_NOT_p), 0) , 
                           MIN(LENGTH(p_COE_m_NOT_p), 0) ) ]
    [ - = ( (COUNT(mk_NOT_pr) &gt; 2) || (COUNT(mk_NOT_pr) == 1 ) ) ? 0 :
         ( (COUNT(mk_NOT_pr) == 0) &amp;&amp; 
           (COUNT(p_CIE_p_AND_m) != 2) ) ? 0 : 
         ( PROPERTY_REF("+ne_len") &gt; 0 ) ? 0 :
         ( PROPERTY_REF("+ne_area") &gt; 0) ? 0 : 1 ] == 0 </code></pre><p class="p"><a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DRC_NE', 'svrf_ur'); return false;">DRC_NE</a>() returns 1.0 if
its arguments are not equal within a built-in tolerance, and 0.0 otherwise.
The MIN() and MAX() functions include a default value of 0, to prevent evaluation
failure when the layer argument has no shapes in the cluster.</p>
</div></li>
<li class="li step stepexpand" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id8ae03fab-3ad5-4125-8a78-38baa4486319"><span class="ph cmd">Output
results using <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'DFM RDB', 'svrf_ur'); return false;">DFM RDB</a>.</span><div class="itemgroup info StepInfo"><pre class="pre codeblock"><code>centerline_check {
   DFM RDB non_aligned eqdrc.rdb CHECKNAME "%_l_" 
       CELL SPACE ALL CELLS 
       COMMENT "Centerlines of marker and primary shape are not 
                aligned"
}</code></pre></div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">Compare the following results to <a class="xref fm:Figure" href="#idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id6b0f537c-fd86-4466-9df2-793923cadf55">Figure 1</a>.</p>
<div class="fig fignone" id="idb9bca60c-5a28-48a5-8b6c-f4cf203c785d__id3ad2f989-0f48-478c-93e5-98e6c74be7d1"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/adv_drc_centerlines_2.png" /></div><br /></div>
<p class="p">The two incorrect cases (#2 and #5) are flagged.</p>
<p class="p">This check handles the cases pictured here and discussed in the
text. It does not handle the case of two equal area mk_NOT_pr polygons
on the same side of a pr_AND_mk shape, but that is probably an unusual
configuration. </p>
<p class="p">For cases where the marker shapes are not cut by the primary
shapes, a similar check can be performed using REGION CENTERLINE
with Internal or CENTERLINE with DFM Copy. The range of feature
sizes must be known in advance for dimensional check operations,
which is sometimes a challenge. In addition, if the measurement
constraints are large, that can adversely affect performance when
using operations like Internal. DFM Space is the better choice when
measurement constraints are large.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_GridPitchChecks_ideb07da94.html" title="This section includes grid and pitch checks.">Grid and Pitch Checks</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Introduction to DFM Property', 'calbr_ver_user'); return false;">Introduction to DFM Property [Calibre Verification User's Manual]</a></div>
<div><a class="link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Non-Persistent DFM Properties', 'svrf_ur'); return false;">Non-Persistent DFM Properties [Standard Verification Rule Format (SVRF) Manual]</a></div>
<div><a class="link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'MAX', 'svrf_ur'); return false;">MAX [Standard Verification Rule Format (SVRF) Manual]</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_solns_pv_user"
                DocTitle = "Calibre® Solutions for Physical Verification"
                PageTitle = "Checking Polygon Centerline Alignment"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_CheckingPolygonCenterlineAlignment_idb9bca60c.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Solutions for Physical Verification, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>