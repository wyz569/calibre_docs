<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Finding Density Inside of a Layer and Outside of a Cell" />
<meta name="abstract" content="If you want to exclude a placed cell from density checking, but you want to check inside of a boundary layer at the same time, this procedure shows an optimized method." />
<meta name="description" content="If you want to exclude a placed cell from density checking, but you want to check inside of a boundary layer at the same time, this procedure shows an optimized method." />
<meta name="prodname" content="Calibre Solutions for Physical Verification" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_solns_pv_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Solutions for Physical Verification" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idc4ac88cf-e758-42e2-8de7-0337891f7b12" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Finding Density Inside of a Layer and Outside of a Cell</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Finding Density Inside of a Layer and Outside of a Cell" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="idc4ac88cf-e758-42e2-8de7-0337891f7b12">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Finding Density Inside of a Layer and Outside of a Cell</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">If you want to
exclude a placed cell from density checking, but you want to check
inside of a boundary layer at the same time, this procedure shows
an optimized method. </p>
<p class="p">This procedure is a combination of the “<a class="xref fm:HeadingOnly" href="TaskTop_FindingDensityOutsideCellLayer_iddeb42e80.html#iddeb42e80-3b4b-40ad-82c3-d2ec02e64fae__TaskTop_FindingDensityOutsideCellLayer_iddeb42e80.xml#iddeb42e80-3b4b-40ad-82c3-d2ec02e64fae" title="The following procedure demonstrates how to perform density checking outside of a cell by using an exclusion layer.">Finding Density Outside of a Cell or Layer</a>” and the “<a class="xref fm:HeadingOnly" href="TaskTop_FindingDensityInsideLayer_id660fd9c2.html#id660fd9c2-cac4-42b7-ba1f-74ce3ce518bf__TaskTop_FindingDensityInsideLayer_id660fd9c2.xml#id660fd9c2-cac4-42b7-ba1f-74ce3ce518bf" title="The following procedure shows Density operations for checking polygons from one layer that are inside of another layer. The operation has an INSIDE OF LAYER option, but its performance can be slow in certain situations, so it is best to avoid using that option.">Finding Density Inside of a Layer</a>” topics. </p>
<p class="p">The <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density', 'svrf_ur'); return false;">Density</a> operation
has an INSIDE OF LAYER option which could apply in this case, but
its performance can be slow in certain situations, so it is best
to avoid using that option.</p>
<p class="p">One advantage to writing the Density operations
in the way shown in this section is you can have multiple Density
operations using differing constraints (but otherwise using the
same parameter values) and they will all run concurrently.</p>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__id14fc7e81-a220-4a9a-8bcc-1d00e8f08d52"><p class="p">Thorough
understanding of the <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density', 'svrf_ur'); return false;">Density</a> AREA()
function and math operators.</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__idb329fa4b-e382-4558-9efc-30cf55081b36"><span class="ph cmd">Write the following operation
to derive an exclusion layer where density is not performed:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>keepout = EXTENT CELL "my_cell" ORIGINAL</code></pre></div></li>
<li class="li step stepexpand" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__id30028c62-d8d8-4163-a6fe-c262ee185691"><span class="ph cmd">Write a Density check using
the derived layer from Step 1. You can write a check of the fill
layer inside the boundary layer, but outside the keepout layer,
as follows:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>filldensity = DENSITY fill boundary keepout &lt; d 
    [<span class="ph CodeHighlight orange">(AREA(fill)/(!!AREA(boundary)*!AREA(keepout)))/AREA()</span>]
              WINDOW w STEP s 
              RDB filldensity.rdb

filldensity { COPY filldensity }</code></pre><p class="p">The d, w, and s parameters
in this rule can be chosen for your process and set up as variables
in the rule file. These are interpretations of portions of the expression</p>
<p class="p">The (AREA(fill)/(!!AREA(boundary)*!AREA(keepout)))
portion of the expression returns the area of the fill layer inside
the data capture window when the boundary layer is present but the
keepout layer is not. Division by 0 does not satisfy the constraint,
so any case where this occurs in the sub-expression is not output.</p>
</div></li>
<li class="li step stepexpand" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__id77d1d3c5-b961-45d7-b689-4058aa115e76"><span class="ph cmd">Run DRC and view the results
for the filldensity layer. Results could be as follows:</span><div class="itemgroup info StepInfo"><div class="fig fignone" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__id1e0d26aa-5bf6-4788-9016-a904e68b5206"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Density Inside of
Boundary Layer and Outside a Cell</span><br /><div class="imageleft"><img class="image imageleft" height="200" src="../graphics/density_outside_cell_inside_marker.png" width="468" /></div><br /></div>
</div></li>
<li class="li step stepexpand" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__idf2e741af-3beb-465d-8aa3-b1285919aa57"><span class="ph cmd">Open the <span class="ph filepath italic">filldensity.rdb</span> file
in Calibre RVE and sort the DA boundary column in descending order.
Scroll down until you see DA boundary values that are less than
99 percent of the maximum DA value. </span><div class="itemgroup info StepInfo"><div class="fig fignone" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__id4f51d1c4-d32f-4f51-b26c-33bce5303b57"><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/density_rve_rdb_inside_outside.png" /></div><br /></div>
<p class="p">The 99 percent cutoff point
is arbitrary, but is useful when you want to show only the result
windows that are inside the boundary layer.</p>
</div></li>
<li class="li step stepexpand" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__idd66469f6-23d4-4cdb-801b-da35600f9365"><span class="ph cmd">Highlight all results where
DA boundary is at least 99 percent of the maximum DA value. (You
can Shift+click a range of rows in the Calibre RVE results table.)
Results could be as follows:</span><div class="itemgroup info StepInfo"><div class="fig fignone" id="idc4ac88cf-e758-42e2-8de7-0337891f7b12__id35cc8c14-b8a0-4175-b1a1-fa1bc7a986b2"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Windows Inside Boundary
Layer</span><br /><div class="imageleft"><img class="image imageleft" height="231" src="../graphics/density_outside_cell_inside_marker_2.png" width="468" /></div><br /></div>
<p class="p">Compare this with <a class="xref fm:Figure" href="#idc4ac88cf-e758-42e2-8de7-0337891f7b12__id1e0d26aa-5bf6-4788-9016-a904e68b5206">Figure 1</a>. These are the windows inside the boundary
layer that fail.</p>
</div></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">You can adjust the Density constraint,
WINDOW, and STEP values and view them using similar techniques shown
in this section. Using these methods, you can optimize your results presentation.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_DensityOperationCategories_id65ee72b7.html" title="This section presents typical Density checks.">Density Operation Categories</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/TaskTop_AnalyzingDensityResultsCalibreRve_idf23e2c15.html" title="Visualizing Density results using Calibre RVE is important for interpreting what they mean and how to fix them. Results visualization also assists you in writing better Density checks by providing properties that can be sorted, highlighted in color maps and histograms, and displayed in the layout itself.">Analyzing Density Results with Calibre RVE</a></div>
<div><a class="link" href="../topics/Contain_DensityOperationCategories_id65ee72b7.html" title="This section presents typical Density checks.">Density Operation Categories</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_solns_pv_user"
                DocTitle = "Calibre® Solutions for Physical Verification"
                PageTitle = "Finding Density Inside of a Layer and Outside of a Cell"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_FindingDensityInsideLayerOutsideCell_idc4ac88cf.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Solutions for Physical Verification, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>