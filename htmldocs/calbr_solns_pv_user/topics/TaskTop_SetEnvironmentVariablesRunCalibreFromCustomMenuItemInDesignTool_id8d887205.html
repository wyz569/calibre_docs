<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Set Environment Variables and Run Calibre From Custom Menu Item in Design Tool" />
<meta name="abstract" content="You can add custom menu items to the Calibre integration menu for supported design tools. The custom menu item can be defined to call any valid shell script or command and environment variables can be defined for the execution environment." />
<meta name="description" content="You can add custom menu items to the Calibre integration menu for supported design tools. The custom menu item can be defined to call any valid shell script or command and environment variables can be defined for the execution environment." />
<meta name="prodname" content="Calibre Solutions for Physical Verification" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Fresh off the boat." />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-13" />
<meta name="Topline" content="Siemens EDA" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeDraftCommentsInChangeLog" content="21.2;show" />
<meta name="HighlightChanges" content="Yes" />
<meta name="HighlightColor" content="mgc_light_blue" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_solns_pv_user" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 16, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Solutions for Physical Verification" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id8d887205-ccd2-4b95-8464-a4f91842f064" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Set Environment Variables and Run Calibre From Custom Menu Item in Design Tool</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Set Environment Variables and Run Calibre From Custom Menu Item in Design Tool" />
<meta name="attributes" content="doc.type.documentation.user,product.version.v2021.2,product.id.P10089,product.id.P11800,product.id.P11802,product.id.P11801,product.id.P11426,product.id.P10099,product.id.P10096,product.id.P11493,product.id.P11347,product.id.P11713,product.id.P10294" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id8d887205-ccd2-4b95-8464-a4f91842f064">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Set Environment
Variables and Run Calibre From Custom Menu Item in Design Tool</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><p class="shortdesc">You can add custom
menu items to the Calibre integration menu for supported design
tools. The custom menu item can be defined to call any valid shell
script or command and environment variables can be defined for the
execution environment. </p>
<p class="p">The custom menu feature is useful if you want
to execute a command from within your design session and define
the environment variables in effect for the command. Custom menus
are described in the section “<a class="xref Link" href="../../calbr_interactive_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Custom Menu Items in Design Tools', 'calbr_interactive_user'); return false;">Custom Menu Items in Design Tools</a>” in the <cite class="cite">Calibre Interactive User’s
Manual</cite>. </p>
<p class="p">The following example adds
one custom menu item and sets environment variables used during execution. <a class="xref fm:Figure" href="#id8d887205-ccd2-4b95-8464-a4f91842f064__id926da677-316c-4151-ad1c-3cdb65a76e47">Figure 1</a> shows the new menu item.</p>
<div class="fig fignone" id="id926da677-316c-4151-ad1c-3cdb65a76e47"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Custom Menu Item in Design Tool</span><br /><div class="imagecenter"><img class="image imagecenter" height="290" src="../graphics/calibre_env/icc_custom_menu.gif" width="409" /></div><br /></div>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id8d887205-ccd2-4b95-8464-a4f91842f064__id093ace70-5047-4024-9aeb-e15b997d76a2"><p class="p">You
are using one of the following supported design tools: Calibre DESIGNrev, Synopsys
IC Compiler, Cadence Virtuoso, or Cadence Encounter.</p>
</li>
</ul>
<ul class="ul"><li class="li" id="id8d887205-ccd2-4b95-8464-a4f91842f064__idb3052286-c681-4abe-ac03-3ded9228ab0f"><p class="p">You
have reviewed the section “<a class="xref Link" href="../../calbr_interactive_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Custom Menu Items in Design Tools', 'calbr_interactive_user'); return false;">Custom Menu Items in Design Tools</a>” in the <cite class="cite">Calibre Interactive User’s
Manual</cite>. </p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id8d887205-ccd2-4b95-8464-a4f91842f064__id2ac238c3-705c-4cc3-b926-f5c2b7df0525"><span class="ph cmd">Create the Tcl menu customization
file and name it <span class="ph filepath">menu.tcl</span>. The following example adds
a menu separator line and the menu selection “35nm DRC run” at the
end of the Calibre menu. </span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code># custom menu file in Tcl
#
mgc_calibre_add_menu_item -type separator

mgc_calibre_add_menu_item -label "35nm DRC run"\
    -type command -command_type CUSTOM \
    -command "\$MGC_HOME/bin/calibre -drc -hier rules" \
    -env "MGC_HOME=/calibre/sw_path" \
    -env "CALIBRE_HOME=/calibre/sw_path" \
    -env “PROCESS_VAR=35nm”</code></pre><p class="p">The environment variables MGC_HOME,
CALIBRE_HOME, and PROCESS_VAR are defined using the ‑env argument.
In this example, <span class="ph filepath">/calibre/sw_path</span> is the path
to the Calibre software installation.</p>
</div></li>
<li class="li step stepexpand" id="id8d887205-ccd2-4b95-8464-a4f91842f064__idf45d8c15-431d-494e-9183-a277fa4a684d"><span class="ph cmd">In your shell environment,
set the environment variable MGC_CALIBRE_VIEWER_MENU_CMDS to the
name of the menu customization file. For example, using csh:</span><div class="itemgroup info StepInfo"><pre class="pre codeblock leveled"><code>setenv MGC_CALIBRE_VIEWER_MENU_CMDS menu.tcl</code></pre><p class="p">This defines the location for
the custom menu code. </p>
</div></li>
<li class="li step stepexpand" id="id8d887205-ccd2-4b95-8464-a4f91842f064__idf37afddd-cbec-4f7a-83e4-f4625de2a8f1"><span class="ph cmd">If desired, define MGC_CALIBRE_ECHO_VIEWER_MENU_CMDS
in your shell environment. Custom menu commands are echoed to the
session transcript for the design tool if this environment variable
is defined.</span></li>
<li class="li step stepexpand" id="id8d887205-ccd2-4b95-8464-a4f91842f064__id868b9f78-ac55-43f6-a34e-863b9f06dbe2"><span class="ph cmd">Start your design tool. The
menu item is added as shown in <a class="xref fm:Figure" href="#id8d887205-ccd2-4b95-8464-a4f91842f064__id926da677-316c-4151-ad1c-3cdb65a76e47">Figure 1</a>.</span><div class="itemgroup info StepInfo"><p class="p">Selecting <span class="ph menucascade"><span class="ph uicontrol">Calibre</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">35nm DRC run</span></span> is equivalent
to running the following shell script:</p>
<pre class="pre codeblock leveled"><code>setenv MGC_HOME /calibre/sw_path 
setenv CALIBRE_HOME /calibre/sw_path 
setenv PROCESS_VAR 35nm 
/calibre/sw_path/bin/calibre -drc -hier rules </code></pre></div></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_RuleFileManagementEnvironmentVariablesRuleFileVariables_id74157a9e.html" title="Foundry-provided rule files often use conditional statements to select the portions of the rule file that are executed. The conditional statements can be controlled by environment variables or with #DEFINE statements in the rule file. Variables are also used in the rule file to set certain numerical and string parameters.">Rule File Management: Environment Variables and Rule File Variables</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_solns_pv_user"
                DocTitle = "Calibre® Solutions for Physical Verification"
                PageTitle = "Set Environment Variables and Run Calibre From Custom Menu Item in Design Tool"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_SetEnvironmentVariablesRunCalibreFromCustomMenuItemInDesignTool_id8d887205.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Solutions for Physical Verification, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>