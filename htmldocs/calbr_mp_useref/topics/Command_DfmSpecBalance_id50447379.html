<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM SPEC BALANCE" />
<meta name="abstract" content="Specifies multi-pattern mask balancing criterion. Called by the DFM BALANCE command." />
<meta name="description" content="Specifies multi-pattern mask balancing criterion. Called by the DFM BALANCE command." />
<meta name="prodname" content="Calibre Multi-Patterning User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-02-18" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_mp_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 17, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Multi-Patterning User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="All" />
<meta name="ConditionFiltering" content="XML" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id50447379-b16c-4664-9bd1-0d6a7abd8a0c" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM SPEC BALANCE</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM SPEC BALANCE" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM
SPEC BALANCE</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_MultiPatterningSVRFCommands_id2565a2fa.html#id2565a2fa-34a4-4ef5-bcff-f3cd6d51901e__Contain_MultiPatterningSVRFCommands_id2565a2fa.xml#id2565a2fa-34a4-4ef5-bcff-f3cd6d51901e" title="A typical SVRF rule file containing double-, triple-, and quadruple-patterning may also contain other SVRF commands that declare input layers, perform preliminary layer manipulation, and save output layers.">Multi-Patterning SVRF Commands</a></p>
<p class="shortdesc">Specifies multi-pattern mask balancing
criterion. Called by the DFM BALANCE command.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">DFM SPEC BALANCE </span><span class="keyword ParameterName RequiredReplaceable">name</span> <span class="keyword ParameterName RequiredReplaceable">num</span><br />
[<span class="keyword ParameterName Optional">ANCHOR</span> <span class="keyword ParameterName OptionalReplaceable">anchor1</span> <span class="keyword ParameterName OptionalReplaceable">anchor2</span> ...]<br />
[<span class="keyword ParameterName Optional">MUTABLE</span> <span class="keyword ParameterName OptionalReplaceable">layer1</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> ...]<br />
[<span class="keyword ParameterName Optional">OVERLAY</span> <span class="keyword ParameterName OptionalReplaceable">layer</span>]<br />
[<span class="keyword ParameterName Optional">PRECHECK</span> <span class="keyword ParameterName OptionalReplaceable">layer</span>]<br />
[<span class="keyword ParameterName Optional">SEPARATOR</span> <span class="keyword ParameterName OptionalReplaceable">layer</span>]<br />
[<span class="keyword ParameterName Optional">UNCOLORED</span> <span class="keyword ParameterName OptionalReplaceable">layer</span>]<br />
<span class="keyword ParameterName Required">WITH DENSITY</span> [<span class="keyword ParameterName OptionalReplaceable">expression</span>] <span class="keyword ParameterName RequiredReplaceable">constraint</span><br />
[<span class="keyword ParameterName Optional">INSIDE OF EXTENT</span> | <span class="keyword ParameterName Optional">INSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">x1 y1 x2 y2</span> |<br />
<span class="keyword ParameterName Optional">INSIDE OF LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layer</span><br />
   [<span class="keyword ParameterName Optional">BY EXTENT</span> [<span class="keyword ParameterName OptionalReplaceable">size_value</span>] | <span class="keyword ParameterName Optional">BY POLYGON</span> | <span class="keyword ParameterName Optional">BY RECTANGLE</span> | <span class="keyword ParameterName Optional">CENTERED</span> <span class="keyword ParameterName OptionalReplaceable">value</span>]]<br />
[<span class="keyword ParameterName OptionalDefault">TRUNCATE</span> | <span class="keyword ParameterName Optional">BACKUP</span> | <span class="keyword ParameterName Optional">IGNORE</span> | <span class="keyword ParameterName Optional">WRAP</span>]<br />
[<span class="keyword ParameterName Optional">WINDOW</span> [<span class="keyword ParameterName OptionalReplaceable">xy_value</span> | <span class="keyword ParameterName OptionalReplaceable">x_value</span> <span class="keyword ParameterName OptionalReplaceable">y_value</span>] [<span class="keyword ParameterName Optional">STEP</span> [<span class="keyword ParameterName OptionalReplaceable">xy_value</span> | <span class="keyword ParameterName OptionalReplaceable">x_value</span> <span class="keyword ParameterName OptionalReplaceable">y_value</span>]]]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idfbeaf235-453a-4c43-be3c-efecb02efb1c"><span class="keyword ParameterName RequiredReplaceable">name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">The required name of the specifications
set in the DFM SPEC BALANCE statement. This name is called by <a class="xref fm:HeadingOnly" href="Command_DfmBalance_id1698108d.html#id1698108d-7df2-4f19-9289-7faea1c39cf6__Command_DfmBalance_id1698108d.xml#id1698108d-7df2-4f19-9289-7faea1c39cf6" title="Calls the DFM SPEC BALANCE statement for each balanced mask to output.">DFM BALANCE</a>. No DFM SPEC BALANCE statements
may share the same name.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idb43bf823-0f3d-458b-9a64-448ad12327b2"><span class="keyword ParameterName RequiredReplaceable">num</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required value representing
the number of masks to process with DFM BALANCE. For double-, triple-,
and quadruple-patterning, num must be 2, 3, and 4, respectively. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__ida9cf5742-1045-4a91-afe4-b1aa40c8b353"><span class="keyword ParameterName Optional">ANCHOR</span> <span class="keyword ParameterName OptionalReplaceable">anchor1</span> <span class="keyword ParameterName OptionalReplaceable">anchor2</span> ...</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and associated
layer names specifying the anchor layers. Mask data on these layers
remain immutable. The number of layers specified must match the
num value; for double-, triple-, and quadruple-patterning, the number
of layers specified must be 2, 3, and 4, respectively. ANCHOR and
MUTABLE polygons of the same color cannot overlap or abut each other
in any case. ANCHOR and MUTABLE polygons of different colors may
overlap, but not touch. See <a class="xref fm:TableAndPage" href="#id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idef2ec918-12ad-46bb-b6c4-9f753be6db84">Table 1</a> for allowed overlaps.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id688104c5-e637-4c9e-80ba-cbd914f012f0"><span class="keyword ParameterName Optional">MUTABLE</span> <span class="keyword ParameterName OptionalReplaceable">layer1</span> <span class="keyword ParameterName OptionalReplaceable">layer2</span> ...</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and associated
layer names specifying layers allowed to be manipulated to achieve
the specified density threshold. The number of layers specified
must match the num value; for double-, triple-, and quadruple-patterning, the
number of layers specified must be 2, 3, and 4, respectively. ANCHOR
and MUTABLE polygons of the same color cannot overlap or abut each
other in any case. ANCHOR and MUTABLE polygons of different colors
may overlap, but not touch. However, MUTABLE polygons may touch
edge pair separators. MUTABLE polygons connected to ANCHOR polygons
by a separator are considered as ANCHORs. See <a class="xref fm:TableAndPage" href="#id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idef2ec918-12ad-46bb-b6c4-9f753be6db84">Table 1</a> for allowed overlaps.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id6256b5fd-3426-4e03-822c-cf2c66a67512"><span class="keyword ParameterName Optional">OVERLAY</span> <span class="keyword ParameterName OptionalReplaceable">layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and polygon
layer specifying the layer used for reverse-tone overlay fill polygons.
Polygons belonging to OVERLAY layers must not touch any SEPARATOR
edge pair. The polygons of the OVERLAY layer may share areas with
ANCHOR or MUTABLE polygons, and the areas outside of these polygons
are ignored. Polygons of the OVERLAY layer are assigned to a mask
only if they are required by density balancing to meet the density
threshold.</p>
<div class="fig fignone" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idfe5e85f7-2a74-43fd-a339-a6d86d905a55"><span class="figcap"><span class="fig--title-label">Figure 1. </span>DFM BALANCE
Use of OVERLAY</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/overlay.png" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__ide6385769-fd47-4109-98a3-76f77d3bab21"><span class="keyword ParameterName Optional">PRECHECK</span> <span class="keyword ParameterName OptionalReplaceable">layer</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">This keyword and layer pair
enables DFM BALANCE to use output from a previous Density operation
using the same options as DFM SPEC BALANCE. If no data exists on
the specified PRECHECK layer, DFM BALANCE writes the output layer.
If density checking has already been performed and resulted in no
failed windows, the DFM BALANCE run can be significantly shortened.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idee7b9827-bfd9-4695-a01d-bdf1749a5669"><span class="keyword ParameterName Optional">SEPARATOR</span> <span class="keyword ParameterName OptionalReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and layer
name specifying the separator layer. Shapes of MUTABLE layers touching
a separator may be colored differently to achieve density balancing.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id6c090a3d-8134-4c43-9044-e50011cb1ac0"><span class="keyword ParameterName Optional">UNCOLORED</span> <span class="keyword ParameterName OptionalReplaceable">layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and polygon
layer name specifying a layer that has no previous coloring performed
by NMDPC. Polygons assigned as UNCOLORED must not touch or overlap
ANCHOR or MUTABLE polygons, or any SEPARATOR edge pair. Shapes on
an UNCOLORED layer are randomly assigned colors to uncolored shapes
as DFM BALANCE attempts minimization of errors across density windows.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__ide79aace2-8600-4f50-88c6-f648a79f9167"><span class="keyword ParameterName Required">WITH DENSITY</span> [<span class="keyword ParameterName OptionalReplaceable">expression</span>] <span class="keyword ParameterName RequiredReplaceable">constraint</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required constraint pair with
an optional expression keyword specifying the threshold and density
method, respectively. All density windows qualified by the expression
and constraint are output as balanced mask data. The WITH DENSITY
keyword must appear after the keywords ANCHOR, MUTABLE, SEPARATOR,
and UNCOLORED. The default expression keyword is MIN_COLOR_OVER_TOTAL_COLOR,
however, a constraint must be specified. The expression keywords
are:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idfe1efaf8-7884-4a2b-9799-cb0dd0dc6ec1"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">MIN_COLOR_OVER_TOTAL_COLOR</span> —
A ratio of the minimum threshold area divided by the total area
of the current mask. The associated constraint must have an evaluator
that is greater than or equal to (&gt;=) paired with a numeric value
less than or equal to 1/number of colors. This is the default expression.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idce3be2eb-23ff-463e-8c5b-ca40d64b8881"><p class="p Opt"><span class="keyword ParameterName Optional">MIN_COLOR_OVER_WINDOW_AREA — A ratio of the minimum threshold area divided by the total area of the current window. The associated constraint must have an evaluator that is greater than or equal to (&gt;=) paired with a numeric value less than or equal to 1/number of colors.</span></p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id83dee88d-a628-4238-87f6-4f33c2cccd56"><p class="p Opt"><span class="keyword ParameterName Optional">MAX_DELTA_OVER_TOTAL_COLOR</span> —
A ratio of the maximum variation divided by the total area of the
current mask. The associated constraint must have an evaluator which
is less than or equal to (&lt;=) paired with a positive numeric
value.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idfafa2df1-e2c5-4e7d-a89b-3fd7e517d53a"><p class="p Opt"><span class="keyword ParameterName Optional">MAX_DELTA_OVER_WINDOW_AREA</span> —
A ratio of the maximum variation divided by the total area of the
current window. The associated constraint must have an evaluator
that is less than or equal to (&lt;=) paired with a positive numeric value.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id22c46cc2-c526-496c-9b59-90d369d9ab20"><span class="keyword ParameterName Optional">INSIDE OF EXTENT</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword specifying
the density checking boundary, where the boundary is automatically
determined as the outer-most rectangle of all shapes on the target
layer. The INSIDE OF EXTENT keyword must appear after WITH DENSITY
and is mutually exclusive with any other INSIDE OF keyword.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id2fdad063-e032-4867-8797-c678939672e5"><span class="keyword ParameterName Optional">INSIDE</span> <span class="keyword ParameterName Optional">OF</span> <span class="keyword ParameterName OptionalReplaceable">x1 y1 x2 y2</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword specifying
the density checking boundary, where the boundary is determined
with the four static X- and Y-axis coordinates you specify. If any
of the specified coordinates are negative, they must be individually enclosed
by parentheses. The INSIDE OF x1 y1 x2 y2 keyword must appear after
WITH DENSITY and is mutually exclusive with any other INSIDE OF keyword.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id1c5f06d0-284a-4831-9cf7-4bc3f5b1a747"><span class="keyword ParameterName Optional">INSIDE OF LAYER</span> <span class="keyword ParameterName OptionalReplaceable">layer</span> [<span class="keyword ParameterName Optional">BY EXTENT</span> [<span class="keyword ParameterName OptionalReplaceable">size_value</span>] | <span class="keyword ParameterName Optional">BY POLYGON</span> | <span class="keyword ParameterName Optional">BY RECTANGLE</span> | <span class="keyword ParameterName Optional">CENTERED</span> <span class="keyword ParameterName OptionalReplaceable">value</span>]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword specifying
the density checking boundary, where the density checking boundary
is determined by the outer-most extent of shapes on the layer specified.
Using this option is computationally expensive.</p>
<p class="p">Optional keywords provide four methods to control how <span class="keyword ParameterName Optional">INSIDE OF LAYER</span> handles
the specified layer. </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__ideafd2de2-d0d4-4762-9d4d-20065db560d1"><p class="p Opt"><span class="keyword ParameterName Optional">BY EXTENT</span> [<span class="keyword ParameterName OptionalReplaceable">size_value</span>] —
All shapes on the layer you specify are used as the density checking
boundary. The rectilinear extent for any polygon is used. Optionally,
you specify a sizing value that enlarges the size of the extents
on the specified layer.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idc843f842-6ad3-4c98-8341-b7a7cde67c4d"><p class="p Opt"><span class="keyword ParameterName Optional">BY POLYGON</span> — Shapes
on the layer specified by the <span class="keyword ParameterName Optional">layer</span> parameter
are ANDed with the <span class="keyword ParameterName OptionalReplaceable">layer</span> specified
to <span class="keyword ParameterName Optional">INSIDE OF LAYER</span> and
then used as individual density checking boundaries.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id90bc90ed-0b26-493d-b61d-f9c55e478c20"><p class="p Opt"><span class="keyword ParameterName Optional">BY RECTANGLE</span> — Input
shapes are vertically fractured into trapezoids, then these trapezoidal
shapes are used as density checking boundaries.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id81cdda88-5216-42b6-a93d-aab5573472c9"><p class="p Opt"><span class="keyword ParameterName Optional">CENTERED</span> <span class="keyword ParameterName OptionalReplaceable">value</span> —
A four-coordinate extent is computed by the center point of the
polygonal shape and the <span class="keyword ParameterName OptionalReplaceable">value</span> you
specify. The <span class="keyword ParameterName Optional">CENTERED</span> option
then computes the boundary in the same fashion as <span class="keyword ParameterName Optional">INSIDE OF</span> <span class="keyword ParameterName OptionalReplaceable">x1 y1 x2 y2</span>.</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName Optional">INSIDE OF LAYER</span> keyword
must appear after WITH DENSITY and is mutually exclusive with INSIDE
OF EXTENT and INSIDE OF <span class="keyword ParameterName OptionalReplaceable">x1 y1 x2 y2</span>.
For detailed information regarding these options and their behavior,
see “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density', 'svrf_ur'); return false;">Density</a>”
in the <span class="ph FontProperty emphasis">Standard Verification Rule Format (SVRF) Manual</span>. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idbf137fb0-ee4a-4144-85a4-c922d6f1bcd5"><span class="keyword ParameterName OptionalDefault">TRUNCATE</span> | <span class="keyword ParameterName Optional">BACKUP</span> | <span class="keyword ParameterName Optional">IGNORE</span> | <span class="keyword ParameterName Optional">WRAP</span></dt>
<dd class="dd ArgumentDescription"><p class="p">Optional keywords providing
four methods specifying how WINDOW handles areas near the data extent
determined by INSIDE OF. For detailed information, see “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Density', 'svrf_ur'); return false;">Density</a>” in the <span class="ph FontProperty emphasis">Standard Verification Rule Format (SVRF) Manual</span>.
These keywords must appear after WITH DENSITY.</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id89f29ada-c2c1-4545-aaeb-c8ba93a6d415"><p class="p Opt"><span class="keyword ParameterName OptionalDefault">TRUNCATE</span> —
The WINDOW does not exceed the data extent. This is the default
method.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id85ee629f-e951-4d72-98db-14407a2f2cd7"><p class="p Opt"><span class="keyword ParameterName Optional">BACKUP</span> —
The WINDOW is made equal to the data extent.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idb574f74f-7ecc-4e87-99d7-827a03be73e9"><p class="p Opt"><span class="keyword ParameterName Optional">IGNORE</span> —
The WINDOW is discarded if it ever exceeds the data extent.</p>
</li>
<li class="li ArgOption" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idad46f6f0-ed66-4ee5-a16b-89d063ca7791"><p class="p Opt"><span class="keyword ParameterName Optional">WRAP</span> —
The WINDOW is placed and density calculated as if the data extent
were duplicated.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id6e9104bc-722a-4988-8b44-5725edd28928"><span class="keyword ParameterName Optional">WINDOW</span> [<span class="keyword ParameterName OptionalReplaceable">xy_value</span> | <span class="keyword ParameterName OptionalReplaceable">x_value</span> <span class="keyword ParameterName OptionalReplaceable">y_value</span>] [<span class="keyword ParameterName Optional">STEP</span> [<span class="keyword ParameterName OptionalReplaceable">xy_value</span> | <span class="keyword ParameterName OptionalReplaceable">x_value</span> <span class="keyword ParameterName OptionalReplaceable">y_value</span>]]</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword and associated
values specifying the size of the analysis window. You may optionally
specify a step distance each window makes. The analysis window moves
from left to right, bottom to top, across your design. You can specify
a single value or separate values for X- and Y-axis directions for
both WINDOW and STEP. The WINDOW keyword must appear after WITH DENSITY.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The DFM SPEC BALANCE statement
called by the DFM BALANCE command is specified within the same file.
The DFM SPEC BALANCE statement can be called by multiple DFM BALANCE
commands. Exercise care that layers adhere to the polygon interaction constraints
listed with each layer assignment.</p>
<p class="p">DFM BALANCE does not propagate
color assignment based on graph analysis or anchors like NMDPC.
Because there must be no layer interaction between UNCOLORED, ANCHOR,
and SEPARATOR edge pairs, all shapes on the UNCOLORED layer should
be derived through the exclusion of ANCHOR and SEPARATOR layers.</p>
<p class="p">The polygons of ANCHOR and MUTABLE layers with different colors
can overlap with each other, but are not allowed to abut. Table <a class="xref fm:NumberOnlyBlack" href="#id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idef2ec918-12ad-46bb-b6c4-9f753be6db84">Table 1</a> shows allowed overlaps
between these two layer types of different colors:</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__idef2ec918-12ad-46bb-b6c4-9f753be6db84" class="table" frame="void" border="0" rules="none"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Allowed
Overlap of Different Layers</span></caption><colgroup><col style="width:1.369in" /><col style="width:1.620in" /><col style="width:1.620in" /><col style="width:1.240in" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder default-entry" style="vertical-align:top;" id="d12206e652"><p class="p">This layer:</p>
</th>
<th class="entry row-nocellborder default-entry" colspan="3" style="vertical-align:top;" id="d12206e655"><p class="p">May overlap these layers:</p>
</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cell-norowborder default-entry" style="vertical-align:top;" headers="d12206e652 "><p class="p">ANCHOR1</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">ANCHOR2</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">ANCHOR3</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">ANCHOR4</p>
</td>
</tr>
<tr class="row"><td class="entry cell-norowborder default-entry" style="vertical-align:top;" headers="d12206e652 "><p class="p">MUTABLE1</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">MUTABLE2</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">MUTABLE3</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">MUTABLE4</p>
</td>
</tr>
<tr class="row"><td class="entry cell-norowborder default-entry" style="vertical-align:top;" headers="d12206e652 "><p class="p">ANCHOR1</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">MUTABLE2</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">MUTABLE3</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">MUTABLE4</p>
</td>
</tr>
<tr class="row"><td class="entry cell-norowborder default-entry" style="vertical-align:top;" headers="d12206e652 "><p class="p">MUTABLE1</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">ANCHOR2</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">ANCHOR3</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;" headers="d12206e655 "><p class="p">ANCHOR4</p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">You can use variables for any
names or numbers in the DFM SPEC BALANCE statement, as described
in “<a class="xref fm:HeadingAndPage" href="TaskTop_UsingSvrfVariablesInSetupFile_iddc83d4bb.html#iddc83d4bb-87f9-4232-b743-9b11f166ecd2__TaskTop_UsingSvrfVariablesInSetupFile_iddc83d4bb.xml#iddc83d4bb-87f9-4232-b743-9b11f166ecd2" title="When the LITHO FILE statement is contained within the SVRF file, you can use variables set in the main SVRF level within the LITHO FILE statement.">Using SVRF Variables within a LITHO FILE Statement</a>”.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id2cce7c75-c1d1-4af3-b7be-2ff6572d87af"><h2 class="title Subheading sectiontitle">Example 1 — Simple
Example</h2><pre class="pre codeblock leveled"><code>VARIABLE delta_den 0.4
VARIABLE window_size 0.2
VARIABLE window_step 0.1
 
DFM SPEC BALANCE m1_balance 2
	ANCHOR mask0_anchors mask1_anchors
	UNCOLORED m1_uncolored
	SEPARATOR m1_separator
 
	WITH DENSITY &gt; delta_den
	WINDOW window_size STEP window_step
	BACKUP 
	INSIDE OF (-235.0) (-345.0) 235.0 345.0 
 
balanced_mask0 = DFM BALANCE m1_balance MASK 1 
balanced_mask1 = DFM BALANCE m1_balance MASK 2 
balanced_mask = DFM BALANCE m1_balance FULL MASK 2 </code></pre></div>
<div class="section Subsection" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id10f80cd6-c8c0-471c-9a9b-9ff6ae45dc89"><h2 class="title Subheading sectiontitle">Example 2 — Includes
Layer Processing Steps</h2><pre class="pre codeblock leveled"><code>// These input layers have anchors partially covering mutable polygons, 
// and must be pre-processed prior to inputting them to DFM BALANCE. 
LAYER M1A 1               // MUTABLE input 1 
LAYER M1B 2               // MUTABLE input 2 
LAYER M1A_Anchor 11       // ANCHOR input 1 
LAYER M1B_Anchor 12       // ANCHOR input 2</code></pre><pre class="pre codeblock leveled"><code>pruned_mutable_0 = M1A NOT M1A_Anchor 
pruned_mutable_1 = M1B NOT M1B_Anchor 
DB_anchor_0 = M1A_Anchor OR (pruned_mutable_0 INTERACT M1A_Anchor) 
DB_anchor_1 = M1B_Anchor OR (pruned_mutable_1 INTERACT M1B_Anchor) 
DB_rotatable_mask0 = pruned_mutable_0 NOT INTERACT M1A_Anchor 
DB_rotatable_mask1 = pruned_mutable_1 NOT INTERACT M1B_Anchor</code></pre><pre class="pre codeblock leveled"><code>MUTABLE_error = (DB_rotatable_mask0 INTERACT DB_rotatable_mask1) OR
	(DB_rotatable_mask1 INTERACT DB_rotatable_mask0)</code></pre><pre class="pre codeblock leveled"><code>// Set up DFM BALANCE 
DFM SPEC BALANCE "db_trial" 2 
  ANCHOR DB_anchor_0 DB_anchor_1 
  MUTABLE DB_rotatable_mask0 DB_rotatable_mask1 
  WITH DENSITY &gt;= delta_den 
  BACKUP INSIDE OF EXTENT WINDOW window_size STEP window_step </code></pre><pre class="pre codeblock leveled"><code>// Run DFM BALANCE 
DB_balanced_mask0_delta = DFM BALANCE "db_trial" MASK 1 
DB_balanced_mask1_delta = DFM BALANCE "db_trial" MASK 2 
 
Failed_windows_merged { //merged is default
	DFM BALANCE "db_trial"
} 
Failed_windows_unmerged {
	DFM BALANCE "db_trial" UNMERGED
}</code></pre><pre class="pre codeblock leveled"><code>// DFM BALANCE outputs changes to each mask,  
// so a full mask must be reconstructed by post-processing. 
DB_balanced_mask0 = OR DB_anchor_0 DB_balanced_mask0_delta
	(DB_rotatable_mask0 NOT INTERACT DB_balanced_mask1_delta) 
DB_balanced_mask1 = OR DB_anchor_1 DB_balanced_mask1_delta
	(DB_rotatable_mask1 NOT INTERACT DB_balanced_mask0_delta) </code></pre></div>
<div class="section Subsection" id="id50447379-b16c-4664-9bd1-0d6a7abd8a0c__id233b10a2-8e00-4583-9055-743078cfdd96"><h2 class="title Subheading sectiontitle">Example 3 — Specification
of Density Expressions</h2><pre class="pre codeblock leveled"><code>DFM SPEC BALANCE m1_balance 2 
	ANCHOR mask0_anchors mask1_anchors 
	UNCOLORED m1_uncolored 
	SEPARATOR m1_separator 
	WITH DENSITY MIN_COLOR_OVER_TOTAL_COLOR &gt; 0.42 
 
DFM SPEC BALANCE m1_balance 2 
	ANCHOR mask0_anchors mask1_anchors 
	UNCOLORED m1_uncolored 
	SEPARATOR m1_separator 
	WITH DENSITY MAX_DELTA_OVER_TOTAL_COLOR &lt;= 15 </code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MultiPatterningSVRFCommands_id2565a2fa.html" title="A typical SVRF rule file containing double-, triple-, and quadruple-patterning may also contain other SVRF commands that declare input layers, perform preliminary layer manipulation, and save output layers.">Multi-Patterning SVRF Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_mp_useref"
                DocTitle = "Calibre® Multi-Patterning User’s and Reference Manual"
                PageTitle = "DFM SPEC BALANCE"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DfmSpecBalance_id50447379.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Multi-Patterning User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>