<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="TaskTopic" />
<meta name="DC.Title" content="Decomposing Whole Shapes" />
<meta name="abstract" content="Whole-shape layer decomposition is performed using Calibre nmDPC. You control whether specific sets of shapes go onto same or different masks, or allow Calibre to automatically place them." />
<meta name="description" content="Whole-shape layer decomposition is performed using Calibre nmDPC. You control whether specific sets of shapes go onto same or different masks, or allow Calibre to automatically place them." />
<meta name="prodname" content="Calibre Multi-Patterning User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-02-18" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_mp_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 17, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Multi-Patterning User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="All" />
<meta name="ConditionFiltering" content="XML" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>Decomposing Whole Shapes</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="Decomposing Whole Shapes" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">Decomposing Whole Shapes</h1>
<div class="body taskbody TaskBody"><div class="abstract TaskAbstract"><span class="shortdesc">Whole-shape layer
decomposition is performed using Calibre nmDPC. You control whether specific
sets of shapes go onto same or different masks, or allow Calibre
to automatically place them. </span>
</div>
<div class="section prereq Prerequisites p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div><ul class="ul"><li class="li" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__idb205d7d2-d73e-444b-acb9-32cf4d566e14"><p class="p">Layout
in GDS or OASIS format.</p>
</li>
<li class="li" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__id22a88176-8582-4235-943a-8457db90f43b"><p class="p">Minimum
spacing rules between shapes on the same mask.</p>
</li>
<li class="li" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__id17c5b82c-aaee-460f-bfa8-e401218740d9"><p class="p">SVRF
file defining input, deriving any necessary layers, and naming at
least one results database (RDB).</p>
</li>
</ul>
</div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__id6dda1c6c-8ad6-4178-b1c6-31e469686650"><span class="ph cmd">If you
want to embed the setup file in the SVRF file, add a LITHO FILE
statement to the SVRF file. </span><div class="itemgroup info StepInfo"><p class="p">Where commands are identified
for inclusion in the setup file, add them between the opening and
closing brackets, each on their own line. Each LITHO FILE statement
in an SVRF file must have a unique name.</p>
</div></li>
<li class="li step stepexpand" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__ide12885dc-4782-416e-be58-4e8d2cf5ded9"><span class="ph cmd">Identify any pairs of shapes
that need to go on separate layers by deriving a layer in SVRF and
identifying it in the setup file. </span><ol type="a" class="ol substeps"><li class="li substep" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__ida5d946db-f9aa-48ba-94ee-773773120e84"><span class="ph cmd">Derive the layer(s) in SVRF.
You can have multiple layers, and assign them different priorities.</span><div class="itemgroup info SubStepInfo"><p class="p">Most
often the separation requirement is due to spacing violations. The
pairs are marked with separators, edge pairs you can derive programmatically
using SVRF operations, for example:</p>
<pre class="pre codeblock leveled"><code>m1Separator = EXTERNAL m1 &lt; 0.06 OPPOSITE PARALLEL ONLY PROJ &gt; 0</code></pre><p class="p">This generates an edge pair
along facing edges of two m1 shapes that are less than 60 nm apart.
Assuming that the minimum spacing between two shapes on the same mask
is 60 nm, these two shapes must go on separate mask layers.</p>
</div></li>
<li class="li substep" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__idf52c62e0-a6e0-4fcf-bc33-b887c1769b1c"><span class="ph cmd">Identify the layer(s) in the
setup file with action statements.</span><div class="itemgroup info SubStepInfo"><p class="p">The action statement for the
example in (a) could take the following form:</p>
<pre class="pre codeblock leveled"><code>action m1Separator has nicety of 0 and requires opposite masks;</code></pre><p class="p">The priority is set by the
number. Priorities of 0 and negative values are considered critical,
which means that if the shapes cannot be separated onto separate
masks a violation is reported. Priorities of 1 or higher do not
generate a violation.</p>
</div></li>
</ol>
</li>
<li class="li step stepexpand" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__ida56bab62-3caa-440b-81d9-af64844dfedb"><span class="ph cmd">Identify
any shapes that must be placed on the same layer as another shape
or must be placed on a particular mask.</span><div class="itemgroup info StepInfo"><ul class="ul"><li class="li" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__id07de9968-cf7a-428e-84dc-822b206cda22"><p class="p">If you can identify groups
of shapes, use action layers with same instead of opposite in the
setup file. You may need to create an original layer in the layout
with polygons to identify these groups if they cannot be determined
by rule checks.</p>
</li>
<li class="li" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__idd7b0e38d-e3d1-4f0b-91ae-ba48f30641e5"><p class="p">To associate a shape with
a particular mask, use anchor layers. Some foundries require that
the shapes on the anchor layer are coincident with the shapes on
the drawn layer, but Calibre anchors any drawn shape that overlaps
a shape on the anchor layer. Assuming you have derived a layer m1_vdd
to identify power nets and that you want them on mask 0, the corresponding
anchor statement in the setup file is as follows:</p>
<pre class="pre codeblock leveled"><code>anchor m1_vdd has nicety of 0 is for mask0;</code></pre><p class="p">To minimize conflicts, use
anchors sparingly.</p>
</li>
</ul>
</div></li>
<li class="li step stepexpand" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__id290cd1c0-0329-4d5e-b340-64ec34b7cd1c"><span class="ph cmd">Add the calls to Calibre nmDPC
to the SVRF file with RET NMDPC. This SVRF operation calls the setup
file and outputs various types of layers. The output can be captured
with either rule checks or derived layer statements, which you then
save to the RDB.</span><div class="itemgroup info StepInfo"><p class="p">When a drawn layer cannot be
separated into two masks satisfying the conditions given by critical
action layers, a conflict layer is created. The conflict layer contains
only the shapes that cannot be resolved. For easier resolution,
also output the ring and warning layers, or the loop layer. The
different layers are indicated by the MAP keyword in the RET NMDPC
statement.</p>
<pre class="pre codeblock leveled"><code>conflict = RET NMDPC action drawn FILE setup.in MAP conflict 
mask0    = RET NMDPC action drawn FILE setup.in MAP mask0 
mask1    = RET NMDPC action drawn FILE setup.in MAP mask1 
errors   = RET NMDPC action drawn FILE setup.in MAP ring 
at_risk  = RET NMDPC action drawn FILE setup.in MAP warning</code></pre><p class="p">Conflicts
caused by critical anchor layers are output separately, using the anchor_conflict
and anchor_path MAP keywords.</p>
<p class="p">If the RET NMDPC statements
are identical aside from the MAP keyword, the operation is run only
a single time to produce all the different layer outputs.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">Calibre
nmDPC may not always begin its processing from the same shape. This
can lead to different, but correct mask assignment results between
runs. In particular, flat and hierarchical runs are unlikely to
start at the same shape. Both results are still valid. </p>
</div>
<p class="p">When
using derived layers, write the layers to the RDB with DRC CHECK
MAP:</p>
<pre class="pre codeblock leveled"><code>conflict {COPY conflict} DRC CHECK MAP conflict 5  
mask0    {COPY mask0}    DRC CHECK MAP mask0 10  
mask1    {COPY mask1}    DRC CHECK MAP mask1 11 
errors   {COPY errors}   DRC CHECK MAP errors 20 
at_risk  {COPY at_risk}  DRC CHECK MAP at_risk 21</code></pre></div></li>
<li class="li step stepexpand" id="id908b6a4d-bf9b-4837-b6a5-20a3b0d86b2b__id070ece30-31fe-4a79-a06d-382c87db6b8e"><span class="ph cmd">Run DRC checks to validate
output.</span></li>
</ol>
<div class="section result"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Results</h2></div><p class="p">After the run completes,
the results database contains the layers you have written, although either
the mask layers or the conflict layers may be empty.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_SetUpRunCalibreMultiPatterning_id947e0f3f.html" title="You use Calibre Multi-Patterning to perform mask decomposition. Because Calibre Multi-Patterning tools run in batch mode, you configure all settings in a LITHO FILE statement, which is called from an SVRF file.">Set Up and Run Calibre Multi-Patterning</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_LithoFile_idb9db0eb3.html" title="Specifies pattern decomposition commands. Used only with RET NMDPC, RET TP, and RET QP.">LITHO FILE</a></div>
<div><a class="link" href="../topics/Command_RetNmdpc_idb33f96b7.html" title="Invokes Calibre nmDPC and splits the target layer into two masks.">RET NMDPC</a></div>
<div><a class="link" href="../topics/Command_Action_idd3d2f9d1.html" title="Declares layers for separators and stitches, and invokes coloring. Used for RET NMDPC only.">action</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_mp_useref"
                DocTitle = "Calibre® Multi-Patterning User’s and Reference Manual"
                PageTitle = "Decomposing Whole Shapes"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/TaskTop_DecomposingWholeShapes_id908b6a4d.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Multi-Patterning User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>