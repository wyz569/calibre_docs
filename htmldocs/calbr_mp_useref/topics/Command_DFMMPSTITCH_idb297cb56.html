<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="DFM MPSTITCH" />
<meta name="abstract" content="Generates multi-pattern stitches. References DFM SPEC MPSTITCH constraint specifications." />
<meta name="description" content="Generates multi-pattern stitches. References DFM SPEC MPSTITCH constraint specifications." />
<meta name="prodname" content="Calibre Multi-Patterning User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Mentor Graphics Corporation 10 24 2014 10 24 2014" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-02-18" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="1" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_mp_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="14" />
<meta name="PublicationDate" content="NONE" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="EclipsePluginName" content="none" />
<meta name="DraftDate" content="March 17, 2021" />
<meta name="Draft" content="none" />
<meta name="DocumentTitle" content="Calibre® Multi-Patterning User’s and Reference Manual" />
<meta name="CSHelp" content="NO" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="HighlightColor" content="Pale Green" />
<meta name="HighlightChanges" content="yes" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="IncludeDraftCommentsInChangeLog" content="All" />
<meta name="ConditionFiltering" content="XML" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="idb297cb56-b47f-42ee-a709-36f61f4d6b4f" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DFM MPSTITCH</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="DFM MPSTITCH" />
<meta name="attributes" content="doc.type.documentation.ref,doc.type.documentation.user,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">DFM MPSTITCH</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC"><a class="xref fm:HeadingOnly" href="Contain_MultiPatterningSVRFCommands_id2565a2fa.html#id2565a2fa-34a4-4ef5-bcff-f3cd6d51901e__Contain_MultiPatterningSVRFCommands_id2565a2fa.xml#id2565a2fa-34a4-4ef5-bcff-f3cd6d51901e" title="A typical SVRF rule file containing double-, triple-, and quadruple-patterning may also contain other SVRF commands that declare input layers, perform preliminary layer manipulation, and save output layers.">Multi-Patterning SVRF Commands</a> </p>
<p class="shortdesc">Generates
multi-pattern stitches. References DFM SPEC MPSTITCH constraint specifications.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName RequiredReplaceable">stitch_layer</span> <span class="keyword ParameterName Required">=</span> <span class="keyword ParameterName Required">DFM MPSTITCH</span> <br />
<span class="keyword ParameterName RequiredReplaceable">spec_name</span><br />
<span class="keyword ParameterName RequiredReplaceable">target_layer</span><br />
[<span class="keyword ParameterName OptionalReplaceable">separator_layer</span>] <br />
[<span class="keyword ParameterName Optional">ANCHOR</span> <span class="keyword ParameterName OptionalReplaceable">anchor_layer1</span>... <span class="keyword ParameterName OptionalReplaceable">anchor_layerN</span>]<br />
[<span class="keyword ParameterName Optional">KEEPOUT</span> <span class="keyword ParameterName OptionalReplaceable">keepout_layer</span>]<br />
[<span class="keyword ParameterName Optional">VIOLATED_TARGET</span> <span class="keyword ParameterName OptionalReplaceable">violated_layer</span>]</p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__idf741d2c2-1ed5-4a8d-a71f-4bff0b09c3c0"><span class="keyword ParameterName RequiredReplaceable">stitch_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required output layer to contain generated
multi-pattern stitches.</p>
</dd>
</dl>
</div>
<div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__ide1174800-ff99-4875-80d4-586f85be96b6"><span class="keyword ParameterName RequiredReplaceable">spec_name</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument referencing
the specifications named in a <a class="xref fm:HeadingOnly" href="Command_DFMSPECMPSTITCH_idce23325c.html#idce23325c-ee34-4400-9a71-2c06e62bd0df__Command_DFMSPECMPSTITCH_idce23325c.xml#idce23325c-ee34-4400-9a71-2c06e62bd0df" title="Specifies multi-pattern stitching values and constraints. Called by DFM MPSTITCH.">DFM SPEC MPSTITCH</a> statement. Multiple DFM MPSTITCH commands with different
input layers can share a single DFM SPEC MPSTITCH statement.</p>
</dd>
</dl>
</div>
<div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id889e2470-a9ca-4a4b-9a23-b500a8264a86"><span class="keyword ParameterName RequiredReplaceable">target_layer</span></dt>
<dd class="dd ArgumentDescription" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id82fd600f-a4f5-4d49-9d83-bacfa15bc4af"><p class="p">A required
argument specifying the input layer to be analyzed for stitch generation.
The target_layer must be a polygon layer (layer type-1).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__idfee2494d-24e7-49c0-a000-5cfc39712bb4"><span class="keyword ParameterName OptionalReplaceable">separator_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional argument containing
separators used to determine potential stitch sites. The separator
layer must be an edge pair (layer type-3).</p>
<p class="p"><a class="xref fm:Example" href="#idb297cb56-b47f-42ee-a709-36f61f4d6b4f__idbed98083-e779-4f1a-b8bb-dc039450a636">Example 1</a> shows SVRF code that
provides typical separator derivation, and <a class="xref fm:Figure" href="#idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id9b821e66-a4b2-46cc-997a-ae93b13ec12c">Figure 1</a> shows correctly formed separators.</p>
<div class="fig fignone ExampleTitle" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__idbed98083-e779-4f1a-b8bb-dc039450a636"><span class="figcap"><span class="fig--title-label">Example 1. </span>Typical Separator Derivation</span><pre class="pre codeblock"><code>m1_tip = CONVEX EDGE m1 ANGLE1 == 90 LENGTH1 &gt;= 0.03 
			ANGLE2 == 90 LENGTH2 &gt;= 0.03 WITH LENGTH &lt;= 0.06
m1_side = m1 NOT COIN EDGE m1_tip</code></pre><pre class="pre codeblock"><code>m1_S2S = EXT m1_side &lt; 0.06 OPPOSITE PARALLEL ONLY PROJ &gt; 0
m1_T2S = EXT m1_tip m1_side &lt; 0.065 PARALLEL ONLY
m1_T2T = EXT m1_tip &lt; 0.085 PARALLEL ONLY</code></pre></div>
<p class="p">The input separator layer must consist
of edge pairs only (layer type-3) and each separator of the edge
pair must touch exactly one drawn shape. <a class="xref fm:Figure" href="#idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id9b821e66-a4b2-46cc-997a-ae93b13ec12c">Figure 1</a> demonstrates both edge-
and tie-based separators. Combination polygon-separator error keywords
always output tie‑based separators.</p>
<div class="fig fignone" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id9b821e66-a4b2-46cc-997a-ae93b13ec12c"><span class="figcap"><span class="fig--title-label">Figure 1. </span>Correct DFM DP Separators</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:100" src="../graphics/tp_qp_reference3.png" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id5a6483a0-212d-4bff-8ed6-83559e6691d4"><span class="keyword ParameterName Optional">ANCHOR</span> <span class="keyword ParameterName OptionalReplaceable">anchor_layer1</span>...<span class="keyword ParameterName OptionalReplaceable">anchor_layerN</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword with one
or more user-specified layers used for anchor shapes to be applied
to mask layers. The presence of an anchor_layer prohibits the placement
of a stitch at that location. The same number of layers as the DFM SPEC MPSTITCH
mask count must be specified. The anchor_layer must be a polygon
(layer type-1).</p>
<p class="p"><a class="xref fm:Figure" href="#idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id22193b6a-e8ad-4173-9909-b3cdf51dd1ad">Figure 2</a> demonstrates correct and
incorrect anchors.</p>
<div class="fig fignone" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id22193b6a-e8ad-4173-9909-b3cdf51dd1ad"><span class="figcap"><span class="fig--title-label">Figure 2. </span>Good and
Bad Anchors</span><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/good_anchors.png" /></div><br /><br /><div class="imagecenter"><img class="image imagecenter fmdpi:96" src="../graphics/bad_anchors.png" /></div><br /></div>
</dd>
<dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id7730bf2d-6a80-44b6-95c0-ec93c0207fd0"><span class="keyword ParameterName Optional">KEEPOUT</span> <span class="keyword ParameterName OptionalReplaceable">keepout_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional user-derived layer that specifies
areas where stitch placement is prohibited. The keepout_layer must
be a polygon (layer type-1).</p>
</dd>
<dt class="dt ArgumentName dlterm" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id6e8bb6c5-88b6-4a1f-9ddf-e6e5f5f2c1a3"><span class="keyword ParameterName Optional">VIOLATED_TARGET</span> <span class="keyword ParameterName OptionalReplaceable">violated_layer</span></dt>
<dd class="dd ArgumentDescription"><p class="p">An optional input polygon layer containing
shapes that are a subset of the target_layer. There may be more
stitch candidates found on the violated_layer than other parts of
the target layer. Typically, polygons generated by DFM MP with the SELF_CONTAINED_VIOLATION_POLYGONS
and SELF_CONFLICT_SEPARATORS error layer keywords provide good stitch
candidates. VIOLATED_TARGET may assist DFM MP to successfully place
stitch candidates over the entire target layer.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Performs stitching for multi-patterning three-
and four-mask designs. Generation of stitch candidates begins with
the computation of corner proximities, forbidden regions, width
keepout regions, and stitch keepout regions. The remaining target
regions or anchor shapes may be used as potential stitch regions.
DFM SPEC MPSTITCH must precede DFM MPSTITCH within the SVRF file.
DFM MPSTITCH generates legal stitch candidates for each potential
region in this order:</p>
<ol class="ol"><li class="li" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id20b181d7-c814-41ce-803a-d3c4080f39c2"><p class="p">The stitch
is placed at the center of the potential stitch region.</p>
</li>
<li class="li" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id18fb3f30-77f7-45cf-83b0-378938671f40"><p class="p">Where the stitch
touches more separators than allowed, the stitch is placed at the
bottom-left or top-right of the region.</p>
</li>
</ol>
<p class="p">For important exceptions regarding layer derivation support see “<a class="xref fm:HeadingAndPage" href="Concept_GuidelinesForDerivingGoodSeparatorAndActionLayers_id5c46d151.html#id5c46d151-7108-4fc6-bf1c-2a97bde0a201__Concept_GuidelinesForDerivingGoodSeparatorAndActionLayers_id5c46d151.xml#id5c46d151-7108-4fc6-bf1c-2a97bde0a201" title="Separator and action layers are used to convey color relationships between one or more polygons and require careful assignment.">Guidelines for Deriving Good Separator and Action Layers</a>”.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__ida19dfe43-c287-4008-9275-687bb8199fac"><h2 class="title Subheading sectiontitle">Example
1 — DFM MPSTITCH Use for Three Masks</h2><p class="p">The DFM MPSTITCH command shown supports three mask layers. The DFM MPSTITCH
command calls a DFM SPEC MPSTITCH statement that supports three mask
layers. If used, the ANCHOR keyword is required to list that number
of layers. The KEEPOUT layer, MB, is user-defined.</p>
</div>
<div class="section Subsection" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__idc4bee54c-19f3-4c2a-8fff-31186ec0b38f"><pre class="pre codeblock"><code>M1_stitches = DFM MPSTITCH m1_mpstitch3 M1
	ANCHOR M1_E1_anchor M1_E2_anchor  M1_E3_anchor
	M1_Separator KEEPOUT M1KO</code></pre></div>
<div class="section Subsection" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id4e1ced41-dd1a-4707-a065-76993c9a6393"><h2 class="title Subheading sectiontitle">Example
2 — DFM MPSTITCH Use for Four Masks</h2><p class="p">The DFM MPSTITCH command shown supports four mask layers. The DFM MPSTITCH
command calls a DFM SPEC MPSTITCH statement that supports four mask layers.
The ANCHOR keyword now requires four layers. </p>
</div>
<div class="section Subsection" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id9f13eeb2-354c-4415-bdbb-9821b0052b42"><pre class="pre codeblock"><code>M1_stitches = DFM MPSTITCH m1_mpstitch4 M1
	ANCHOR M1_E1_anchor M1_E2_anchor  M1_E3_anchor M1_E4_anchor
	M1_Separator KEEPOUT M1KO</code></pre></div>
<div class="section Subsection" id="idb297cb56-b47f-42ee-a709-36f61f4d6b4f__id3704727a-dee2-4319-90e2-c8309a065d41"><h2 class="title Subheading sectiontitle">Example 3 — DFM MPSTITCH in Context</h2><p class="p">DFM MPSTITCH is shown here in context with
its referenced DFM SPEC MPSTITCH statement. The DFM SPEC MPSTITCH
command must precede the DFM MPSTITCH command.</p>
<pre class="pre codeblock"><code>VARIABLE MINIMUM_STITCH_WIDTH 0.022
VARIABLE MAXIMUM_STITCH_WIDTH 0.220
VARIABLE CONCAVE_CORNER_SPACING 0.050
VARIABLE CONVEX_CORNER_SPACING 0.026
VARIABLE MINIMUM_STITCH_LENGTH 0.066
VARIABLE MAXIMUM_STITCH_LENGTH 0.375
VARIABLE MINIMUM_MASK_AREA 0.00339
VARIABLE MASK_GRID_SPACING 0.001
VARIABLE DBU_PER_GRID_SPACING 1</code></pre><pre class="pre codeblock"><code>DFM SPEC MPSTITCH <span class="ph CodeHighlight red">m1_mpstitch3</span> 3
	STITCH_LENGTH 0.06
	WIDTH 0.02 0.2
	CONCAVE_SPACING 0.05
	CONVEX_SPACING 0.025
	MIN_AREA 0.0035
	GRID_SPACING 0.001
	MEASURES &gt; 0.022 &lt; 0.220 opposite</code></pre><pre class="pre codeblock"><code><span class="ph CodeHighlight green">M1_stitches</span> = DFM MPSTITCH <span class="ph CodeHighlight red">m1_mpstitch3</span>
	M1_Target
	ANCHOR M1_Anchor1 M1_Anchor2 M1_Anchor3
	M1_Separator
	KEEPOUT M1KO</code></pre><pre class="pre codeblock"><code>M1_Mask1 = DFM MP 3 MASK1
	M1_Target
	<span class="ph CodeHighlight green">M1_stitches</span>(STITCH REQUIRED)
	M1_Separator
	M1_Anchor1(ANCHOR MASK1) 
	M1_Anchor2(ANCHOR MASK2)
	M1_Anchor3(ANCHOR MASK3)</code></pre><pre class="pre codeblock"><code>M1_Mask2 = DFM MP 3 MASK2
	M1_Target
	<span class="ph CodeHighlight green">M1_stitches</span>(STITCH REQUIRED)
	M1_Separator
	M1_Anchor1(ANCHOR MASK1) 
	M1_Anchor2(ANCHOR MASK2)
	M1_Anchor3(ANCHOR MASK3)
...</code></pre></div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_MultiPatterningSVRFCommands_id2565a2fa.html" title="A typical SVRF rule file containing double-, triple-, and quadruple-patterning may also contain other SVRF commands that declare input layers, perform preliminary layer manipulation, and save output layers.">Multi-Patterning SVRF Commands</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_mp_useref"
                DocTitle = "Calibre® Multi-Patterning User’s and Reference Manual"
                PageTitle = "DFM MPSTITCH"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_DFMMPSTITCH_idb297cb56.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Multi-Patterning User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>