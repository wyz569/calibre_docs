<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="RET REFINE" />
<meta name="abstract" content="Invokes Calibre LPE." />
<meta name="description" content="Invokes Calibre LPE." />
<meta name="DC.subject" content="RET Refine command, SVRF commands, RET Refine, LPE SVRF" />
<meta name="keywords" content="RET Refine command, SVRF commands, RET Refine, LPE SVRF" />
<meta name="prodname" content="Calibre LPE User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre LPE User's and Reference Manual" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_lpe_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsinChangeLog" content="All" />
<meta name="HighlightColor" content="Light Blue" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="NONE" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Local Printability Enhancement User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id44a869d9-c058-43da-ba3c-61732497e980" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>RET REFINE</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="RET REFINE" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id44a869d9-c058-43da-ba3c-61732497e980">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">RET REFINE</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Type: <a class="xref fm:HeadingOnly" href="Contain_SvrfCommands_idd84abda6.html#idd84abda6-4275-4b48-9657-914245cb6606__Contain_SvrfCommands_idd84abda6.xml#idd84abda6-4275-4b48-9657-914245cb6606" title="There are two SVRF commands used by Calibre LPE.">SVRF Commands</a></p>
<p class="shortdesc">Invokes Calibre LPE.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine">[<span class="keyword ParameterName Optional">EUV</span>] <span class="keyword ParameterName Required">RET REFINE</span> <span class="keyword ParameterName RequiredReplaceable">layer1 layer2 layer3 </span>[<span class="keyword ParameterName OptionalReplaceable">layer</span> …] <span class="keyword ParameterName Required">FILE</span> {<span class="keyword ParameterName RequiredReplaceable">filename</span> | <span class="keyword ParameterName RequiredReplaceable">name</span>} <span class="keyword ParameterName Required">MAP</span> <span class="keyword ParameterName RequiredReplaceable">output</span> </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id44a869d9-c058-43da-ba3c-61732497e980__id791356a7-e914-4bc2-979f-2e72ea54340f">EUV</dt>
<dd class="dd ArgumentDescription"><p class="p">An optional keyword that specifies to use
the EUV keyword as required for refine_exec operations. These will
require the appropriate EUV licenses.</p>
<p class="p">The EUV keyword forces “rearrangement_disable yes” and “refine_process
flat” even if they are explicitly set in the Calibre LPE setup file.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id44a869d9-c058-43da-ba3c-61732497e980__id869a82d3-b4f4-4faf-8538-34279444f2e1"><span class="keyword ParameterName RequiredReplaceable">layer1 layer2 layer3 </span>[<span class="keyword ParameterName OptionalReplaceable">layer</span> …]</dt>
<dd class="dd ArgumentDescription"><p class="p">Required and optional layer
names. You must specify at least three layer names, representing
the initial OPC layer, the target layer, and the markers. These
can be listed in any order; they are mapped to the setup file’s
layer commands, which assign function.</p>
<p class="p">Layers can be original layers,
derived polygon layers, or edge layers.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id44a869d9-c058-43da-ba3c-61732497e980__id9df95f9f-ca03-42b2-adcc-eb35e8888076"><span class="keyword ParameterName Required">FILE</span> {<span class="keyword ParameterName RequiredReplaceable">filename</span> | <span class="keyword ParameterName RequiredReplaceable">name</span>} </dt>
<dd class="dd ArgumentDescription"><p class="p">Required keyword, followed by
one of the following:</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id44a869d9-c058-43da-ba3c-61732497e980__idf3a1dfe5-18de-42de-b815-8babe008912a"><p class="p Opt">A <span class="keyword ParameterName RequiredReplaceable">filename </span>indicating
the path to the external setup file. The <span class="keyword ParameterName RequiredReplaceable">filename</span> parameter
can contain environment variables. For information regarding the
use of environment variables in the <span class="keyword ParameterName RequiredReplaceable">filename</span> parameter,
refer to “<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Environment Variables in Pathname Parameters', 'svrf_ur'); return false;">Environment Variables in Pathname Parameters</a>” in the <span class="ph FontProperty emphasis">Standard Verification Rule Format (SVRF) Manual</span>.</p>
</li>
<li class="li ArgOption" id="id44a869d9-c058-43da-ba3c-61732497e980__id12544536-aa1d-4169-b207-1d231c337d20"><p class="p Opt">The <span class="keyword ParameterName RequiredReplaceable">name</span> parameter
of a LITHO FILE specification statement. The setup file is specified
in the Litho File statement. This is the format used in all examples
in this manual.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id44a869d9-c058-43da-ba3c-61732497e980__id2085142b-9252-4b7d-8279-7c867971c1f5"><span class="keyword ParameterName Required">MAP</span> <span class="keyword ParameterName RequiredReplaceable">output</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required keyword, followed
by the map name of a refine_map command from the setup file. The
name specified after the refine_map map keyword and the name specified
after the RET REFINE MAP keyword must be identical, including case.
This layer is then mapped to the layer in the SVRF rule file for
output. </p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">Specifies to run Calibre LPE
during Calibre nmDRC-H. Calibre LPE takes as input an MRC-clean,
post-OPC layout with hotspot markers, and returns an improved layout.
It calls Calibre pxOPC, Calibre nmOPC, or Calibre nmBIAS to optimize
the hotspots and merges the optimized regions smoothly with the
rest of the layout.</p>
<p class="p">This command can be specified
any number of times in your rule file. Command instances that differ
only by the <span class="keyword ParameterName Required">MAP</span> <span class="keyword ParameterName RequiredReplaceable">layername</span> are
run concurrently.</p>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id44a869d9-c058-43da-ba3c-61732497e980__ide682a31a-25ca-4ecd-b843-058cd747cf0c"><h2 class="title Subheading sectiontitle">Example 1 — Layer Passing</h2><p class="p">The following example shows how
layers are mapped between the RET REFINE command and the setup file.
(The contents of the setup file show only the parts relevant to
this example. A working setup file would also specify several other
settings.)</p>
<pre class="pre codeblock leveled"><code>m1_best = RET REFINE m1_opc m1_err m1_drawn FILE "setup.in" MAP L1
m1_best {COPY m1_best} DRC CHECK MAP OASIS m1_best 20
...
LITHO FILE setup.in [
	...
	layer init_opc correction # m1_opc, because it is first
	layer markers hidden      # m1_err
	layer target opc          # m1_drawn
	...
	refine_markers markers    # the “m1_err” of RET REFINE call

	refine_exec x1 = pxopc target ... # runs pxOPC on m1_drawn
	...

	# Pass merged form back
	refine_map init_opc -from x1 map L1

	# These also pass a layer, but need a different RET REFINE MAP name
	# to receive the output.
	refine_map x1 map x1      # the pxOPC output
	refine_map target map target
]
</code></pre><p class="p">The
RET REFINE call has three layers: m1_opc, m1_err, and m1_drawn.
These are passed in order to the three layer commands in the setup
file. The layer commands provide names to use inside the setup file
and also identify the layer function. After the layers have been
acted upon by refine_markers and refine_exec, the refine_map command
passes a layer back. The layer names after the map keyword in both refine_map
and RET REFINE must match, like L1 in the example code.</p>
</div>
<div class="section Subsection" id="id44a869d9-c058-43da-ba3c-61732497e980__ide5076245-d27b-41a1-8022-53d069855fcd"><h2 class="title Subheading sectiontitle">Example 2 — Alternate
Forms</h2><p class="p">In Example 1, the RET REFINE command
assigns the output, L1, to a layer available to the rest of Calibre,
m1_best. This makes it available for further processing. Alternatively,
the RET REFINE operation might be enclosed in a rule check and have
its output written directly to a GDS or results database, as shown
here:</p>
<pre class="pre codeblock leveled"><code>m1_best {RET REFINE m1_opc m1_err m1_drawn FILE "setup.in" MAP L1} 
DRC CHECK MAP OASIS m1_best 20</code></pre><p class="p">Here,
“m1_best” is a rule check name. While this name is given to the layer
in the results database, the rest of the Calibre run cannot access it.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_SvrfCommands_idd84abda6.html" title="There are two SVRF commands used by Calibre LPE.">SVRF Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_LithoFile_idb1216fa1.html" title="Specifies a Litho setup file in the SVRF rule file for use by Calibre Litho/RET tools.">LITHO FILE</a></div>
<div><a class="link" href="../topics/Command_Layer_idcaf412ac.html" title="Required. Specifies input layers that correspond to the layers in the RET REFINE command.">layer</a></div>
<div><a class="link" href="../topics/Command_RefineMarkers_id14e52224.html" title="Required. Specifies the layer with hotspot markers. Must appear only once.">refine_markers</a></div>
<div><a class="link" href="../topics/Command_RefineExec_id68475ca4.html" title="Required. Calls the various operations to enhance printability in the marked regions. This command must be used instead of “setlayer pxopc” or “setlayer denseopc”.">refine_exec</a></div>
<div><a class="link" href="../topics/Command_RefineMap_idb735509b.html" title="Required. Identifies the output to return from an RET REFINE command.">refine_map</a></div></div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lpe_useref"
                DocTitle = "Calibre® Local Printability Enhancement User’s and Reference Manual"
                PageTitle = "RET REFINE"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_RetRefine_id44a869d9.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Local Printability Enhancement User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>