<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="calibre -lpe" />
<meta name="abstract" content="A utility that creates a starting setup suitable for LPE-driven dense opc from a Calibre nmOPC rule file." />
<meta name="description" content="A utility that creates a starting setup suitable for LPE-driven dense opc from a Calibre nmOPC rule file." />
<meta name="prodname" content="Calibre LPE User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre LPE User's and Reference Manual" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_lpe_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsinChangeLog" content="All" />
<meta name="HighlightColor" content="Light Blue" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="NONE" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Local Printability Enhancement User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id4df8c272-bf4d-43fd-9249-5e9635df3028" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>calibre -lpe</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="calibre -lpe" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id4df8c272-bf4d-43fd-9249-5e9635df3028">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">calibre -lpe</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Shell command</p>
<p class="shortdesc">A utility that creates a starting setup suitable for
LPE-driven dense opc from a Calibre nmOPC rule file.</p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><p class="lines UsageLine"><span class="keyword ParameterName Required">calibre</span> <span class="keyword ParameterName Required">-lpe</span> <span class="keyword ParameterName RequiredReplaceable"> output.svrf </span><span class="keyword ParameterName RequiredReplaceable">input.svrf</span></p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__idbe62d58a-69ce-43d3-a4c6-aee3283d88ca"><span class="keyword ParameterName RequiredReplaceable">output.svrf </span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies the name
of the file to create. If <span class="keyword ParameterName RequiredReplaceable">output.svrf</span> already exists,
the command exits with an error. The supplied filename does not
need to have the file suffix <span class="ph filepath">.svrf</span> though this
is recommended.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__id469fcecb-790b-4724-a4a4-a86ce7da08ff"><span class="keyword ParameterName RequiredReplaceable">input.svrf</span> </dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that specifies the existing
rule file. The file must contain at least one valid LITHO DENSEOPC
operation.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">The LPE script generator is a utility that takes an input rule
file that contains LITHO DENSEOPC operations and converts it to
one that uses RET REFINE operations to direct a denseopc-based repair
process. The input rule file can contain Tcl code, although Tcl
inside the denseopc_options block is ignored.</p>
<p class="p">The <span class="keyword ParameterName RequiredReplaceable">output.svrf</span> file
contains general DRC statements such as LAYOUT PATH and DRC RESULTS
DATABASE. It also adds LAYER statements for the additional layers,
RET REFINE layer operations, DRC CHECKMAP statements for all new
layers, and litho setup files for both LPE and Calibre nmOPC.</p>
<p class="p">The generated rules only serve as a starting point. To complete
the final LPE script, you will need to perform the following:</p>
<ul class="ul"><li class="li" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__idbaf1960d-5f24-48e9-8820-516f82b38b33"><p class="p">Verify
all necessary general statements.</p>
</li>
<li class="li" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__id839d32de-408a-4b1f-b5b2-99cbeeb22c4f"><p class="p">Reassign the
layer numbers in accordance with the real design database. The LPE
script generator uses an arbitrary set of layer numbers for the
LAYER definition as well as for the DRC CHECK MAP statements it
adds. The LPE script generator also adds layers such as markers
and initial correction layers, which need to be properly mapped.</p>
</li>
<li class="li" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__id1719177b-3a37-41d5-8bce-c59b30e5695f"><p class="p">Correct the
MRC constraints. The LPE script generator uses arbitrary hard-coded
values for min_frag_len, min_width, and min_space. The values are
likely wrong for your process.</p>
</li>
<li class="li" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__id0bd7d719-83a2-440b-8d8d-d217f53aa4da"><p class="p">Add refine_exec
… opcverify calls. The generated setup only contains the minimum calling
sequence for refine_exec … denseopc. It does not contain any calls
to Calibre OPCverify, and these are needed to define hotspots on
subsequent iterations.</p>
</li>
<li class="li" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__idd3f3fde8-b60e-4d30-861c-b510a60f09c1"><p class="p">Set up iterations.
The generated setup runs only a single LPE iteration. </p>
</li>
</ul>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__id19e049c9-7a0b-46ea-9bab-077cbc6c3af3"><h2 class="title Subheading sectiontitle">Example
1: Specifying a Particular Setup File</h2><p class="p">When there are multiple DENSEOPC operations with different setup
files, you can indicate which one should be converted with the environment
variable LPE_SELECT_SETUP. If this is not set, calibre ‑lpe converts
the first encountered setup file for Calibre nmOPC.</p>
<p class="p">Consider an SVRF flow that uses different LITHO DENSEOPC setups
for different parts of the design. One operation calls for a setup
file named “analog” and a different operation uses a setup file
named “digital”. In a C shell terminal, you would enter the following
commands to be sure of basing the LPE script generator’s output
on the digital setup file:</p>
<pre class="pre ShellCommand">setenv LPE_SELECT_SETUP digital</pre>
<pre class="pre ShellCommand">calibre -lpe lpe.svrf original.svrf</pre>
<p class="p">where <span class="ph filepath">original.svrf</span> is the name of the original
rule file containing multiple LITHO DENSEOPC operations.</p>
</div>
<div class="section Subsection" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__id9b949ad7-d543-4f6f-8bba-58946e874343"><h2 class="title Subheading sectiontitle">Example
2: Translation of an SVRF File</h2><p class="p">The following example shows the original input and the resulting
output from a call to calibre ‑lpe. Notice that the RESOLUTION and
LAYOUT INPUT EXCEPTION SEVERITY statements are not in the output.</p>
<div class="fig fignone ExampleTitle" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__idb8431e9f-361c-4d57-8ea1-2b8c63506a03"><span class="figcap"><span class="fig--title-label">Example 1. </span>Input SVRF for LPE Script
Generator</span><pre class="pre codeblock"><code>LAYOUT PATH    "test.oas"
LAYOUT PRIMARY "*"
LAYOUT SYSTEM  OASIS
PRECISION      4000
RESOLUTION        1</code></pre><pre class="pre codeblock"><code>LAYOUT MAGNIFY AUTO</code></pre><pre class="pre codeblock"><code>DRC RESULTS DATABASE "m1_nmopc.repair.oas" OASIS PSEUDO
DRC SUMMARY REPORT   "m1_nmopc_repair.sum"</code></pre><pre class="pre codeblock"><code>DRC MAXIMUM RESULTS   ALL
LAYOUT ERROR ON INPUT YES
DRC MAXIMUM VERTEX    199
DRC KEEP EMPTY        YES</code></pre><pre class="pre codeblock"><code>LAYOUT INPUT EXCEPTION SEVERITY POLYGON_DEGENERATE  1
LAYOUT INPUT EXCEPTION SEVERITY PRECISION_RULE_FILE 1
LAYOUT INPUT EXCEPTION SEVERITY MISSING_REFERENCE   1
LAYOUT RECOGNIZE DUPLICATE CELLS YES
LAYOUT ALLOW DUPLICATE CELL YES</code></pre><pre class="pre codeblock"><code>layer M1_OPC_ORG_1 61</code></pre><pre class="pre codeblock"><code>M1_OPC_ORG_1 { copy M1_OPC_ORG_1 } drc check map M1_OPC_ORG_1 61</code></pre><pre class="pre codeblock"><code>LAYER PINCH_MARKER_1 237</code></pre><pre class="pre codeblock"><code>M1_OPC = LITHO DENSEOPC FILE M1_TDOPC_RULE_1 M1_OPC_ORG_1 PINCH_MARKER_1 MAP M1_OPC_1</code></pre><pre class="pre codeblock"><code>M1_OPC { copy M1_OPC } drc check map M1_OPC 62</code></pre><pre class="pre codeblock"><code>LITHO FILE M1_TDOPC_RULE_1 [
  modelpath models
  optical_model_load   OPT opt_4
  resist_model_load    RESIST cm1_4.mod
  tilemicrons 25 adjust</code></pre><pre class="pre codeblock"><code>  background atten 0.065
  layer M1_OPC_ORG_1   hidden   clear
  layer PINCH_MARKER_1 hidden   clear</code></pre><pre class="pre codeblock"><code>  progress_meter off</code></pre><pre class="pre codeblock"><code>  denseopc_options td_option {
	version 1
	algorithm 2</code></pre><pre class="pre codeblock"><code>	background atten 0.065</code></pre><pre class="pre codeblock"><code>	layer M1_OPC_ORG_1         opc    clear
	layer PINCH_MARKER_1_size  hidden clear</code></pre><pre class="pre codeblock"><code>	image optical OPT dose 1 resist RESIST</code></pre><pre class="pre codeblock"><code>	fragment_inter -interdistance 0.01 -ripplelen 1 -num 0 -shield 1
	fragment_min 0.04
	fragment_corner convex 1
	fragment_corner concave 1
	fragment_max 5.0</code></pre><pre class="pre codeblock"><code>	mrc_rule external M1_OPC_ORG_1 { projecting use 0.015 euclidean \
		 not_projecting use 0.013 euclidean length 0.02 use 0.015 0.01}
	mrc_rule internal M1_OPC_ORG_1 { projecting use 0.028 opposite \
		length 0.02 use 0.025 opposite not_projecting use 0.028 opposite}	</code></pre><pre class="pre codeblock"><code>	NEWTAG all M1_OPC_ORG_1 -out tgall</code></pre><pre class="pre codeblock"><code>	##pinch</code></pre><pre class="pre codeblock"><code>	DISPLACEMENT tgall -fixedOffset 0.3</code></pre><pre class="pre codeblock"><code>	}</code></pre><pre class="pre codeblock"><code>  setlayer M1_OPC_1 = denseopc M1_OPC_ORG_1 PINCH_MARKER_1 \
										MAP M1_OPC_ORG_1 OPTIONS td_option
]</code></pre></div>
<div class="fig fignone ExampleTitle" id="id4df8c272-bf4d-43fd-9249-5e9635df3028__idc2bf45f5-f5a0-498c-bd28-56d425f64de8"><span class="figcap"><span class="fig--title-label">Example 2. </span>Output SVRF From LPE Script
Generator</span><pre class="pre codeblock"><code>//------------------------------------------------------------
// LPE script generation starts here
//------------------------------------------------------------
LAYOUT PATH "m1_nmopc.repair.oas"
LAYOUT PRIMARY "*"
LAYOUT SYSTEM OASIS
DRC RESULTS DATABASE "m1_nmopc.repair.oas.lpe" OASIS PSEUDO
DRC SUMMARY REPORT "m1_nmopc_repair.sum.lpe"
PRECISION 4000
DRC MAXIMUM RESULTS ALL
DRC MAXIMUM VERTEX 199
LAYOUT ERROR ON INPUT YES
LAYOUT ALLOW DUPLICATE CELLS YES
LAYOUT RECOGNIZE DUPLICATE CELLS YES
DRC KEEP EMPTY YES
LAYOUT ULTRA FLEX YES
LAYER M1_OPC_ORG_1 61
LAYER PINCH_MARKER_1 240
// Note: the above layer is not present in DRC CHECK MAPs of 
// the input rules file
LAYER markers 243 // This is the marker layer for LPE
LAYER M1_OPC__init 62 // init correction layer for LPE
M1_OPC_ORG_1 {COPY M1_OPC_ORG_1} DRC CHECK MAP M1_OPC_ORG_1 61
PINCH_MARKER_1 {COPY PINCH_MARKER_1} DRC CHECK MAP PINCH_MARKER_1 240
// Note: the above check is not present in DRC CHECK MAPs of 
// the input rules file
markers {COPY markers} DRC CHECK MAP markers 243
M1_OPC__init {COPY M1_OPC__init} DRC CHECK MAP M1_OPC__init 62
//M1_OPC = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP M1_OPC_1
//hotspots = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP hotspots
M1_OPC__corr = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP M1_OPC__init
core_region = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP core_region
context_region = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP context_region
visible_region = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP visible_region
repair_region = RET REFINE M1_OPC_ORG_1 PINCH_MARKER_1 markers M1_OPC__init FILE LPE_setup.in MAP repair_region
//M1_OPC {COPY M1_OPC} DRC CHECK MAP M1_OPC 62
M1_OPC__corr {COPY M1_OPC__corr} DRC CHECK MAP M1_OPC__corr 245
core_region {COPY core_region} DRC CHECK MAP core_region 246
context_region {COPY context_region} DRC CHECK MAP context_region 247
visible_region {COPY visible_region} DRC CHECK MAP visible_region 248
repair_region {COPY repair_region} DRC CHECK MAP repair_region 249

//------------------------------------------------------------
// LPE setup
//------------------------------------------------------------
LITHO FILE LPE_setup.in [/*
layer M1_OPC_ORG_1 opc
layer PINCH_MARKER_1 hidden
layer markers hidden
layer M1_OPC__init correction
refine_markers markers
#refine_stop_layer hotspots
refine_stop_iterations 1
min_frag_len 0.015
min_width 0.015
min_space 0.015
refine_regions update
denseopc_retarget yes
denseopc_insert_correction yes
denseopc_copy_fragments yes
denseopc_context_parameters
			displacement limit off feedback off
			displacement limit -0.012 0.012 feedback -keep -0.15
			displacement limit -0.007 0.007 feedback -keep -0.07
			displacement limit -0.003 0.003 feedback -keep -0.03
			displacement limit -0.001 0.001 feedback -keep -0.01
refine_exec M1_OPC = DENSEOPC M1_OPC_ORG_1 PINCH_MARKER_1 \
FILE M1_TDOPC_RULE_1 MAP M1_OPC_1
refine_map M1_OPC map M1_OPC_1
refine_map M1_OPC__init -from M1_OPC map M1_OPC__init
refine_map -region core map core_region
refine_map -region context map context_region
refine_map -region visible map visible_region
refine_map -region all map repair_region
*/]
//------------------------------------------------------------
// DENSEOPC setup
//------------------------------------------------------------
LITHO FILE M1_TDOPC_RULE_1 [/*
modelpath models
optical_model_load OPT opt_4
resist_model_load RESIST cm1_4.mod
tilemicrons 25 adjust
background atten 0.065
layer M1_OPC_ORG_1 hidden clear
layer PINCH_MARKER_1 hidden clear
progress_meter off
denseopc_options td_option {
version 1
algorithm 2
background atten 0.065
layer M1_OPC_ORG_1 opc clear
layer PINCH_MARKER_1_size hidden clear
image optical OPT dose 1 resist RESIST
fragment_inter -interdistance 0.01 -ripplelen 1 -num 0 -shield 1
fragment_min 0.04
fragment_corner convex 1
fragment_corner concave 1
fragment_max 5.0
mrc_rule external M1_OPC_ORG_1 { projecting use 0.015 euclidean not_projecting use 0.013 euclidean length 0.02 use 0.015 0.01}
mrc_rule internal M1_OPC_ORG_1 { projecting use 0.028 opposite length 0.02 use 0.025 opposite not_projecting use 0.028 opposite}
NEWTAG all M1_OPC_ORG_1 -out tgall
##pinch
DISPLACEMENT tgall -fixedOffset 0.3
}
setlayer M1_OPC_1 = denseopc M1_OPC_ORG_1 PINCH_MARKER_1 MAP M1_OPC_ORG_1 OPTIONS td_option
*/]
//------------------------------------------------------------
// LPE script generation completed
//------------------------------------------------------------</code></pre></div>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/MGCChap_CalibreLpeCommandReference_id06ae6c47.html" title="Calibre LPE is launched from a standard Calibre SVRF file. A litho setup file contains the tool-specific settings.">Calibre LPE Command Reference</a></div>
</div>
</div></div>
</div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lpe_useref"
                DocTitle = "Calibre® Local Printability Enhancement User’s and Reference Manual"
                PageTitle = "calibre -lpe"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_ScriptGenerator_id4df8c272.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Local Printability Enhancement User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>