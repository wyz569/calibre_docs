<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2021" />
<meta name="DC.rights.owner" content="(C) Copyright 2021" />
<meta name="DC.Type" content="CommandRefTopic" />
<meta name="DC.Title" content="refine_exec" />
<meta name="abstract" content="Required. Calls the various operations to enhance printability in the marked regions. This command must be used instead of “setlayer pxopc” or “setlayer denseopc”." />
<meta name="description" content="Required. Calls the various operations to enhance printability in the marked regions. This command must be used instead of “setlayer pxopc” or “setlayer denseopc”." />
<meta name="DC.subject" content="Refine_exec command, Setlayer commands" />
<meta name="keywords" content="Refine_exec command, Setlayer commands" />
<meta name="prodname" content="Calibre LPE User's and Reference Manual" />
<meta name="version" content="2014.06" />
<meta name="release" content="v2014.06" />
<meta name="series" content="mgc_ih" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Creator" content="Mentor Graphics Corporation" />
<meta name="DC.Publisher" content="Siemens Industry Software 10 24 2014 10 24 2014 Calibre LPE User's and Reference Manual" />
<meta name="DC.Date.Created" content="0000-00-00" />
<meta name="DC.Date.Modified" content="2021-03-18" />
<meta name="Topline" content="Siemens EDA" />
<meta name="VariantPrefix" content="none" />
<meta name="Tier" content="2" />
<meta name="SubTitle" content="none" />
<meta name="SourceHandle" content="calbr_lpe_useref" />
<meta name="SoftwareVersionNum" content="2021.2" />
<meta name="SoftwareRelease" content="none" />
<meta name="RevHist" content="none" />
<meta name="PublicationDate" content="none" />
<meta name="Platform" content="none" />
<meta name="PartNumber" content="none" />
<meta name="LicenseType" content="EULA" />
<meta name="InfoHubHandle" content="calbr_ih" />
<meta name="IncludeDraftCommentsinChangeLog" content="All" />
<meta name="HighlightColor" content="Light Blue" />
<meta name="HighlightChanges" content="yes" />
<meta name="EclipsePluginName" content="NONE" />
<meta name="DraftDate" content="March 20, 2021" />
<meta name="Draft" content="NONE" />
<meta name="DocumentTitle" content="Calibre® Local Printability Enhancement User’s and Reference Manual" />
<meta name="CSHelp" content="no" />
<meta name="CSDSearchKeywords" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="Copyright" content="READONLY - Use: copyrfirst and copyrlast" />
<meta name="ConditionFiltering" content="XML" />
<meta name="ChecklinksRelease" content="calibre" />
<meta name="BookcaseHandle" content="none" />
<meta name="Beta" content="none" />
<meta name="Alpha" content="none" />
<meta name="ActiveStatus" content="Active" />
<meta name="GenerateOnlyChangedTopics" content="none" />
<meta name="IncludeInInventory" content="yes" />
<meta name="SourceEDDVersion" content="12.2.10" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="id68475ca4-20eb-4995-90bb-f6b387f3d9d5" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>refine_exec</title>
<link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /><noscript><link rel="StyleSheet" href="../../MGC/styles-disw/body.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/catalog.css" type="text/css" /><link rel="StyleSheet" href="../../MGC/styles-disw/document.css" type="text/css" /><link rel="stylesheet" href="../../MGC/styles-disw/mgcdita-lang.css" type="text/css" /></noscript><meta name="mgc_html_doctitle" content="refine_exec" />
<meta name="attributes" content="doc.type.documentation.user,doc.type.documentation.ref,product.version.v2021.2,product.id.P10115" />
<meta name="TEMPLATEBASE" content="mgc_mgchelp_v4.3.000" />
<script type="text/javascript" language="JavaScript1.2" src="../../MGC/js/page.js"></script><script type="text/javascript" language="JavaScript1.2">
            if(DetectChromeForBasic()){
            writeNoScriptStyles();
            }

        </script><script type="text/javascript" language="JavaScript1.2">
            // Set reference to top level help frame
            //
            if(!DetectChromeForBasic()){
            javascriptTopicRedirect();
            }
        </script></head>
<body class="usa-arg" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5">
<div id="bodycontent" class="BodyContent">
<script type="text/javascript" language="JavaScript1.2">
              var BC = new Array("TODO: Breadcrumb Title","title1","naV","naV","naV","naV","2");
          </script>
<noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../../MGC/html/noscript_header.htm" width="100%" height="100px;">xxx</iframe></noscript>
<script type="text/javascript" language="JavaScript1.2">
              if(DetectChromeForBasic()){
              if(!(top.inEclipse)){
              writeBasicHeader();
              }
              }
          </script>
<div id="BodyContent"><h1 class="title topictitle1">refine_exec</h1>
<div class="body refbody CommandRefBody"><div class="abstract CommandRefAbstract"><p class="p ContextMGC">Type: <a class="xref fm:HeadingOnly" href="Contain_LithoSetupFileCommands_idf8488858.html#idf8488858-d704-4170-bff8-4bdfecceaa4d__Contain_LithoSetupFileCommands_idf8488858.xml#idf8488858-d704-4170-bff8-4bdfecceaa4d" title="This section lists commands that can appear in a Calibre LPE setup file.">Litho Setup File Commands</a></p>
<p class="shortdesc">Required. Calls the various
operations to enhance printability in the marked regions. This command
must be used instead of “setlayer pxopc” or “setlayer denseopc”. </p>
</div>
<div class="section Usages"><h2 class="title Subheading sectiontitle">Usage</h2><div class="section UsageSet"><h2 class="title Subheading sectiontitle">Syntax 1 (Primary
Operations):</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">refine_exec</span> <span class="keyword ParameterName RequiredReplaceable">layer_out</span> <span class="keyword ParameterName Required">=</span>  <span class="keyword ParameterName RequiredReplaceable">primary_operation</span> <span class="keyword ParameterName RequiredReplaceable">layer_in</span> … {<span class="keyword ParameterName Required">file</span> <span class="keyword ParameterName RequiredReplaceable">filename</span>}… <span class="keyword ParameterName Required">map</span> <span class="keyword ParameterName RequiredReplaceable">mapname</span> </p>
</div>
<div class="section UsageSet"><h2 class="title Subheading sectiontitle">Syntax 2 (Secondary
Operations):</h2><p class="lines UsageLine"><span class="keyword ParameterName Required">refine_exec</span> <span class="keyword ParameterName RequiredReplaceable">layer_out</span> <span class="keyword ParameterName Required">=</span> <span class="keyword ParameterName RequiredReplaceable">secondary_operation</span> <span class="keyword ParameterName RequiredReplaceable">layer_in</span> … [map <span class="keyword ParameterName OptionalReplaceable">operation_option</span>] </p>
</div>
</div>
<div class="section Arguments"><h2 class="title Subheading sectiontitle">Arguments</h2><div class="section ArgumentSet"><dl class="dl ArgumentList"><dt class="dt ArgumentName dlterm" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id61a1d717-7397-4da3-8b78-767c62e3e21a"><span class="keyword ParameterName RequiredReplaceable">layer_out</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A
required argument specifying a name for the layer created by the
refine_exec command. The <span class="keyword ParameterName RequiredReplaceable">layer_out</span> name
can then be used in other commands in the RET REFINE setup file. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id33dfd32e-cb5b-4042-a452-a6f1ce713a20"><span class="keyword ParameterName RequiredReplaceable">primary_operation</span></dt>
<dd class="dd ArgumentDescription"><p class="p">For Syntax 1, a required argument specifying
the Calibre product to execute. Supported values are </p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idf670b16a-fc52-41a6-a441-ef22655d9879"><p class="p Opt"><span class="keyword ParameterName Required">denseopc</span> —
Executes Calibre nmOPC. See “<a class="xref fm:HeadingAndPage" href="#id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idfee9600f-791f-4510-a9f7-452f68524483">Additional Information on denseopc Setups</a>”.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id26d0fc8c-73ef-482e-956f-8fdf56fc4f45"><p class="p Opt"><span class="keyword ParameterName Required">nmbias</span> —
Executes Calibre nmBIAS. See “<a class="xref fm:HeadingAndPage" href="#id68475ca4-20eb-4995-90bb-f6b387f3d9d5__iddb3c07c3-01cb-46db-bd37-c520962c0486">Additional Information on nmbias Setups</a>”. </p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idb4e1032b-04c8-4699-ab65-dc3625965c5b"><p class="p Opt"><span class="keyword ParameterName Required">opcverify</span> —
Executes Calibre OPCverify. See “<a class="xref fm:HeadingAndPage" href="#id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id7d6fe438-bbaf-43a8-b21b-a5d5da3c1e4f">Additional Information on opcverify Setups</a>”.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id762b0802-697e-4f2e-b3af-47d8d7c77ad2"><p class="p Opt"><span class="keyword ParameterName Required">pxopc</span> —
Executes Calibre pxOPC. See “<a class="xref fm:HeadingAndPage" href="#id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id7a24f3ce-cfa7-4ed5-a3f7-af358c30418b">Additional Information on pxopc Setups</a>”.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id8623868f-2754-4bb4-8061-0228012d7b39"><p class="p Opt"><span class="keyword ParameterName Required">svrf</span> —
Executes a modified SVRF rule file. See “<a class="xref fm:HeadingAndPage" href="#id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id045b0f6f-100d-49ee-9d75-1bfebd2f7652">Additional Information on svrf Setups</a>”.</p>
</li>
</ul>
</dd>
<dt class="dt ArgumentName dlterm" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id01da520d-892c-42e2-ba63-756d13ca406b"><span class="keyword ParameterName RequiredReplaceable">secondary_operation</span></dt>
<dd class="dd ArgumentDescription"><p class="p">For Syntax 2, a required argument
specifying the operation to execute. Supported values are</p>
<ul class="ul ArgumentOptions"><li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id8cfcde9c-6bee-4ef3-822e-c4aa0bd79ddf"><p class="p Opt"><span class="keyword ParameterName Required">and </span>—
Performs a Boolean AND on the polygons. At least two <span class="keyword ParameterName RequiredReplaceable">layer_in</span> layers
must be specified.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id15c8a113-a703-4d9a-832d-ac9ae09ca97b"><p class="p Opt"><span class="keyword ParameterName Required">copy</span> —
Copies a single layer. This operation does not accept multiple <span class="keyword ParameterName RequiredReplaceable">layer_in</span> layers.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idfc2bd490-76df-4eba-b914-38c66b255760"><p class="p Opt"><span class="keyword ParameterName Required">interact</span> —
Selects all polygons from the first <span class="keyword ParameterName RequiredReplaceable">layer_in</span> that
either share some or all of their area with a polygon from the second <span class="keyword ParameterName RequiredReplaceable">layer_in</span>.
This includes coincident edge segments. If either input layer is
empty, there is no output. Exactly two <span class="keyword ParameterName RequiredReplaceable">layer_in</span> layers
must be specified.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id7bcae207-8509-4ea0-aa27-3fa718fc350e"><p class="p Opt"><span class="keyword ParameterName Required">interact</span> … <span class="keyword ParameterName Required">map not</span> —
Returns the complement of the <span class="keyword ParameterName Required">interact</span> operation:
only polygons from the first <span class="keyword ParameterName RequiredReplaceable">layer_in</span> that
do not touch or overlap polygons from the second <span class="keyword ParameterName RequiredReplaceable">layer_in</span>.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idf1c32b05-8ed9-486b-b73f-a60f330b8af0"><p class="p Opt"><span class="keyword ParameterName Required">mrc</span> —
Performs a pre-defined set of MRC checks. This operation does not
accept multiple <span class="keyword ParameterName RequiredReplaceable">layer_in</span> layers.
The <span class="keyword ParameterName RequiredReplaceable">layer_out</span> shapes
can be restricted using the map option.</p>
<p class="p">The MRC
checks can be described with the SVRF following. The VIOLATIONS
rule check corresponds to output from this operation.</p>
<pre class="pre codeblock"><code>W = <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Internal', 'svrf_ur'); return false;">INT</a> <span class="keyword ParameterName RequiredReplaceable">layer_in</span> &lt; <a class="xref fm:HeadingOnly" href="Command_MinWidth_id4021272e.html#id4021272e-cfd5-4bd9-9867-641d8c9ef6b2__Command_MinWidth_id4021272e.xml#id4021272e-cfd5-4bd9-9867-641d8c9ef6b2" title="Specifies the minimum width for MRC.">min_width</a> REGION EXTENTS
S = <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'External', 'svrf_ur'); return false;">EXT</a> <span class="keyword ParameterName RequiredReplaceable">layer_in</span> &lt; <a class="xref fm:HeadingOnly" href="Command_MinSpace_id245a5430.html#id245a5430-0ad4-4a75-bd1c-cfaadbc4a42c__Command_MinSpace_id245a5430.xml#id245a5430-0ad4-4a75-bd1c-cfaadbc4a42c" title="Specifies the minimum spacing for MRC.">min_space</a> REGION EXTENTS</code></pre><pre class="pre codeblock"><code>SHORT_FRAG = <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Length', 'svrf_ur'); return false;">LENGTH</a> <span class="keyword ParameterName RequiredReplaceable">layer_in</span> &lt; <a class="xref fm:HeadingOnly" href="Command_MinFragLen_id8cfda793.html#id8cfda793-017b-42c2-8a6f-cecd06b63ccf__Command_MinFragLen_id8cfda793.xml#id8cfda793-017b-42c2-8a6f-cecd06b63ccf" title="Specifies the minimum fragment length for MRC.">min_frag_len</a> <a class="xref fm:HeadingOnly" href="Command_MinFragLen_id8cfda793.html#id8cfda793-017b-42c2-8a6f-cecd06b63ccf__Command_MinFragLen_id8cfda793.xml#id8cfda793-017b-42c2-8a6f-cecd06b63ccf" title="Specifies the minimum fragment length for MRC.">min_frag_len</a>
X = INT [SHORT_FRAG] &lt; <a class="xref fm:HeadingOnly" href="Command_MinFragLen_id8cfda793.html#id8cfda793-017b-42c2-8a6f-cecd06b63ccf__Command_MinFragLen_id8cfda793.xml#id8cfda793-017b-42c2-8a6f-cecd06b63ccf" title="Specifies the minimum fragment length for MRC.">min_frag_len</a> INTERSECTING ONLY ABUT==90
Y = EXT [SHORT_FRAG] &lt; <a class="xref fm:HeadingOnly" href="Command_MinFragLen_id8cfda793.html#id8cfda793-017b-42c2-8a6f-cecd06b63ccf__Command_MinFragLen_id8cfda793.xml#id8cfda793-017b-42c2-8a6f-cecd06b63ccf" title="Specifies the minimum fragment length for MRC.">min_frag_len</a> INTERSECTING ONLY ABUT==90
Z = (<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Expand Edge', 'svrf_ur'); return false;">EXPAND EDGE</a> X OUTSIDE BY 0.005 CORNER FILL) OR
    (EXPAND EDGE Y INSIDE BY 0.005 CORNER FILL)</code></pre><pre class="pre codeblock"><code>H = (<a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Holes', 'svrf_ur'); return false;">HOLES</a> <span class="keyword ParameterName RequiredReplaceable">layer_in</span> INNER EMPTY) <a class="xref Link" href="../../svrf_ur/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Not Interact', 'svrf_ur'); return false;">NOT INTERACT</a>
    (HOLES target INNER EMPTY)
<a class="xref Link" href="../../calbr_ver_user/nsmgchelp.htm" target="_top" onclick="oT('STD_FM11', 'Rule Check Statements', 'calbr_ver_user'); return false;">VIOLATIONS</a> {W COPY S COPY Z COPY H}</code></pre><p class="p">The following values are
supported for “map <span class="keyword ParameterName OptionalReplaceable">operation_option</span>”
with <span class="keyword ParameterName Required">mrc</span>:</p>
<ul class="ul"><li class="li" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id29d990de-32ca-4f80-9912-749943275e32"><p class="p"><span class="ph FontProperty HeadingLabel">map hole</span> —
Return only the violations corresponding to layer H.</p>
</li>
<li class="li" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id5744c910-0ed7-46a5-b71e-735278f06340"><p class="p"><span class="ph FontProperty HeadingLabel">map spacing</span> —
Return only the violations corresponding to layers W and S.</p>
</li>
</ul>
<p class="p">If no map argument is supplied, <span class="keyword ParameterName RequiredReplaceable">layer_out</span> receives
all three types of violations.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idca99ac37-e64a-413c-b848-2dc77e013be6"><p class="p Opt"><span class="keyword ParameterName Required">not</span> —
Performs a Boolean NOT on the polygons. Two <span class="keyword ParameterName RequiredReplaceable">layer_in</span> layers
must be specified.</p>
</li>
<li class="li ArgOption" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id37c32b54-5e57-4c8a-9327-9689c76e2b15"><p class="p Opt"><span class="keyword ParameterName Required">or</span> —
Performs a Boolean OR on the polygons. At least two <span class="keyword ParameterName RequiredReplaceable">layer_in</span> layers
must be specified.</p>
</li>
</ul>
<p class="p">The <span class="keyword ParameterName RequiredReplaceable">primary_operation</span> keywords
of Syntax 1 are also considered operations for the remaining argument discussions.</p>
</dd>
<dt class="dt ArgumentName dlterm" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idbda35349-1784-45ea-861e-4ceb9e535c37"><span class="keyword ParameterName RequiredReplaceable">layer_in</span></dt>
<dd class="dd ArgumentDescription"><p class="p">A required argument that passes
in the named layer or layers to the operation. At least one layer
must be specified. The operation receives the layers in the order
listed, which can affect results.</p>
<p class="p">Layers are <span class="ph FontProperty emphasis">assigned by order</span> to
layer commands in the setup file, and are not matched by name. </p>
</dd>
<dt class="dt ArgumentName dlterm" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id2ccc10e5-7662-4c37-a505-5364720bb01b"><span class="keyword ParameterName Required">file</span> <span class="keyword ParameterName RequiredReplaceable">filename</span></dt>
<dd class="dd ArgumentDescription"><p class="p">For Syntax 1, a required argument
specifying a setup file for the primary operations. If it appears
in Syntax 2, it is ignored. Calibre searches for <span class="keyword ParameterName RequiredReplaceable">filename</span> first
as a LITHO FILE in the SVRF file and then as a separate file.</p>
<p class="p">When refine_stop_iterations
is set to a value greater than 1 and the operation is <span class="keyword ParameterName Required">svrf</span>, <span class="keyword ParameterName Required">pxopc</span> or <span class="keyword ParameterName Required">denseopc</span>,
the <span class="keyword ParameterName Required">file</span> argument
must be specified as many times as the iterations. For example:</p>
<pre class="pre codeblock leveled"><code>refine_stop_iterations <span class="keyword ParameterName Required">2</span> 
refine_exec final = pxopc target <span class="keyword ParameterName Required">file pxopc.1 file pxopc.2</span> map final</code></pre></dd>
<dt class="dt ArgumentName dlterm" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idb6a57f72-3c82-4cd4-9bdc-c77e83a6c0c6"><span class="keyword ParameterName Required">map</span> <span class="keyword ParameterName RequiredReplaceable">mapname</span></dt>
<dd class="dd ArgumentDescription"><p class="p">For Syntax 1, a required argument
that indicate which layer created by the <span class="keyword ParameterName RequiredReplaceable">operation</span> should
be assigned to <span class="keyword ParameterName RequiredReplaceable">layer_out</span>.
The value of <span class="keyword ParameterName RequiredReplaceable">mapname</span> must
match one of the layer names generated by a setlayer operation in
the <span class="keyword ParameterName RequiredReplaceable">filename</span>, or
by a DRC check for <span class="keyword ParameterName Required">svrf</span>. </p>
<p class="p">For Syntax 2, an optional argument
for the <span class="ph FontProperty HeadingLabel">interact</span> and <span class="ph FontProperty HeadingLabel">mrc</span> operations,
as described in the information for those keywords.</p>
<p class="p">This argument may be specified
only once per statement. To assign multiple layers from a single <span class="keyword ParameterName RequiredReplaceable">operation</span>,
use multiple <span class="keyword ParameterName Required">refine_exec</span> statements
that are identical except for <span class="keyword ParameterName RequiredReplaceable">layer_out</span> and <span class="keyword ParameterName RequiredReplaceable">mapname</span>.
The statements are executed concurrently.</p>
</dd>
</dl>
</div>
</div>
<div class="section Descriptions"><h2 class="title Subheading sectiontitle">Description</h2><p class="p">A required command that may appear
multiple times in a Calibre LPE setup file. It specifies the execution
body of the repair flow operations.</p>
<p class="p">The refine_exec command must
be used to invoke the primary operations instead of setlayer commands
because Calibre LPE is a driver that executes these operations for constructed
regions around the markers. In contrast, the setlayer commands are
tile-level operations and read in the entire layout extent.</p>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idfee9600f-791f-4510-a9f7-452f68524483"><h2 class="title Subheading sectiontitle">Additional
Information on denseopc Setups</h2><p class="p">The
setup file may contain Tcl and TVF except in the options block.
This allows the use of loop constructs for creating concurrent setlayer
calls.</p>
</div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__iddb3c07c3-01cb-46db-bd37-c520962c0486"><h2 class="title Subheading sectiontitle">Additional
Information on nmbias Setups</h2><p class="p">The setup file does
not need to explicitly identify the core, context, visible, or prebiased
layers; this is handled automatically. The drawn layer should be
passed in the refine_exec call.</p>
<p class="p">If the setup file does not include BIASRULE, the pre-OPC results
are not available in the context and visible regions. This prevents
LPE results from being merged smoothly into the rest of the design
and could cause new errors.</p>
<p class="p">For nmbias operations on double patterning layouts, there must
be two OPC layers and two correction layers. The layers in the LPE
setup file must be listed in order of exposure, like so:</p>
<pre class="pre codeblock"><code>layer drawn0 opc
layer drawn1 opc
layer prebiased0 correction
layer prebiased1 correction</code></pre><p class="p">In the Calibre nmBIAS setup, the OPC layers and the BIASRULE
operation need to also be specified in order of exposure for proper
mapping:</p>
<pre class="pre codeblock"><code>LITHO FILE nmbias.in [
	layer drawn0 hidden clear 
	layer drawn1 hidden clear </code></pre><pre class="pre codeblock"><code>	options td_option {
		layer drawn0 opc clear pattern 0 
		layer drawn1 opc clear pattern 1
…</code></pre><pre class="pre codeblock"><code>BIASRULE pattern 0 … –table {..} –interpolate no 
         pattern 1 … –table {..} –interpolate no</code></pre><p class="p">The setup file may contain Tcl. This allows the use of loop constructs
for creating concurrent setlayer calls. Unlike the other Tcl-supporting
setup files, the nmbias setup file may not contain TVF.</p>
</div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id7d6fe438-bbaf-43a8-b21b-a5d5da3c1e4f"><h2 class="title Subheading sectiontitle">Additional
Information on opcverify Setups</h2><p class="p">If
the command generating the marker layer uses a classify block, be
sure the classify block includes “keep_no_context duplicates”. The
default is to suppress duplicates, which results in only one version
of a repeated violation being passed to Calibre LPE.</p>
<p class="p">The setup file may contain Tcl and TVF. This allows the use of
loop constructs for creating concurrent setlayer calls.</p>
</div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id7a24f3ce-cfa7-4ed5-a3f7-af358c30418b"><h2 class="title Subheading sectiontitle">Additional
Information on pxopc Setups</h2><p class="p">The setup file may contain Tcl and TVF except in the options
block. This allows the use of loop constructs for creating concurrent
setlayer calls.</p>
</div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id045b0f6f-100d-49ee-9d75-1bfebd2f7652"><h2 class="title Subheading sectiontitle">Additional
Information on svrf Setups</h2><p class="p">With the <span class="keyword ParameterName Required">svrf</span> keyword,
refine_exec can run a subset of SVRF operations contained in a LITHO
FILE setup file.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id148538b4-206e-4b8f-a87b-2368a745eb7f" class="table" frame="void" border="0" rules="none"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Supported
SVRF Operations</span></caption><colgroup><col style="width:3.250in" /><col style="width:3.250in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">AND</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">ANGLE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">AREA</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] COINCIDENT EDGE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] COINCIDENT INSIDE EDGE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] COINCIDENT OUTSIDE EDGE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">CONVEX EDGE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">COPY</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">ENCLOSURE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">EXPAND EDGE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">EXTENTS</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">EXTERNAL</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">HOLES</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] INSIDE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] INSIDE EDGE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] INTERACT</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">INTERNAL</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] LENGTH</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">NOT</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">OR</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] OUTSIDE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] OUTSIDE EDGE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] RECTANGLE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">RECTANGLES</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">SIZE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] TOUCH</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] TOUCH EDGE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] TOUCH INSIDE EDGE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] TOUCH OUTSIDE EDGE</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] WITH EDGE</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">[NOT] WITH WIDTH</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">XOR</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">DRC Checks<a name="fnsrc_1" href="#fntarg_1"><sup>1</sup></a></p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p"></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p">LAYER statements with names that match those passed in by refine_exec
are required. The value of the layer numbers does not matter. Additionally,
the input and output layers must be polygon layers. Edge layers
are allowed as intermediate layers, but error layers are not allowed
at all.</p>
<p class="p">SVRF setup files can access the LPE regions using predefined
layer names listed in the following table. The LPE layer names must
be mapped using an SVRF LAYER statement.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id46359fdd-305d-457e-98eb-506bec3a31b4" class="table" frame="void" border="0" rules="none"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>Predefined
LPE Layers for Regions</span></caption><colgroup><col style="width:3.250in" /><col style="width:3.250in" /></colgroup><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">region::core</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">region::repair</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">region::context</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">region::visible</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder default-entry" style="vertical-align:top;"><p class="p">region::core_context</p>
</td>
<td class="entry nocellnorowborder default-entry" style="vertical-align:top;"> </td>
</tr>
</tbody>
</table>
</div>
<p class="p">Note that the results of SVRF operations within Calibre LPE may
not match standard SVRF runs. This is because Calibre LPE clips
geometries when creating repair regions, similar to LAYOUT WINDOW. </p>
</div>
</div>
<div class="section Examples"><h2 class="title Subheading sectiontitle">Examples</h2><div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__ide3153d7f-82ad-4893-9182-409bbd6cb760"><h2 class="title Subheading sectiontitle">Example 1 — Iterations</h2><pre class="pre codeblock leveled"><code>refine_stop_iterations 3
refine_exec x1 = pxopc target file setup1.in 
										file setup2.in 
										file setup3.in map e1</code></pre><p class="p">In the example above, Calibre LPE
runs Calibre pxOPC for the first iteration with <span class="ph filepath">setup1.in</span>,
for the second iteration with<span class="ph filepath italic"> setup2.in</span>,
and for the third iteration with <span class="ph filepath italic">setup3.in</span>.
In other words, it is unnecessary to literally repeat refine_exec
multiple times for the purpose of iterations. The multiple file
specifications, however, are not required for Calibre LPE when running
Calibre OPCverify. This is because the same set of verification
rules should be always used, regardless of how many iterations.</p>
<p class="p">Also note that the second line does
not use the line continuation character “\”. It is not necessary
in Calibre LPE setup files.</p>
</div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__ida7915f7e-1dd6-4ee0-9405-aba578c4673a"><h2 class="title Subheading sectiontitle">Example 2 — Multiple
Layers</h2><pre class="pre codeblock leveled"><code>refine_exec combined = or layer1 layer2 layer3</code></pre><p class="p">Notice that there are no parentheses
when supplying multiple layers to an operation. If the order of
combination is important, use separate refine_exec statements.</p>
</div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__idee4a5ab5-6537-4cb7-8601-ebbdf3630f3d"><h2 class="title Subheading sectiontitle">Example
3 — Using SVRF for Retargeting</h2><p class="p">With refine_exec svrf, you
can perform retargeting inside Calibre LPE. Retargeting modifies
the target shapes and uses the modified target layer as the opc
layer for refine_exec denseopc. The original target layers before
modification must be defined as opc layers in the LPE setup file. </p>
<pre class="pre codeblock"><code>LITHO FILE svrf.in [ /*
	LAYER POLY 1
	E = CONVEX EDGE POLY ANGLE1==90 ANGLE2==90 LENGTH1&gt;0.01 LENGTH2&gt;0.01
			WITH LENGTH&lt;=0.02
	X = EXPAND EDGE E INSIDE BY 0.01
	X { COPY X }
*/ ]</code></pre><pre class="pre codeblock"><code>LITHO FILE lpe.in [ /*
	layer POLY correction
	layer target opc
	layer markers hidden
	…
	refine_exec ADJ_X = svrf POLY file svrf.in map X
	…
	refine_exec outlayer = denseopc ADJ_X target markers file nmopc.in \
									map outlayer
	… 
*/ ]</code></pre><pre class="pre codeblock"><code>RET REFINE Poly Poly.Target Marker FILE lpe.in MAP outlayer</code></pre></div>
<div class="section Subsection" id="id68475ca4-20eb-4995-90bb-f6b387f3d9d5__id1fbf4d42-7beb-4906-873d-4b70a3450955"><h2 class="title Subheading sectiontitle">Example
4 — Repairing Biased Layers</h2><p class="p">With refine_exec nmbias, Calibre LPE ensures the previously biased
shapes are preserved in the visible region while new bias rules
are applied in the core region based on the original target. The
setup for nmbias needs to identify the drawn target (which should
be of type opc) but the prebiased layer is passed automatically,
as in the lines following:</p>
<pre class="pre codeblock"><code>layer drawn opc
layer prebiased correction
layer markers hidden</code></pre><pre class="pre codeblock"><code>refine_markers markers
refine_stop_iteration 1
refine_regions update</code></pre><pre class="pre codeblock"><code><span class="ph CodeHighlight Bold">refine_exec x = nmbias drawn setup nmbias.in map x</span>  </code></pre><pre class="pre codeblock"><code>refine_map x map x
refine_map prebiased –from x map corrected
refine_map –region core map core
refine_map –region context map context
refine_map –region visible map visible</code></pre><p class="p">Although the post-OPC layer, prebiased, is included in the list
of layers for the LPE setup file, the refine_exec command only lists
the target layer, drawn. The refine_map lines pass the corrected
layers (one with corrections only, and the other with merged results)
and region markers as output to corresponding RET REFINE statements.</p>
<p class="p">If the Calibre LPE setup includes both refine_exec nmbias and
refine_exec denseopc, identify the prebiased layer as type retarget
instead of correction. If only refine_exec nmbias appears, identify
the prebiased layer as type correction.</p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent Topic:</strong> <a class="link" href="../topics/Contain_LithoSetupFileCommands_idf8488858.html" title="This section lists commands that can appear in a Calibre LPE setup file.">Litho Setup File Commands</a></div>
</div>

<div class="linklist linklist relinfo"><strong>Related Topics</strong><br />

<div><a class="link" href="../topics/Command_RefineMap_idb735509b.html" title="Required. Identifies the output to return from an RET REFINE command.">refine_map</a></div>
<div><a class="link" href="../topics/Command_RefineStopIterations_ida8240350.html" title="Specifies how many iterations at most to perform. The default is 1.">refine_stop_iterations</a></div></div>
</div></div>
<div class="fn"><a name="fntarg_1" href="#fnsrc_1"><sup>1</sup></a>  DRC checks must have only
one COPY operation. DRC CHECK MAP statements are allowed but ignored.</div></div>
<!--BeginFooterContent--><div class="BlankFooter" id="BlankFooter"> </div><div class="Footer" id="Footer"> </div><script type="text/javascript"><!--
                PDFLinkTitle = "InfoHub.Help"
                DocHandle = "calbr_lpe_useref"
                DocTitle = "Calibre® Local Printability Enhancement User’s and Reference Manual"
                PageTitle = "refine_exec"
                Copyright = "2021"
                ThisTopic = "PointingtoaCommoncustomerjsFile";
                CurrentFile = "topics/Command_RefineExec_id68475ca4.html"
                CurrentFileID = "3";
                topicFooter();
            --></script><noscript><p class="MGCFooter">Calibre® Local Printability Enhancement User’s and Reference Manual, v2021.2<br />Unpublished work. © 2021 Siemens 
                <br /><a href="../../mgc_html_help/nsmgchelp.htm" target="_blank">Browser Requirements</a></p></noscript></body>
</html>